{"version":3,"file":"static/js/main.d1e3ca22.js","mappings":"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","sources":["components/ui/PasswordStrengthIndicator.tsx","app/register.tsx","app/messages.tsx","components/profile/ProfileViewsSection.tsx","app/user/[id].tsx","mocks/statuses.ts","types/message-settings.ts","hooks/message-settings-store.ts","app/messages-settings.tsx","app/verify-reset-code.tsx","hooks/creative-studio-store.ts","app/studio/projects.tsx","mocks/vibes.ts","components/engagement/CommentDrawer.tsx","mocks/threads.ts","hooks/thread-store.ts","components/thread/ThreadView.tsx","components/thread/ThreadComposer.tsx","components/thread/CommentThread.tsx","app/thread/[id].tsx","hooks/live-streaming-store.ts","components/status/VoiceStatusPlayer.tsx","app/status/view/[userId].tsx","mocks/comments.ts","app|sync|/^(?:/.//)(?%21(?:(?:(?:.*/+api)%7C(?:/+(html%7Cnative-intent))))/.[tj]sx?$).*(?:/.android%7C/.ios%7C/.native)?/.[tj]sx?$","components/ui/VoiceNoteRecorder.tsx","components/engagement/ShareSheet.tsx","app/edit-profile.tsx","mocks/stories.ts","app/story/[id].tsx","hooks/email-preferences-store.ts","app/email-preferences.tsx","app/reset-password.tsx","app/user/[id]/following.tsx","app/(tabs)/vibez.tsx","app/+not-found.tsx","components/live/LiveCountdown.tsx","components/live/LiveComment.tsx","components/live/LiveReaction.tsx","mocks/live-gifts.ts","app/live/[id].tsx","utils/token-manager.ts","lib/trpc.ts","hooks/auth-store.ts","mocks/posts.ts","hooks/tagging-store.ts","app/tags/review.tsx","app/(tabs)/create.tsx","components/settings/ActiveSessionsModal.tsx","components/settings/BlockedAccountsModal.tsx","components/settings/MutedAccountsModal.tsx","components/settings/LegalDocumentModal.tsx","components/settings/SupportModal.tsx","components/settings/FAQModal.tsx","app/settings.tsx","components/ui/SearchBar.tsx","components/discover/UserCard.tsx","hooks/discovery-store.ts","components/discover/PeopleSuggestion.tsx","components/hashtag/TrendingHashtags.tsx","app/(tabs)/discover.tsx","components/post/PostMenu.tsx","hooks/engagement-store.ts","components/engagement/RevibeSheet.tsx","components/engagement/SaveSheet.tsx","components/home/PostCard.tsx","utils/image-cache.ts","utils/optimized-image.tsx","components/ui/Avatar.tsx","hooks/status-store.ts","hooks/theme-store.ts","app/splash.tsx","hooks/studio-store.ts","app/auth.tsx","constants/filters.ts","app/studio/image-editor.tsx","components/ui/Button.tsx","app/spill/[id].tsx","app/privacy-policy.tsx","app/_layout.tsx","components/messaging/MessageRequestCard.tsx","app/inbox.tsx","app/hashtag/[tag].tsx","constants/colors.ts","app/live/analytics.tsx","utils/region-detection.ts","components/profile/QRCodeShareModal.tsx","app/change-password.tsx","components/ui/VerifiedBadge.tsx","hooks/profile-views-store.ts","app/profile-views.tsx","app/share-demo.tsx","constants/legal-content.ts","hooks/notification-store.ts","mocks/messages.ts","hooks/dm-store.ts","app/live/setup.tsx","hooks/ad-engagement-store.ts","app/ad-preferences.tsx","app/(tabs)/index.tsx","mocks/users.ts","components/status/VoiceStatusRecorder.tsx","components/status/TextStatusCreator.tsx","components/status/MediaStatusCreator.tsx","components/status/UploadProgressOverlay.tsx","utils/media-upload.ts","app/status/create.tsx","components/ui/icons/HomeIcon.tsx","components/ui/icons/DiscoverIcon.tsx","components/ui/icons/ProfileIcon.tsx","components/ui/icons/VibezIconNew.tsx","components/ui/icons/SpillsIconNew.tsx","components/ui/AnimatedLogo.tsx","components/ui/VibezIcon.tsx","components/ui/CreativeStudioIcon.tsx","components/ui/LiquidTabBar.tsx","app/(tabs)/_layout.tsx","mocks/trending.ts","hooks/trending-store.ts","components/trending/HeatMeter.tsx","components/trending/TrendCard.tsx","components/trending/CategoryTabs.tsx","components/trending/BreakingBanner.tsx","components/trending/NewTrendsButton.tsx","components/trending/LocationToggle.tsx","app/trending.tsx","app/terms-of-service.tsx","app/dm-inbox.tsx","app/modal.tsx","components/profile/ProfilePictureViewer.tsx","components/profile/ProfileHeader.tsx","hooks/pinned-posts-store.ts","app/(tabs)/profile.tsx","mocks/spills.ts","hooks/spill-store.ts","components/ui/VoicePlayer.tsx","app/forgot-password.tsx","app/studio/video-editor.tsx","app/user/[id]/followers.tsx","utils/security.ts","components/post/ThreadedCommentItem.tsx","components/post/ThreadedCommentSection.tsx","components/hashtag/HashtagText.tsx","app/post/[id].tsx","app/(tabs)/spills.tsx","app/notifications.tsx","app/spill/start.tsx","components/messaging/ViewOnceComposer.tsx","components/messaging/ViewOnceMessage.tsx","app/chat/[id].tsx","utils/offline-cache.ts","hooks/messaging-store.ts","components/ui/VoiceNotePlayer.tsx","utils/performance.ts","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface PasswordStrengthIndicatorProps {\n  password: string;\n}\n\nexport function PasswordStrengthIndicator({ password }: PasswordStrengthIndicatorProps) {\n  const getPasswordStrength = () => {\n    if (!password) return { strength: 'none' as const, score: 0, color: Colors.border };\n\n    let score = 0;\n    const checks = {\n      length: password.length >= 8,\n      uppercase: /[A-Z]/.test(password),\n      lowercase: /[a-z]/.test(password),\n      number: /[0-9]/.test(password),\n      special: /[!@#$%^&*(),.?\":{}|<>]/.test(password),\n    };\n\n    if (checks.length) score += 20;\n    if (checks.uppercase) score += 20;\n    if (checks.lowercase) score += 20;\n    if (checks.number) score += 20;\n    if (checks.special) score += 20;\n\n    if (score <= 40) {\n      return { strength: 'weak' as const, score, color: Colors.error };\n    } else if (score <= 80) {\n      return { strength: 'medium' as const, score, color: '#FFA500' };\n    } else {\n      return { strength: 'strong' as const, score, color: Colors.success };\n    }\n  };\n\n  const { strength, score, color } = getPasswordStrength();\n\n  if (!password) return null;\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.barContainer}>\n        <View style={[styles.bar, { width: `${score}%`, backgroundColor: color }]} />\n      </View>\n      <Text style={[styles.text, { color }]}>\n        {strength === 'weak' && 'Weak password'}\n        {strength === 'medium' && 'Medium password'}\n        {strength === 'strong' && 'Strong password'}\n      </Text>\n      {strength !== 'strong' && (\n        <View style={styles.requirements}>\n          {password.length < 8 && (\n            <Text style={styles.requirement}> At least 8 characters</Text>\n          )}\n          {!/[A-Z]/.test(password) && (\n            <Text style={styles.requirement}> One uppercase letter</Text>\n          )}\n          {!/[a-z]/.test(password) && (\n            <Text style={styles.requirement}> One lowercase letter</Text>\n          )}\n          {!/[0-9]/.test(password) && (\n            <Text style={styles.requirement}> One number</Text>\n          )}\n          {!/[!@#$%^&*(),.?\":{}|<>]/.test(password) && (\n            <Text style={styles.requirement}> One special character</Text>\n          )}\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 8,\n  },\n  barContainer: {\n    height: 4,\n    backgroundColor: Colors.border,\n    borderRadius: 2,\n    overflow: 'hidden',\n  },\n  bar: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  text: {\n    fontSize: 12,\n    marginTop: 4,\n    fontWeight: '600',\n  },\n  requirements: {\n    marginTop: 8,\n    gap: 4,\n  },\n  requirement: {\n    fontSize: 11,\n    color: Colors.textSecondary,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  ScrollView,\n  Image,\n  Platform,\n  Alert,\n} from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { useAuth } from '@/hooks/auth-store';\nimport { router } from 'expo-router';\nimport { StatusBar } from 'expo-status-bar';\nimport { Check, Camera, ChevronLeft, Eye, EyeOff } from 'lucide-react-native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { PasswordStrengthIndicator } from '@/components/ui/PasswordStrengthIndicator';\n\ntype Step = 1 | 2 | 3 | 4;\n\nconst INTERESTS = [\n  'Music', 'Movies', 'Food', 'Travel', 'Fitness', 'Fashion',\n  'Tech', 'Gaming', 'Art', 'Photography', 'Sports', 'Reading',\n  'Cooking', 'Dancing', 'Nature', 'Pets', 'Cars', 'Comedy'\n];\n\nexport default function RegisterScreen() {\n  const { register } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [step, setStep] = useState<Step>(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [retryCount, setRetryCount] = useState(0);\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  \n  const [profileImage, setProfileImage] = useState<string | null>(null);\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [bio, setBio] = useState('');\n  const [birthday, setBirthday] = useState('');\n  const [gender, setGender] = useState<string>('');\n  const [showBirthday, setShowBirthday] = useState(true);\n  \n  const [selectedInterests, setSelectedInterests] = useState<string[]>([]);\n  \n  const [enableLocation, setEnableLocation] = useState(false);\n  \n  const [usernameAvailable, setUsernameAvailable] = useState<boolean | null>(null);\n  const [checkingUsername, setCheckingUsername] = useState(false);\n\n  const pickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const takePhoto = async () => {\n    const { status } = await ImagePicker.requestCameraPermissionsAsync();\n    \n    if (status !== 'granted') {\n      Alert.alert('Permission needed', 'Camera permission is required to take photos');\n      return;\n    }\n\n    const result = await ImagePicker.launchCameraAsync({\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const handleImagePicker = () => {\n    if (Platform.OS === 'web') {\n      pickImage();\n    } else {\n      Alert.alert(\n        'Profile Picture',\n        'Choose an option',\n        [\n          { text: 'Take Photo', onPress: takePhoto },\n          { text: 'Choose from Library', onPress: pickImage },\n          { text: 'Cancel', style: 'cancel' }\n        ]\n      );\n    }\n  };\n\n  const checkUsernameAvailability = async (value: string) => {\n    if (value.length < 3) {\n      setUsernameAvailable(null);\n      return;\n    }\n\n    setCheckingUsername(true);\n    \n    setTimeout(() => {\n      const taken = ['admin', 'vibesync', 'test', 'user'].includes(value.toLowerCase());\n      setUsernameAvailable(!taken);\n      setCheckingUsername(false);\n    }, 500);\n  };\n\n  const handleUsernameChange = (value: string) => {\n    const cleaned = value.toLowerCase().replace(/[^a-z0-9_]/g, '');\n    setUsername(cleaned);\n    checkUsernameAvailability(cleaned);\n  };\n\n  const toggleInterest = (interest: string) => {\n    if (selectedInterests.includes(interest)) {\n      setSelectedInterests(selectedInterests.filter(i => i !== interest));\n    } else {\n      setSelectedInterests([...selectedInterests, interest]);\n    }\n  };\n\n  const validateEmail = (email: string) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const validatePassword = (password: string) => {\n    const hasUpperCase = /[A-Z]/.test(password);\n    const hasLowerCase = /[a-z]/.test(password);\n    const hasNumber = /[0-9]/.test(password);\n    const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n    return password.length >= 8 && hasUpperCase && hasLowerCase && hasNumber && hasSpecialChar;\n  };\n\n  const canContinueStep1 = () => {\n    return validateEmail(email) && \n           validatePassword(password) && \n           password === confirmPassword;\n  };\n\n  const canContinueStep2 = () => {\n    return firstName.trim().length > 0 && \n           username.length >= 3 && \n           usernameAvailable === true;\n  };\n\n  const canContinueStep3 = () => {\n    return selectedInterests.length >= 3;\n  };\n\n  const handleNext = () => {\n    if (step === 1 && canContinueStep1()) {\n      setStep(2);\n    } else if (step === 2 && canContinueStep2()) {\n      setStep(3);\n    } else if (step === 3 && canContinueStep3()) {\n      setStep(4);\n    }\n  };\n\n  const handleBack = () => {\n    if (step > 1) {\n      setStep((step - 1) as Step);\n    } else {\n      router.back();\n    }\n  };\n\n  const handleFinish = async () => {\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const displayName = `${firstName} ${lastName}`.trim();\n      \n      console.log('[Register] Starting registration process...');\n      console.log('[Register] Email:', email);\n      console.log('[Register] Username:', username);\n      console.log('[Register] Display Name:', displayName);\n      \n      await register({\n        email,\n        password,\n        confirmPassword,\n        username,\n        displayName,\n        bio,\n        profileImage: profileImage || undefined,\n        interests: selectedInterests,\n        birthday,\n        gender,\n        enableLocation,\n      });\n      \n      console.log('[Register] Registration successful, navigating to home...');\n      router.replace('/(tabs)');\n    } catch (err: any) {\n      console.error('[Register] Registration failed:', err);\n      \n      const isNetworkError = err.message?.includes('fetch') || \n                             err.message?.includes('Network') ||\n                             err.message?.includes('Failed to fetch') ||\n                             err.message?.includes('network request failed');\n      \n      if (isNetworkError) {\n        setError('Unable to connect to the server. Please check your internet connection and try again.');\n      } else {\n        setError(err.message || 'Failed to create account. Please try again.');\n      }\n      \n      setRetryCount(prev => prev + 1);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRetry = () => {\n    setError('');\n    handleFinish();\n  };\n\n  const renderProgressBar = () => (\n    <View style={styles.progressContainer}>\n      <View style={styles.progressBar}>\n        <View style={[styles.progressFill, { width: `${(step / 4) * 100}%` }]} />\n      </View>\n      <Text style={styles.progressText}>Step {step} of 4</Text>\n    </View>\n  );\n\n  const renderStep1 = () => (\n    <ScrollView style={styles.stepContainer} showsVerticalScrollIndicator={false}>\n      <Text style={styles.stepTitle}>Create Your Account</Text>\n      <Text style={styles.stepSubtitle}>Enter your email and create a secure password</Text>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Email *</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Enter your email\"\n          placeholderTextColor={Colors.textSecondary}\n          value={email}\n          onChangeText={setEmail}\n          autoCapitalize=\"none\"\n          keyboardType=\"email-address\"\n          autoComplete=\"email\"\n        />\n        {email.length > 0 && !validateEmail(email) && (\n          <Text style={styles.errorHint}>Please enter a valid email address</Text>\n        )}\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Password *</Text>\n        <View style={styles.passwordContainer}>\n          <TextInput\n            style={[styles.input, styles.passwordInput]}\n            placeholder=\"Create a strong password\"\n            placeholderTextColor={Colors.textSecondary}\n            value={password}\n            onChangeText={setPassword}\n            secureTextEntry={!showPassword}\n            autoComplete=\"password-new\"\n          />\n          <TouchableOpacity\n            style={styles.eyeIcon}\n            onPress={() => setShowPassword(!showPassword)}\n          >\n            {showPassword ? (\n              <EyeOff size={20} color={Colors.textSecondary} />\n            ) : (\n              <Eye size={20} color={Colors.textSecondary} />\n            )}\n          </TouchableOpacity>\n        </View>\n        <PasswordStrengthIndicator password={password} />\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Confirm Password *</Text>\n        <View style={styles.passwordContainer}>\n          <TextInput\n            style={[styles.input, styles.passwordInput]}\n            placeholder=\"Re-enter your password\"\n            placeholderTextColor={Colors.textSecondary}\n            value={confirmPassword}\n            onChangeText={setConfirmPassword}\n            secureTextEntry={!showConfirmPassword}\n            autoComplete=\"password-new\"\n          />\n          <TouchableOpacity\n            style={styles.eyeIcon}\n            onPress={() => setShowConfirmPassword(!showConfirmPassword)}\n          >\n            {showConfirmPassword ? (\n              <EyeOff size={20} color={Colors.textSecondary} />\n            ) : (\n              <Eye size={20} color={Colors.textSecondary} />\n            )}\n          </TouchableOpacity>\n        </View>\n        {confirmPassword.length > 0 && password !== confirmPassword && (\n          <Text style={styles.errorHint}>Passwords do not match</Text>\n        )}\n      </View>\n    </ScrollView>\n  );\n\n  const renderStep2 = () => (\n    <ScrollView style={styles.stepContainer} showsVerticalScrollIndicator={false}>\n      <Text style={styles.stepTitle}>Create Your Vibe</Text>\n      <Text style={styles.stepSubtitle}>Set up your profile and start connecting</Text>\n\n      <TouchableOpacity style={styles.profileImageContainer} onPress={handleImagePicker}>\n        {profileImage ? (\n          <Image source={{ uri: profileImage }} style={styles.profileImage} />\n        ) : (\n          <View style={styles.profileImagePlaceholder}>\n            <Camera size={32} color={Colors.textSecondary} />\n          </View>\n        )}\n        <View style={styles.cameraIconBadge}>\n          <Camera size={16} color={Colors.text} />\n        </View>\n      </TouchableOpacity>\n      \n      <TouchableOpacity onPress={handleImagePicker}>\n        <Text style={styles.skipText}>Tap to add photo  Skip for now</Text>\n      </TouchableOpacity>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>First Name *</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Enter your first name\"\n          placeholderTextColor={Colors.textSecondary}\n          value={firstName}\n          onChangeText={setFirstName}\n          autoCapitalize=\"words\"\n        />\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Last Name</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Enter your last name\"\n          placeholderTextColor={Colors.textSecondary}\n          value={lastName}\n          onChangeText={setLastName}\n          autoCapitalize=\"words\"\n        />\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Username * @{username || '...'}</Text>\n        <View style={styles.usernameContainer}>\n          <TextInput\n            style={[styles.input, styles.usernameInput]}\n            placeholder=\"Choose a unique username\"\n            placeholderTextColor={Colors.textSecondary}\n            value={username}\n            onChangeText={handleUsernameChange}\n            autoCapitalize=\"none\"\n          />\n          {checkingUsername && (\n            <Text style={styles.usernameStatus}>Checking...</Text>\n          )}\n          {!checkingUsername && usernameAvailable === true && (\n            <View style={styles.availableBadge}>\n              <Check size={16} color={Colors.success} />\n            </View>\n          )}\n          {!checkingUsername && usernameAvailable === false && (\n            <Text style={styles.unavailableText}>Taken</Text>\n          )}\n        </View>\n        <Text style={styles.helperText}>This is how people will find you</Text>\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Bio (Optional)</Text>\n        <TextInput\n          style={[styles.input, styles.bioInput]}\n          placeholder=\"Tell people about your vibe...\"\n          placeholderTextColor={Colors.textSecondary}\n          value={bio}\n          onChangeText={(text) => text.length <= 120 && setBio(text)}\n          multiline\n          maxLength={120}\n        />\n        <Text style={styles.charCount}>{bio.length}/120</Text>\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Birthday (Optional)</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"DD/MM/YYYY\"\n          placeholderTextColor={Colors.textSecondary}\n          value={birthday}\n          onChangeText={setBirthday}\n        />\n        <TouchableOpacity \n          style={styles.checkboxRow}\n          onPress={() => setShowBirthday(!showBirthday)}\n        >\n          <View style={[styles.checkbox, showBirthday && styles.checkboxChecked]}>\n            {showBirthday && <Check size={16} color={Colors.text} />}\n          </View>\n          <Text style={styles.checkboxLabel}>Show on profile</Text>\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.inputGroup}>\n        <Text style={styles.label}>Gender (Optional)</Text>\n        <View style={styles.genderRow}>\n          {['Male', 'Female', 'Other', 'Prefer not to say'].map((option) => (\n            <TouchableOpacity\n              key={option}\n              style={[styles.genderOption, gender === option && styles.genderOptionSelected]}\n              onPress={() => setGender(option)}\n            >\n              <Text style={[styles.genderText, gender === option && styles.genderTextSelected]}>\n                {option}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n    </ScrollView>\n  );\n\n  const renderStep3 = () => (\n    <ScrollView style={styles.stepContainer} showsVerticalScrollIndicator={false}>\n      <Text style={styles.stepTitle}>What are you into?</Text>\n      <Text style={styles.stepSubtitle}>Select at least 3 interests to personalize your feed</Text>\n\n      <View style={styles.interestsGrid}>\n        {INTERESTS.map((interest) => {\n          const isSelected = selectedInterests.includes(interest);\n          return (\n            <TouchableOpacity\n              key={interest}\n              style={[styles.interestChip, isSelected && styles.interestChipSelected]}\n              onPress={() => toggleInterest(interest)}\n            >\n              <Text style={[styles.interestText, isSelected && styles.interestTextSelected]}>\n                {interest}\n              </Text>\n              {isSelected && (\n                <View style={styles.interestCheck}>\n                  <Check size={14} color={Colors.text} />\n                </View>\n              )}\n            </TouchableOpacity>\n          );\n        })}\n      </View>\n\n      <Text style={styles.selectedCount}>\n        {selectedInterests.length} selected {selectedInterests.length >= 3 ? '' : `(${3 - selectedInterests.length} more needed)`}\n      </Text>\n    </ScrollView>\n  );\n\n  const renderStep4 = () => (\n    <ScrollView style={styles.stepContainer} showsVerticalScrollIndicator={false}>\n      <Text style={styles.stepTitle}>Discover Nearby Vibes</Text>\n      <Text style={styles.stepSubtitle}>Enable location to find people and events around you</Text>\n\n      <View style={styles.locationCard}>\n        <View style={styles.locationIconContainer}>\n          <Text style={styles.locationIcon}></Text>\n        </View>\n        \n        <Text style={styles.locationTitle}>Location-Based Discovery</Text>\n        <Text style={styles.locationDescription}>\n          Find friends nearby, discover local events, and connect with your community. You can adjust your distance preferences anytime.\n        </Text>\n\n        <TouchableOpacity\n          style={styles.locationToggle}\n          onPress={() => setEnableLocation(!enableLocation)}\n        >\n          <View style={[styles.toggleTrack, enableLocation && styles.toggleTrackActive]}>\n            <View style={[styles.toggleThumb, enableLocation && styles.toggleThumbActive]} />\n          </View>\n          <Text style={styles.toggleLabel}>\n            {enableLocation ? 'Location Enabled' : 'Enable Location'}\n          </Text>\n        </TouchableOpacity>\n\n        {enableLocation && (\n          <View style={styles.locationInfo}>\n            <Text style={styles.locationInfoText}>\n               Discover people within 1-20km\n            </Text>\n            <Text style={styles.locationInfoText}>\n               Find local events and meetups\n            </Text>\n            <Text style={styles.locationInfoText}>\n               See activity heat spots\n            </Text>\n          </View>\n        )}\n      </View>\n\n      <Text style={styles.privacyNote}>\n        Your exact location is never shared. Only approximate distance is shown to others.\n      </Text>\n\n      <View style={styles.summaryCard}>\n        <Text style={styles.summaryTitle}>Profile Summary</Text>\n        \n        {profileImage && (\n          <Image source={{ uri: profileImage }} style={styles.summaryImage} />\n        )}\n        \n        <Text style={styles.summaryName}>\n          {firstName} {lastName}\n        </Text>\n        <Text style={styles.summaryUsername}>@{username}</Text>\n        \n        {bio && <Text style={styles.summaryBio}>{bio}</Text>}\n        \n        <View style={styles.summaryInterests}>\n          {selectedInterests.slice(0, 5).map((interest) => (\n            <View key={interest} style={styles.summaryInterestChip}>\n              <Text style={styles.summaryInterestText}>{interest}</Text>\n            </View>\n          ))}\n          {selectedInterests.length > 5 && (\n            <Text style={styles.summaryMore}>+{selectedInterests.length - 5} more</Text>\n          )}\n        </View>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleBack} style={styles.backButton}>\n          <ChevronLeft size={24} color={Colors.text} />\n        </TouchableOpacity>\n        \n        {renderProgressBar()}\n      </View>\n\n      {error ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          {retryCount > 0 && (\n            <TouchableOpacity onPress={handleRetry} style={styles.retryButton}>\n              <Text style={styles.retryButtonText}>Retry</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n      ) : null}\n\n      {step === 1 && renderStep1()}\n      {step === 2 && renderStep2()}\n      {step === 3 && renderStep3()}\n      {step === 4 && renderStep4()}\n\n      <View style={[styles.footer, { paddingBottom: Math.max(insets.bottom, 16) + 10 }]}>\n        {step < 4 ? (\n          <Button\n            title=\"Continue\"\n            onPress={handleNext}\n            disabled={\n              (step === 1 && !canContinueStep1()) ||\n              (step === 2 && !canContinueStep2()) ||\n              (step === 3 && !canContinueStep3())\n            }\n            style={styles.continueButton}\n          />\n        ) : (\n          <Button\n            title=\"Finish & Start Vibing\"\n            onPress={handleFinish}\n            loading={isLoading}\n            disabled={isLoading}\n            style={styles.continueButton}\n          />\n        )}\n        \n        {step === 4 && (\n          <TouchableOpacity onPress={handleFinish}>\n            <Text style={styles.skipButton}>Skip & Finish Later</Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  header: {\n    paddingTop: Platform.OS === 'ios' ? 60 : 40,\n    paddingHorizontal: 16,\n    paddingBottom: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  backButton: {\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    marginBottom: 12,\n  },\n  progressContainer: {\n    gap: 8,\n  },\n  progressBar: {\n    height: 4,\n    backgroundColor: Colors.cardLight,\n    borderRadius: 2,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: Colors.primary,\n    borderRadius: 2,\n  },\n  progressText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n  },\n  stepContainer: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingTop: 24,\n  },\n  stepTitle: {\n    color: Colors.text,\n    fontSize: 28,\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  stepSubtitle: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    marginBottom: 32,\n    lineHeight: 22,\n  },\n  profileImageContainer: {\n    alignSelf: 'center',\n    marginBottom: 12,\n    position: 'relative' as const,\n  },\n  profileImage: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    backgroundColor: Colors.cardLight,\n  },\n  profileImagePlaceholder: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: Colors.border,\n    borderStyle: 'dashed' as const,\n  },\n  cameraIconBadge: {\n    position: 'absolute' as const,\n    bottom: 0,\n    right: 0,\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: Colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 3,\n    borderColor: Colors.background,\n  },\n  skipText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 32,\n  },\n  inputGroup: {\n    marginBottom: 24,\n  },\n  label: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 8,\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    color: Colors.text,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  passwordContainer: {\n    position: 'relative' as const,\n  },\n  passwordInput: {\n    paddingRight: 50,\n  },\n  eyeIcon: {\n    position: 'absolute' as const,\n    right: 16,\n    top: 16,\n  },\n  errorHint: {\n    color: Colors.error,\n    fontSize: 12,\n    marginTop: 6,\n  },\n  usernameContainer: {\n    position: 'relative' as const,\n  },\n  usernameInput: {\n    paddingRight: 60,\n  },\n  usernameStatus: {\n    position: 'absolute' as const,\n    right: 16,\n    top: 18,\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  availableBadge: {\n    position: 'absolute' as const,\n    right: 16,\n    top: 16,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: Colors.success + '20',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  unavailableText: {\n    position: 'absolute' as const,\n    right: 16,\n    top: 18,\n    color: Colors.error,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  helperText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    marginTop: 6,\n  },\n  bioInput: {\n    minHeight: 80,\n    textAlignVertical: 'top',\n  },\n  charCount: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    textAlign: 'right',\n    marginTop: 6,\n  },\n  checkboxRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 12,\n  },\n  checkbox: {\n    width: 20,\n    height: 20,\n    borderRadius: 6,\n    borderWidth: 2,\n    borderColor: Colors.border,\n    marginRight: 8,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  checkboxChecked: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  checkboxLabel: {\n    color: Colors.text,\n    fontSize: 14,\n  },\n  genderRow: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n  },\n  genderOption: {\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 20,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  genderOptionSelected: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  genderText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  genderTextSelected: {\n    color: Colors.text,\n    fontWeight: '600',\n  },\n  interestsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n  },\n  interestChip: {\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 24,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  interestChipSelected: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  interestText: {\n    color: Colors.textSecondary,\n    fontSize: 15,\n  },\n  interestTextSelected: {\n    color: Colors.text,\n    fontWeight: '600',\n  },\n  interestCheck: {\n    width: 18,\n    height: 18,\n    borderRadius: 9,\n    backgroundColor: Colors.text,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  selectedCount: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    textAlign: 'center',\n    marginTop: 24,\n    fontWeight: '500',\n  },\n  locationCard: {\n    backgroundColor: Colors.card,\n    borderRadius: 20,\n    padding: 24,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    alignItems: 'center',\n  },\n  locationIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  locationIcon: {\n    fontSize: 40,\n  },\n  locationTitle: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    textAlign: 'center',\n  },\n  locationDescription: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    textAlign: 'center',\n    lineHeight: 20,\n    marginBottom: 24,\n  },\n  locationToggle: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  toggleTrack: {\n    width: 52,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: Colors.cardLight,\n    padding: 2,\n    justifyContent: 'center',\n  },\n  toggleTrackActive: {\n    backgroundColor: Colors.primary,\n  },\n  toggleThumb: {\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    backgroundColor: Colors.text,\n  },\n  toggleThumbActive: {\n    transform: [{ translateX: 20 }],\n  },\n  toggleLabel: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  locationInfo: {\n    marginTop: 20,\n    gap: 8,\n    alignSelf: 'stretch',\n  },\n  locationInfoText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  privacyNote: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    textAlign: 'center',\n    marginTop: 16,\n    lineHeight: 18,\n  },\n  summaryCard: {\n    backgroundColor: Colors.card,\n    borderRadius: 20,\n    padding: 24,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    alignItems: 'center',\n    marginTop: 24,\n  },\n  summaryTitle: {\n    color: Colors.text,\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  summaryImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginBottom: 12,\n  },\n  summaryName: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  summaryUsername: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    marginBottom: 12,\n  },\n  summaryBio: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  summaryInterests: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    justifyContent: 'center',\n  },\n  summaryInterestChip: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 12,\n    backgroundColor: Colors.cardLight,\n  },\n  summaryInterestText: {\n    color: Colors.text,\n    fontSize: 12,\n  },\n  summaryMore: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n  },\n  footer: {\n    padding: 16,\n    borderTopWidth: 1,\n    borderTopColor: Colors.border,\n    gap: 12,\n    backgroundColor: Colors.background,\n  },\n  continueButton: {\n    borderRadius: 12,\n  },\n  skipButton: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    textAlign: 'center',\n    padding: 12,\n  },\n  errorContainer: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    borderRadius: 12,\n    backgroundColor: Colors.error + '20',\n    padding: 16,\n    gap: 12,\n  },\n  errorText: {\n    color: Colors.error,\n    textAlign: 'center',\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  retryButton: {\n    backgroundColor: Colors.error,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  retryButtonText: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n});\n","import React, { useEffect } from 'react';\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useMessaging } from '@/hooks/messaging-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { MessageCircle, Search, Edit, Phone, Video } from 'lucide-react-native';\nimport { Conversation } from '@/types';\n\nexport default function MessagesScreen() {\n  const { isAuthenticated } = useAuth();\n  const { \n    conversations, \n    setActiveConversation,\n    createMockConversations \n  } = useMessaging();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    // Create mock conversations if none exist\n    if (conversations.length === 0) {\n      createMockConversations();\n    }\n  }, [isAuthenticated, conversations.length, createMockConversations]);\n\n  const formatTime = (timestamp: string) => {\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diff = now.getTime() - time.getTime();\n    \n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    \n    if (minutes < 1) return 'Just now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return time.toLocaleDateString();\n  };\n\n  const handleConversationPress = (conversation: Conversation) => {\n    setActiveConversation(conversation);\n    router.push(`/chat/${conversation.id}`);\n  };\n\n  const getOtherParticipant = (conversation: Conversation) => {\n    // In a real app, filter out current user\n    return conversation.participants[1] || conversation.participants[0];\n  };\n\n  const handleVoiceCall = (userId: string) => {\n    console.log('Starting voice call with:', userId);\n    // In a real app, this would initiate a voice call\n  };\n\n  const handleVideoCall = (userId: string) => {\n    console.log('Starting video call with:', userId);\n    // In a real app, this would initiate a video call\n  };\n\n  const renderConversation = ({ item }: { item: Conversation }) => {\n    const otherUser = getOtherParticipant(item);\n    \n    return (\n      <TouchableOpacity\n        style={styles.conversationItem}\n        onPress={() => handleConversationPress(item)}\n      >\n        <View style={styles.avatarContainer}>\n          <Avatar\n            uri={otherUser.profileImage}\n            size={50}\n            style={styles.avatar}\n          />\n        </View>\n        \n        <View style={styles.conversationContent}>\n          <View style={styles.conversationHeader}>\n            <Text style={styles.userName}>\n              {otherUser.displayName}\n            </Text>\n            <Text style={styles.timestamp}>\n              {formatTime(item.updatedAt)}\n            </Text>\n          </View>\n          \n          <View style={styles.messagePreview}>\n            <Text \n              style={[\n                styles.lastMessage,\n                item.unreadCount > 0 && styles.unreadMessage\n              ]}\n              numberOfLines={1}\n            >\n              {item.lastMessage.type === 'voice' ? ' Voice message' :\n               item.lastMessage.type === 'image' ? ' Photo' :\n               item.lastMessage.type === 'video' ? ' Video' :\n               item.lastMessage.content || 'No messages yet'}\n            </Text>\n            {item.unreadCount > 0 && (\n              <View style={styles.unreadBadge}>\n                <Text style={styles.unreadCount}>\n                  {item.unreadCount > 99 ? '99+' : item.unreadCount}\n                </Text>\n              </View>\n            )}\n          </View>\n        </View>\n        \n        <View style={styles.actionButtons}>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => handleVoiceCall(otherUser.id)}\n          >\n            <Phone size={18} color={Colors.textSecondary} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => handleVideoCall(otherUser.id)}\n          >\n            <Video size={18} color={Colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen \n        options={{ \n          title: 'Messages',\n          headerStyle: { backgroundColor: Colors.background },\n          headerTitleStyle: { color: Colors.text },\n          headerTintColor: Colors.text,\n          headerLeft: () => (\n            <TouchableOpacity \n              onPress={() => router.push('/(tabs)')}\n              style={styles.backButton}\n            >\n              <Text style={styles.backButtonText}> Back</Text>\n            </TouchableOpacity>\n          ),\n          headerRight: () => (\n            <View style={styles.headerActions}>\n              <TouchableOpacity style={styles.headerButton}>\n                <Search size={22} color={Colors.text} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.headerButton}>\n                <Edit size={22} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n          ),\n        }} \n      />\n      \n      {conversations.length === 0 ? (\n        <View style={styles.emptyContainer}>\n          <MessageCircle size={60} color={Colors.textSecondary} />\n          <Text style={styles.emptyTitle}>No messages yet</Text>\n          <Text style={styles.emptyMessage}>\n            Start a conversation with someone to see your messages here\n          </Text>\n          <TouchableOpacity style={styles.startChatButton}>\n            <Text style={styles.startChatButtonText}>Start a Chat</Text>\n          </TouchableOpacity>\n        </View>\n      ) : (\n        <FlatList\n          data={conversations}\n          keyExtractor={(item) => item.id}\n          renderItem={renderConversation}\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={styles.listContainer}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  headerButton: {\n    marginLeft: 16,\n  },\n  listContainer: {\n    paddingHorizontal: 16,\n    paddingTop: 24,\n    paddingBottom: 20,\n  },\n  conversationItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  avatarContainer: {\n    position: 'relative',\n    marginRight: 12,\n  },\n  avatar: {\n    // No additional margin needed\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  userName: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  timestamp: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n  },\n  messagePreview: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  lastMessage: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    flex: 1,\n  },\n  unreadMessage: {\n    color: Colors.text,\n    fontWeight: '600',\n  },\n  unreadBadge: {\n    backgroundColor: Colors.primary,\n    borderRadius: 10,\n    minWidth: 20,\n    height: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 6,\n  },\n  unreadCount: {\n    color: Colors.text,\n    fontSize: 12,\n    fontWeight: '600',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 40,\n  },\n  emptyTitle: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: '600',\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  emptyMessage: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    textAlign: 'center',\n    lineHeight: 24,\n    marginBottom: 24,\n  },\n  startChatButton: {\n    backgroundColor: Colors.primary,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n  },\n  startChatButtonText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  backButton: {\n    marginLeft: 16,\n  },\n  backButtonText: {\n    color: Colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  actionButton: {\n    padding: 8,\n    marginLeft: 4,\n  },\n});","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView, Modal } from 'react-native';\nimport { router } from 'expo-router';\nimport { ProfileView } from '@/types';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Eye, X, Clock, ChevronRight } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { LinearGradient } from 'expo-linear-gradient';\n\ninterface ProfileViewsSectionProps {\n  views: ProfileView[];\n  viewsCount: number;\n  timeRange?: 'day' | 'week' | 'month' | 'all';\n}\n\nexport const ProfileViewsSection: React.FC<ProfileViewsSectionProps> = ({\n  views,\n  viewsCount,\n  timeRange = 'week',\n}) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const getTimeRangeText = () => {\n    switch (timeRange) {\n      case 'day':\n        return 'today';\n      case 'week':\n        return 'this week';\n      case 'month':\n        return 'this month';\n      case 'all':\n        return 'all time';\n      default:\n        return 'this week';\n    }\n  };\n\n  const getTimeAgo = (timestamp: string): string => {\n    const now = Date.now();\n    const viewTime = new Date(timestamp).getTime();\n    const diff = now - viewTime;\n\n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (minutes < 60) {\n      return `${minutes}m ago`;\n    } else if (hours < 24) {\n      return `${hours}h ago`;\n    } else {\n      return `${days}d ago`;\n    }\n  };\n\n  const visibleViews = views.filter(v => !v.isPrivateView).slice(0, 5);\n\n  const handleViewAll = () => {\n    router.push('/profile-views');\n  };\n\n  const handleViewerPress = (viewerId: string) => {\n    router.push(`/user/${viewerId}`);\n  };\n\n  return (\n    <>\n      <TouchableOpacity\n        style={styles.container}\n        onPress={handleViewAll}\n        activeOpacity={0.8}\n      >\n        <LinearGradient\n          colors={['rgba(59, 130, 246, 0.1)', 'rgba(6, 182, 212, 0.1)']}\n          start={{ x: 0, y: 0 }}\n          end={{ x: 1, y: 0 }}\n          style={styles.gradient}\n        >\n          <View style={styles.header}>\n            <View style={styles.iconContainer}>\n              <Eye size={20} color={Colors.primary} />\n            </View>\n            <View style={styles.headerText}>\n              <Text style={styles.title}>Profile Views</Text>\n              <Text style={styles.subtitle}>\n                {viewsCount} view{viewsCount !== 1 ? 's' : ''} {getTimeRangeText()}\n              </Text>\n            </View>\n            <ChevronRight size={20} color={Colors.textSecondary} />\n          </View>\n\n          {visibleViews.length > 0 && (\n            <View style={styles.avatarsContainer}>\n              {visibleViews.map((view, index) => (\n                <View\n                  key={view.id}\n                  style={[\n                    styles.avatarWrapper,\n                    { marginLeft: index > 0 ? -12 : 0, zIndex: 5 - index },\n                  ]}\n                >\n                  <Avatar\n                    uri={view.viewerProfileImage}\n                    size={32}\n                    borderWidth={2}\n                    borderColor={Colors.background}\n                  />\n                </View>\n              ))}\n              {views.length > 5 && (\n                <View style={[styles.moreCount, { marginLeft: -12 }]}>\n                  <Text style={styles.moreCountText}>+{views.length - 5}</Text>\n                </View>\n              )}\n            </View>\n          )}\n        </LinearGradient>\n      </TouchableOpacity>\n\n      <Modal\n        visible={showModal}\n        transparent\n        animationType=\"slide\"\n        onRequestClose={() => setShowModal(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <TouchableOpacity\n            style={styles.modalBackdrop}\n            activeOpacity={1}\n            onPress={() => setShowModal(false)}\n          />\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Profile Views</Text>\n              <TouchableOpacity onPress={() => setShowModal(false)} style={styles.closeButton}>\n                <X size={24} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.statsRow}>\n              <View style={styles.statBox}>\n                <Text style={styles.statNumber}>{viewsCount}</Text>\n                <Text style={styles.statLabel}>{getTimeRangeText()}</Text>\n              </View>\n              <View style={styles.statBox}>\n                <Text style={styles.statNumber}>{views.length}</Text>\n                <Text style={styles.statLabel}>total views</Text>\n              </View>\n            </View>\n\n            <ScrollView style={styles.modalScroll} showsVerticalScrollIndicator={false}>\n              {views.slice(0, 10).map((view) => (\n                <TouchableOpacity\n                  key={view.id}\n                  style={styles.viewItem}\n                  onPress={() => {\n                    setShowModal(false);\n                    handleViewerPress(view.viewerId);\n                  }}\n                  activeOpacity={0.7}\n                >\n                  <Avatar uri={view.viewerProfileImage} size={48} />\n                  <View style={styles.viewInfo}>\n                    <View style={styles.viewNameRow}>\n                      <Text style={styles.viewName}>{view.viewerDisplayName}</Text>\n                      {view.viewerIsVerified && <VerifiedBadge size={16} />}\n                    </View>\n                    <Text style={styles.viewUsername}>@{view.viewerUsername}</Text>\n                  </View>\n                  <View style={styles.timeContainer}>\n                    <Clock size={14} color={Colors.textSecondary} />\n                    <Text style={styles.timeText}>{getTimeAgo(view.timestamp)}</Text>\n                  </View>\n                </TouchableOpacity>\n              ))}\n              {views.length > 10 && (\n                <TouchableOpacity\n                  style={styles.viewAllButton}\n                  onPress={() => {\n                    setShowModal(false);\n                    handleViewAll();\n                  }}\n                >\n                  <Text style={styles.viewAllText}>View All {views.length} Views</Text>\n                  <ChevronRight size={18} color={Colors.primary} />\n                </TouchableOpacity>\n              )}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginHorizontal: 20,\n    marginVertical: 12,\n    borderRadius: 16,\n    overflow: 'hidden',\n  },\n  gradient: {\n    padding: 16,\n    borderRadius: 16,\n    borderWidth: 1,\n    borderColor: 'rgba(59, 130, 246, 0.2)',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: 'rgba(59, 130, 246, 0.15)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 12,\n  },\n  headerText: {\n    flex: 1,\n  },\n  title: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '700' as const,\n    marginBottom: 2,\n  },\n  subtitle: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  avatarsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  avatarWrapper: {\n    borderRadius: 16,\n    overflow: 'hidden',\n  },\n  moreCount: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: Colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: Colors.background,\n  },\n  moreCountText: {\n    color: Colors.text,\n    fontSize: 11,\n    fontWeight: '700' as const,\n  },\n  modalOverlay: {\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  modalBackdrop: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n  },\n  modalContent: {\n    backgroundColor: Colors.card,\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '80%',\n    paddingBottom: 40,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  modalTitle: {\n    color: Colors.text,\n    fontSize: 18,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  statsRow: {\n    flexDirection: 'row',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    gap: 12,\n  },\n  statBox: {\n    flex: 1,\n    backgroundColor: Colors.cardLight,\n    padding: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  statNumber: {\n    color: Colors.text,\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginBottom: 4,\n  },\n  statLabel: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n  },\n  modalScroll: {\n    paddingHorizontal: 20,\n    paddingTop: 8,\n  },\n  viewItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 12,\n    gap: 12,\n  },\n  viewInfo: {\n    flex: 1,\n  },\n  viewNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    marginBottom: 2,\n  },\n  viewName: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  viewUsername: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  timeText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n  },\n  viewAllButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 16,\n    marginTop: 8,\n    gap: 8,\n  },\n  viewAllText: {\n    color: Colors.primary,\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, ScrollView, TouchableOpacity } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Button } from '@/components/ui/Button';\nimport { PostCard } from '@/components/home/PostCard';\nimport { ArrowLeft, MessageCircle, MoreHorizontal, Share2 } from 'lucide-react-native';\nimport { QRCodeShareModal } from '@/components/profile/QRCodeShareModal';\nimport { ProfileViewsSection } from '@/components/profile/ProfileViewsSection';\nimport { useProfileViews } from '@/hooks/profile-views-store';\nimport { mockUsers } from '@/mocks/users';\nimport { mockPosts } from '@/mocks/posts';\nimport { User, Post } from '@/types';\n\nexport default function UserProfileScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { isAuthenticated, user: currentUser } = useAuth();\n  const { trackProfileView, getProfileViews, getProfileViewsCount } = useProfileViews();\n  const [user, setUser] = useState<User | null>(null);\n  const [userPosts, setUserPosts] = useState<Post[]>([]);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [activeTab, setActiveTab] = useState<'posts' | 'media'>('posts');\n  const [showQRModal, setShowQRModal] = useState(false);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    const foundUser = mockUsers.find(u => u.id === id);\n    if (foundUser) {\n      setUser(foundUser);\n      const posts = mockPosts.filter(p => p.author.id === id);\n      setUserPosts(posts);\n      setIsFollowing(Math.random() > 0.5);\n      \n      if (currentUser?.id && currentUser.id !== id) {\n        trackProfileView(id, currentUser.id);\n        console.log(`[UserProfile] Tracked view: ${currentUser.username} viewed ${foundUser.username}`);\n      }\n    }\n  }, [id, isAuthenticated, currentUser, trackProfileView]);\n\n  const handleFollowPress = () => {\n    setIsFollowing(!isFollowing);\n    // In a real app, this would call the backend\n  };\n\n  const handleMessagePress = () => {\n    // Navigate to chat with this user\n    router.push(`/chat/user-${id}`);\n  };\n\n  const handlePostPress = (postId: string) => {\n    router.push(`/post/${postId}`);\n  };\n\n  const handleLikePress = (postId: string) => {\n    console.log('Like pressed for post:', postId);\n  };\n\n  const handleCommentPress = (postId: string) => {\n    router.push(`/post/${postId}`);\n  };\n\n  const handleSharePress = (postId: string) => {\n    console.log('Share pressed for post:', postId);\n  };\n\n  const handleShareProfile = () => {\n    setShowQRModal(true);\n    console.log('[UserProfile] Opening QR code share modal');\n  };\n\n  if (!user) {\n    return (\n      <View style={styles.errorContainer}>\n        <Text style={styles.errorText}>User not found</Text>\n        <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n          <Text style={styles.backButtonText}>Go Back</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  const isOwnProfile = currentUser?.id === user.id;\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen \n        options={{ \n          title: user.displayName,\n          headerStyle: { backgroundColor: Colors.background },\n          headerTitleStyle: { color: Colors.text },\n          headerTintColor: Colors.text,\n          headerLeft: () => (\n            <TouchableOpacity \n              onPress={() => router.back()}\n              style={styles.headerBackButton}\n            >\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n          headerRight: () => (\n            <View style={styles.headerRightContainer}>\n              <TouchableOpacity style={styles.headerShareButton} onPress={handleShareProfile}>\n                <Share2 size={22} color={Colors.text} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.headerMoreButton}>\n                <MoreHorizontal size={24} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n          ),\n        }} \n      />\n      \n      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>\n        {/* Profile Header */}\n        <View style={styles.profileHeader}>\n          <Avatar\n            uri={user.profileImage}\n            size={100}\n            style={styles.profileAvatar}\n          />\n          \n          <View style={styles.profileInfo}>\n            <View style={styles.nameContainer}>\n              <Text style={styles.displayName}>{user.displayName}</Text>\n              {user.isVerified && <VerifiedBadge size={20} />}\n            </View>\n            <Text style={styles.username}>@{user.username}</Text>\n            {user.bio && <Text style={styles.bio}>{user.bio}</Text>}\n          </View>\n          \n          <View style={styles.statsContainer}>\n            <TouchableOpacity \n              style={styles.statItem}\n              onPress={() => router.push(`/user/${id}/followers`)}\n            >\n              <Text style={styles.statNumber}>{user.followersCount}</Text>\n              <Text style={styles.statLabel}>Followers</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={styles.statItem}\n              onPress={() => router.push(`/user/${id}/following`)}\n            >\n              <Text style={styles.statNumber}>{user.followingCount}</Text>\n              <Text style={styles.statLabel}>Following</Text>\n            </TouchableOpacity>\n            <View style={styles.statItem}>\n              <Text style={styles.statNumber}>{userPosts.length}</Text>\n              <Text style={styles.statLabel}>Posts</Text>\n            </View>\n          </View>\n          \n          {!isOwnProfile && (\n            <View style={styles.actionButtons}>\n              <Button\n                title={isFollowing ? 'Following' : 'Follow'}\n                onPress={handleFollowPress}\n                style={[styles.followButton, isFollowing && styles.followingButton]}\n                textStyle={isFollowing ? styles.followingButtonText : undefined}\n              />\n              <TouchableOpacity style={styles.messageButton} onPress={handleMessagePress}>\n                <MessageCircle size={20} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n        \n        {isOwnProfile && (\n          <ProfileViewsSection\n            views={getProfileViews(user.id)}\n            viewsCount={getProfileViewsCount(user.id, 'week')}\n            timeRange=\"week\"\n          />\n        )}\n        \n        <View style={styles.tabsContainer}>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'posts' && styles.activeTab]}\n            onPress={() => setActiveTab('posts')}\n          >\n            <Text style={[styles.tabText, activeTab === 'posts' && styles.activeTabText]}>\n              Posts\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'media' && styles.activeTab]}\n            onPress={() => setActiveTab('media')}\n          >\n            <Text style={[styles.tabText, activeTab === 'media' && styles.activeTabText]}>\n              Media\n            </Text>\n          </TouchableOpacity>\n        </View>\n        \n        {/* Content */}\n        {activeTab === 'posts' && (\n          <View style={styles.postsContainer}>\n            {userPosts.length > 0 ? (\n              userPosts.map((post) => (\n                <PostCard\n                  key={post.id}\n                  post={post}\n                  onPress={handlePostPress}\n                  onLike={handleLikePress}\n                  onComment={handleCommentPress}\n                  onShare={handleSharePress}\n                />\n              ))\n            ) : (\n              <View style={styles.emptyContainer}>\n                <Text style={styles.emptyText}>No posts yet</Text>\n              </View>\n            )}\n          </View>\n        )}\n        \n        {activeTab === 'media' && (\n          <View style={styles.mediaContainer}>\n            <Text style={styles.emptyText}>Media content coming soon</Text>\n          </View>\n        )}\n      </ScrollView>\n\n      <QRCodeShareModal\n        visible={showQRModal}\n        onClose={() => setShowQRModal(false)}\n        user={user}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: Colors.background,\n    padding: 20,\n  },\n  errorText: {\n    color: Colors.text,\n    fontSize: 18,\n    marginBottom: 20,\n  },\n  backButton: {\n    backgroundColor: Colors.primary,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n  },\n  backButtonText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  headerBackButton: {\n    marginLeft: 16,\n  },\n  headerRightContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginRight: 16,\n  },\n  headerShareButton: {\n    padding: 4,\n  },\n  headerMoreButton: {\n    padding: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  profileHeader: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  profileAvatar: {\n    marginBottom: 16,\n  },\n  profileInfo: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  displayName: {\n    color: Colors.text,\n    fontSize: 24,\n    fontWeight: '700',\n    marginRight: 8,\n  },\n  username: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    marginBottom: 8,\n  },\n  bio: {\n    color: Colors.text,\n    fontSize: 16,\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    marginBottom: 20,\n  },\n  statItem: {\n    alignItems: 'center',\n  },\n  statNumber: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: '700',\n  },\n  statLabel: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginTop: 2,\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  followButton: {\n    flex: 1,\n  },\n  followingButton: {\n    backgroundColor: Colors.cardLight,\n  },\n  followingButtonText: {\n    color: Colors.text,\n  },\n  messageButton: {\n    backgroundColor: Colors.cardLight,\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  tabsContainer: {\n    flexDirection: 'row',\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 16,\n    alignItems: 'center',\n  },\n  activeTab: {\n    borderBottomWidth: 2,\n    borderBottomColor: Colors.primary,\n  },\n  tabText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  activeTabText: {\n    color: Colors.text,\n  },\n  postsContainer: {\n    paddingTop: 16,\n  },\n  mediaContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  emptyContainer: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n  },\n});","import { Status, UserStatusGroup } from '@/types/status';\n\nexport const mockStatuses: Status[] = [\n  {\n    id: 'status-1',\n    userId: '1',\n    username: 'sarah_vibes',\n    avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\n    verified: true,\n    type: 'photo',\n    media: {\n      type: 'photo',\n      uri: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24',\n      width: 1080,\n      height: 1920,\n    },\n    overlays: [\n      {\n        type: 'text',\n        content: 'Good vibes only ',\n        position: { x: 50, y: 80 },\n        color: '#FFFFFF',\n        fontSize: 32,\n      },\n    ],\n    caption: 'Coffee time',\n    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 22 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 234,\n      replies: 12,\n      shares: 5,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-2',\n    userId: '6',\n    username: 'jamal_fitness',\n    avatar: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150',\n    verified: true,\n    type: 'voice',\n    voiceContent: {\n      uri: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',\n      duration: 45,\n      waveform: [0.2, 0.5, 0.8, 0.6, 0.9, 0.4, 0.7, 0.3, 0.6, 0.8, 0.5, 0.9, 0.7, 0.4, 0.6, 0.8, 0.3, 0.5, 0.7, 0.9],\n      gradient: ['#667eea', '#764ba2'],\n    },\n    caption: 'Morning motivation!',\n    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 23 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 456,\n      replies: 23,\n      shares: 12,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-3',\n    userId: '7',\n    username: 'priya_travels',\n    avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150',\n    verified: true,\n    type: 'photo',\n    media: {\n      type: 'photo',\n      uri: 'https://images.unsplash.com/photo-1564507592333-c60657eea523',\n      width: 1080,\n      height: 1920,\n    },\n    overlays: [\n      {\n        type: 'text',\n        content: 'Taj Mahal ',\n        position: { x: 50, y: 90 },\n        color: '#FFFFFF',\n        fontSize: 36,\n      },\n    ],\n    caption: 'Magical sunset',\n    createdAt: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 21 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 789,\n      replies: 45,\n      shares: 23,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-4',\n    userId: '9',\n    username: 'yuki_fashion',\n    avatar: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150',\n    verified: true,\n    type: 'text',\n    textContent: {\n      text: 'Fashion is art ',\n      backgroundColor: '#FF6B6B',\n      fontFamily: 'System',\n      fontSize: 36,\n      textAlign: 'center',\n    },\n    createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 20 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'friends',\n    analytics: {\n      views: 345,\n      replies: 18,\n      shares: 8,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-5',\n    userId: '11',\n    username: 'fatima_beauty',\n    avatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150',\n    verified: true,\n    type: 'photo',\n    media: {\n      type: 'photo',\n      uri: 'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9',\n      width: 1080,\n      height: 1920,\n    },\n    overlays: [\n      {\n        type: 'text',\n        content: 'Glow up ',\n        position: { x: 50, y: 85 },\n        color: '#FFD700',\n        fontSize: 38,\n      },\n    ],\n    caption: 'New makeup look',\n    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 19 * 60 * 60 * 1000).toISOString(),\n    isPinned: true,\n    privacy: 'public',\n    analytics: {\n      views: 1234,\n      replies: 67,\n      shares: 34,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-6',\n    userId: '13',\n    username: 'aisha_wellness',\n    avatar: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150',\n    verified: true,\n    type: 'voice',\n    voiceContent: {\n      uri: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',\n      duration: 30,\n      waveform: [0.3, 0.4, 0.5, 0.6, 0.5, 0.4, 0.5, 0.6, 0.5, 0.4, 0.5, 0.6, 0.5, 0.4, 0.5, 0.6, 0.7, 0.6, 0.5, 0.6],\n      gradient: ['#43e97b', '#38f9d7'],\n    },\n    caption: 'Meditation guide',\n    createdAt: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 18 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 567,\n      replies: 29,\n      shares: 15,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-7',\n    userId: '8',\n    username: 'carlos_music',\n    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150',\n    verified: false,\n    type: 'text',\n    textContent: {\n      text: 'New beat dropping tonight ',\n      backgroundColor: '#4ECDC4',\n      fontFamily: 'System',\n      fontSize: 34,\n      textAlign: 'center',\n    },\n    createdAt: new Date(Date.now() - 7 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 17 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 432,\n      replies: 21,\n      shares: 11,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-8',\n    userId: '14',\n    username: 'diego_sports',\n    avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?w=150',\n    verified: true,\n    type: 'photo',\n    media: {\n      type: 'photo',\n      uri: 'https://images.unsplash.com/photo-1522778119026-d647f0596c20',\n      width: 1080,\n      height: 1920,\n    },\n    overlays: [\n      {\n        type: 'text',\n        content: 'Match day! ',\n        position: { x: 50, y: 80 },\n        color: '#FFFFFF',\n        fontSize: 40,\n      },\n    ],\n    caption: 'Game time',\n    createdAt: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 16 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 1567,\n      replies: 89,\n      shares: 45,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-9',\n    userId: '15',\n    username: 'mei_chef',\n    avatar: 'https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?w=150',\n    verified: false,\n    type: 'photo',\n    media: {\n      type: 'photo',\n      uri: 'https://images.unsplash.com/photo-1496116218417-1a781b1c416c',\n      width: 1080,\n      height: 1920,\n    },\n    overlays: [\n      {\n        type: 'text',\n        content: 'Dim sum time ',\n        position: { x: 50, y: 85 },\n        color: '#FFFFFF',\n        fontSize: 36,\n      },\n    ],\n    caption: 'Homemade goodness',\n    createdAt: new Date(Date.now() - 9 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 15 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 678,\n      replies: 34,\n      shares: 18,\n      viewers: [],\n    },\n  },\n  {\n    id: 'status-10',\n    userId: '10',\n    username: 'marcus_tech',\n    avatar: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150',\n    verified: false,\n    type: 'voice',\n    voiceContent: {\n      uri: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',\n      duration: 35,\n      waveform: [0.4, 0.5, 0.6, 0.7, 0.6, 0.5, 0.6, 0.7, 0.6, 0.5, 0.6, 0.7, 0.6, 0.5, 0.6, 0.7, 0.8, 0.7, 0.6, 0.7],\n      gradient: ['#f093fb', '#f5576c'],\n    },\n    caption: 'Coding tip!',\n    createdAt: new Date(Date.now() - 10 * 60 * 60 * 1000).toISOString(),\n    expiresAt: new Date(Date.now() + 14 * 60 * 60 * 1000).toISOString(),\n    isPinned: false,\n    privacy: 'public',\n    analytics: {\n      views: 234,\n      replies: 12,\n      shares: 6,\n      viewers: [],\n    },\n  },\n];\n\nexport const mockUserStatusGroups: UserStatusGroup[] = [\n  {\n    userId: '1',\n    username: 'sarah_vibes',\n    avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\n    verified: true,\n    statuses: [mockStatuses[0]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[0].createdAt,\n  },\n  {\n    userId: '6',\n    username: 'jamal_fitness',\n    avatar: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150',\n    verified: true,\n    statuses: [mockStatuses[1]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[1].createdAt,\n  },\n  {\n    userId: '7',\n    username: 'priya_travels',\n    avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150',\n    verified: true,\n    statuses: [mockStatuses[2]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[2].createdAt,\n  },\n  {\n    userId: '9',\n    username: 'yuki_fashion',\n    avatar: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150',\n    verified: true,\n    statuses: [mockStatuses[3]],\n    hasUnviewed: false,\n    lastStatusAt: mockStatuses[3].createdAt,\n  },\n  {\n    userId: '11',\n    username: 'fatima_beauty',\n    avatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150',\n    verified: true,\n    statuses: [mockStatuses[4]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[4].createdAt,\n  },\n  {\n    userId: '13',\n    username: 'aisha_wellness',\n    avatar: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150',\n    verified: true,\n    statuses: [mockStatuses[5]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[5].createdAt,\n  },\n  {\n    userId: '8',\n    username: 'carlos_music',\n    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150',\n    verified: false,\n    statuses: [mockStatuses[6]],\n    hasUnviewed: false,\n    lastStatusAt: mockStatuses[6].createdAt,\n  },\n  {\n    userId: '14',\n    username: 'diego_sports',\n    avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?w=150',\n    verified: true,\n    statuses: [mockStatuses[7]],\n    hasUnviewed: true,\n    lastStatusAt: mockStatuses[7].createdAt,\n  },\n  {\n    userId: '15',\n    username: 'mei_chef',\n    avatar: 'https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?w=150',\n    verified: false,\n    statuses: [mockStatuses[8]],\n    hasUnviewed: false,\n    lastStatusAt: mockStatuses[8].createdAt,\n  },\n  {\n    userId: '10',\n    username: 'marcus_tech',\n    avatar: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150',\n    verified: false,\n    statuses: [mockStatuses[9]],\n    hasUnviewed: false,\n    lastStatusAt: mockStatuses[9].createdAt,\n  },\n];\n\nexport const statusBackgrounds = [\n  { id: 'gradient-1', type: 'gradient' as const, colors: ['#667eea', '#764ba2'] },\n  { id: 'gradient-2', type: 'gradient' as const, colors: ['#f093fb', '#f5576c'] },\n  { id: 'gradient-3', type: 'gradient' as const, colors: ['#4facfe', '#00f2fe'] },\n  { id: 'gradient-4', type: 'gradient' as const, colors: ['#43e97b', '#38f9d7'] },\n  { id: 'gradient-5', type: 'gradient' as const, colors: ['#fa709a', '#fee140'] },\n  { id: 'solid-1', type: 'solid' as const, colors: ['#FF6B6B'] },\n  { id: 'solid-2', type: 'solid' as const, colors: ['#4ECDC4'] },\n  { id: 'solid-3', type: 'solid' as const, colors: ['#45B7D1'] },\n  { id: 'solid-4', type: 'solid' as const, colors: ['#96CEB4'] },\n  { id: 'solid-5', type: 'solid' as const, colors: ['#FFEAA7'] },\n];\n","export type MessageRequestFrom = 'no_one' | 'verified' | 'everyone';\nexport type CallPermission = 'contacts' | 'following' | 'verified' | 'everyone';\n\nexport interface MessageSettings {\n  messageRequestsFrom: MessageRequestFrom;\n  audioVideoCallingEnabled: boolean;\n  callPermission: CallPermission;\n  alwaysRelayCalls: boolean;\n  screenshotProtection: boolean;\n}\n\nexport const DEFAULT_MESSAGE_SETTINGS: MessageSettings = {\n  messageRequestsFrom: 'everyone',\n  audioVideoCallingEnabled: true,\n  callPermission: 'everyone',\n  alwaysRelayCalls: false,\n  screenshotProtection: true,\n};\n","import { useState, useEffect, useMemo, useCallback } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nimport {\n  MessageSettings,\n  DEFAULT_MESSAGE_SETTINGS,\n  MessageRequestFrom,\n  CallPermission,\n} from '@/types/message-settings';\n\nconst STORAGE_KEY = 'message-settings';\n\nexport const [MessageSettingsProvider, useMessageSettings] = createContextHook(() => {\n  const [settings, setSettings] = useState<MessageSettings>(DEFAULT_MESSAGE_SETTINGS);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        setSettings(parsed);\n      }\n    } catch (error) {\n      console.error('[MessageSettings] Error loading settings:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const saveSettings = async (newSettings: MessageSettings) => {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(newSettings));\n      setSettings(newSettings);\n    } catch (error) {\n      console.error('[MessageSettings] Error saving settings:', error);\n    }\n  };\n\n  const updateMessageRequestsFrom = useCallback((value: MessageRequestFrom) => {\n    const newSettings = { ...settings, messageRequestsFrom: value };\n    saveSettings(newSettings);\n  }, [settings]);\n\n  const toggleAudioVideoCalling = useCallback(() => {\n    const newSettings = { ...settings, audioVideoCallingEnabled: !settings.audioVideoCallingEnabled };\n    saveSettings(newSettings);\n  }, [settings]);\n\n  const updateCallPermission = useCallback((value: CallPermission) => {\n    const newSettings = { ...settings, callPermission: value };\n    saveSettings(newSettings);\n  }, [settings]);\n\n  const toggleRelayCalls = useCallback(() => {\n    const newSettings = { ...settings, alwaysRelayCalls: !settings.alwaysRelayCalls };\n    saveSettings(newSettings);\n  }, [settings]);\n\n  const toggleScreenshotProtection = useCallback(() => {\n    const newSettings = { ...settings, screenshotProtection: !settings.screenshotProtection };\n    saveSettings(newSettings);\n  }, [settings]);\n\n  const resetToDefaults = useCallback(() => {\n    saveSettings(DEFAULT_MESSAGE_SETTINGS);\n  }, []);\n\n  return useMemo(() => ({\n    settings,\n    isLoading,\n    updateMessageRequestsFrom,\n    toggleAudioVideoCalling,\n    updateCallPermission,\n    toggleRelayCalls,\n    toggleScreenshotProtection,\n    resetToDefaults,\n  }), [\n    settings,\n    isLoading,\n    updateMessageRequestsFrom,\n    toggleAudioVideoCalling,\n    updateCallPermission,\n    toggleRelayCalls,\n    toggleScreenshotProtection,\n    resetToDefaults,\n  ]);\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  ScrollView,\n  TouchableOpacity,\n  Switch,\n  Modal,\n  Pressable,\n  StatusBar,\n} from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useMessageSettings } from '@/hooks/message-settings-store';\nimport { ArrowLeft, ChevronRight, Check } from 'lucide-react-native';\nimport { MessageRequestFrom, CallPermission } from '@/types/message-settings';\n\nexport default function MessagesSettingsScreen() {\n  const insets = useSafeAreaInsets();\n  const {\n    settings,\n    updateMessageRequestsFrom,\n    toggleAudioVideoCalling,\n    updateCallPermission,\n    toggleRelayCalls,\n    toggleScreenshotProtection,\n  } = useMessageSettings();\n\n  const [showRequestsModal, setShowRequestsModal] = useState(false);\n  const [showCallPermissionModal, setShowCallPermissionModal] = useState(false);\n\n  const messageRequestOptions: { value: MessageRequestFrom; label: string }[] = [\n    { value: 'no_one', label: 'No one' },\n    { value: 'verified', label: 'Verified users' },\n    { value: 'everyone', label: 'Everyone' },\n  ];\n\n  const callPermissionOptions: { value: CallPermission; label: string }[] = [\n    { value: 'contacts', label: 'People in your address book' },\n    { value: 'following', label: 'People you follow' },\n    { value: 'verified', label: 'Verified users' },\n    { value: 'everyone', label: 'Everyone' },\n  ];\n\n  const getRequestsLabel = (value: MessageRequestFrom) => {\n    return messageRequestOptions.find(opt => opt.value === value)?.label || 'Everyone';\n  };\n\n  const getCallPermissionLabel = (value: CallPermission) => {\n    return callPermissionOptions.find(opt => opt.value === value)?.label || 'Everyone';\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar barStyle=\"light-content\" backgroundColor=\"#000000\" />\n      <Stack.Screen options={{ headerShown: false }} />\n\n      <View style={[styles.header, { paddingTop: insets.top + 12 }]}>\n        <TouchableOpacity\n          style={styles.backButton}\n          onPress={() => router.back()}\n          activeOpacity={0.7}\n        >\n          <ArrowLeft size={24} color=\"#FFFFFF\" strokeWidth={2} />\n        </TouchableOpacity>\n        <Text style={styles.headerTitle}>Messages Settings</Text>\n        <View style={styles.headerSpacer} />\n      </View>\n\n      <ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={[styles.content, { paddingBottom: insets.bottom + 20 }]}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Privacy</Text>\n\n          <TouchableOpacity\n            style={styles.settingRow}\n            onPress={() => setShowRequestsModal(true)}\n            activeOpacity={0.7}\n          >\n            <View style={styles.settingInfo}>\n              <Text style={styles.settingLabel}>Allow message requests from</Text>\n              <Text style={styles.settingValue}>{getRequestsLabel(settings.messageRequestsFrom)}</Text>\n            </View>\n            <ChevronRight size={20} color=\"#A8A8A8\" strokeWidth={2} />\n          </TouchableOpacity>\n\n          <View style={styles.divider} />\n\n          <View style={styles.settingRow}>\n            <View style={styles.settingInfo}>\n              <Text style={styles.settingLabel}>Screenshot protection</Text>\n              <Text style={styles.settingDescription}>\n                Prevent screenshots of inbox messages\n              </Text>\n            </View>\n            <Switch\n              value={settings.screenshotProtection}\n              onValueChange={toggleScreenshotProtection}\n              trackColor={{ false: '#3A3A3C', true: '#0A84FF' }}\n              thumbColor=\"#FFFFFF\"\n              ios_backgroundColor=\"#3A3A3C\"\n            />\n          </View>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Calling</Text>\n\n          <View style={styles.settingRow}>\n            <View style={styles.settingInfo}>\n              <Text style={styles.settingLabel}>Enable audio and video calling</Text>\n              <Text style={styles.settingDescription}>\n                Allow calls in direct messages\n              </Text>\n            </View>\n            <Switch\n              value={settings.audioVideoCallingEnabled}\n              onValueChange={toggleAudioVideoCalling}\n              trackColor={{ false: '#3A3A3C', true: '#0A84FF' }}\n              thumbColor=\"#FFFFFF\"\n              ios_backgroundColor=\"#3A3A3C\"\n            />\n          </View>\n\n          {settings.audioVideoCallingEnabled && (\n            <>\n              <View style={styles.divider} />\n\n              <TouchableOpacity\n                style={styles.settingRow}\n                onPress={() => setShowCallPermissionModal(true)}\n                activeOpacity={0.7}\n              >\n                <View style={styles.settingInfo}>\n                  <Text style={styles.settingLabel}>Who can call you</Text>\n                  <Text style={styles.settingValue}>{getCallPermissionLabel(settings.callPermission)}</Text>\n                </View>\n                <ChevronRight size={20} color=\"#A8A8A8\" strokeWidth={2} />\n              </TouchableOpacity>\n\n              <View style={styles.divider} />\n\n              <View style={styles.settingRow}>\n                <View style={styles.settingInfo}>\n                  <Text style={styles.settingLabel}>Always relay calls</Text>\n                  <Text style={styles.settingDescription}>\n                    Hide your IP address from contacts\n                  </Text>\n                </View>\n                <Switch\n                  value={settings.alwaysRelayCalls}\n                  onValueChange={toggleRelayCalls}\n                  trackColor={{ false: '#3A3A3C', true: '#0A84FF' }}\n                  thumbColor=\"#FFFFFF\"\n                  ios_backgroundColor=\"#3A3A3C\"\n                />\n              </View>\n            </>\n          )}\n        </View>\n\n        <View style={styles.infoBox}>\n          <Text style={styles.infoText}>\n            These settings help you control who can contact you and how they can reach you on VibeSync.\n          </Text>\n        </View>\n      </ScrollView>\n\n      <Modal\n        visible={showRequestsModal}\n        animationType=\"fade\"\n        transparent\n        onRequestClose={() => setShowRequestsModal(false)}\n      >\n        <Pressable style={styles.modalOverlay} onPress={() => setShowRequestsModal(false)}>\n          <Pressable style={styles.optionsModal} onPress={(e) => e.stopPropagation()}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Allow message requests from</Text>\n            </View>\n            {messageRequestOptions.map((option) => (\n              <TouchableOpacity\n                key={option.value}\n                style={styles.optionRow}\n                onPress={() => {\n                  updateMessageRequestsFrom(option.value);\n                  setShowRequestsModal(false);\n                }}\n                activeOpacity={0.7}\n              >\n                <Text style={styles.optionLabel}>{option.label}</Text>\n                {settings.messageRequestsFrom === option.value && (\n                  <Check size={20} color=\"#0A84FF\" strokeWidth={2.5} />\n                )}\n              </TouchableOpacity>\n            ))}\n          </Pressable>\n        </Pressable>\n      </Modal>\n\n      <Modal\n        visible={showCallPermissionModal}\n        animationType=\"fade\"\n        transparent\n        onRequestClose={() => setShowCallPermissionModal(false)}\n      >\n        <Pressable style={styles.modalOverlay} onPress={() => setShowCallPermissionModal(false)}>\n          <Pressable style={styles.optionsModal} onPress={(e) => e.stopPropagation()}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Who can call you</Text>\n            </View>\n            {callPermissionOptions.map((option) => (\n              <TouchableOpacity\n                key={option.value}\n                style={styles.optionRow}\n                onPress={() => {\n                  updateCallPermission(option.value);\n                  setShowCallPermissionModal(false);\n                }}\n                activeOpacity={0.7}\n              >\n                <Text style={styles.optionLabel}>{option.label}</Text>\n                {settings.callPermission === option.value && (\n                  <Check size={20} color=\"#0A84FF\" strokeWidth={2.5} />\n                )}\n              </TouchableOpacity>\n            ))}\n          </Pressable>\n        </Pressable>\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000000',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingBottom: 12,\n    backgroundColor: '#000000',\n    borderBottomWidth: 0.5,\n    borderBottomColor: '#1A1A1A',\n  },\n  backButton: {\n    padding: 4,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n    letterSpacing: 0.2,\n  },\n  headerSpacer: {\n    width: 32,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  content: {\n    paddingTop: 20,\n  },\n  section: {\n    marginBottom: 32,\n    paddingHorizontal: 16,\n  },\n  sectionTitle: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n    color: '#A8A8A8',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n    marginBottom: 12,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 14,\n  },\n  settingInfo: {\n    flex: 1,\n    marginRight: 12,\n  },\n  settingLabel: {\n    fontSize: 16,\n    fontWeight: '500' as const,\n    color: '#FFFFFF',\n    marginBottom: 4,\n  },\n  settingValue: {\n    fontSize: 14,\n    color: '#A8A8A8',\n    marginTop: 2,\n  },\n  settingDescription: {\n    fontSize: 13,\n    color: '#A8A8A8',\n    marginTop: 2,\n    lineHeight: 18,\n  },\n  divider: {\n    height: 0.5,\n    backgroundColor: '#1A1A1A',\n    marginVertical: 4,\n  },\n  infoBox: {\n    marginHorizontal: 16,\n    padding: 16,\n    backgroundColor: '#1C1C1E',\n    borderRadius: 12,\n    marginBottom: 20,\n  },\n  infoText: {\n    fontSize: 13,\n    color: '#A8A8A8',\n    lineHeight: 18,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  optionsModal: {\n    backgroundColor: '#1C1C1E',\n    borderRadius: 16,\n    width: '85%',\n    maxWidth: 400,\n    overflow: 'hidden',\n  },\n  modalHeader: {\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    borderBottomWidth: 0.5,\n    borderBottomColor: '#2C2C2E',\n  },\n  modalTitle: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n    textAlign: 'center',\n  },\n  optionRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    borderBottomWidth: 0.5,\n    borderBottomColor: '#2C2C2E',\n  },\n  optionLabel: {\n    fontSize: 15,\n    color: '#FFFFFF',\n    flex: 1,\n  },\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, Alert } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { ArrowLeft } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { StatusBar } from 'expo-status-bar';\n\nexport default function VerifyResetCodeScreen() {\n  const params = useLocalSearchParams<{ method: string; contact: string }>();\n  const [code, setCode] = useState(['', '', '', '', '', '']);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [timeLeft, setTimeLeft] = useState(params.method === 'email' ? 600 : 300);\n  const [canResend, setCanResend] = useState(false);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          setCanResend(true);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const refs = useRef<(TextInput | null)[]>([]);\n\n  const handleCodeChange = (text: string, index: number) => {\n    if (!/^\\d*$/.test(text)) return;\n\n    const newCode = [...code];\n    newCode[index] = text;\n    setCode(newCode);\n    setError('');\n\n    if (text && index < 5) {\n      const nextInput = index + 1;\n      refs.current[nextInput]?.focus();\n    }\n  };\n\n  const handleVerify = async () => {\n    const fullCode = code.join('');\n    \n    if (fullCode.length !== 6) {\n      setError('Please enter the complete 6-digit code');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      router.replace('/reset-password' as any);\n    } catch (error) {\n      setError('Invalid verification code. Please try again.');\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleResend = async () => {\n    if (!canResend) return;\n\n    setIsLoading(true);\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      setTimeLeft(params.method === 'email' ? 600 : 300);\n      setCanResend(false);\n      setCode(['', '', '', '', '', '']);\n      \n      Alert.alert('Code Sent', 'A new verification code has been sent.');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to resend code. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: Colors.background },\n          headerTintColor: Colors.text,\n          headerTitle: 'Verify Code',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <View style={styles.content}>\n        <View style={styles.iconContainer}>\n          <View style={styles.iconCircle}>\n            <Text style={styles.iconText}></Text>\n          </View>\n        </View>\n\n        <Text style={styles.title}>Enter Verification Code</Text>\n        <Text style={styles.subtitle}>\n          We sent a code to {'\\n'}\n          <Text style={styles.contact}>{params.contact}</Text>\n        </Text>\n\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n\n        <View style={styles.codeContainer}>\n          {code.map((digit, index) => (\n            <TextInput\n              key={index}\n              ref={(ref) => {\n                refs.current[index] = ref;\n              }}\n              style={[\n                styles.codeInput,\n                digit && styles.codeInputFilled,\n                error && styles.codeInputError,\n              ]}\n              value={digit}\n              onChangeText={(text) => handleCodeChange(text, index)}\n              keyboardType=\"number-pad\"\n              maxLength={1}\n              selectTextOnFocus\n            />\n          ))}\n        </View>\n\n        <View style={styles.timerContainer}>\n          <Text style={styles.timerText}>\n            {timeLeft > 0 ? (\n              <>Code expires in <Text style={styles.timerValue}>{formatTime(timeLeft)}</Text></>\n            ) : (\n              <Text style={styles.expiredText}>Code expired</Text>\n            )}\n          </Text>\n        </View>\n\n        <Button\n          title=\"Verify Code\"\n          onPress={handleVerify}\n          loading={isLoading}\n          disabled={isLoading || code.join('').length !== 6}\n          style={styles.verifyButton}\n        />\n\n        <TouchableOpacity\n          onPress={handleResend}\n          disabled={!canResend || isLoading}\n          style={styles.resendContainer}\n        >\n          <Text style={[\n            styles.resendText,\n            (!canResend || isLoading) && styles.resendTextDisabled,\n          ]}>\n            {`Didn't receive the code? ${canResend ? 'Resend' : 'Wait...'}`}\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  content: {\n    flex: 1,\n    padding: 24,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 24,\n  },\n  iconCircle: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconText: {\n    fontSize: 40,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold' as const,\n    color: Colors.text,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 16,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n    marginBottom: 32,\n    lineHeight: 22,\n  },\n  contact: {\n    color: Colors.primary,\n    fontWeight: '600' as const,\n  },\n  errorText: {\n    color: Colors.error,\n    marginBottom: 16,\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  codeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    gap: 12,\n    marginBottom: 24,\n  },\n  codeInput: {\n    width: 50,\n    height: 60,\n    borderRadius: 12,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 2,\n    borderColor: 'transparent',\n    textAlign: 'center',\n    fontSize: 24,\n    fontWeight: 'bold' as const,\n    color: Colors.text,\n  },\n  codeInputFilled: {\n    borderColor: Colors.primary,\n    backgroundColor: Colors.cardLight,\n  },\n  codeInputError: {\n    borderColor: Colors.error,\n  },\n  timerContainer: {\n    alignItems: 'center',\n    marginBottom: 24,\n  },\n  timerText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n  },\n  timerValue: {\n    color: Colors.primary,\n    fontWeight: '600' as const,\n  },\n  expiredText: {\n    color: Colors.error,\n    fontWeight: '600' as const,\n  },\n  verifyButton: {\n    marginBottom: 16,\n  },\n  resendContainer: {\n    alignItems: 'center',\n    padding: 12,\n  },\n  resendText: {\n    fontSize: 14,\n    color: Colors.primary,\n    fontWeight: '600' as const,\n  },\n  resendTextDisabled: {\n    color: Colors.textSecondary,\n  },\n});\n","import React, { useState, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nexport interface CreativeProject {\n  id: string;\n  name: string;\n  type: 'image' | 'video';\n  originalUri: string;\n  editedUri?: string;\n  thumbnail: string;\n  createdAt: Date;\n  updatedAt: Date;\n  settings: ProjectSettings;\n}\n\nexport interface ProjectSettings {\n  filters?: {\n    selectedFilter: string;\n    intensity: number;\n  };\n  adjustments?: {\n    brightness?: number;\n    contrast?: number;\n    saturation?: number;\n    exposure?: number;\n    highlights?: number;\n    shadows?: number;\n    temperature?: number;\n    tint?: number;\n  };\n  effects?: {\n    blur?: number;\n    vignette?: number;\n    grain?: number;\n    sharpen?: number;\n  };\n  video?: {\n    speed: number;\n    volume: number;\n    startTime: number;\n    endTime: number;\n    layers: VideoLayer[];\n  };\n  export?: {\n    quality: 'low' | 'medium' | 'high' | 'ultra';\n    format: 'mp4' | 'mov' | 'jpg' | 'png';\n    resolution: string;\n  };\n}\n\nexport interface VideoLayer {\n  id: string;\n  type: 'video' | 'audio' | 'text' | 'image';\n  uri?: string;\n  text?: string;\n  startTime: number;\n  endTime: number;\n  position: { x: number; y: number };\n  scale: number;\n  rotation: number;\n  opacity: number;\n}\n\nexport interface Filter {\n  id: string;\n  name: string;\n  category: 'basic' | 'cinematic' | 'vintage' | 'artistic' | 'beauty';\n  preview: string;\n  settings: Record<string, number>;\n}\n\nexport interface ExportPreset {\n  id: string;\n  name: string;\n  platform: string;\n  resolution: string;\n  aspectRatio: string;\n  quality: 'low' | 'medium' | 'high' | 'ultra';\n  format: string;\n}\n\ninterface CreativeStudioContextType {\n  // Projects\n  projects: CreativeProject[];\n  currentProject: CreativeProject | null;\n  isLoading: boolean;\n  \n  // Project Management\n  createProject: (name: string, type: 'image' | 'video', uri: string) => Promise<CreativeProject>;\n  loadProject: (id: string) => Promise<void>;\n  saveProject: (project: CreativeProject) => Promise<void>;\n  deleteProject: (id: string) => Promise<void>;\n  duplicateProject: (id: string) => Promise<CreativeProject>;\n  \n  // Editing State\n  updateProjectSettings: (settings: Partial<ProjectSettings>) => void;\n  applyFilter: (filterId: string, intensity?: number) => void;\n  adjustParameter: (parameter: string, value: number) => void;\n  addVideoLayer: (layer: Omit<VideoLayer, 'id'>) => void;\n  updateVideoLayer: (layerId: string, updates: Partial<VideoLayer>) => void;\n  removeVideoLayer: (layerId: string) => void;\n  \n  // Export\n  exportProject: (preset: ExportPreset) => Promise<string>;\n  getExportPresets: () => ExportPreset[];\n  \n  // Filters & Effects\n  getFilters: (category?: string) => Filter[];\n  getRecentFilters: () => Filter[];\n  \n  // History & Undo/Redo\n  canUndo: boolean;\n  canRedo: boolean;\n  undo: () => void;\n  redo: () => void;\n  \n  // Templates\n  getTemplates: (type: 'image' | 'video') => CreativeProject[];\n  applyTemplate: (templateId: string) => void;\n}\n\nconst STORAGE_KEY = '@vibesync_creative_projects';\nconst RECENT_FILTERS_KEY = '@vibesync_recent_filters';\n\n// Default filters\nconst DEFAULT_FILTERS: Filter[] = [\n  {\n    id: 'original',\n    name: 'Original',\n    category: 'basic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop',\n    settings: {},\n  },\n  {\n    id: 'vivid',\n    name: 'Vivid',\n    category: 'basic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sat=2',\n    settings: { saturation: 50, contrast: 20 },\n  },\n  {\n    id: 'dramatic',\n    name: 'Dramatic',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&con=50',\n    settings: { contrast: 60, shadows: -30, highlights: -20 },\n  },\n  {\n    id: 'warm',\n    name: 'Warm',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=50',\n    settings: { temperature: 40, tint: 10 },\n  },\n  {\n    id: 'cool',\n    name: 'Cool',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=-50',\n    settings: { temperature: -40, tint: -10 },\n  },\n  {\n    id: 'vintage',\n    name: 'Vintage',\n    category: 'vintage',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sepia=80',\n    settings: { temperature: 20, tint: 15, saturation: -20, grain: 30 },\n  },\n  {\n    id: 'beauty',\n    name: 'Beauty',\n    category: 'beauty',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&blur=1',\n    settings: { highlights: 20, shadows: 10, saturation: 15 },\n  },\n];\n\n// Export presets\nconst EXPORT_PRESETS: ExportPreset[] = [\n  {\n    id: 'instagram_post',\n    name: 'Instagram Post',\n    platform: 'Instagram',\n    resolution: '1080x1080',\n    aspectRatio: '1:1',\n    quality: 'high',\n    format: 'jpg',\n  },\n  {\n    id: 'instagram_story',\n    name: 'Instagram Story',\n    platform: 'Instagram',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'high',\n    format: 'jpg',\n  },\n  {\n    id: 'tiktok',\n    name: 'TikTok',\n    platform: 'TikTok',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'high',\n    format: 'mp4',\n  },\n  {\n    id: 'youtube_shorts',\n    name: 'YouTube Shorts',\n    platform: 'YouTube',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n  {\n    id: 'youtube_hd',\n    name: 'YouTube HD',\n    platform: 'YouTube',\n    resolution: '1920x1080',\n    aspectRatio: '16:9',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n  {\n    id: '4k_ultra',\n    name: '4K Ultra HD',\n    platform: 'Custom',\n    resolution: '3840x2160',\n    aspectRatio: '16:9',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n];\n\nexport const [CreativeStudioProvider, useCreativeStudio] = createContextHook<CreativeStudioContextType>(() => {\n  const [projects, setProjects] = useState<CreativeProject[]>([]);\n  const [currentProject, setCurrentProject] = useState<CreativeProject | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [history, setHistory] = useState<ProjectSettings[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [recentFilters, setRecentFilters] = useState<Filter[]>([]);\n\n  // Load projects from storage\n  const loadProjects = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const stored = await AsyncStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsedProjects = JSON.parse(stored).map((p: any) => ({\n          ...p,\n          createdAt: new Date(p.createdAt),\n          updatedAt: new Date(p.updatedAt),\n        }));\n        setProjects(parsedProjects);\n      }\n      \n      const recentFiltersStored = await AsyncStorage.getItem(RECENT_FILTERS_KEY);\n      if (recentFiltersStored) {\n        setRecentFilters(JSON.parse(recentFiltersStored));\n      }\n    } catch (error) {\n      console.error('Error loading projects:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Save projects to storage\n  const saveProjects = useCallback(async (updatedProjects: CreativeProject[]) => {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProjects));\n      setProjects(updatedProjects);\n    } catch (error) {\n      console.error('Error saving projects:', error);\n    }\n  }, []);\n\n  // Create new project\n  const createProject = useCallback(async (name: string, type: 'image' | 'video', uri: string): Promise<CreativeProject> => {\n    const project: CreativeProject = {\n      id: Date.now().toString(),\n      name,\n      type,\n      originalUri: uri,\n      thumbnail: uri,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      settings: {\n        adjustments: {\n          brightness: 0,\n          contrast: 0,\n          saturation: 0,\n          exposure: 0,\n          highlights: 0,\n          shadows: 0,\n          temperature: 0,\n          tint: 0,\n        },\n        effects: {\n          blur: 0,\n          vignette: 0,\n          grain: 0,\n          sharpen: 0,\n        },\n        filters: {\n          selectedFilter: 'original',\n          intensity: 100,\n        },\n        export: {\n          quality: 'high',\n          format: type === 'image' ? 'jpg' : 'mp4',\n          resolution: '1080x1080',\n        },\n        ...(type === 'video' && {\n          video: {\n            speed: 1,\n            volume: 1,\n            startTime: 0,\n            endTime: 100,\n            layers: [],\n          },\n        }),\n      },\n    };\n\n    const updatedProjects = [project, ...projects];\n    await saveProjects(updatedProjects);\n    setCurrentProject(project);\n    setHistory([project.settings]);\n    setHistoryIndex(0);\n    \n    return project;\n  }, [projects, saveProjects]);\n\n  // Load project\n  const loadProject = useCallback(async (id: string) => {\n    const project = projects.find(p => p.id === id);\n    if (project) {\n      setCurrentProject(project);\n      setHistory([project.settings]);\n      setHistoryIndex(0);\n    }\n  }, [projects]);\n\n  // Save current project\n  const saveProject = useCallback(async (project: CreativeProject) => {\n    const updatedProjects = projects.map(p => \n      p.id === project.id ? { ...project, updatedAt: new Date() } : p\n    );\n    await saveProjects(updatedProjects);\n    setCurrentProject({ ...project, updatedAt: new Date() });\n  }, [projects, saveProjects]);\n\n  // Delete project\n  const deleteProject = useCallback(async (id: string) => {\n    const updatedProjects = projects.filter(p => p.id !== id);\n    await saveProjects(updatedProjects);\n    if (currentProject?.id === id) {\n      setCurrentProject(null);\n    }\n  }, [projects, currentProject, saveProjects]);\n\n  // Duplicate project\n  const duplicateProject = useCallback(async (id: string): Promise<CreativeProject> => {\n    const original = projects.find(p => p.id === id);\n    if (!original) throw new Error('Project not found');\n\n    const duplicate: CreativeProject = {\n      ...original,\n      id: Date.now().toString(),\n      name: `${original.name} Copy`,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    const updatedProjects = [duplicate, ...projects];\n    await saveProjects(updatedProjects);\n    return duplicate;\n  }, [projects, saveProjects]);\n\n  // Update project settings with history\n  const updateProjectSettings = useCallback((settings: Partial<ProjectSettings>) => {\n    if (!currentProject) return;\n\n    const newSettings = { ...currentProject.settings, ...settings };\n    const updatedProject = { ...currentProject, settings: newSettings };\n    \n    // Add to history\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(newSettings);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n    \n    setCurrentProject(updatedProject);\n    saveProject(updatedProject);\n  }, [currentProject, history, historyIndex, saveProject]);\n\n  // Apply filter\n  const applyFilter = useCallback((filterId: string, intensity = 100) => {\n    const filter = DEFAULT_FILTERS.find(f => f.id === filterId);\n    if (!filter || !currentProject) return;\n\n    // Add to recent filters\n    const updatedRecentFilters = [filter, ...recentFilters.filter(f => f.id !== filterId)].slice(0, 10);\n    setRecentFilters(updatedRecentFilters);\n    AsyncStorage.setItem(RECENT_FILTERS_KEY, JSON.stringify(updatedRecentFilters));\n\n    updateProjectSettings({\n      filters: { selectedFilter: filterId, intensity },\n      adjustments: {\n        ...currentProject.settings.adjustments,\n        ...filter.settings,\n      },\n    });\n  }, [currentProject, recentFilters, updateProjectSettings]);\n\n  // Adjust parameter\n  const adjustParameter = useCallback((parameter: string, value: number) => {\n    if (!currentProject) return;\n\n    const [category, param] = parameter.split('.');\n    const updates: Partial<ProjectSettings> = {};\n    \n    if (category === 'adjustments') {\n      updates.adjustments = {\n        ...currentProject.settings.adjustments,\n        [param]: value,\n      };\n    } else if (category === 'effects') {\n      updates.effects = {\n        ...currentProject.settings.effects,\n        [param]: value,\n      };\n    }\n\n    updateProjectSettings(updates);\n  }, [currentProject, updateProjectSettings]);\n\n  // Video layer management\n  const addVideoLayer = useCallback((layer: Omit<VideoLayer, 'id'>) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const newLayer: VideoLayer = {\n      ...layer,\n      id: Date.now().toString(),\n    };\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: [...(currentProject.settings.video?.layers || []), newLayer],\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  const updateVideoLayer = useCallback((layerId: string, updates: Partial<VideoLayer>) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const updatedLayers = currentProject.settings.video?.layers?.map(layer =>\n      layer.id === layerId ? { ...layer, ...updates } : layer\n    ) || [];\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: updatedLayers,\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  const removeVideoLayer = useCallback((layerId: string) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const updatedLayers = currentProject.settings.video?.layers?.filter(layer => layer.id !== layerId) || [];\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: updatedLayers,\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  // Export project\n  const exportProject = useCallback(async (preset: ExportPreset): Promise<string> => {\n    if (!currentProject) throw new Error('No project selected');\n\n    console.log('[Creative Studio] Exporting project:', currentProject.name);\n    console.log('[Creative Studio] Export preset:', preset);\n    console.log('[Creative Studio] Applied filters:', currentProject.settings.filters);\n    console.log('[Creative Studio] Adjustments:', currentProject.settings.adjustments);\n    console.log('[Creative Studio] Effects:', currentProject.settings.effects);\n    \n    await new Promise(resolve => setTimeout(resolve, 2000));\n    \n    const exportedUri = currentProject.editedUri || currentProject.originalUri;\n    console.log('[Creative Studio] Export complete:', exportedUri);\n    \n    return exportedUri;\n  }, [currentProject]);\n\n  // Get export presets\n  const getExportPresets = useCallback(() => {\n    return EXPORT_PRESETS.filter(preset => {\n      if (!currentProject) return true;\n      if (currentProject.type === 'image') {\n        return ['jpg', 'png'].includes(preset.format);\n      }\n      return ['mp4', 'mov'].includes(preset.format);\n    });\n  }, [currentProject]);\n\n  // Get filters\n  const getFilters = useCallback((category?: string) => {\n    if (category) {\n      return DEFAULT_FILTERS.filter(f => f.category === category);\n    }\n    return DEFAULT_FILTERS;\n  }, []);\n\n  const getRecentFilters = useCallback(() => {\n    return recentFilters;\n  }, [recentFilters]);\n\n  // Undo/Redo\n  const canUndo = historyIndex > 0;\n  const canRedo = historyIndex < history.length - 1;\n\n  const undo = useCallback(() => {\n    if (!canUndo || !currentProject) return;\n    \n    const newIndex = historyIndex - 1;\n    const previousSettings = history[newIndex];\n    \n    setHistoryIndex(newIndex);\n    setCurrentProject({ ...currentProject, settings: previousSettings });\n    saveProject({ ...currentProject, settings: previousSettings });\n  }, [canUndo, currentProject, history, historyIndex, saveProject]);\n\n  const redo = useCallback(() => {\n    if (!canRedo || !currentProject) return;\n    \n    const newIndex = historyIndex + 1;\n    const nextSettings = history[newIndex];\n    \n    setHistoryIndex(newIndex);\n    setCurrentProject({ ...currentProject, settings: nextSettings });\n    saveProject({ ...currentProject, settings: nextSettings });\n  }, [canRedo, currentProject, history, historyIndex, saveProject]);\n\n  // Templates (placeholder)\n  const getTemplates = useCallback((type: 'image' | 'video') => {\n    // In a real app, this would return predefined templates\n    return [];\n  }, []);\n\n  const applyTemplate = useCallback((templateId: string) => {\n    // In a real app, this would apply a template to the current project\n    console.log('Applying template:', templateId);\n  }, []);\n\n  // Load projects on mount\n  React.useEffect(() => {\n    loadProjects();\n  }, [loadProjects]);\n\n  return useMemo(() => ({\n    projects,\n    currentProject,\n    isLoading,\n    createProject,\n    loadProject,\n    saveProject,\n    deleteProject,\n    duplicateProject,\n    updateProjectSettings,\n    applyFilter,\n    adjustParameter,\n    addVideoLayer,\n    updateVideoLayer,\n    removeVideoLayer,\n    exportProject,\n    getExportPresets,\n    getFilters,\n    getRecentFilters,\n    canUndo,\n    canRedo,\n    undo,\n    redo,\n    getTemplates,\n    applyTemplate,\n  }), [\n    projects,\n    currentProject,\n    isLoading,\n    createProject,\n    loadProject,\n    saveProject,\n    deleteProject,\n    duplicateProject,\n    updateProjectSettings,\n    applyFilter,\n    adjustParameter,\n    addVideoLayer,\n    updateVideoLayer,\n    removeVideoLayer,\n    exportProject,\n    getExportPresets,\n    getFilters,\n    getRecentFilters,\n    canUndo,\n    canRedo,\n    undo,\n    redo,\n    getTemplates,\n    applyTemplate,\n  ]);\n});","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  ScrollView,\n  FlatList,\n  Alert,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Stack } from 'expo-router';\nimport { Image } from 'expo-image';\nimport {\n  ArrowLeft,\n  Plus,\n  Search,\n  Filter,\n  Grid3X3,\n  List,\n  MoreVertical,\n  Play,\n  Edit3,\n  Trash2,\n  Copy,\n  Share,\n} from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useCreativeStudio, CreativeProject } from '@/hooks/creative-studio-store';\nimport { Button } from '@/components/ui/Button';\nimport { router } from 'expo-router';\n\ntype ViewMode = 'grid' | 'list';\ntype FilterType = 'all' | 'image' | 'video';\n\nexport default function ProjectsGalleryScreen() {\n  const { colors } = useTheme();\n  const {\n    projects,\n    isLoading,\n    deleteProject,\n    duplicateProject,\n    loadProject,\n  } = useCreativeStudio();\n  \n  const [viewMode, setViewMode] = useState<ViewMode>('grid');\n  const [filter, setFilter] = useState<FilterType>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedProject, setSelectedProject] = useState<string | null>(null);\n\n  const filteredProjects = projects.filter(project => {\n    const matchesFilter = filter === 'all' || project.type === filter;\n    const matchesSearch = project.name.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  const handleProjectPress = async (project: CreativeProject) => {\n    await loadProject(project.id);\n    if (project.type === 'image') {\n      router.push('/studio/image-editor');\n    } else {\n      router.push('/studio/video-editor');\n    }\n  };\n\n  const handleProjectLongPress = (projectId: string) => {\n    setSelectedProject(projectId);\n  };\n\n  const handleDeleteProject = (projectId: string) => {\n    Alert.alert(\n      'Delete Project',\n      'Are you sure you want to delete this project? This action cannot be undone.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: () => deleteProject(projectId),\n        },\n      ]\n    );\n  };\n\n  const handleDuplicateProject = async (projectId: string) => {\n    try {\n      await duplicateProject(projectId);\n      Alert.alert('Success', 'Project duplicated successfully!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to duplicate project.');\n    }\n  };\n\n  const handleShareProject = (project: CreativeProject) => {\n    // In a real app, this would share the project\n    Alert.alert('Share', `Sharing ${project.name}`);\n  };\n\n  const renderEmptyState = () => (\n    <View style={styles.emptyState}>\n      <Edit3 size={64} color={colors.textSecondary} />\n      <Text style={[styles.emptyStateTitle, { color: colors.text }]}>No Projects Yet</Text>\n      <Text style={[styles.emptyStateSubtitle, { color: colors.textSecondary }]}>\n        Create your first project using the Creative Studio\n      </Text>\n      <Button\n        title=\"Start Creating\"\n        onPress={() => router.push('/(tabs)/create')}\n        style={styles.emptyStateButton}\n      />\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={['top']}>\n      <Stack.Screen\n        options={{\n          headerShown: false,\n        }}\n      />\n      \n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n        <TouchableOpacity onPress={() => router.back()} style={styles.headerButton}>\n          <ArrowLeft size={24} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>My Projects</Text>\n        <TouchableOpacity onPress={() => router.push('/(tabs)/create')} style={styles.headerButton}>\n          <Plus size={24} color={colors.primary} />\n        </TouchableOpacity>\n      </View>\n\n      {filteredProjects.length === 0 ? (\n        renderEmptyState()\n      ) : (\n        <ScrollView style={styles.content}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Recent Projects</Text>\n          {filteredProjects.slice(0, 6).map((project) => (\n            <TouchableOpacity\n              key={project.id}\n              style={[styles.projectCard, { backgroundColor: colors.card }]}\n              onPress={() => handleProjectPress(project)}\n            >\n              <Image\n                source={{ uri: project.thumbnail }}\n                style={styles.projectThumbnail}\n                contentFit=\"cover\"\n              />\n              <View style={styles.projectInfo}>\n                <Text style={[styles.projectName, { color: colors.text }]}>{project.name}</Text>\n                <Text style={[styles.projectType, { color: colors.textSecondary }]}>\n                  {project.type.charAt(0).toUpperCase() + project.type.slice(1)}\n                </Text>\n                <Text style={[styles.projectDate, { color: colors.textSecondary }]}>\n                  {project.updatedAt.toLocaleDateString()}\n                </Text>\n              </View>\n              {project.type === 'video' && (\n                <View style={[styles.playIcon, { backgroundColor: `${colors.background}80` }]}>\n                  <Play size={16} color={colors.text} />\n                </View>\n              )}\n            </TouchableOpacity>\n          ))}\n        </ScrollView>\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  headerButton: {\n    padding: 8,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  content: {\n    flex: 1,\n    padding: 16,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 16,\n  },\n  projectCard: {\n    flexDirection: 'row',\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n    position: 'relative',\n  },\n  projectThumbnail: {\n    width: 80,\n    height: 80,\n    borderRadius: 8,\n  },\n  projectInfo: {\n    flex: 1,\n    marginLeft: 16,\n    justifyContent: 'center',\n  },\n  projectName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  projectType: {\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  projectDate: {\n    fontSize: 12,\n  },\n  playIcon: {\n    position: 'absolute',\n    top: 16,\n    left: 16,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 32,\n  },\n  emptyStateTitle: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginTop: 24,\n    marginBottom: 8,\n  },\n  emptyStateSubtitle: {\n    fontSize: 16,\n    textAlign: 'center',\n    lineHeight: 22,\n    marginBottom: 32,\n  },\n  emptyStateButton: {\n    width: '100%',\n  },\n});","import { Vibe } from '@/types';\nimport { mockUsers } from './users';\n\nexport const mockVibes: Vibe[] = [\n  {\n    id: '1',\n    userId: '1',\n    username: 'sarah_j',\n    userDisplayName: 'Sarah Johnson',\n    profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n    isVerified: true,\n    caption: 'Dancing to my favorite beat!  #dance #vibes #music',\n    videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\n    thumbnailUrl: 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?w=400',\n    duration: 15,\n    likes: 45200,\n    comments: 892,\n    shares: 1240,\n    views: 234000,\n    timestamp: '2h',\n    soundId: 'sound_1',\n    soundName: 'Summer Vibes',\n    soundArtist: 'DJ Sunset',\n    filters: ['Vibrant', 'Warm'],\n    effects: ['Glow', 'Sparkle'],\n    isLiked: false,\n    isSaved: false,\n    author: {\n      id: '1',\n      username: 'sarah_j',\n      displayName: 'Sarah Johnson',\n      profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '2',\n    userId: '2',\n    username: 'mike_foodie',\n    userDisplayName: 'Mike Rodriguez',\n    profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n    isVerified: false,\n    caption: 'Cooking up something special  #cooking #food #chef',\n    videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',\n    thumbnailUrl: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=400',\n    duration: 30,\n    likes: 23400,\n    comments: 456,\n    shares: 678,\n    views: 156000,\n    timestamp: '5h',\n    soundId: 'sound_2',\n    soundName: 'Kitchen Beats',\n    soundArtist: 'Chef Sounds',\n    filters: ['Warm', 'Cozy'],\n    effects: [],\n    isLiked: false,\n    isSaved: false,\n    author: {\n      id: '2',\n      username: 'mike_foodie',\n      displayName: 'Mike Rodriguez',\n      profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '3',\n    userId: '3',\n    username: 'taylor_sync',\n    userDisplayName: 'Taylor Kim',\n    profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n    isVerified: false,\n    caption: 'Coding session vibes  #coding #tech #developer',\n    videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4',\n    thumbnailUrl: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400',\n    duration: 20,\n    likes: 18900,\n    comments: 234,\n    shares: 445,\n    views: 98000,\n    timestamp: '8h',\n    soundId: 'sound_3',\n    soundName: 'Focus Flow',\n    soundArtist: 'Lofi Beats',\n    filters: ['Cool', 'Minimal'],\n    effects: ['Blur'],\n    isLiked: false,\n    isSaved: false,\n    author: {\n      id: '3',\n      username: 'taylor_sync',\n      displayName: 'Taylor Kim',\n      profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '4',\n    userId: '4',\n    username: 'emma_music',\n    userDisplayName: 'Emma Davis',\n    profileImage: mockUsers.find(user => user.id === '4')?.profileImage,\n    isVerified: true,\n    caption: 'New song preview! What do you think?  #music #singer #newrelease',\n    videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4',\n    thumbnailUrl: 'https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=400',\n    duration: 45,\n    likes: 67800,\n    comments: 1234,\n    shares: 2340,\n    views: 456000,\n    timestamp: '1d',\n    soundId: 'sound_4',\n    soundName: 'Original Sound',\n    soundArtist: 'Emma Davis',\n    filters: ['Cinematic', 'Dramatic'],\n    effects: ['Echo', 'Reverb'],\n    isLiked: false,\n    isSaved: false,\n    author: {\n      id: '4',\n      username: 'emma_music',\n      displayName: 'Emma Davis',\n      profileImage: mockUsers.find(user => user.id === '4')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '5',\n    userId: '5',\n    username: 'alexj',\n    userDisplayName: 'Alex Johnson',\n    profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n    isVerified: true,\n    caption: 'Sunset vibes at the beach  #sunset #beach #nature',\n    videoUrl: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4',\n    thumbnailUrl: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400',\n    duration: 25,\n    likes: 34500,\n    comments: 567,\n    shares: 890,\n    views: 189000,\n    timestamp: '1d',\n    soundId: 'sound_5',\n    soundName: 'Ocean Waves',\n    soundArtist: 'Nature Sounds',\n    filters: ['Golden Hour', 'Warm'],\n    effects: ['Soft Glow'],\n    isLiked: false,\n    isSaved: false,\n    author: {\n      id: '5',\n      username: 'alexj',\n      displayName: 'Alex Johnson',\n      profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n      isVerified: true,\n    }\n  }\n];\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Modal,\n  TouchableOpacity,\n  TextInput,\n  KeyboardAvoidingView,\n  Platform,\n  ScrollView,\n  Alert,\n} from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Post, Comment } from '@/types';\nimport { X, MessageCircle, Mic, Send } from 'lucide-react-native';\nimport { VoiceNoteRecorder } from '@/components/ui/VoiceNoteRecorder';\nimport { VoiceNotePlayer } from '@/components/ui/VoiceNotePlayer';\n\ninterface CommentDrawerProps {\n  visible: boolean;\n  onClose: () => void;\n  post: Post;\n  comments?: Comment[];\n  onComment?: (postId: string, content: string, isVoice?: boolean) => void;\n}\n\nexport const CommentDrawer: React.FC<CommentDrawerProps> = ({\n  visible,\n  onClose,\n  post,\n  comments = [],\n  onComment,\n}) => {\n  const { colors } = useTheme();\n  const { user } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [commentText, setCommentText] = useState<string>('');\n  const [isPosting, setIsPosting] = useState<boolean>(false);\n  const [showVoiceRecorder, setShowVoiceRecorder] = useState<boolean>(false);\n  const [voiceNoteUri, setVoiceNoteUri] = useState<string | null>(null);\n  const [voiceNoteDuration, setVoiceNoteDuration] = useState<number>(0);\n  const [voiceNoteWaveform, setVoiceNoteWaveform] = useState<number[]>([]);\n\n  const isPostAuthor = user?.id === post.userId;\n\n  const handleVoiceRecordingComplete = (uri: string, duration: number, waveform: number[]) => {\n    console.log('[CommentDrawer] Voice recording complete:', { uri, duration, waveformLength: waveform.length });\n    setVoiceNoteUri(uri);\n    setVoiceNoteDuration(duration);\n    setVoiceNoteWaveform(waveform);\n    setShowVoiceRecorder(false);\n  };\n\n  const handleCancelVoiceRecording = () => {\n    setShowVoiceRecorder(false);\n    setVoiceNoteUri(null);\n    setVoiceNoteDuration(0);\n    setVoiceNoteWaveform([]);\n  };\n\n  const handlePostComment = async () => {\n    if (!commentText.trim() && !voiceNoteUri) return;\n\n    setIsPosting(true);\n    try {\n      if (voiceNoteUri) {\n        console.log('Posting voice comment, duration:', voiceNoteDuration);\n        Alert.alert('Success', 'Voice comment posted!');\n        onComment?.(post.id, '', true);\n      } else {\n        console.log('Posting text comment:', commentText);\n        Alert.alert('Success', 'Comment posted!');\n        onComment?.(post.id, commentText, false);\n      }\n      \n      setCommentText('');\n      setVoiceNoteUri(null);\n      setVoiceNoteDuration(0);\n      setVoiceNoteWaveform([]);\n      onClose();\n    } catch (error) {\n      console.error('Error posting comment:', error);\n      Alert.alert('Error', 'Failed to post comment');\n    } finally {\n      setIsPosting(false);\n    }\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        style={styles.container}\n      >\n        <TouchableOpacity\n          style={styles.backdrop}\n          activeOpacity={1}\n          onPress={onClose}\n        >\n          <BlurView intensity={80} style={StyleSheet.absoluteFill} />\n        </TouchableOpacity>\n\n        <View style={[styles.drawer, { backgroundColor: colors.card }]}>\n          <View style={styles.handle} />\n\n          <View style={styles.header}>\n            <View style={styles.headerLeft}>\n              <View style={[styles.iconContainer, { backgroundColor: colors.primary + '20' }]}>\n                <MessageCircle size={24} color={colors.primary} />\n              </View>\n              <View>\n                <Text style={[styles.title, { color: colors.text }]}>Comments</Text>\n                <Text style={[styles.subtitle, { color: colors.textSecondary }]}>\n                  {comments.length} {comments.length === 1 ? 'comment' : 'comments'}\n                </Text>\n              </View>\n            </View>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.textSecondary} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={[styles.postPreview, { backgroundColor: colors.background }]}>\n            <View style={styles.postHeader}>\n              <Avatar uri={post.profileImage} size={32} />\n              <View style={styles.postAuthorInfo}>\n                <Text style={[styles.postAuthor, { color: colors.text }]}>\n                  @{post.username}\n                </Text>\n                <Text style={[styles.postTimestamp, { color: colors.textSecondary }]}>\n                  {post.timestamp}\n                </Text>\n              </View>\n            </View>\n            <Text style={[styles.postContent, { color: colors.text }]} numberOfLines={2}>\n              {post.content}\n            </Text>\n          </View>\n\n          <ScrollView\n            style={styles.commentsSection}\n            showsVerticalScrollIndicator={false}\n          >\n            {comments.length === 0 ? (\n              <View style={styles.emptyState}>\n                <MessageCircle size={48} color={colors.textSecondary} opacity={0.3} />\n                <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n                  No comments yet\n                </Text>\n                <Text style={[styles.emptySubtext, { color: colors.textSecondary }]}>\n                  Be the first to comment!\n                </Text>\n              </View>\n            ) : (\n              comments.map((comment) => (\n                <View key={comment.id} style={styles.commentItem}>\n                  <Avatar uri={comment.profileImage} size={36} />\n                  <View style={styles.commentContent}>\n                    <Text style={[styles.commentAuthor, { color: colors.text }]}>\n                      @{comment.username}\n                    </Text>\n                    {comment.voiceNote ? (\n                      <VoiceNotePlayer\n                        uri={comment.voiceNote.url}\n                        duration={comment.voiceNote.duration}\n                        waveform={comment.voiceNote.waveform}\n                        size=\"small\"\n                      />\n                    ) : (\n                      <Text style={[styles.commentText, { color: colors.text }]}>\n                        {comment.content}\n                      </Text>\n                    )}\n                    <Text style={[styles.commentTimestamp, { color: colors.textSecondary }]}>\n                      {comment.timestamp}\n                    </Text>\n                  </View>\n                </View>\n              ))\n            )}\n          </ScrollView>\n\n          {showVoiceRecorder ? (\n            <View style={[\n              styles.voiceRecorderContainer, \n              { \n                borderTopColor: colors.border,\n                paddingBottom: Math.max(insets.bottom, 16),\n              }\n            ]}>\n              <VoiceNoteRecorder\n                maxDuration={30}\n                onRecordingComplete={handleVoiceRecordingComplete}\n                onCancel={handleCancelVoiceRecording}\n              />\n            </View>\n          ) : (\n            <View style={[\n              styles.inputContainer, \n              { \n                borderTopColor: colors.border,\n                paddingBottom: Math.max(insets.bottom, 16),\n              }\n            ]}>\n              {voiceNoteUri ? (\n                <View style={styles.voicePreviewContainer}>\n                  <VoiceNotePlayer\n                    uri={voiceNoteUri}\n                    duration={voiceNoteDuration}\n                    waveform={voiceNoteWaveform}\n                    size=\"small\"\n                  />\n                  <TouchableOpacity\n                    style={[styles.removeVoiceButton, { backgroundColor: colors.error }]}\n                    onPress={handleCancelVoiceRecording}\n                  >\n                    <X size={16} color=\"#FFFFFF\" />\n                  </TouchableOpacity>\n                </View>\n              ) : (\n                <>\n                  <Avatar uri={user?.profileImage} size={36} />\n                  <TextInput\n                    style={[\n                      styles.input,\n                      {\n                        backgroundColor: colors.background,\n                        color: colors.text,\n                        borderColor: colors.border,\n                      },\n                    ]}\n                    placeholder=\"Add a comment...\"\n                    placeholderTextColor={colors.textSecondary}\n                    value={commentText}\n                    onChangeText={setCommentText}\n                    multiline\n                    maxLength={500}\n                  />\n                  <TouchableOpacity\n                    style={[styles.voiceButton, { backgroundColor: colors.background }]}\n                    onPress={() => setShowVoiceRecorder(true)}\n                  >\n                    <Mic size={20} color={colors.primary} />\n                  </TouchableOpacity>\n                </>\n              )}\n\n              <TouchableOpacity\n                style={[\n                  styles.sendButton,\n                  {\n                    backgroundColor: colors.primary,\n                    opacity: (!commentText.trim() && !voiceNoteUri) || isPosting ? 0.5 : 1,\n                  },\n                ]}\n                onPress={handlePostComment}\n                disabled={(!commentText.trim() && !voiceNoteUri) || isPosting}\n              >\n                <Send size={20} color=\"#FFFFFF\" />\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n      </KeyboardAvoidingView>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  backdrop: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  drawer: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '90%',\n    paddingBottom: 34,\n  },\n  handle: {\n    width: 40,\n    height: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: 2,\n    alignSelf: 'center',\n    marginTop: 12,\n    marginBottom: 8,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: 'rgba(255, 255, 255, 0.05)',\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  subtitle: {\n    fontSize: 13,\n    marginTop: 2,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  postPreview: {\n    marginHorizontal: 20,\n    marginTop: 16,\n    padding: 12,\n    borderRadius: 12,\n  },\n  postHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  postAuthorInfo: {\n    marginLeft: 8,\n  },\n  postAuthor: {\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  postTimestamp: {\n    fontSize: 12,\n  },\n  postContent: {\n    fontSize: 14,\n    lineHeight: 18,\n  },\n  commentsSection: {\n    flex: 1,\n    paddingHorizontal: 20,\n    paddingTop: 16,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginTop: 16,\n  },\n  emptySubtext: {\n    fontSize: 14,\n    marginTop: 4,\n  },\n  commentItem: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  commentContent: {\n    flex: 1,\n    marginLeft: 12,\n  },\n  commentAuthor: {\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 4,\n  },\n  commentText: {\n    fontSize: 14,\n    lineHeight: 18,\n    marginBottom: 4,\n  },\n  commentTimestamp: {\n    fontSize: 12,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingHorizontal: 20,\n    paddingTop: 16,\n    gap: 8,\n    borderTopWidth: 1,\n  },\n  input: {\n    flex: 1,\n    borderWidth: 1,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 14,\n    maxHeight: 80,\n  },\n  voiceButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  sendButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  voiceRecorderContainer: {\n    paddingHorizontal: 20,\n    paddingTop: 16,\n    paddingBottom: 20,\n    borderTopWidth: 1,\n  },\n  voicePreviewContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  removeVoiceButton: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n","import { Thread, ThreadPost } from '@/types/thread';\n\nconst threadPost1: ThreadPost = {\n  id: 'thread-post-1',\n  authorId: '1',\n  parentId: null,\n  rootId: 'thread-post-1',\n  content: 'Just experienced the most incredible sunset at Camps Bay  The colors were absolutely breathtaking! #CapeTown #SunsetVibes',\n  type: 'image',\n  mediaUrls: ['https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800'],\n  createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n  likes: 234,\n  comments: 45,\n  revibes: 12,\n  saves: 67,\n  isLiked: false,\n  isRevibed: false,\n  isSaved: false,\n  hasThread: true,\n  threadCount: 3,\n};\n\nconst threadPost2: ThreadPost = {\n  id: 'thread-post-2',\n  authorId: '1',\n  parentId: 'thread-post-1',\n  rootId: 'thread-post-1',\n  content: 'The best part? I met this amazing street musician playing the most soulful jazz. Had to capture this moment ',\n  type: 'video',\n  mediaUrls: ['https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4'],\n  createdAt: new Date(Date.now() - 1.5 * 60 * 60 * 1000).toISOString(),\n  likes: 189,\n  comments: 32,\n  revibes: 8,\n  saves: 45,\n  isLiked: false,\n  isRevibed: false,\n  isSaved: false,\n  hasThread: true,\n  threadCount: 2,\n};\n\nconst threadPost3: ThreadPost = {\n  id: 'thread-post-3',\n  authorId: '1',\n  parentId: 'thread-post-2',\n  rootId: 'thread-post-1',\n  content: 'And to top it all off, found this hidden gem of a coffee shop nearby. Their cappuccino is *chef\\'s kiss* ',\n  type: 'image',\n  mediaUrls: ['https://images.unsplash.com/photo-1511920170033-f8396924c348?w=800'],\n  createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n  likes: 156,\n  comments: 28,\n  revibes: 5,\n  saves: 34,\n  isLiked: false,\n  isRevibed: false,\n  isSaved: false,\n  hasThread: false,\n  threadCount: 0,\n};\n\nconst threadPost4: ThreadPost = {\n  id: 'thread-post-4',\n  authorId: '2',\n  parentId: null,\n  rootId: 'thread-post-4',\n  content: ' Thread: Let me tell you about my journey from zero to launching my first app...',\n  type: 'text',\n  createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n  likes: 567,\n  comments: 89,\n  revibes: 45,\n  saves: 234,\n  isLiked: true,\n  isRevibed: false,\n  isSaved: true,\n  hasThread: true,\n  threadCount: 5,\n};\n\nconst threadPost5: ThreadPost = {\n  id: 'thread-post-5',\n  authorId: '2',\n  parentId: 'thread-post-4',\n  rootId: 'thread-post-4',\n  content: '1/ Started with just an idea and a lot of coffee. Spent 3 months learning React Native from scratch. The learning curve was steep but worth it! ',\n  type: 'text',\n  createdAt: new Date(Date.now() - 4.5 * 60 * 60 * 1000).toISOString(),\n  likes: 445,\n  comments: 67,\n  revibes: 34,\n  saves: 189,\n  isLiked: true,\n  isRevibed: false,\n  isSaved: false,\n  hasThread: true,\n  threadCount: 4,\n};\n\nconst threadPost6: ThreadPost = {\n  id: 'thread-post-6',\n  authorId: '2',\n  parentId: 'thread-post-5',\n  rootId: 'thread-post-4',\n  content: '2/ Built my first prototype in 2 weeks. It was buggy, ugly, but it WORKED. That feeling of seeing your creation come to life is unmatched! ',\n  type: 'image',\n  mediaUrls: ['https://images.unsplash.com/photo-1551650975-87deedd944c3?w=800'],\n  createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n  likes: 389,\n  comments: 54,\n  revibes: 28,\n  saves: 156,\n  isLiked: false,\n  isRevibed: false,\n  isSaved: false,\n  hasThread: true,\n  threadCount: 3,\n};\n\nconst threadPost7: ThreadPost = {\n  id: 'thread-post-7',\n  authorId: '3',\n  parentId: null,\n  rootId: 'thread-post-7',\n  content: ' New music thread! Sharing my top 5 tracks that are on repeat this week. Starting with this absolute banger...',\n  type: 'voice',\n  voiceUrl: 'https://example.com/voice/intro.mp3',\n  voiceDuration: 25,\n  createdAt: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n  likes: 892,\n  comments: 134,\n  revibes: 67,\n  saves: 445,\n  isLiked: false,\n  isRevibed: true,\n  isSaved: false,\n  hasThread: true,\n  threadCount: 5,\n};\n\nexport const mockThreads: Thread[] = [\n  {\n    id: 'thread-1',\n    rootPostId: 'thread-post-1',\n    posts: [threadPost1, threadPost2, threadPost3],\n    totalEngagement: 1234,\n    isCollaborative: false,\n    isTrending: true,\n    vibeScore: 89,\n  },\n  {\n    id: 'thread-2',\n    rootPostId: 'thread-post-4',\n    posts: [threadPost4, threadPost5, threadPost6],\n    totalEngagement: 2567,\n    isCollaborative: false,\n    isTrending: true,\n    vibeScore: 95,\n  },\n  {\n    id: 'thread-3',\n    rootPostId: 'thread-post-7',\n    posts: [threadPost7],\n    totalEngagement: 1538,\n    isCollaborative: false,\n    isTrending: false,\n    vibeScore: 78,\n  },\n];\n","import createContextHook from '@nkzw/create-context-hook';\nimport { useState, useCallback } from 'react';\nimport { Thread, ThreadPost, ThreadComment, CommentReply } from '@/types/thread';\nimport { mockThreads } from '@/mocks/threads';\n\nexport const [ThreadProvider, useThreads] = createContextHook(() => {\n  const [threads, setThreads] = useState<Thread[]>(mockThreads);\n  const [threadPosts, setThreadPosts] = useState<Record<string, ThreadPost[]>>({});\n  const [comments, setComments] = useState<Record<string, ThreadComment[]>>({});\n\n  const getThread = useCallback((threadId: string) => {\n    return threads.find(t => t.id === threadId);\n  }, [threads]);\n\n  const getThreadByRootPost = useCallback((postId: string) => {\n    return threads.find(t => t.rootPostId === postId);\n  }, [threads]);\n\n  const getThreadPosts = useCallback((threadId: string) => {\n    return threadPosts[threadId] || [];\n  }, [threadPosts]);\n\n  const addToThread = useCallback((\n    threadId: string,\n    post: Omit<ThreadPost, 'id' | 'createdAt' | 'likes' | 'comments' | 'revibes' | 'saves' | 'isLiked' | 'isRevibed' | 'isSaved'>\n  ) => {\n    const newPost: ThreadPost = {\n      ...post,\n      id: `thread-post-${Date.now()}`,\n      createdAt: new Date().toISOString(),\n      likes: 0,\n      comments: 0,\n      revibes: 0,\n      saves: 0,\n      isLiked: false,\n      isRevibed: false,\n      isSaved: false,\n    };\n\n    setThreadPosts(prev => ({\n      ...prev,\n      [threadId]: [...(prev[threadId] || []), newPost],\n    }));\n\n    setThreads(prev => prev.map(thread => {\n      if (thread.id === threadId) {\n        return {\n          ...thread,\n          posts: [...thread.posts, newPost],\n          totalEngagement: thread.totalEngagement + 1,\n        };\n      }\n      return thread;\n    }));\n\n    console.log('Added post to thread:', threadId, newPost);\n  }, []);\n\n  const createThread = useCallback((rootPost: ThreadPost) => {\n    const newThread: Thread = {\n      id: `thread-${Date.now()}`,\n      rootPostId: rootPost.id,\n      posts: [rootPost],\n      totalEngagement: 0,\n      isCollaborative: false,\n      isTrending: false,\n      vibeScore: 0,\n    };\n\n    setThreads(prev => [...prev, newThread]);\n    console.log('Created new thread:', newThread);\n    return newThread;\n  }, []);\n\n  const toggleThreadPostLike = useCallback((threadId: string, postId: string) => {\n    setThreadPosts(prev => ({\n      ...prev,\n      [threadId]: prev[threadId]?.map(post => {\n        if (post.id === postId) {\n          return {\n            ...post,\n            isLiked: !post.isLiked,\n            likes: post.isLiked ? post.likes - 1 : post.likes + 1,\n          };\n        }\n        return post;\n      }) || [],\n    }));\n\n    setThreads(prev => prev.map(thread => {\n      if (thread.id === threadId) {\n        return {\n          ...thread,\n          posts: thread.posts.map(post => {\n            if (post.id === postId) {\n              return {\n                ...post,\n                isLiked: !post.isLiked,\n                likes: post.isLiked ? post.likes - 1 : post.likes + 1,\n              };\n            }\n            return post;\n          }),\n        };\n      }\n      return thread;\n    }));\n  }, []);\n\n  const getComments = useCallback((postId: string) => {\n    return comments[postId] || [];\n  }, [comments]);\n\n  const addComment = useCallback((\n    postId: string,\n    comment: Omit<ThreadComment, 'id' | 'createdAt' | 'likes' | 'replies' | 'isLiked'>\n  ) => {\n    const newComment: ThreadComment = {\n      ...comment,\n      id: `comment-${Date.now()}`,\n      createdAt: new Date().toISOString(),\n      likes: 0,\n      replies: [],\n      isLiked: false,\n    };\n\n    setComments(prev => ({\n      ...prev,\n      [postId]: [...(prev[postId] || []), newComment],\n    }));\n\n    console.log('Added comment to post:', postId, newComment);\n  }, []);\n\n  const addReply = useCallback((\n    postId: string,\n    commentId: string,\n    reply: Omit<CommentReply, 'id' | 'createdAt' | 'likes' | 'replies' | 'isLiked'>,\n    parentReplyId?: string\n  ) => {\n    const newReply: CommentReply = {\n      ...reply,\n      id: `reply-${Date.now()}`,\n      createdAt: new Date().toISOString(),\n      likes: 0,\n      replies: [],\n      isLiked: false,\n      parentReplyId: parentReplyId || null,\n    };\n\n    setComments(prev => {\n      const postComments = prev[postId] || [];\n      \n      const addReplyToComment = (comments: ThreadComment[]): ThreadComment[] => {\n        return comments.map(comment => {\n          if (comment.id === commentId && !parentReplyId) {\n            return {\n              ...comment,\n              replies: [...comment.replies, newReply],\n            };\n          }\n          \n          if (comment.replies.length > 0) {\n            return {\n              ...comment,\n              replies: addReplyToReply(comment.replies),\n            };\n          }\n          \n          return comment;\n        });\n      };\n\n      const addReplyToReply = (replies: CommentReply[]): CommentReply[] => {\n        return replies.map(r => {\n          if (r.id === parentReplyId && newReply.depth <= 3) {\n            return {\n              ...r,\n              replies: [...r.replies, newReply],\n            };\n          }\n          \n          if (r.replies.length > 0) {\n            return {\n              ...r,\n              replies: addReplyToReply(r.replies),\n            };\n          }\n          \n          return r;\n        });\n      };\n\n      return {\n        ...prev,\n        [postId]: addReplyToComment(postComments),\n      };\n    });\n\n    console.log('Added reply to comment:', commentId, newReply);\n  }, []);\n\n  const toggleCommentLike = useCallback((postId: string, commentId: string) => {\n    setComments(prev => ({\n      ...prev,\n      [postId]: prev[postId]?.map(comment => {\n        if (comment.id === commentId) {\n          return {\n            ...comment,\n            isLiked: !comment.isLiked,\n            likes: comment.isLiked ? comment.likes - 1 : comment.likes + 1,\n          };\n        }\n        return comment;\n      }) || [],\n    }));\n  }, []);\n\n  const toggleReplyLike = useCallback((postId: string, replyId: string) => {\n    setComments(prev => {\n      const postComments = prev[postId] || [];\n      \n      const toggleInReplies = (replies: CommentReply[]): CommentReply[] => {\n        return replies.map(reply => {\n          if (reply.id === replyId) {\n            return {\n              ...reply,\n              isLiked: !reply.isLiked,\n              likes: reply.isLiked ? reply.likes - 1 : reply.likes + 1,\n            };\n          }\n          \n          if (reply.replies.length > 0) {\n            return {\n              ...reply,\n              replies: toggleInReplies(reply.replies),\n            };\n          }\n          \n          return reply;\n        });\n      };\n\n      return {\n        ...prev,\n        [postId]: postComments.map(comment => ({\n          ...comment,\n          replies: toggleInReplies(comment.replies),\n        })),\n      };\n    });\n  }, []);\n\n  const makeCollaborative = useCallback((threadId: string, collaboratorId: string) => {\n    setThreads(prev => prev.map(thread => {\n      if (thread.id === threadId) {\n        return {\n          ...thread,\n          isCollaborative: true,\n          collaborators: [...(thread.collaborators || []), collaboratorId],\n        };\n      }\n      return thread;\n    }));\n  }, []);\n\n  return {\n    threads,\n    getThread,\n    getThreadByRootPost,\n    getThreadPosts,\n    addToThread,\n    createThread,\n    toggleThreadPostLike,\n    getComments,\n    addComment,\n    addReply,\n    toggleCommentLike,\n    toggleReplyLike,\n    makeCollaborative,\n  };\n});\n","import React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Image, ScrollView } from 'react-native';\nimport { Heart, MessageCircle, Repeat2, Bookmark, MoreVertical } from 'lucide-react-native';\nimport { ThreadPost } from '@/types/thread';\nimport { useThreads } from '@/hooks/thread-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { mockUsers } from '@/mocks/users';\nimport { VoicePlayer } from '@/components/ui/VoicePlayer';\n\ninterface ThreadViewProps {\n  posts: ThreadPost[];\n  threadId: string;\n  onShowFullThread?: () => void;\n  collapsed?: boolean;\n}\n\nexport default function ThreadView({ posts, threadId, onShowFullThread, collapsed = false }: ThreadViewProps) {\n  const { toggleThreadPostLike } = useThreads();\n  const { colors } = useTheme();\n\n  const displayPosts = collapsed ? [posts[0]] : posts;\n\n  const formatNumber = (num: number) => {\n    if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n    return num.toString();\n  };\n\n  const getTimeSince = (date: string) => {\n    const seconds = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);\n    if (seconds < 60) return `${seconds}s`;\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m`;\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h`;\n    return `${Math.floor(seconds / 86400)}d`;\n  };\n\n  const renderPost = (post: ThreadPost, index: number, isLast: boolean) => {\n    const author = mockUsers.find(u => u.id === post.authorId);\n    if (!author) return null;\n\n    return (\n      <View key={post.id} style={styles.postContainer}>\n        {!isLast && <View style={styles.threadLine} />}\n        \n        <View style={styles.postHeader}>\n          <Image source={{ uri: author.profileImage }} style={styles.avatar} />\n          <View style={styles.headerInfo}>\n            <View style={styles.nameRow}>\n              <Text style={[styles.name, { color: colors.text }]}>{author.displayName}</Text>\n              <Text style={[styles.username, { color: colors.textSecondary }]}>@{author.username}</Text>\n              <Text style={[styles.time, { color: colors.textSecondary }]}> {getTimeSince(post.createdAt)}</Text>\n            </View>\n          </View>\n          <TouchableOpacity style={styles.moreButton}>\n            <MoreVertical size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.postContent}>\n          {post.content && (\n            <Text style={[styles.contentText, { color: colors.text }]}>{post.content}</Text>\n          )}\n\n          {post.type === 'voice' && post.voiceUrl && (\n            <View style={styles.voiceContainer}>\n              <VoicePlayer url={post.voiceUrl} duration={post.voiceDuration || 0} />\n            </View>\n          )}\n\n          {post.mediaUrls && post.mediaUrls.length > 0 && (\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.mediaScroll}>\n              {post.mediaUrls.map((url, idx) => (\n                <Image key={idx} source={{ uri: url }} style={styles.mediaImage} />\n              ))}\n            </ScrollView>\n          )}\n        </View>\n\n        <View style={styles.actions}>\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={() => toggleThreadPostLike(threadId, post.id)}\n          >\n            <Heart\n              size={20}\n              color={post.isLiked ? '#EF4444' : colors.textSecondary}\n              fill={post.isLiked ? '#EF4444' : 'none'}\n            />\n            {post.likes > 0 && (\n              <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n                {formatNumber(post.likes)}\n              </Text>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.actionButton}>\n            <MessageCircle size={20} color={colors.textSecondary} />\n            {post.comments > 0 && (\n              <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n                {formatNumber(post.comments)}\n              </Text>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.actionButton}>\n            <Repeat2\n              size={20}\n              color={post.isRevibed ? '#10B981' : colors.textSecondary}\n            />\n            {post.revibes > 0 && (\n              <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n                {formatNumber(post.revibes)}\n              </Text>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.actionButton}>\n            <Bookmark\n              size={20}\n              color={post.isSaved ? '#3B82F6' : colors.textSecondary}\n              fill={post.isSaved ? '#3B82F6' : 'none'}\n            />\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      {displayPosts.map((post, index) => renderPost(post, index, index === displayPosts.length - 1))}\n      \n      {collapsed && posts.length > 1 && onShowFullThread && (\n        <TouchableOpacity style={styles.showThreadButton} onPress={onShowFullThread}>\n          <View style={[styles.threadIndicator, { backgroundColor: colors.primary }]} />\n          <Text style={[styles.showThreadText, { color: colors.primary }]}>\n            Show this thread ({posts.length} posts)\n          </Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: 8,\n  },\n  postContainer: {\n    position: 'relative' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  threadLine: {\n    position: 'absolute' as const,\n    left: 36,\n    top: 60,\n    bottom: 0,\n    width: 2,\n    backgroundColor: '#2A2A2A',\n  },\n  postHeader: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    marginBottom: 8,\n  },\n  avatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  headerInfo: {\n    flex: 1,\n  },\n  nameRow: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    flexWrap: 'wrap' as const,\n  },\n  name: {\n    fontSize: 15,\n    fontWeight: '700' as const,\n    marginRight: 4,\n  },\n  username: {\n    fontSize: 15,\n    marginRight: 4,\n  },\n  time: {\n    fontSize: 15,\n  },\n  moreButton: {\n    padding: 4,\n  },\n  postContent: {\n    marginLeft: 52,\n    marginBottom: 8,\n  },\n  contentText: {\n    fontSize: 15,\n    lineHeight: 20,\n    marginBottom: 8,\n  },\n  voiceContainer: {\n    marginVertical: 8,\n  },\n  mediaScroll: {\n    marginTop: 8,\n  },\n  mediaImage: {\n    width: 280,\n    height: 280,\n    borderRadius: 16,\n    marginRight: 8,\n    backgroundColor: '#2A2A2A',\n  },\n  actions: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    marginLeft: 52,\n    gap: 24,\n  },\n  actionButton: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 6,\n  },\n  actionText: {\n    fontSize: 13,\n  },\n  showThreadButton: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    marginLeft: 52,\n  },\n  threadIndicator: {\n    width: 24,\n    height: 2,\n    borderRadius: 1,\n    marginRight: 8,\n  },\n  showThreadText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Modal,\n  ScrollView,\n  Image,\n  Platform,\n} from 'react-native';\nimport { X, Image as ImageIcon, Video, Mic, Type } from 'lucide-react-native';\nimport { useThreads } from '@/hooks/thread-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { ThreadPostType } from '@/types/thread';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface ThreadComposerProps {\n  visible: boolean;\n  onClose: () => void;\n  threadId: string;\n  parentPostId: string;\n  rootPostId: string;\n}\n\nexport default function ThreadComposer({\n  visible,\n  onClose,\n  threadId,\n  parentPostId,\n  rootPostId,\n}: ThreadComposerProps) {\n  const { addToThread } = useThreads();\n  const { user } = useAuth();\n  const { colors } = useTheme();\n  const [content, setContent] = useState('');\n  const [type, setType] = useState<ThreadPostType>('text');\n  const [mediaUrls, setMediaUrls] = useState<string[]>([]);\n  const [isRecording, setIsRecording] = useState(false);\n\n  const handlePost = () => {\n    if (!content.trim() && mediaUrls.length === 0) return;\n    if (!user) return;\n\n    addToThread(threadId, {\n      authorId: user.id,\n      parentId: parentPostId,\n      rootId: rootPostId,\n      content: content.trim(),\n      type,\n      mediaUrls: mediaUrls.length > 0 ? mediaUrls : undefined,\n      hasThread: false,\n      threadCount: 0,\n    });\n\n    setContent('');\n    setMediaUrls([]);\n    setType('text');\n    onClose();\n  };\n\n  const handleAddImage = () => {\n    const demoImage = 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800';\n    setMediaUrls([...mediaUrls, demoImage]);\n    setType(mediaUrls.length > 0 ? 'mixed' : 'image');\n  };\n\n  const handleAddVideo = () => {\n    const demoVideo = 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4';\n    setMediaUrls([...mediaUrls, demoVideo]);\n    setType('video');\n  };\n\n  const handleRemoveMedia = (index: number) => {\n    const newMediaUrls = mediaUrls.filter((_, i) => i !== index);\n    setMediaUrls(newMediaUrls);\n    if (newMediaUrls.length === 0) {\n      setType('text');\n    }\n  };\n\n  const handleVoiceNote = () => {\n    setIsRecording(!isRecording);\n    if (!isRecording) {\n      setType('voice');\n    } else {\n      setType('text');\n    }\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.overlay}>\n        <View style={styles.container}>\n          <View style={styles.header}>\n            <Text style={styles.title}>Add to Thread</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            <TextInput\n              style={styles.input}\n              placeholder=\"What's next in your thread?\"\n              placeholderTextColor={colors.textSecondary}\n              value={content}\n              onChangeText={setContent}\n              multiline\n              maxLength={500}\n            />\n\n            {mediaUrls.length > 0 && (\n              <ScrollView horizontal style={styles.mediaPreview} showsHorizontalScrollIndicator={false}>\n                {mediaUrls.map((url, index) => (\n                  <View key={index} style={styles.mediaItem}>\n                    <Image source={{ uri: url }} style={styles.mediaImage} />\n                    <TouchableOpacity\n                      style={styles.removeMediaButton}\n                      onPress={() => handleRemoveMedia(index)}\n                    >\n                      <X size={16} color=\"#fff\" />\n                    </TouchableOpacity>\n                  </View>\n                ))}\n              </ScrollView>\n            )}\n\n            {isRecording && (\n              <View style={styles.recordingIndicator}>\n                <View style={styles.recordingDot} />\n                <Text style={styles.recordingText}>Recording voice note...</Text>\n              </View>\n            )}\n\n            <View style={styles.toolbar}>\n              <TouchableOpacity style={styles.toolButton} onPress={handleAddImage}>\n                <ImageIcon size={24} color={colors.primary} />\n                <Text style={styles.toolLabel}>Photo</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity style={styles.toolButton} onPress={handleAddVideo}>\n                <Video size={24} color={colors.primary} />\n                <Text style={styles.toolLabel}>Video</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[styles.toolButton, isRecording && styles.toolButtonActive]}\n                onPress={handleVoiceNote}\n              >\n                <Mic size={24} color={isRecording ? '#fff' : colors.primary} />\n                <Text style={[styles.toolLabel, isRecording && styles.toolLabelActive]}>\n                  Voice\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={styles.toolButton}\n                onPress={() => setType('text')}\n              >\n                <Type size={24} color={colors.primary} />\n                <Text style={styles.toolLabel}>Text</Text>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.info}>\n              <Text style={styles.infoText}>\n                 This will be added to your thread and can be engaged with independently\n              </Text>\n            </View>\n          </ScrollView>\n\n          <View style={styles.footer}>\n            <Text style={styles.charCount}>{content.length}/500</Text>\n            <TouchableOpacity\n              style={[\n                styles.postButton,\n                (!content.trim() && mediaUrls.length === 0) && styles.postButtonDisabled,\n              ]}\n              onPress={handlePost}\n              disabled={!content.trim() && mediaUrls.length === 0}\n            >\n              <Text style={styles.postButtonText}>Add to Thread</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end' as const,\n  },\n  container: {\n    backgroundColor: '#000',\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '90%',\n    ...Platform.select({\n      ios: {\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: -4 },\n        shadowOpacity: 0.1,\n        shadowRadius: 12,\n      },\n      android: {\n        elevation: 8,\n      },\n    }),\n  },\n  header: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'space-between' as const,\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#2A2A2A',\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: '#fff',\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    padding: 20,\n  },\n  input: {\n    fontSize: 16,\n    color: '#fff',\n    minHeight: 120,\n    textAlignVertical: 'top' as const,\n    marginBottom: 16,\n  },\n  mediaPreview: {\n    marginBottom: 16,\n  },\n  mediaItem: {\n    marginRight: 12,\n    position: 'relative' as const,\n  },\n  mediaImage: {\n    width: 120,\n    height: 120,\n    borderRadius: 12,\n    backgroundColor: '#2A2A2A',\n  },\n  removeMediaButton: {\n    position: 'absolute' as const,\n    top: 8,\n    right: 8,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 12,\n    padding: 4,\n  },\n  recordingIndicator: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    backgroundColor: '#EF444420',\n    padding: 12,\n    borderRadius: 12,\n    marginBottom: 16,\n  },\n  recordingDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#EF4444',\n    marginRight: 8,\n  },\n  recordingText: {\n    fontSize: 14,\n    color: '#EF4444',\n    fontWeight: '600' as const,\n  },\n  toolbar: {\n    flexDirection: 'row' as const,\n    justifyContent: 'space-around' as const,\n    paddingVertical: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#2A2A2A',\n    marginBottom: 16,\n  },\n  toolButton: {\n    alignItems: 'center' as const,\n    padding: 8,\n    borderRadius: 12,\n  },\n  toolButtonActive: {\n    backgroundColor: '#3B82F6',\n  },\n  toolLabel: {\n    fontSize: 12,\n    color: '#A0A0A0',\n    marginTop: 4,\n  },\n  toolLabelActive: {\n    color: '#fff',\n  },\n  info: {\n    backgroundColor: '#3B82F610',\n    padding: 12,\n    borderRadius: 12,\n  },\n  infoText: {\n    fontSize: 13,\n    color: '#A0A0A0',\n    lineHeight: 18,\n  },\n  footer: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'space-between' as const,\n    padding: 20,\n    borderTopWidth: 1,\n    borderTopColor: '#2A2A2A',\n  },\n  charCount: {\n    fontSize: 14,\n    color: '#A0A0A0',\n  },\n  postButton: {\n    backgroundColor: '#3B82F6',\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 24,\n  },\n  postButtonDisabled: {\n    opacity: 0.5,\n  },\n  postButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Image, TextInput } from 'react-native';\nimport { Heart, MessageCircle, MoreVertical } from 'lucide-react-native';\nimport { ThreadComment, CommentReply } from '@/types/thread';\nimport { useThreads } from '@/hooks/thread-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { mockUsers } from '@/mocks/users';\n\ninterface CommentThreadProps {\n  postId: string;\n  comment: ThreadComment;\n  depth?: number;\n}\n\nexport default function CommentThread({ postId, comment, depth = 0 }: CommentThreadProps) {\n  const { toggleCommentLike, toggleReplyLike, addReply } = useThreads();\n  const { colors } = useTheme();\n  const { user } = useAuth();\n  const [showReplyInput, setShowReplyInput] = useState(false);\n  const [replyText, setReplyText] = useState('');\n  const [showReplies, setShowReplies] = useState(false);\n\n  const author = mockUsers.find(u => u.id === comment.authorId);\n  if (!author) return null;\n\n  const getTimeSince = (date: string) => {\n    const seconds = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);\n    if (seconds < 60) return `${seconds}s`;\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m`;\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h`;\n    return `${Math.floor(seconds / 86400)}d`;\n  };\n\n  const handleReply = () => {\n    if (!replyText.trim() || !user) return;\n\n    addReply(postId, comment.id, {\n      commentId: comment.id,\n      parentReplyId: null,\n      authorId: user.id,\n      content: replyText.trim(),\n      type: 'text',\n      depth: depth + 1,\n    });\n\n    setReplyText('');\n    setShowReplyInput(false);\n    setShowReplies(true);\n  };\n\n  const renderReply = (reply: CommentReply) => {\n    const replyAuthor = mockUsers.find(u => u.id === reply.authorId);\n    if (!replyAuthor) return null;\n\n    return (\n      <View key={reply.id} style={[styles.replyContainer, { marginLeft: Math.min(depth * 20, 60) }]}>\n        <View style={styles.replyLine} />\n        <Image source={{ uri: replyAuthor.profileImage }} style={styles.smallAvatar} />\n        <View style={styles.replyContent}>\n          <View style={styles.replyHeader}>\n            <Text style={[styles.replyName, { color: colors.text }]}>{replyAuthor.displayName}</Text>\n            <Text style={[styles.replyTime, { color: colors.textSecondary }]}>\n               {getTimeSince(reply.createdAt)}\n            </Text>\n          </View>\n          <Text style={[styles.replyText, { color: colors.text }]}>{reply.content}</Text>\n          <View style={styles.replyActions}>\n            <TouchableOpacity\n              style={styles.replyAction}\n              onPress={() => toggleReplyLike(postId, reply.id)}\n            >\n              <Heart\n                size={14}\n                color={reply.isLiked ? '#EF4444' : colors.textSecondary}\n                fill={reply.isLiked ? '#EF4444' : 'none'}\n              />\n              {reply.likes > 0 && (\n                <Text style={[styles.replyActionText, { color: colors.textSecondary }]}>\n                  {reply.likes}\n                </Text>\n              )}\n            </TouchableOpacity>\n            {depth < 2 && (\n              <TouchableOpacity style={styles.replyAction}>\n                <Text style={[styles.replyActionText, { color: colors.textSecondary }]}>Reply</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n          {reply.replies && reply.replies.length > 0 && reply.replies.map(renderReply)}\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Image source={{ uri: author.profileImage }} style={styles.avatar} />\n      <View style={styles.content}>\n        <View style={styles.header}>\n          <Text style={[styles.name, { color: colors.text }]}>{author.displayName}</Text>\n          <Text style={[styles.username, { color: colors.textSecondary }]}>@{author.username}</Text>\n          <Text style={[styles.time, { color: colors.textSecondary }]}> {getTimeSince(comment.createdAt)}</Text>\n          <TouchableOpacity style={styles.moreButton}>\n            <MoreVertical size={16} color={colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n\n        <Text style={[styles.commentText, { color: colors.text }]}>{comment.content}</Text>\n\n        <View style={styles.actions}>\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={() => toggleCommentLike(postId, comment.id)}\n          >\n            <Heart\n              size={16}\n              color={comment.isLiked ? '#EF4444' : colors.textSecondary}\n              fill={comment.isLiked ? '#EF4444' : 'none'}\n            />\n            {comment.likes > 0 && (\n              <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n                {comment.likes}\n              </Text>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={() => setShowReplyInput(!showReplyInput)}\n          >\n            <MessageCircle size={16} color={colors.textSecondary} />\n            <Text style={[styles.actionText, { color: colors.textSecondary }]}>Reply</Text>\n          </TouchableOpacity>\n        </View>\n\n        {showReplyInput && (\n          <View style={styles.replyInputContainer}>\n            <TextInput\n              style={[styles.replyInput, { color: colors.text, borderColor: colors.border }]}\n              placeholder=\"Write a reply...\"\n              placeholderTextColor={colors.textSecondary}\n              value={replyText}\n              onChangeText={setReplyText}\n              multiline\n            />\n            <TouchableOpacity\n              style={[styles.replyButton, !replyText.trim() && styles.replyButtonDisabled]}\n              onPress={handleReply}\n              disabled={!replyText.trim()}\n            >\n              <Text style={styles.replyButtonText}>Reply</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n\n        {comment.replies && comment.replies.length > 0 && (\n          <>\n            {!showReplies && (\n              <TouchableOpacity\n                style={styles.showRepliesButton}\n                onPress={() => setShowReplies(true)}\n              >\n                <View style={[styles.repliesLine, { backgroundColor: colors.border }]} />\n                <Text style={[styles.showRepliesText, { color: colors.primary }]}>\n                  View {comment.replies.length} {comment.replies.length === 1 ? 'reply' : 'replies'}\n                </Text>\n              </TouchableOpacity>\n            )}\n            {showReplies && comment.replies.map(renderReply)}\n          </>\n        )}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    marginRight: 12,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    marginBottom: 4,\n  },\n  name: {\n    fontSize: 14,\n    fontWeight: '700' as const,\n    marginRight: 4,\n  },\n  username: {\n    fontSize: 14,\n    marginRight: 4,\n  },\n  time: {\n    fontSize: 14,\n  },\n  moreButton: {\n    marginLeft: 'auto' as const,\n    padding: 4,\n  },\n  commentText: {\n    fontSize: 14,\n    lineHeight: 18,\n    marginBottom: 8,\n  },\n  actions: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 16,\n  },\n  actionButton: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 4,\n  },\n  actionText: {\n    fontSize: 12,\n  },\n  replyInputContainer: {\n    marginTop: 12,\n    gap: 8,\n  },\n  replyInput: {\n    borderWidth: 1,\n    borderRadius: 12,\n    padding: 12,\n    fontSize: 14,\n    minHeight: 60,\n    textAlignVertical: 'top' as const,\n  },\n  replyButton: {\n    backgroundColor: '#3B82F6',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    alignSelf: 'flex-end' as const,\n  },\n  replyButtonDisabled: {\n    opacity: 0.5,\n  },\n  replyButtonText: {\n    color: '#fff',\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  showRepliesButton: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    marginTop: 12,\n    gap: 8,\n  },\n  repliesLine: {\n    width: 20,\n    height: 2,\n    borderRadius: 1,\n  },\n  showRepliesText: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n  },\n  replyContainer: {\n    flexDirection: 'row' as const,\n    marginTop: 12,\n    position: 'relative' as const,\n  },\n  replyLine: {\n    position: 'absolute' as const,\n    left: -8,\n    top: 0,\n    bottom: 0,\n    width: 2,\n    backgroundColor: '#2A2A2A',\n  },\n  smallAvatar: {\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    marginRight: 8,\n  },\n  replyContent: {\n    flex: 1,\n  },\n  replyHeader: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    marginBottom: 2,\n  },\n  replyName: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n    marginRight: 4,\n  },\n  replyTime: {\n    fontSize: 13,\n  },\n  replyText: {\n    fontSize: 13,\n    lineHeight: 17,\n    marginBottom: 6,\n  },\n  replyActions: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 12,\n  },\n  replyAction: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 4,\n  },\n  replyActionText: {\n    fontSize: 11,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, SafeAreaView } from 'react-native';\nimport { Stack, useLocalSearchParams, router } from 'expo-router';\nimport { ArrowLeft, Plus } from 'lucide-react-native';\nimport { useThreads } from '@/hooks/thread-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport ThreadView from '@/components/thread/ThreadView';\nimport ThreadComposer from '@/components/thread/ThreadComposer';\nimport CommentThread from '@/components/thread/CommentThread';\n\nexport default function ThreadDetailScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { getThread, getComments } = useThreads();\n  const { colors } = useTheme();\n  const [showComposer, setShowComposer] = useState(false);\n\n  const thread = getThread(id);\n  const comments = thread ? getComments(thread.rootPostId) : [];\n\n  if (!thread) {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]}>\n        <Stack.Screen\n          options={{\n            headerShown: true,\n            title: 'Thread',\n            headerStyle: { backgroundColor: colors.background },\n            headerTintColor: colors.text,\n          }}\n        />\n        <View style={styles.emptyContainer}>\n          <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n            Thread not found\n          </Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  const lastPost = thread.posts[thread.posts.length - 1];\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: true,\n          title: 'Thread',\n          headerStyle: { backgroundColor: colors.background },\n          headerTintColor: colors.text,\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>\n        <ThreadView posts={thread.posts} threadId={thread.id} collapsed={false} />\n\n        <View style={[styles.divider, { backgroundColor: colors.border }]} />\n\n        <View style={styles.statsContainer}>\n          <View style={styles.statItem}>\n            <Text style={[styles.statValue, { color: colors.text }]}>\n              {thread.totalEngagement.toLocaleString()}\n            </Text>\n            <Text style={[styles.statLabel, { color: colors.textSecondary }]}>Engagement</Text>\n          </View>\n          {thread.isTrending && (\n            <View style={styles.trendingBadge}>\n              <Text style={styles.trendingText}> Trending</Text>\n            </View>\n          )}\n          {thread.vibeScore > 0 && (\n            <View style={styles.statItem}>\n              <Text style={[styles.statValue, { color: colors.primary }]}>\n                {thread.vibeScore}\n              </Text>\n              <Text style={[styles.statLabel, { color: colors.textSecondary }]}>Vibe Score</Text>\n            </View>\n          )}\n        </View>\n\n        <View style={[styles.divider, { backgroundColor: colors.border }]} />\n\n        <View style={styles.commentsHeader}>\n          <Text style={[styles.commentsTitle, { color: colors.text }]}>\n            Comments ({comments.length})\n          </Text>\n        </View>\n\n        {comments.length > 0 ? (\n          comments.map(comment => (\n            <CommentThread key={comment.id} postId={thread.rootPostId} comment={comment} />\n          ))\n        ) : (\n          <View style={styles.emptyComments}>\n            <Text style={[styles.emptyCommentsText, { color: colors.textSecondary }]}>\n              No comments yet. Be the first to comment!\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n\n      <TouchableOpacity\n        style={[styles.addButton, { backgroundColor: colors.primary }]}\n        onPress={() => setShowComposer(true)}\n      >\n        <Plus size={24} color=\"#fff\" />\n      </TouchableOpacity>\n\n      <ThreadComposer\n        visible={showComposer}\n        onClose={() => setShowComposer(false)}\n        threadId={thread.id}\n        parentPostId={lastPost.id}\n        rootPostId={thread.rootPostId}\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    padding: 32,\n  },\n  emptyText: {\n    fontSize: 16,\n    textAlign: 'center' as const,\n  },\n  divider: {\n    height: 1,\n    marginVertical: 12,\n  },\n  statsContainer: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    gap: 24,\n  },\n  statItem: {\n    alignItems: 'center' as const,\n  },\n  statValue: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    marginBottom: 2,\n  },\n  statLabel: {\n    fontSize: 12,\n  },\n  trendingBadge: {\n    backgroundColor: '#EF444420',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  trendingText: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n  },\n  commentsHeader: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  commentsTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n  },\n  emptyComments: {\n    padding: 32,\n    alignItems: 'center' as const,\n  },\n  emptyCommentsText: {\n    fontSize: 14,\n    textAlign: 'center' as const,\n  },\n  addButton: {\n    position: 'absolute' as const,\n    right: 20,\n    bottom: 20,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n});\n","import { useState, useEffect } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { LiveSession, LiveComment, LiveViewer, LiveAnalytics, LiveAudience } from '@/types/live';\nimport { useAuth } from './auth-store';\n\ninterface LiveStreamingState {\n  activeSession: LiveSession | null;\n  isHosting: boolean;\n  currentViewingSession: LiveSession | null;\n  comments: LiveComment[];\n  viewers: LiveViewer[];\n  liveSessions: LiveSession[];\n  analytics: LiveAnalytics | null;\n}\n\nexport const [LiveStreamingProvider, useLiveStreaming] = createContextHook(() => {\n  const { user } = useAuth();\n  \n  const [state, setState] = useState<LiveStreamingState>({\n    activeSession: null,\n    isHosting: false,\n    currentViewingSession: null,\n    comments: [],\n    viewers: [],\n    liveSessions: [],\n    analytics: null,\n  });\n\n  useEffect(() => {\n    loadLiveSessions();\n  }, []);\n\n  const loadLiveSessions = async () => {\n    try {\n      const mockSessions: LiveSession[] = [\n        {\n          id: '1',\n          hostId: 'user1',\n          hostUsername: 'DJ Alex',\n          hostAvatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80',\n          title: 'Chill Vibes Session ',\n          description: 'Playing some relaxing beats for the evening',\n          audience: 'everyone',\n          commentsEnabled: true,\n          shareToFeedAfter: true,\n          status: 'live',\n          startedAt: Date.now() - 1000 * 60 * 45,\n          viewerCount: 234,\n          peakViewerCount: 289,\n          totalViews: 456,\n          likeCount: 1234,\n          commentCount: 89,\n          coHosts: [],\n          viewers: [],\n          moderators: [],\n          blockedUsers: [],\n          streamUrl: 'rtmp://live.vibesync.app/live/stream1',\n          thumbnailUrl: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n        },\n      ];\n\n      setState(prev => ({ ...prev, liveSessions: mockSessions }));\n    } catch (error) {\n      console.error('Error loading live sessions:', error);\n    }\n  };\n\n  const startLive = async (\n    title: string | undefined,\n    description: string | undefined,\n    audience: LiveAudience,\n    commentsEnabled: boolean,\n    shareToFeedAfter: boolean\n  ) => {\n    if (!user) {\n      throw new Error('User must be authenticated to start live');\n    }\n\n    try {\n      const streamKey = `stream_${user.id}_${Date.now()}`;\n      \n      const newSession: LiveSession = {\n        id: Date.now().toString(),\n        hostId: user.id,\n        hostUsername: user.displayName || user.username,\n        hostAvatar: user.profileImage || '',\n        title,\n        description,\n        audience,\n        commentsEnabled,\n        shareToFeedAfter,\n        status: 'countdown',\n        startedAt: Date.now(),\n        viewerCount: 0,\n        peakViewerCount: 0,\n        totalViews: 0,\n        likeCount: 0,\n        commentCount: 0,\n        coHosts: [],\n        viewers: [],\n        moderators: [],\n        blockedUsers: [],\n        streamUrl: `rtmp://live.vibesync.app/live/${streamKey}`,\n      };\n\n      setState(prev => ({\n        ...prev,\n        activeSession: newSession,\n        isHosting: true,\n        liveSessions: [newSession, ...prev.liveSessions],\n      }));\n\n      setTimeout(() => {\n        setState(prev => ({\n          ...prev,\n          activeSession: prev.activeSession ? { ...prev.activeSession, status: 'live' } : null,\n        }));\n      }, 3000);\n\n      console.log('Live session started:', newSession);\n      \n      return newSession;\n    } catch (error) {\n      console.error('Error starting live:', error);\n      throw error;\n    }\n  };\n\n  const endLive = async () => {\n    if (!state.activeSession) return;\n\n    try {\n      const endedSession = {\n        ...state.activeSession,\n        status: 'ended' as const,\n        endedAt: Date.now(),\n      };\n\n      const analytics: LiveAnalytics = {\n        sessionId: endedSession.id,\n        duration: endedSession.endedAt - (endedSession.startedAt || 0),\n        peakViewers: endedSession.peakViewerCount,\n        totalViews: endedSession.totalViews,\n        uniqueViewers: endedSession.totalViews,\n        averageWatchTime: 180000,\n        likeCount: endedSession.likeCount,\n        commentCount: endedSession.commentCount,\n        shareCount: 12,\n        newFollowers: 8,\n        topViewers: [],\n        engagementRate: 0.45,\n      };\n\n      setState(prev => ({\n        ...prev,\n        activeSession: null,\n        isHosting: false,\n        analytics,\n        liveSessions: prev.liveSessions.filter(s => s.id !== endedSession.id),\n      }));\n\n      console.log('Live session ended');\n      return analytics;\n    } catch (error) {\n      console.error('Error ending live:', error);\n      throw error;\n    }\n  };\n\n  const joinLive = (sessionId: string) => {\n    const session = state.liveSessions.find(s => s.id === sessionId);\n    if (session && user) {\n      const viewer: LiveViewer = {\n        id: user.id,\n        username: user.displayName || user.username,\n        avatar: user.profileImage || '',\n        joinedAt: Date.now(),\n        role: 'viewer',\n      };\n\n      setState(prev => ({\n        ...prev,\n        currentViewingSession: session,\n        liveSessions: prev.liveSessions.map(s =>\n          s.id === sessionId\n            ? {\n                ...s,\n                viewerCount: s.viewerCount + 1,\n                totalViews: s.totalViews + 1,\n                viewers: [...s.viewers, viewer],\n              }\n            : s\n        ),\n      }));\n\n      console.log('Joined live:', session.title);\n    }\n  };\n\n  const leaveLive = (sessionId: string) => {\n    if (!user) return;\n\n    setState(prev => ({\n      ...prev,\n      currentViewingSession: null,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              viewerCount: Math.max(0, s.viewerCount - 1),\n              viewers: s.viewers.filter(v => v.id !== user.id),\n            }\n          : s\n      ),\n    }));\n\n    console.log('Left live session');\n  };\n\n  const addComment = (sessionId: string, text: string) => {\n    if (!user) return;\n\n    const comment: LiveComment = {\n      id: Date.now().toString(),\n      userId: user.id,\n      username: user.displayName || user.username,\n      avatar: user.profileImage || '',\n      text,\n      timestamp: Date.now(),\n    };\n\n    setState(prev => ({\n      ...prev,\n      comments: [...prev.comments, comment],\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, commentCount: s.commentCount + 1 } : s\n      ),\n    }));\n  };\n\n  const pinComment = (commentId: string) => {\n    setState(prev => ({\n      ...prev,\n      comments: prev.comments.map(c =>\n        c.id === commentId ? { ...c, isPinned: true } : { ...c, isPinned: false }\n      ),\n    }));\n  };\n\n  const addLike = (sessionId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, likeCount: s.likeCount + 1 } : s\n      ),\n    }));\n  };\n\n  const inviteCoHost = (sessionId: string, userId: string) => {\n    console.log('Invite co-host:', userId);\n  };\n\n  const acceptCoHost = (sessionId: string) => {\n    if (!user) return;\n\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s => {\n        if (s.id === sessionId) {\n          const viewer = s.viewers.find(v => v.id === user.id);\n          if (viewer) {\n            return {\n              ...s,\n              coHosts: [...s.coHosts, { ...viewer, role: 'co-host' as const }],\n              viewers: s.viewers.filter(v => v.id !== user.id),\n            };\n          }\n        }\n        return s;\n      }),\n    }));\n  };\n\n  const removeCoHost = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s => {\n        if (s.id === sessionId) {\n          const coHost = s.coHosts.find(ch => ch.id === userId);\n          if (coHost) {\n            return {\n              ...s,\n              coHosts: s.coHosts.filter(ch => ch.id !== userId),\n              viewers: [...s.viewers, { ...coHost, role: 'viewer' as const }],\n            };\n          }\n        }\n        return s;\n      }),\n    }));\n  };\n\n  const muteViewer = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              viewers: s.viewers.map(v =>\n                v.id === userId ? { ...v, isMuted: true } : v\n              ),\n            }\n          : s\n      ),\n    }));\n  };\n\n  const blockViewer = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              blockedUsers: [...s.blockedUsers, userId],\n              viewers: s.viewers.filter(v => v.id !== userId),\n              viewerCount: Math.max(0, s.viewerCount - 1),\n            }\n          : s\n      ),\n    }));\n  };\n\n  const toggleComments = (sessionId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, commentsEnabled: !s.commentsEnabled } : s\n      ),\n    }));\n  };\n\n  return {\n    activeSession: state.activeSession,\n    isHosting: state.isHosting,\n    currentViewingSession: state.currentViewingSession,\n    comments: state.comments,\n    viewers: state.viewers,\n    liveSessions: state.liveSessions,\n    analytics: state.analytics,\n    startLive,\n    endLive,\n    joinLive,\n    leaveLive,\n    addComment,\n    pinComment,\n    addLike,\n    inviteCoHost,\n    acceptCoHost,\n    removeCoHost,\n    muteViewer,\n    blockViewer,\n    toggleComments,\n  };\n});","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Animated } from 'react-native';\nimport { Play, Pause } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Audio } from 'expo-av';\nimport { StatusVoiceContent } from '@/types/status';\n\ninterface VoiceStatusPlayerProps {\n  voiceContent: StatusVoiceContent;\n  onPlaybackComplete?: () => void;\n  isPaused?: boolean;\n}\n\nexport default function VoiceStatusPlayer({\n  voiceContent,\n  onPlaybackComplete,\n  isPaused = false,\n}: VoiceStatusPlayerProps) {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const soundRef = useRef<Audio.Sound | null>(null);\n  const waveformAnims = useRef(\n    voiceContent.waveform.map(() => new Animated.Value(0.3))\n  ).current;\n\n  useEffect(() => {\n    setupAudio();\n    return () => {\n      cleanup();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isPaused && isPlaying) {\n      pausePlayback();\n    } else if (!isPaused && !isPlaying) {\n      playAudio();\n    }\n  }, [isPaused]);\n\n  useEffect(() => {\n    if (isPlaying) {\n      animateWaveform();\n    }\n  }, [isPlaying]);\n\n  const setupAudio = async () => {\n    try {\n      await Audio.setAudioModeAsync({\n        playsInSilentModeIOS: true,\n        staysActiveInBackground: false,\n        shouldDuckAndroid: true,\n        playThroughEarpieceAndroid: false,\n      });\n    } catch (error) {\n      console.error('[VoiceStatusPlayer] Setup error:', error);\n    }\n  };\n\n  const cleanup = async () => {\n    if (soundRef.current) {\n      try {\n        await soundRef.current.unloadAsync();\n      } catch (error) {\n        console.error('[VoiceStatusPlayer] Cleanup error:', error);\n      }\n    }\n  };\n\n  const playAudio = async () => {\n    try {\n      if (!soundRef.current) {\n        if (!voiceContent.uri || voiceContent.uri.includes('example.com')) {\n          console.log('[VoiceStatusPlayer] Demo mode - no valid audio URI');\n          setIsPlaying(true);\n          setTimeout(() => {\n            setIsPlaying(false);\n            onPlaybackComplete?.();\n          }, voiceContent.duration * 1000);\n          return;\n        }\n        \n        const { sound } = await Audio.Sound.createAsync(\n          { uri: voiceContent.uri },\n          { shouldPlay: true },\n          onPlaybackStatusUpdate\n        );\n        soundRef.current = sound;\n      } else {\n        await soundRef.current.playAsync();\n      }\n      setIsPlaying(true);\n    } catch (error) {\n      console.error('[VoiceStatusPlayer] Play error:', error);\n      setIsPlaying(true);\n      setTimeout(() => {\n        setIsPlaying(false);\n        onPlaybackComplete?.();\n      }, voiceContent.duration * 1000);\n    }\n  };\n\n  const pausePlayback = async () => {\n    try {\n      if (soundRef.current) {\n        await soundRef.current.pauseAsync();\n        setIsPlaying(false);\n      }\n    } catch (error) {\n      console.error('[VoiceStatusPlayer] Pause error:', error);\n    }\n  };\n\n  const onPlaybackStatusUpdate = (status: any) => {\n    if (status.isLoaded) {\n      setCurrentTime(status.positionMillis / 1000);\n      \n      if (status.didJustFinish) {\n        setIsPlaying(false);\n        onPlaybackComplete?.();\n      }\n    }\n  };\n\n  const animateWaveform = () => {\n    const animations = waveformAnims.map((anim) =>\n      Animated.loop(\n        Animated.sequence([\n          Animated.timing(anim, {\n            toValue: Math.random() * 0.7 + 0.3,\n            duration: 200 + Math.random() * 200,\n            useNativeDriver: true,\n          }),\n          Animated.timing(anim, {\n            toValue: Math.random() * 0.7 + 0.3,\n            duration: 200 + Math.random() * 200,\n            useNativeDriver: true,\n          }),\n        ])\n      )\n    );\n\n    Animated.parallel(animations).start();\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const gradientColors = voiceContent.gradient || ['#667eea', '#764ba2'];\n\n  return (\n    <LinearGradient\n      colors={gradientColors as any}\n      style={styles.container}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 1 }}\n    >\n      <View style={styles.content}>\n        <View style={styles.waveformContainer}>\n          {voiceContent.waveform.map((amplitude, index) => (\n            <Animated.View\n              key={index}\n              style={[\n                styles.waveformBar,\n                {\n                  height: isPlaying\n                    ? waveformAnims[index].interpolate({\n                        inputRange: [0, 1],\n                        outputRange: [20, amplitude * 150],\n                      })\n                    : amplitude * 100,\n                  opacity: waveformAnims[index],\n                },\n              ]}\n            />\n          ))}\n        </View>\n\n        <TouchableOpacity\n          style={styles.playButton}\n          onPress={isPlaying ? pausePlayback : playAudio}\n        >\n          {isPlaying ? (\n            <Pause size={40} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n          ) : (\n            <Play size={40} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n          )}\n        </TouchableOpacity>\n\n        <View style={styles.timeContainer}>\n          <Text style={styles.timeText}>\n            {formatTime(currentTime)} / {formatTime(voiceContent.duration)}\n          </Text>\n        </View>\n      </View>\n    </LinearGradient>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n  },\n  content: {\n    alignItems: 'center' as const,\n    gap: 40,\n  },\n  waveformContainer: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    height: 200,\n    gap: 4,\n  },\n  waveformBar: {\n    width: 4,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 2,\n    minHeight: 20,\n  },\n  playButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: 'rgba(255,255,255,0.3)',\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  timeContainer: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    backgroundColor: 'rgba(0,0,0,0.3)',\n    borderRadius: 20,\n  },\n  timeText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, Image, Animated, PanResponder } from 'react-native';\nimport { router, useLocalSearchParams, Stack } from 'expo-router';\nimport { X, Play, Pause, MoreVertical } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useStatus } from '@/hooks/status-store';\nimport { Status } from '@/types/status';\nimport VoiceStatusPlayer from '@/components/status/VoiceStatusPlayer';\n\nconst { width: SCREEN_WIDTH, height: SCREEN_HEIGHT } = Dimensions.get('window');\n\nexport default function StatusViewerScreen() {\n  const { userId } = useLocalSearchParams<{ userId: string }>();\n  const { colors } = useTheme();\n  const { getUserStatuses, markStatusAsViewed } = useStatus();\n  \n  const [statuses, setStatuses] = useState<Status[]>([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  \n  const progressAnims = useRef<Animated.Value[]>([]).current;\n  const progressTimers = useRef<ReturnType<typeof setTimeout>[]>([]);\n\n  useEffect(() => {\n    if (userId) {\n      const userStatuses = getUserStatuses(userId as string);\n      setStatuses(userStatuses);\n      \n      progressAnims.length = 0;\n      userStatuses.forEach(() => {\n        progressAnims.push(new Animated.Value(0));\n      });\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    if (statuses.length > 0 && currentIndex < statuses.length) {\n      startProgress();\n      markStatusAsViewed(statuses[currentIndex].id);\n    }\n    \n    return () => {\n      progressTimers.current.forEach(timer => clearTimeout(timer));\n    };\n  }, [currentIndex, statuses, isPaused]);\n\n  const startProgress = () => {\n    if (isPaused) return;\n    \n    const duration = statuses[currentIndex].type === 'video' ? 15000 : 5000;\n    \n    Animated.timing(progressAnims[currentIndex], {\n      toValue: 1,\n      duration,\n      useNativeDriver: false,\n    }).start(({ finished }) => {\n      if (finished && !isPaused) {\n        handleNext();\n      }\n    });\n  };\n\n  const handleNext = () => {\n    if (currentIndex < statuses.length - 1) {\n      setCurrentIndex(prev => prev + 1);\n      progressAnims[currentIndex].setValue(1);\n    } else {\n      router.back();\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentIndex > 0) {\n      progressAnims[currentIndex].setValue(0);\n      setCurrentIndex(prev => prev - 1);\n    }\n  };\n\n  const panResponder = useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderRelease: (_, gestureState) => {\n        const { dx } = gestureState;\n        if (Math.abs(dx) > 50) {\n          if (dx > 0) {\n            handlePrevious();\n          } else {\n            handleNext();\n          }\n        }\n      },\n    })\n  ).current;\n\n  if (!statuses.length) {\n    return null;\n  }\n\n  const currentStatus = statuses[currentIndex];\n\n  const renderStatusContent = () => {\n    switch (currentStatus.type) {\n      case 'photo':\n        return (\n          <Image\n            source={{ uri: currentStatus.media?.uri }}\n            style={StyleSheet.absoluteFill}\n            resizeMode=\"cover\"\n          />\n        );\n      \n      case 'text':\n        if (currentStatus.textContent) {\n          const bg = currentStatus.textContent.gradient || [currentStatus.textContent.backgroundColor || '#667eea'];\n          return (\n            <>\n              <LinearGradient\n                colors={bg as any}\n                style={StyleSheet.absoluteFill}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n              />\n              <View style={styles.textContentContainer}>\n                <Text\n                  style={[\n                    styles.textContent,\n                    {\n                      textAlign: currentStatus.textContent.textAlign || 'center',\n                      fontSize: currentStatus.textContent.fontSize || 32,\n                    },\n                  ]}\n                >\n                  {currentStatus.textContent.text}\n                </Text>\n              </View>\n            </>\n          );\n        }\n        break;\n      \n      case 'voice':\n        if (currentStatus.voiceContent) {\n          return (\n            <VoiceStatusPlayer\n              voiceContent={currentStatus.voiceContent}\n              isPaused={isPaused}\n              onPlaybackComplete={handleNext}\n            />\n          );\n        }\n        break;\n    }\n    return null;\n  };\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen options={{ headerShown: false }} />\n      \n      <View {...panResponder.panHandlers} style={StyleSheet.absoluteFill}>\n        {renderStatusContent()}\n      </View>\n\n      <LinearGradient\n        colors={['rgba(0,0,0,0.6)', 'transparent']}\n        style={styles.topGradient}\n      />\n\n      <View style={styles.header}>\n        <View style={styles.progressBars}>\n          {statuses.map((_, index) => (\n            <View key={index} style={styles.progressBarContainer}>\n              <View style={styles.progressBarBackground} />\n              <Animated.View\n                style={[\n                  styles.progressBarFill,\n                  {\n                    width: progressAnims[index]?.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: ['0%', '100%'],\n                    }) || '0%',\n                  },\n                ]}\n              />\n            </View>\n          ))}\n        </View>\n\n        <View style={styles.headerContent}>\n          <View style={styles.userInfo}>\n            <Image\n              source={{ uri: currentStatus.avatar }}\n              style={styles.avatar}\n            />\n            <Text style={styles.username}>{currentStatus.username}</Text>\n            <Text style={styles.timestamp}>\n              {new Date(currentStatus.createdAt).toLocaleTimeString([], { \n                hour: '2-digit', \n                minute: '2-digit' \n              })}\n            </Text>\n          </View>\n\n          <View style={styles.headerActions}>\n            <TouchableOpacity \n              onPress={() => setIsPaused(!isPaused)}\n              style={styles.headerButton}\n            >\n              {isPaused ? (\n                <Play size={24} color=\"#FFFFFF\" />\n              ) : (\n                <Pause size={24} color=\"#FFFFFF\" />\n              )}\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={styles.headerButton}\n              onPress={() => {\n                console.log('More options');\n              }}\n            >\n              <MoreVertical size={24} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n            <TouchableOpacity \n              onPress={() => router.back()}\n              style={styles.headerButton}\n            >\n              <X size={24} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n\n      {currentStatus.caption && (\n        <View style={styles.captionContainer}>\n          <Text style={styles.caption}>{currentStatus.caption}</Text>\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000',\n  },\n  topGradient: {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 200,\n    zIndex: 1,\n  },\n  header: {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    paddingTop: 50,\n    paddingHorizontal: 16,\n    zIndex: 2,\n  },\n  progressBars: {\n    flexDirection: 'row' as const,\n    gap: 4,\n    marginBottom: 16,\n  },\n  progressBarContainer: {\n    flex: 1,\n    height: 3,\n    position: 'relative' as const,\n  },\n  progressBarBackground: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(255,255,255,0.3)',\n    borderRadius: 2,\n  },\n  progressBarFill: {\n    height: '100%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 2,\n  },\n  headerContent: {\n    flexDirection: 'row' as const,\n    justifyContent: 'space-between' as const,\n    alignItems: 'center' as const,\n  },\n  userInfo: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 8,\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    borderWidth: 2,\n    borderColor: '#FFFFFF',\n  },\n  username: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  timestamp: {\n    color: 'rgba(255,255,255,0.7)',\n    fontSize: 14,\n  },\n  headerActions: {\n    flexDirection: 'row' as const,\n    gap: 16,\n  },\n  headerButton: {\n    padding: 8,\n    borderRadius: 20,\n    backgroundColor: 'rgba(0, 0, 0, 0.3)',\n  },\n  textContentContainer: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    padding: 32,\n  },\n  textContent: {\n    color: '#FFFFFF',\n    fontWeight: '600' as const,\n    textShadowColor: 'rgba(0,0,0,0.3)',\n    textShadowOffset: { width: 0, height: 2 },\n    textShadowRadius: 4,\n  },\n  voiceContentContainer: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    gap: 24,\n  },\n  waveformContainer: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 4,\n    height: 150,\n  },\n  waveformBar: {\n    width: 6,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 3,\n    minHeight: 6,\n  },\n  voiceDuration: {\n    color: '#FFFFFF',\n    fontSize: 24,\n    fontWeight: '600' as const,\n  },\n  captionContainer: {\n    position: 'absolute' as const,\n    bottom: 40,\n    left: 16,\n    right: 16,\n  },\n  caption: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    textShadowColor: 'rgba(0,0,0,0.5)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 3,\n  },\n});\n","import { Comment } from '@/types';\n\nexport const mockComments: Comment[] = [\n  {\n    id: '1',\n    postId: '1',\n    userId: '2',\n    username: 'mike_foodie',\n    userDisplayName: 'Mike Rodriguez',\n    profileImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',\n    isVerified: false,\n    content: 'This is amazing! Love the vibes here ',\n    timestamp: '2h',\n    likes: 24,\n    isLiked: false,\n    isAuthorLiked: true,\n    isAuthorReply: false,\n    replies: [\n      {\n        id: '1-1',\n        postId: '1',\n        userId: '1',\n        username: 'sarah_j',\n        userDisplayName: 'Sarah Johnson',\n        profileImage: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400',\n        isVerified: true,\n        content: 'Thanks Mike! Glad you enjoyed it! ',\n        timestamp: '1h 45m',\n        likes: 8,\n        isLiked: false,\n        isAuthorLiked: false,\n        isAuthorReply: true,\n      },\n      {\n        id: '1-2',\n        postId: '1',\n        userId: '5',\n        username: 'alex_photo',\n        userDisplayName: 'Alex Chen',\n        profileImage: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400',\n        isVerified: false,\n        content: 'Totally! The energy is unmatched ',\n        timestamp: '1h 30m',\n        likes: 5,\n        isLiked: false,\n        isAuthorLiked: false,\n        isAuthorReply: false,\n      },\n    ],\n  },\n  {\n    id: '2',\n    postId: '1',\n    userId: '3',\n    username: 'taylor_sync',\n    userDisplayName: 'Taylor Kim',\n    profileImage: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400',\n    isVerified: false,\n    content: 'Totally agree! The atmosphere is perfect ',\n    timestamp: '1h',\n    likes: 12,\n    isLiked: true,\n    isAuthorLiked: false,\n    isAuthorReply: false,\n    replies: [\n      {\n        id: '2-1',\n        postId: '1',\n        userId: '1',\n        username: 'sarah_j',\n        userDisplayName: 'Sarah Johnson',\n        profileImage: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400',\n        isVerified: true,\n        content: '',\n        voiceNote: {\n          url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',\n          duration: 12,\n          waveform: [0.3, 0.5, 0.7, 0.6, 0.8, 0.5, 0.4, 0.6, 0.7, 0.5, 0.3, 0.4, 0.6, 0.8, 0.7, 0.5, 0.4, 0.3, 0.5, 0.6],\n        },\n        timestamp: '50m',\n        likes: 15,\n        isLiked: false,\n        isAuthorLiked: false,\n        isAuthorReply: true,\n      },\n    ],\n  },\n  {\n    id: '3',\n    postId: '1',\n    userId: '1',\n    username: 'sarah_j',\n    userDisplayName: 'Sarah Johnson',\n    profileImage: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400',\n    isVerified: true,\n    content: 'Thank you all for the love! ',\n    timestamp: '45m',\n    likes: 56,\n    isLiked: false,\n    isAuthorLiked: false,\n    isAuthorReply: true,\n    replies: [\n      {\n        id: '3-1',\n        postId: '1',\n        userId: '6',\n        username: 'jordan_beats',\n        userDisplayName: 'Jordan Williams',\n        profileImage: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400',\n        isVerified: false,\n        content: 'You deserve it! Keep creating! ',\n        timestamp: '40m',\n        likes: 12,\n        isLiked: false,\n        isAuthorLiked: true,\n        isAuthorReply: false,\n      },\n      {\n        id: '3-2',\n        postId: '1',\n        userId: '7',\n        username: 'lisa_creative',\n        userDisplayName: 'Lisa Martinez',\n        profileImage: 'https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400',\n        isVerified: true,\n        content: 'Your work is always inspiring! ',\n        timestamp: '35m',\n        likes: 9,\n        isLiked: false,\n        isAuthorLiked: true,\n        isAuthorReply: false,\n      },\n    ],\n  },\n  {\n    id: '4',\n    postId: '1',\n    userId: '4',\n    username: 'emma_music',\n    userDisplayName: 'Emma Davis',\n    profileImage: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400',\n    isVerified: true,\n    content: '',\n    voiceNote: {\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',\n      duration: 22,\n      waveform: [0.4, 0.6, 0.8, 0.7, 0.5, 0.6, 0.7, 0.8, 0.6, 0.4, 0.5, 0.7, 0.8, 0.6, 0.5, 0.4, 0.6, 0.7, 0.5, 0.4, 0.6, 0.8, 0.7, 0.5, 0.4, 0.6, 0.7, 0.5, 0.4, 0.3],\n    },\n    timestamp: '30m',\n    likes: 18,\n    isLiked: false,\n    isAuthorLiked: true,\n    isAuthorReply: false,\n    replies: [],\n  },\n  {\n    id: '5',\n    postId: '1',\n    userId: '8',\n    username: 'chris_dev',\n    userDisplayName: 'Chris Anderson',\n    profileImage: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400',\n    isVerified: false,\n    content: 'This is exactly what I needed to see today! ',\n    timestamp: '20m',\n    likes: 7,\n    isLiked: false,\n    isAuthorLiked: false,\n    isAuthorReply: false,\n    replies: [\n      {\n        id: '5-1',\n        postId: '1',\n        userId: '1',\n        username: 'sarah_j',\n        userDisplayName: 'Sarah Johnson',\n        profileImage: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400',\n        isVerified: true,\n        content: 'So happy to hear that! ',\n        timestamp: '15m',\n        likes: 4,\n        isLiked: false,\n        isAuthorLiked: false,\n        isAuthorReply: true,\n      },\n    ],\n  },\n];\n","var map = {\n\t\"./(tabs)/_layout.tsx\": 74249,\n\t\"./(tabs)/create.tsx\": 31750,\n\t\"./(tabs)/discover.tsx\": 32065,\n\t\"./(tabs)/index.tsx\": 66072,\n\t\"./(tabs)/profile.tsx\": 87516,\n\t\"./(tabs)/spills.tsx\": 95939,\n\t\"./(tabs)/vibez.tsx\": 16170,\n\t\"./+not-found.tsx\": 18973,\n\t\"./_layout.tsx\": 45111,\n\t\"./ad-preferences.tsx\": 64458,\n\t\"./auth.tsx\": 39966,\n\t\"./change-password.tsx\": 52844,\n\t\"./chat/[id].tsx\": 97017,\n\t\"./dm-inbox.tsx\": 83082,\n\t\"./edit-profile.tsx\": 12420,\n\t\"./email-preferences.tsx\": 15310,\n\t\"./forgot-password.tsx\": 90491,\n\t\"./hashtag/[tag].tsx\": 48993,\n\t\"./inbox.tsx\": 46480,\n\t\"./live/[id].tsx\": 25173,\n\t\"./live/analytics.tsx\": 50159,\n\t\"./live/setup.tsx\": 64160,\n\t\"./messages-settings.tsx\": 4578,\n\t\"./messages.tsx\": 944,\n\t\"./modal.tsx\": 83817,\n\t\"./notifications.tsx\": 96046,\n\t\"./post/[id].tsx\": 94870,\n\t\"./privacy-policy.tsx\": 44815,\n\t\"./profile-views.tsx\": 56136,\n\t\"./register.tsx\": 147,\n\t\"./reset-password.tsx\": 15513,\n\t\"./settings.tsx\": 31772,\n\t\"./share-demo.tsx\": 58411,\n\t\"./spill/[id].tsx\": 44408,\n\t\"./spill/start.tsx\": 96329,\n\t\"./splash.tsx\": 36929,\n\t\"./status/create.tsx\": 68174,\n\t\"./status/view/[userId].tsx\": 9733,\n\t\"./story/[id].tsx\": 14095,\n\t\"./studio/image-editor.tsx\": 42356,\n\t\"./studio/projects.tsx\": 5840,\n\t\"./studio/video-editor.tsx\": 91758,\n\t\"./tags/review.tsx\": 30402,\n\t\"./terms-of-service.tsx\": 76575,\n\t\"./thread/[id].tsx\": 9040,\n\t\"./trending.tsx\": 74409,\n\t\"./user/[id].tsx\": 3538,\n\t\"./user/[id]/followers.tsx\": 92031,\n\t\"./user/[id]/following.tsx\": 16067,\n\t\"./verify-reset-code.tsx\": 5419\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 10685;","import React, { useState, useRef, useEffect } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Animated, Platform, Alert } from 'react-native';\nimport { Audio } from 'expo-av';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Mic, Trash2, Check } from 'lucide-react-native';\nimport * as Haptics from 'expo-haptics';\n\ninterface VoiceNoteRecorderProps {\n  maxDuration?: number;\n  onRecordingComplete?: (uri: string, duration: number, waveform: number[]) => void;\n  onCancel?: () => void;\n  testID?: string;\n}\n\nexport const VoiceNoteRecorder: React.FC<VoiceNoteRecorderProps> = ({\n  maxDuration = 180,\n  onRecordingComplete,\n  onCancel,\n  testID,\n}) => {\n  const { colors } = useTheme();\n  const [isRecording, setIsRecording] = useState<boolean>(false);\n  const [duration, setDuration] = useState<number>(0);\n  const [recording, setRecording] = useState<Audio.Recording | null>(null);\n  const [waveformData, setWaveformData] = useState<number[]>([]);\n  \n  const pulseAnim = useRef(new Animated.Value(1)).current;\n  const durationTimer = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (recording) {\n        recording.stopAndUnloadAsync();\n      }\n      if (durationTimer.current) {\n        clearInterval(durationTimer.current);\n      }\n    };\n  }, [recording]);\n\n  const startRecording = async () => {\n    try {\n      if (Platform.OS === 'web') {\n        Alert.alert('Not Supported', 'Voice recording is not supported on web.');\n        return;\n      }\n\n      const permission = await Audio.requestPermissionsAsync();\n      \n      if (permission.status !== 'granted') {\n        Alert.alert('Permission Required', 'Please grant microphone permission to record voice notes.');\n        return;\n      }\n\n      await Audio.setAudioModeAsync({\n        allowsRecordingIOS: true,\n        playsInSilentModeIOS: true,\n      });\n\n      const { recording: newRecording } = await Audio.Recording.createAsync({\n        android: {\n          extension: '.m4a',\n          outputFormat: Audio.AndroidOutputFormat.MPEG_4,\n          audioEncoder: Audio.AndroidAudioEncoder.AAC,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n        },\n        ios: {\n          extension: '.wav',\n          outputFormat: Audio.IOSOutputFormat.LINEARPCM,\n          audioQuality: Audio.IOSAudioQuality.HIGH,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n          linearPCMBitDepth: 16,\n          linearPCMIsBigEndian: false,\n          linearPCMIsFloat: false,\n        },\n        web: {\n          mimeType: 'audio/webm',\n          bitsPerSecond: 128000,\n        },\n      });\n\n      setRecording(newRecording);\n      setIsRecording(true);\n      setDuration(0);\n      setWaveformData([]);\n\n      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Medium);\n\n      durationTimer.current = setInterval(() => {\n        setDuration(prev => {\n          const newDuration = prev + 1;\n          if (newDuration >= maxDuration) {\n            stopRecording();\n            return maxDuration;\n          }\n          return newDuration;\n        });\n\n        const randomWaveform = Math.random() * 0.8 + 0.2;\n        setWaveformData(prev => [...prev.slice(-50), randomWaveform]);\n      }, 1000);\n\n      Animated.loop(\n        Animated.sequence([\n          Animated.timing(pulseAnim, {\n            toValue: 1.3,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n          Animated.timing(pulseAnim, {\n            toValue: 1,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n        ])\n      ).start();\n    } catch (error) {\n      console.error('Failed to start recording:', error);\n      Alert.alert('Error', 'Failed to start recording. Please try again.');\n    }\n  };\n\n  const stopRecording = async () => {\n    if (!recording) return;\n\n    try {\n      setIsRecording(false);\n      pulseAnim.setValue(1);\n      \n      if (durationTimer.current) {\n        clearInterval(durationTimer.current);\n        durationTimer.current = null;\n      }\n\n      await recording.stopAndUnloadAsync();\n      \n      await Audio.setAudioModeAsync({\n        allowsRecordingIOS: false,\n      });\n\n      const uri = recording.getURI();\n      \n      if (uri && onRecordingComplete) {\n        onRecordingComplete(uri, duration, waveformData);\n      }\n\n      setRecording(null);\n      setDuration(0);\n      setWaveformData([]);\n    } catch (error) {\n      console.error('Failed to stop recording:', error);\n      Alert.alert('Error', 'Failed to stop recording.');\n    }\n  };\n\n  const cancelRecording = async () => {\n    if (recording) {\n      await recording.stopAndUnloadAsync();\n      \n      await Audio.setAudioModeAsync({\n        allowsRecordingIOS: false,\n      });\n    }\n\n    setIsRecording(false);\n    setRecording(null);\n    setDuration(0);\n    setWaveformData([]);\n    pulseAnim.setValue(1);\n    \n    if (durationTimer.current) {\n      clearInterval(durationTimer.current);\n      durationTimer.current = null;\n    }\n\n    onCancel?.();\n  };\n\n  const formatDuration = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (!isRecording && !recording) {\n    return (\n      <TouchableOpacity\n        style={[styles.startButton, { backgroundColor: colors.primary }]}\n        onPress={startRecording}\n        testID={testID}\n      >\n        <Mic size={24} color=\"#FFFFFF\" />\n        <Text style={styles.startButtonText}>Record Voice Note</Text>\n      </TouchableOpacity>\n    );\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.card }]} testID={testID}>\n      <View style={styles.waveformContainer}>\n        {waveformData.slice(-30).map((amplitude, index) => (\n          <View\n            key={index}\n            style={[\n              styles.waveformBar,\n              {\n                height: amplitude * 40,\n                backgroundColor: colors.primary,\n                opacity: 0.3 + (index / 30) * 0.7,\n              },\n            ]}\n          />\n        ))}\n      </View>\n\n      <View style={styles.controls}>\n        <Animated.View\n          style={[\n            styles.recordingIndicator,\n            { backgroundColor: colors.error, transform: [{ scale: pulseAnim }] },\n          ]}\n        />\n        \n        <View style={styles.durationContainer}>\n          <Text style={[styles.durationText, { color: colors.text }]}>\n            {formatDuration(duration)}\n          </Text>\n          <Text style={[styles.maxDurationText, { color: colors.textSecondary }]}>\n            / {formatDuration(maxDuration)}\n          </Text>\n        </View>\n\n        <View style={styles.actionButtons}>\n          <TouchableOpacity\n            style={[styles.actionButton, { backgroundColor: colors.error + '20' }]}\n            onPress={cancelRecording}\n          >\n            <Trash2 size={20} color={colors.error} />\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.actionButton, { backgroundColor: colors.success + '20' }]}\n            onPress={stopRecording}\n          >\n            <Check size={20} color={colors.success} />\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 12,\n    padding: 12,\n    gap: 12,\n  },\n  startButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 14,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n    gap: 8,\n  },\n  startButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  waveformContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 40,\n    gap: 2,\n  },\n  waveformBar: {\n    width: 2,\n    borderRadius: 1,\n    minHeight: 3,\n  },\n  controls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  recordingIndicator: {\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n  },\n  durationContainer: {\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    gap: 4,\n  },\n  durationText: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n  maxDurationText: {\n    fontSize: 12,\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  actionButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n","import React, { useState, useMemo } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Modal,\n  TextInput,\n  Image,\n  Platform,\n  FlatList,\n} from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useMessaging } from '@/hooks/messaging-store';\nimport {\n  X,\n  Search,\n  Send,\n  Flame,\n  Laugh,\n  Heart,\n  Sparkles,\n  Check,\n} from 'lucide-react-native';\nimport { User, Post, Vibe } from '@/types';\nimport { Avatar } from '@/components/ui/Avatar';\n\ninterface ShareSheetProps {\n  visible: boolean;\n  onClose: () => void;\n  content: Post | Vibe;\n  contentType: 'post' | 'vibe' | 'song';\n}\n\ninterface QuickVibeReaction {\n  id: string;\n  emoji: string;\n  label: string;\n  icon: React.ReactNode;\n}\n\ninterface ShareContact extends User {\n  hasVibeStreak?: boolean;\n  lastInteraction?: string;\n}\n\nexport const ShareSheet: React.FC<ShareSheetProps> = ({\n  visible,\n  onClose,\n  content,\n  contentType,\n}) => {\n  const { colors } = useTheme();\n  const { user } = useAuth();\n  const { conversations, createConversation, sendMessage } = useMessaging();\n\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [selectedUsers, setSelectedUsers] = useState<Set<string>>(new Set());\n  const [message, setMessage] = useState<string>('');\n  const [quickVibeEnabled, setQuickVibeEnabled] = useState<boolean>(false);\n  const [selectedReaction, setSelectedReaction] = useState<string>('');\n\n  const quickVibeReactions: QuickVibeReaction[] = [\n    {\n      id: 'fire',\n      emoji: '',\n      label: 'Fire',\n      icon: <Flame size={20} color=\"#FF6B35\" />,\n    },\n    {\n      id: 'laugh',\n      emoji: '',\n      label: 'Funny',\n      icon: <Laugh size={20} color=\"#FFD93D\" />,\n    },\n    {\n      id: 'love',\n      emoji: '',\n      label: 'Love',\n      icon: <Heart size={20} color=\"#A855F7\" />,\n    },\n    {\n      id: 'sparkle',\n      emoji: '',\n      label: 'Amazing',\n      icon: <Sparkles size={20} color=\"#60A5FA\" />,\n    },\n  ];\n\n  const shareContacts: ShareContact[] = useMemo(() => {\n    const contacts: ShareContact[] = conversations.map((conv) => {\n      const otherUser = conv.participants.find((p) => p.id !== user?.id);\n      if (!otherUser) return null;\n\n      const lastMessageTime = new Date(conv.lastMessage.timestamp).getTime();\n      const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1000;\n      const hasVibeStreak = lastMessageTime > sevenDaysAgo;\n\n      return {\n        ...otherUser,\n        hasVibeStreak,\n        lastInteraction: conv.lastMessage.timestamp,\n      };\n    }).filter(Boolean) as ShareContact[];\n\n    return contacts.sort((a, b) => {\n      if (a.hasVibeStreak && !b.hasVibeStreak) return -1;\n      if (!a.hasVibeStreak && b.hasVibeStreak) return 1;\n      \n      const aTime = new Date(a.lastInteraction || 0).getTime();\n      const bTime = new Date(b.lastInteraction || 0).getTime();\n      return bTime - aTime;\n    });\n  }, [conversations, user]);\n\n  const filteredContacts = useMemo(() => {\n    if (!searchQuery.trim()) return shareContacts;\n    \n    const query = searchQuery.toLowerCase();\n    return shareContacts.filter(\n      (contact) =>\n        contact.displayName.toLowerCase().includes(query) ||\n        contact.username.toLowerCase().includes(query)\n    );\n  }, [shareContacts, searchQuery]);\n\n  const frequentContacts = useMemo(() => {\n    return shareContacts.slice(0, 8);\n  }, [shareContacts]);\n\n  const toggleUserSelection = (userId: string) => {\n    setSelectedUsers((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(userId)) {\n        newSet.delete(userId);\n      } else {\n        newSet.add(userId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleShare = async () => {\n    if (selectedUsers.size === 0) return;\n\n    const shareContent = quickVibeEnabled && !message.trim()\n      ? `${selectedReaction} Check this out!`\n      : message.trim() || 'Check this out!';\n\n    const contentUrl = contentType === 'post' \n      ? `vibesync://post/${content.id}`\n      : contentType === 'vibe'\n      ? `vibesync://vibe/${content.id}`\n      : `vibesync://song/${content.id}`;\n\n    const fullMessage = `${shareContent}\\n\\n${contentUrl}`;\n\n    for (const userId of Array.from(selectedUsers)) {\n      const conversation = conversations.find((conv) =>\n        conv.participants.some((p) => p.id === userId)\n      );\n\n      if (conversation) {\n        await sendMessage(conversation.id, fullMessage);\n      } else {\n        const contact = shareContacts.find((c) => c.id === userId);\n        if (contact) {\n          const newConv = createConversation(contact);\n          await sendMessage(newConv.id, fullMessage);\n        }\n      }\n    }\n\n    console.log(`[ShareSheet] Shared ${contentType} with ${selectedUsers.size} users`);\n    \n    setSelectedUsers(new Set());\n    setMessage('');\n    setSearchQuery('');\n    setQuickVibeEnabled(false);\n    onClose();\n  };\n\n  const getContentThumbnail = () => {\n    if (contentType === 'post') {\n      const post = content as Post;\n      return post.image || post.video || null;\n    } else if (contentType === 'vibe') {\n      const vibe = content as Vibe;\n      return vibe.thumbnailUrl || vibe.videoUrl || null;\n    }\n    return null;\n  };\n\n  const getContentPreview = () => {\n    if (contentType === 'post') {\n      const post = content as Post;\n      return post.content.substring(0, 60) + (post.content.length > 60 ? '...' : '');\n    } else if (contentType === 'vibe') {\n      const vibe = content as Vibe;\n      return vibe.caption.substring(0, 60) + (vibe.caption.length > 60 ? '...' : '');\n    }\n    return 'Shared content';\n  };\n\n  const renderFrequentContact = ({ item }: { item: ShareContact }) => {\n    const isSelected = selectedUsers.has(item.id);\n\n    return (\n      <TouchableOpacity\n        style={styles.frequentContact}\n        onPress={() => toggleUserSelection(item.id)}\n        activeOpacity={0.7}\n      >\n        <View style={styles.frequentAvatarContainer}>\n          <Avatar\n            source={item.profileImage}\n            size={56}\n          />\n          {item.hasVibeStreak && (\n            <View style={[styles.vibeStreakBadge, { backgroundColor: colors.primary }]}>\n              <Flame size={12} color=\"#FFF\" />\n            </View>\n          )}\n          {isSelected && (\n            <View style={[styles.selectedBadge, { backgroundColor: colors.primary }]}>\n              <Check size={16} color=\"#FFF\" />\n            </View>\n          )}\n        </View>\n        <Text\n          style={[styles.frequentContactName, { color: colors.text }]}\n          numberOfLines={1}\n        >\n          {item.displayName.split(' ')[0]}\n        </Text>\n      </TouchableOpacity>\n    );\n  };\n\n  const renderContact = ({ item }: { item: ShareContact }) => {\n    const isSelected = selectedUsers.has(item.id);\n\n    return (\n      <TouchableOpacity\n        style={styles.gridContactItem}\n        onPress={() => toggleUserSelection(item.id)}\n        activeOpacity={0.7}\n      >\n        <View\n          style={[\n            styles.gridAvatarContainer,\n            isSelected && {\n              borderColor: colors.primary,\n              borderWidth: 3,\n            },\n          ]}\n        >\n          <Avatar\n            source={item.profileImage}\n            size={64}\n          />\n          {item.hasVibeStreak && (\n            <View style={[styles.vibeStreakGrid, { backgroundColor: colors.primary }]}>\n              <Flame size={10} color=\"#FFF\" />\n            </View>\n          )}\n          {isSelected && (\n            <View style={[styles.selectedOverlay, { backgroundColor: colors.primary + '40' }]}>\n              <View style={[styles.selectedCheckGrid, { backgroundColor: colors.primary }]}>\n                <Check size={18} color=\"#FFF\" />\n              </View>\n            </View>\n          )}\n        </View>\n        <Text\n          style={[styles.gridContactName, { color: colors.text }]}\n          numberOfLines={1}\n        >\n          {item.displayName.split(' ')[0]}\n        </Text>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n      statusBarTranslucent\n    >\n      <TouchableOpacity\n        style={styles.overlay}\n        activeOpacity={1}\n        onPress={onClose}\n      >\n        <BlurView intensity={80} style={StyleSheet.absoluteFill} tint=\"dark\" />\n\n        <TouchableOpacity\n          activeOpacity={1}\n          onPress={(e) => e.stopPropagation()}\n          style={styles.container}\n        >\n          <View\n            style={[\n              styles.sheetContainer,\n              {\n                backgroundColor: colors.background,\n                borderColor: colors.border,\n              },\n            ]}\n          >\n            <View style={styles.header}>\n              <Text style={[styles.headerTitle, { color: colors.text }]}>\n                Share to\n              </Text>\n              <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                <X size={24} color={colors.textSecondary} />\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.contentPreview}>\n              {getContentThumbnail() && (\n                <Image\n                  source={{ uri: getContentThumbnail()! }}\n                  style={styles.previewThumbnail}\n                />\n              )}\n              <View style={styles.previewTextContainer}>\n                <Text style={[styles.previewType, { color: colors.textSecondary }]}>\n                  {contentType.charAt(0).toUpperCase() + contentType.slice(1)}\n                </Text>\n                <Text style={[styles.previewText, { color: colors.text }]} numberOfLines={2}>\n                  {getContentPreview()}\n                </Text>\n              </View>\n            </View>\n\n            <View style={[styles.searchContainer, { backgroundColor: colors.card }]}>\n              <Search size={20} color={colors.textSecondary} />\n              <TextInput\n                style={[styles.searchInput, { color: colors.text }]}\n                placeholder=\"Search friends...\"\n                placeholderTextColor={colors.textSecondary}\n                value={searchQuery}\n                onChangeText={setSearchQuery}\n              />\n            </View>\n\n            {!searchQuery && (\n              <View style={styles.frequentSection}>\n                <FlatList\n                  data={frequentContacts}\n                  renderItem={renderFrequentContact}\n                  keyExtractor={(item) => item.id}\n                  horizontal\n                  showsHorizontalScrollIndicator={false}\n                  contentContainerStyle={styles.frequentList}\n                />\n              </View>\n            )}\n\n            <FlatList\n              data={filteredContacts}\n              renderItem={renderContact}\n              keyExtractor={(item) => item.id}\n              numColumns={4}\n              key=\"grid-4-columns\"\n              style={styles.contactsList}\n              contentContainerStyle={styles.contactsGridContent}\n              showsVerticalScrollIndicator={false}\n              columnWrapperStyle={styles.gridRow}\n            />\n\n            <View style={styles.quickVibeSection}>\n              <TouchableOpacity\n                style={styles.quickVibeToggle}\n                onPress={() => setQuickVibeEnabled(!quickVibeEnabled)}\n                activeOpacity={0.7}\n              >\n                <View\n                  style={[\n                    styles.toggleCircle,\n                    {\n                      backgroundColor: quickVibeEnabled\n                        ? colors.primary\n                        : colors.border,\n                    },\n                  ]}\n                >\n                  {quickVibeEnabled && <Check size={16} color=\"#FFF\" />}\n                </View>\n                <Text style={[styles.quickVibeLabel, { color: colors.text }]}>\n                  Quick Vibe\n                </Text>\n              </TouchableOpacity>\n\n              {quickVibeEnabled && (\n                <View style={styles.reactionsRow}>\n                  {quickVibeReactions.map((reaction) => (\n                    <TouchableOpacity\n                      key={reaction.id}\n                      style={[\n                        styles.reactionButton,\n                        {\n                          backgroundColor:\n                            selectedReaction === reaction.emoji\n                              ? colors.primary + '20'\n                              : colors.card,\n                          borderColor:\n                            selectedReaction === reaction.emoji\n                              ? colors.primary\n                              : colors.border,\n                        },\n                      ]}\n                      onPress={() => setSelectedReaction(reaction.emoji)}\n                      activeOpacity={0.7}\n                    >\n                      <Text style={styles.reactionEmoji}>{reaction.emoji}</Text>\n                    </TouchableOpacity>\n                  ))}\n                </View>\n              )}\n            </View>\n\n            <View style={styles.bottomSection}>\n              <View style={[styles.messageInputContainer, { backgroundColor: colors.card }]}>\n                <TextInput\n                  style={[styles.messageInput, { color: colors.text }]}\n                  placeholder={quickVibeEnabled ? \"Optional message...\" : \"Write a message...\"}\n                  placeholderTextColor={colors.textSecondary}\n                  value={message}\n                  onChangeText={setMessage}\n                  multiline\n                  maxLength={200}\n                />\n              </View>\n\n              <TouchableOpacity\n                style={[\n                  styles.sendButton,\n                  {\n                    backgroundColor:\n                      selectedUsers.size > 0 ? colors.primary : colors.border,\n                  },\n                ]}\n                onPress={handleShare}\n                disabled={selectedUsers.size === 0}\n                activeOpacity={0.8}\n              >\n                <Send size={20} color=\"#FFF\" />\n                {selectedUsers.size > 0 && (\n                  <View style={styles.selectedCount}>\n                    <Text style={styles.selectedCountText}>\n                      {selectedUsers.size}\n                    </Text>\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n          </View>\n        </TouchableOpacity>\n      </TouchableOpacity>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  container: {\n    justifyContent: 'flex-end',\n  },\n  sheetContainer: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    borderWidth: 1,\n    maxHeight: '90%',\n    paddingBottom: Platform.OS === 'ios' ? 34 : 20,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 16,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n  },\n  closeButton: {\n    padding: 4,\n  },\n  contentPreview: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    gap: 12,\n  },\n  previewThumbnail: {\n    width: 56,\n    height: 56,\n    borderRadius: 12,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  previewTextContainer: {\n    flex: 1,\n    gap: 4,\n  },\n  previewType: {\n    fontSize: 12,\n    fontWeight: '600',\n    textTransform: 'uppercase',\n  },\n  previewText: {\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 20,\n    marginBottom: 16,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 16,\n    gap: 12,\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  frequentSection: {\n    marginBottom: 16,\n  },\n  frequentList: {\n    paddingHorizontal: 20,\n    gap: 16,\n  },\n  frequentContact: {\n    alignItems: 'center',\n    gap: 8,\n    width: 64,\n  },\n  frequentAvatarContainer: {\n    position: 'relative',\n  },\n  vibeStreakBadge: {\n    position: 'absolute',\n    top: -2,\n    right: -2,\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000',\n  },\n  selectedBadge: {\n    position: 'absolute',\n    bottom: -2,\n    right: -2,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000',\n  },\n  frequentContactName: {\n    fontSize: 12,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  contactsList: {\n    flex: 1,\n  },\n  contactsGridContent: {\n    paddingHorizontal: 12,\n    paddingBottom: 16,\n  },\n  gridRow: {\n    justifyContent: 'space-between',\n    paddingHorizontal: 8,\n  },\n  gridContactItem: {\n    alignItems: 'center',\n    marginBottom: 20,\n    width: '22%',\n  },\n  gridAvatarContainer: {\n    position: 'relative',\n    borderRadius: 32,\n    marginBottom: 6,\n  },\n  vibeStreakGrid: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#FFF',\n  },\n  selectedOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    borderRadius: 32,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  selectedCheckGrid: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#FFF',\n  },\n  gridContactName: {\n    fontSize: 12,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  contactAvatarContainer: {\n    position: 'relative',\n  },\n  vibeStreakSmall: {\n    position: 'absolute',\n    top: -2,\n    right: -2,\n    width: 18,\n    height: 18,\n    borderRadius: 9,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000',\n  },\n  contactInfo: {\n    flex: 1,\n    gap: 2,\n  },\n  contactName: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  contactUsername: {\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  checkmark: {\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  quickVibeSection: {\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    gap: 12,\n  },\n  quickVibeToggle: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  toggleCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  quickVibeLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  reactionsRow: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  reactionButton: {\n    width: 56,\n    height: 56,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n  },\n  reactionEmoji: {\n    fontSize: 28,\n  },\n  bottomSection: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingHorizontal: 20,\n    gap: 12,\n  },\n  messageInputContainer: {\n    flex: 1,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    minHeight: 48,\n    maxHeight: 100,\n  },\n  messageInput: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  sendButton: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n  },\n  selectedCount: {\n    position: 'absolute',\n    top: -4,\n    right: -4,\n    backgroundColor: '#EF4444',\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000',\n  },\n  selectedCountText: {\n    color: '#FFF',\n    fontSize: 12,\n    fontWeight: '700',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, ScrollView, Alert, KeyboardAvoidingView, Platform } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Camera, Check, X } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport * as ImagePicker from 'expo-image-picker';\n\nexport default function EditProfileScreen() {\n  const { user, updateProfile, updateProfileImage } = useAuth();\n  \n  const [displayName, setDisplayName] = useState(user?.displayName || '');\n  const [username, setUsername] = useState(user?.username || '');\n  const [bio, setBio] = useState(user?.bio || '');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSave = async () => {\n    if (!displayName.trim()) {\n      Alert.alert('Error', 'Display name is required');\n      return;\n    }\n\n    if (!username.trim()) {\n      Alert.alert('Error', 'Username is required');\n      return;\n    }\n\n    if (username.length < 3 || username.length > 20) {\n      Alert.alert('Error', 'Username must be between 3 and 20 characters');\n      return;\n    }\n\n    if (!/^[a-zA-Z0-9_]+$/.test(username)) {\n      Alert.alert('Error', 'Username can only contain letters, numbers, and underscores');\n      return;\n    }\n\n    if (bio.length > 150) {\n      Alert.alert('Error', 'Bio must be 150 characters or less');\n      return;\n    }\n\n    setIsLoading(true);\n    \n    const success = await updateProfile({\n      displayName: displayName.trim(),\n      username: username.trim(),\n      bio: bio.trim(),\n    });\n\n    setIsLoading(false);\n\n    if (success) {\n      Alert.alert('Success', 'Profile updated successfully', [\n        { text: 'OK', onPress: () => router.back() }\n      ]);\n    } else {\n      Alert.alert('Error', 'Failed to update profile. Please try again.');\n    }\n  };\n\n  const handleCancel = () => {\n    router.back();\n  };\n\n  const handlePickProfileImage = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission needed', 'Please grant camera roll permissions to change profile picture');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ['images'],\n        allowsEditing: true,\n        aspect: [1, 1],\n        quality: 0.8,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const imageUri = result.assets[0].uri;\n        const success = await updateProfileImage(imageUri);\n        if (success) {\n          Alert.alert('Success', 'Profile picture updated successfully');\n          console.log('Profile photo updated successfully');\n        } else {\n          Alert.alert('Error', 'Failed to update profile picture. Please try again.');\n        }\n      }\n    } catch (error) {\n      console.error('Error picking profile image:', error);\n      Alert.alert('Error', 'An error occurred while updating profile picture. Please try again.');\n    }\n  };\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <>\n      <Stack.Screen \n        options={{\n          title: 'Edit Profile',\n          headerStyle: {\n            backgroundColor: Colors.background,\n          },\n          headerTintColor: Colors.text,\n          headerShadowVisible: false,\n        }}\n      />\n      <KeyboardAvoidingView \n        style={styles.container}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollContent}>\n          <View style={styles.avatarSection}>\n            <TouchableOpacity onPress={handlePickProfileImage}>\n              <View style={styles.avatarWrapper}>\n                <Avatar\n                  uri={user.profileImage}\n                  size={100}\n                  borderWidth={3}\n                  borderColor={Colors.primary}\n                />\n                <View style={styles.avatarEditButton}>\n                  <Camera size={20} color={Colors.text} />\n                </View>\n              </View>\n            </TouchableOpacity>\n            <Text style={styles.avatarHint}>Tap to change profile picture</Text>\n          </View>\n\n          <View style={styles.form}>\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Display Name</Text>\n              <TextInput\n                style={styles.input}\n                value={displayName}\n                onChangeText={setDisplayName}\n                placeholder=\"Enter your display name\"\n                placeholderTextColor={Colors.textSecondary}\n                maxLength={50}\n              />\n              <Text style={styles.hint}>This is how your name appears on your profile</Text>\n            </View>\n\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Username</Text>\n              <View style={styles.usernameInputContainer}>\n                <Text style={styles.usernamePrefix}>@</Text>\n                <TextInput\n                  style={styles.usernameInput}\n                  value={username}\n                  onChangeText={(text) => setUsername(text.toLowerCase())}\n                  placeholder=\"username\"\n                  placeholderTextColor={Colors.textSecondary}\n                  maxLength={20}\n                  autoCapitalize=\"none\"\n                  autoCorrect={false}\n                />\n              </View>\n              <Text style={styles.hint}>3-20 characters, letters, numbers, and underscores only</Text>\n            </View>\n\n            <View style={styles.inputGroup}>\n              <Text style={styles.label}>Bio</Text>\n              <TextInput\n                style={[styles.input, styles.bioInput]}\n                value={bio}\n                onChangeText={setBio}\n                placeholder=\"Tell people about your vibe\"\n                placeholderTextColor={Colors.textSecondary}\n                maxLength={150}\n                multiline\n                numberOfLines={4}\n                textAlignVertical=\"top\"\n              />\n              <Text style={styles.charCount}>{bio.length}/150</Text>\n            </View>\n          </View>\n        </ScrollView>\n\n        <View style={styles.footer}>\n          <TouchableOpacity \n            style={styles.cancelButton} \n            onPress={handleCancel}\n            disabled={isLoading}\n          >\n            <X size={20} color={Colors.text} />\n            <Text style={styles.cancelButtonText}>Cancel</Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity \n            style={styles.saveButton} \n            onPress={handleSave}\n            disabled={isLoading}\n          >\n            <LinearGradient\n              colors={['#3B82F6', '#2563EB']}\n              start={{ x: 0, y: 0 }}\n              end={{ x: 1, y: 0 }}\n              style={styles.saveButtonGradient}\n            >\n              <Check size={20} color={Colors.text} />\n              <Text style={styles.saveButtonText}>\n                {isLoading ? 'Saving...' : 'Save Changes'}\n              </Text>\n            </LinearGradient>\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    paddingBottom: 100,\n  },\n  avatarSection: {\n    alignItems: 'center',\n    paddingVertical: 32,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  avatarWrapper: {\n    position: 'relative',\n  },\n  avatarEditButton: {\n    position: 'absolute',\n    right: 0,\n    bottom: 0,\n    backgroundColor: Colors.primary,\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 3,\n    borderColor: Colors.background,\n  },\n  avatarHint: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginTop: 12,\n  },\n  form: {\n    padding: 20,\n    gap: 24,\n  },\n  inputGroup: {\n    gap: 8,\n  },\n  label: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    color: Colors.text,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  usernameInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    paddingLeft: 16,\n  },\n  usernamePrefix: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  usernameInput: {\n    flex: 1,\n    padding: 16,\n    paddingLeft: 4,\n    color: Colors.text,\n    fontSize: 16,\n  },\n  bioInput: {\n    minHeight: 100,\n    textAlignVertical: 'top',\n  },\n  hint: {\n    color: Colors.textSecondary,\n    fontSize: 13,\n  },\n  charCount: {\n    color: Colors.textSecondary,\n    fontSize: 13,\n    textAlign: 'right',\n  },\n  footer: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    gap: 12,\n    padding: 20,\n    backgroundColor: Colors.background,\n    borderTopWidth: 1,\n    borderTopColor: Colors.border,\n  },\n  cancelButton: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 16,\n    borderRadius: 24,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  cancelButtonText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  saveButton: {\n    flex: 1,\n    borderRadius: 24,\n    overflow: 'hidden',\n  },\n  saveButtonGradient: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 16,\n  },\n  saveButtonText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '700',\n  },\n});\n","import { Story } from '@/types';\nimport { mockUsers } from './users';\n\nexport const mockStories: Story[] = [\n  {\n    id: '1',\n    userId: '5',\n    username: 'alex',\n    profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n    viewed: false,\n    isLive: true,\n    author: {\n      id: '5',\n      username: 'alexj',\n      displayName: 'Alex Johnson',\n      profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n      isVerified: true,\n      vibeScore: 95,\n    },\n    mediaUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    content: 'Beautiful sunset today! ',\n    createdAt: new Date(Date.now() - 1000 * 60 * 30).toISOString(),\n    storyCount: 3,\n    isSpecialEvent: false,\n    vibeScore: 95,\n  },\n  {\n    id: '2',\n    userId: '1',\n    username: 'sarah',\n    profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n    viewed: false,\n    isLive: false,\n    author: {\n      id: '1',\n      username: 'sarah_vibes',\n      displayName: 'Sarah Chen',\n      profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n      isVerified: true,\n      vibeScore: 88,\n    },\n    mediaUrl: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    content: 'Coffee vibes ',\n    createdAt: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n    storyCount: 2,\n    isSpecialEvent: false,\n    vibeScore: 88,\n  },\n  {\n    id: '3',\n    userId: '2',\n    username: 'mike',\n    profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n    viewed: true,\n    isLive: false,\n    author: {\n      id: '2',\n      username: 'mike_foodie',\n      displayName: 'Mike Rodriguez',\n      profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n      isVerified: false,\n      vibeScore: 72,\n    },\n    mediaUrl: 'https://images.unsplash.com/photo-1563379926898-05f4575a45d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    content: 'Cooking something delicious! ',\n    createdAt: new Date(Date.now() - 1000 * 60 * 120).toISOString(),\n    storyCount: 1,\n    isSpecialEvent: false,\n    vibeScore: 72,\n  },\n  {\n    id: '4',\n    userId: '3',\n    username: 'taylor',\n    profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n    viewed: false,\n    isLive: false,\n    author: {\n      id: '3',\n      username: 'taylor_sync',\n      displayName: 'Taylor Kim',\n      profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n      isVerified: false,\n      vibeScore: 100,\n    },\n    mediaUrl: 'https://images.unsplash.com/photo-1498049794561-7780e7231661?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    content: 'Working on some code ',\n    createdAt: new Date(Date.now() - 1000 * 60 * 180).toISOString(),\n    storyCount: 4,\n    isSpecialEvent: true,\n    vibeScore: 100,\n  }\n];","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Dimensions, StatusBar, Animated, PanResponder, Platform } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { VoiceNotePlayer } from '@/components/ui/VoiceNotePlayer';\nimport { X, Heart, MessageCircle, Send, MoreHorizontal } from 'lucide-react-native';\nimport { Image } from 'expo-image';\nimport { mockStories } from '@/mocks/stories';\nimport { Story } from '@/types';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport * as Haptics from 'expo-haptics';\n\nconst { width, height } = Dimensions.get('window');\n\nexport default function StoryViewScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { colors } = useTheme();\n  const { isAuthenticated } = useAuth();\n  const [story, setStory] = useState<Story | null>(null);\n  const [isLiked, setIsLiked] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const progressAnim = useRef(new Animated.Value(0)).current;\n  const timerRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    const foundStory = mockStories.find(s => s.id === id);\n    if (foundStory) {\n      setStory(foundStory);\n      setIsLiked(Math.random() > 0.5);\n    }\n  }, [id, isAuthenticated]);\n\n  useEffect(() => {\n    if (!story || isPaused) return;\n    \n    const duration = story.mediaType === 'voice' && story.voiceNote \n      ? story.voiceNote.duration * 1000 \n      : 5000;\n    const interval = 50;\n    const increment = (interval / duration) * 100;\n    \n    timerRef.current = setInterval(() => {\n      setProgress(prev => {\n        const newProgress = prev + increment;\n        if (newProgress >= 100) {\n          if (timerRef.current) clearInterval(timerRef.current);\n          router.back();\n          return 100;\n        }\n        return newProgress;\n      });\n    }, interval);\n    \n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [story, isPaused]);\n\n  useEffect(() => {\n    Animated.timing(progressAnim, {\n      toValue: progress,\n      duration: 50,\n      useNativeDriver: false,\n    }).start();\n  }, [progress, progressAnim]);\n\n  const panResponder = useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        setIsPaused(true);\n      },\n      onPanResponderRelease: (_, gestureState) => {\n        setIsPaused(false);\n        \n        if (Math.abs(gestureState.dy) > 50) {\n          router.back();\n        }\n      },\n    })\n  ).current;\n\n  const handleClose = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    router.back();\n  };\n\n  const handleLike = () => {\n    if (Platform.OS !== 'web') {\n      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Medium);\n    }\n    setIsLiked(!isLiked);\n  };\n\n  const handleComment = () => {\n    if (Platform.OS !== 'web') {\n      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n    }\n    console.log('Comment on story:', story?.id);\n  };\n\n  const handleShare = () => {\n    if (Platform.OS !== 'web') {\n      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n    }\n    console.log('Share story:', story?.id);\n  };\n\n  const handleUserPress = () => {\n    if (story) {\n      router.push(`/user/${story.author.id}`);\n    }\n  };\n\n  if (!story) {\n    return (\n      <View style={[styles.errorContainer, { backgroundColor: colors.background }]}>\n        <Text style={[styles.errorText, { color: colors.text }]}>Story not found</Text>\n        <TouchableOpacity onPress={handleClose} style={[styles.backButton, { backgroundColor: colors.primary }]}>\n          <Text style={styles.backButtonText}>Go Back</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  const isVoiceStory = story.mediaType === 'voice';\n  const backgroundColor = story.backgroundColor || '#1a1a1a';\n  const textColor = story.textColor || '#FFFFFF';\n\n  return (\n    <View style={styles.container} {...panResponder.panHandlers}>\n      <StatusBar barStyle=\"light-content\" backgroundColor=\"black\" />\n      <Stack.Screen options={{ headerShown: false }} />\n      \n      {!isVoiceStory && story.mediaUrl ? (\n        <Image\n          source={{ uri: story.mediaUrl }}\n          style={styles.backgroundMedia}\n          contentFit=\"cover\"\n        />\n      ) : (\n        <LinearGradient\n          colors={[backgroundColor, backgroundColor + 'DD']}\n          style={styles.backgroundMedia}\n        />\n      )}\n      \n      <View style={styles.overlay} />\n      \n      <View style={styles.progressContainer}>\n        <View style={styles.progressBar}>\n          <Animated.View \n            style={[\n              styles.progressFill, \n              { \n                width: progressAnim.interpolate({\n                  inputRange: [0, 100],\n                  outputRange: ['0%', '100%'],\n                }),\n              }\n            ]} \n          />\n        </View>\n      </View>\n      \n      <View style={styles.header}>\n        <TouchableOpacity style={styles.userInfo} onPress={handleUserPress}>\n          <Avatar\n            uri={story.author.profileImage}\n            size={36}\n            style={styles.authorAvatar}\n          />\n          <View style={styles.authorInfo}>\n            <View style={styles.authorName}>\n              <Text style={styles.authorDisplayName}>{story.author.displayName}</Text>\n              {story.author.isVerified && <VerifiedBadge size={14} />}\n            </View>\n            <Text style={styles.storyTime}>{formatTime(story.createdAt)}</Text>\n          </View>\n        </TouchableOpacity>\n        \n        <View style={styles.headerActions}>\n          <TouchableOpacity \n            style={styles.headerButton}\n            onPress={() => {\n              if (Platform.OS !== 'web') {\n                Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n              }\n              setIsPaused(true);\n              if (timerRef.current) {\n                clearInterval(timerRef.current);\n              }\n              console.log('Story options for:', story.id);\n            }}\n          >\n            <MoreHorizontal size={24} color=\"#FFFFFF\" />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.headerButton} onPress={handleClose}>\n            <X size={24} color=\"#FFFFFF\" />\n          </TouchableOpacity>\n        </View>\n      </View>\n      \n      <View style={styles.contentContainer}>\n        {isVoiceStory && story.voiceNote ? (\n          <View style={styles.voiceStoryContainer}>\n            <View style={styles.voiceAvatarContainer}>\n              <LinearGradient\n                colors={['#3B82F6', '#06B6D4']}\n                style={styles.voiceAvatarGradient}\n              >\n                <View style={[styles.voiceAvatarInner, { backgroundColor: colors.background }]}>\n                  <Avatar uri={story.author.profileImage} size={120} />\n                </View>\n              </LinearGradient>\n            </View>\n            \n            <VoiceNotePlayer\n              uri={story.voiceNote.url}\n              duration={story.voiceNote.duration}\n              waveform={story.voiceNote.waveform}\n              size=\"large\"\n            />\n            \n            {story.content && (\n              <Text style={[styles.voiceCaption, { color: textColor }]}>\n                {story.content}\n              </Text>\n            )}\n          </View>\n        ) : (\n          story.content && (\n            <Text style={[styles.storyContent, { color: textColor }]}>\n              {story.content}\n            </Text>\n          )\n        )}\n      </View>\n      \n      <View style={styles.actionsContainer}>\n        <TouchableOpacity style={styles.actionButton} onPress={handleLike}>\n          <Heart \n            size={28} \n            color={isLiked ? '#FF0000' : '#FFFFFF'} \n            fill={isLiked ? '#FF0000' : 'transparent'}\n          />\n        </TouchableOpacity>\n        \n        <TouchableOpacity style={styles.actionButton} onPress={handleComment}>\n          <MessageCircle size={28} color=\"#FFFFFF\" />\n        </TouchableOpacity>\n        \n        <TouchableOpacity style={styles.actionButton} onPress={handleShare}>\n          <Send size={28} color=\"#FFFFFF\" />\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nfunction formatTime(timestamp: string) {\n  const now = new Date();\n  const time = new Date(timestamp);\n  const diff = now.getTime() - time.getTime();\n  \n  const minutes = Math.floor(diff / (1000 * 60));\n  const hours = Math.floor(diff / (1000 * 60 * 60));\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  \n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m`;\n  if (hours < 24) return `${hours}h`;\n  return `${days}d`;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000000',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    marginBottom: 20,\n  },\n  backButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n  },\n  backButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  backgroundMedia: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: width,\n    height: height,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: width,\n    height: height,\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\n  },\n  progressContainer: {\n    position: 'absolute',\n    top: 50,\n    left: 8,\n    right: 8,\n    zIndex: 10,\n  },\n  progressBar: {\n    height: 2,\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n    borderRadius: 1,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 1,\n  },\n  header: {\n    position: 'absolute',\n    top: 60,\n    left: 16,\n    right: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    zIndex: 10,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  authorAvatar: {\n    marginRight: 12,\n    borderWidth: 2,\n    borderColor: '#FFFFFF',\n  },\n  authorInfo: {\n    flex: 1,\n  },\n  authorName: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  authorDisplayName: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  storyTime: {\n    color: '#FFFFFF',\n    fontSize: 12,\n    opacity: 0.8,\n    marginTop: 2,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  headerButton: {\n    padding: 4,\n  },\n  contentContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: 0,\n    right: 0,\n    transform: [{ translateY: -100 }],\n    paddingHorizontal: 24,\n    zIndex: 10,\n    alignItems: 'center',\n  },\n  voiceStoryContainer: {\n    alignItems: 'center',\n    width: '100%',\n    gap: 24,\n  },\n  voiceAvatarContainer: {\n    marginBottom: 16,\n  },\n  voiceAvatarGradient: {\n    width: 140,\n    height: 140,\n    borderRadius: 70,\n    padding: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  voiceAvatarInner: {\n    width: 132,\n    height: 132,\n    borderRadius: 66,\n    padding: 6,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  voiceCaption: {\n    fontSize: 16,\n    lineHeight: 22,\n    textAlign: 'center',\n    maxWidth: '90%',\n  },\n  storyContent: {\n    fontSize: 24,\n    lineHeight: 32,\n    textAlign: 'center',\n    fontWeight: '600' as const,\n    textShadowColor: 'rgba(0, 0, 0, 0.8)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 4,\n  },\n  actionsContainer: {\n    position: 'absolute',\n    bottom: 50,\n    right: 16,\n    alignItems: 'center',\n    zIndex: 10,\n    gap: 20,\n  },\n  actionButton: {\n    padding: 8,\n  },\n});\n","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { EmailPreferences } from '@/types/email';\n\nconst DEFAULT_PREFERENCES: Omit<EmailPreferences, 'userId' | 'email'> = {\n  notifications: {\n    friendship_follow: true,\n    playlist_sync: true,\n    voice_note_interaction: true,\n    engagement_boost: true,\n    monthly_digest: true,\n  },\n  unsubscribed: false,\n};\n\nexport const [EmailPreferencesProvider, useEmailPreferences] = createContextHook(() => {\n  const [preferences, setPreferences] = useState<EmailPreferences | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const loadPreferences = useCallback(async () => {\n    try {\n      const stored = await AsyncStorage.getItem('email_preferences');\n      if (stored) {\n        setPreferences(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('[EmailPreferences] Error loading preferences:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadPreferences();\n  }, [loadPreferences]);\n\n  const syncPreferencesWithBackend = useCallback(async (prefs: EmailPreferences) => {\n    try {\n      const API_URL = process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000';\n      \n      await fetch(`${API_URL}/api/trpc/email.updatePreferences`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(prefs),\n      });\n\n      console.log('[EmailPreferences] Synced with backend');\n    } catch (error) {\n      console.error('[EmailPreferences] Error syncing with backend:', error);\n    }\n  }, []);\n\n  const savePreferences = useCallback(async (newPreferences: EmailPreferences) => {\n    try {\n      await AsyncStorage.setItem('email_preferences', JSON.stringify(newPreferences));\n      setPreferences(newPreferences);\n      \n      await syncPreferencesWithBackend(newPreferences);\n    } catch (error) {\n      console.error('[EmailPreferences] Error saving preferences:', error);\n    }\n  }, [syncPreferencesWithBackend]);\n\n  const initializePreferences = useCallback(async (userId: string, email: string) => {\n    const newPreferences: EmailPreferences = {\n      userId,\n      email,\n      ...DEFAULT_PREFERENCES,\n    };\n    \n    await savePreferences(newPreferences);\n  }, [savePreferences]);\n\n  const updateNotificationPreference = useCallback(async (\n    key: keyof EmailPreferences['notifications'],\n    value: boolean\n  ) => {\n    if (!preferences) return;\n\n    const updated: EmailPreferences = {\n      ...preferences,\n      notifications: {\n        ...preferences.notifications,\n        [key]: value,\n      },\n    };\n\n    await savePreferences(updated);\n  }, [preferences, savePreferences]);\n\n  const unsubscribeFromAll = useCallback(async () => {\n    if (!preferences) return;\n\n    const updated: EmailPreferences = {\n      ...preferences,\n      unsubscribed: true,\n      unsubscribedAt: new Date().toISOString(),\n    };\n\n    await savePreferences(updated);\n  }, [preferences, savePreferences]);\n\n  const resubscribe = useCallback(async () => {\n    if (!preferences) return;\n\n    const updated: EmailPreferences = {\n      ...preferences,\n      unsubscribed: false,\n      unsubscribedAt: undefined,\n    };\n\n    await savePreferences(updated);\n  }, [preferences, savePreferences]);\n\n  const canSendEmail = useCallback((emailType: keyof EmailPreferences['notifications']): boolean => {\n    if (!preferences) return false;\n    if (preferences.unsubscribed) return false;\n    return preferences.notifications[emailType];\n  }, [preferences]);\n\n  return useMemo(\n    () => ({\n      preferences,\n      loading,\n      initializePreferences,\n      updateNotificationPreference,\n      unsubscribeFromAll,\n      resubscribe,\n      canSendEmail,\n    }),\n    [preferences, loading, initializePreferences, updateNotificationPreference, unsubscribeFromAll, resubscribe, canSendEmail]\n  );\n});\n","import React from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  Switch,\n  TouchableOpacity,\n  Alert,\n} from 'react-native';\nimport { Stack } from 'expo-router';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useEmailPreferences } from '@/hooks/email-preferences-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Mail, Bell, BellOff, CheckCircle } from 'lucide-react-native';\n\nexport default function EmailPreferencesScreen() {\n  const insets = useSafeAreaInsets();\n  const { colors } = useTheme();\n  const {\n    preferences,\n    loading,\n    updateNotificationPreference,\n    unsubscribeFromAll,\n    resubscribe,\n  } = useEmailPreferences();\n\n  const handleToggle = async (key: keyof NonNullable<typeof preferences>['notifications'], value: boolean) => {\n    await updateNotificationPreference(key, value);\n  };\n\n  const handleUnsubscribeAll = () => {\n    Alert.alert(\n      'Unsubscribe from All Emails',\n      'Are you sure you want to unsubscribe from all promotional and notification emails? You will still receive important transactional emails.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Unsubscribe',\n          style: 'destructive',\n          onPress: async () => {\n            await unsubscribeFromAll();\n            Alert.alert('Success', 'You have been unsubscribed from all emails.');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleResubscribe = async () => {\n    await resubscribe();\n    Alert.alert('Success', 'You have been resubscribed to email notifications.');\n  };\n\n  if (loading || !preferences) {\n    return (\n      <View style={[styles.container, { backgroundColor: colors.background }]}>\n        <Stack.Screen\n          options={{\n            title: 'Email Preferences',\n            headerStyle: { backgroundColor: colors.card },\n            headerTintColor: colors.text,\n          }}\n        />\n        <View style={styles.loadingContainer}>\n          <Text style={[styles.loadingText, { color: colors.textSecondary }]}>\n            Loading preferences...\n          </Text>\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          title: 'Email Preferences',\n          headerStyle: { backgroundColor: colors.card },\n          headerTintColor: colors.text,\n        }}\n      />\n\n      <ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={[\n          styles.scrollContent,\n          { paddingBottom: insets.bottom + 20 },\n        ]}\n      >\n        <View style={[styles.header, { backgroundColor: colors.card }]}>\n          <Mail size={32} color={colors.primary} />\n          <Text style={[styles.headerTitle, { color: colors.text }]}>\n            Email Notifications\n          </Text>\n          <Text style={[styles.headerSubtitle, { color: colors.textSecondary }]}>\n            Manage your email preferences and control what notifications you receive\n          </Text>\n        </View>\n\n        {preferences.unsubscribed && (\n          <View style={[styles.unsubscribedBanner, { backgroundColor: '#FFF3CD' }]}>\n            <BellOff size={20} color=\"#856404\" />\n            <Text style={[styles.unsubscribedText, { color: '#856404' }]}>\n              You are currently unsubscribed from all emails\n            </Text>\n          </View>\n        )}\n\n        <View style={[styles.section, { backgroundColor: colors.card }]}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            Notification Emails\n          </Text>\n          <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n            Choose which notifications you want to receive via email\n          </Text>\n\n          <View style={styles.preferencesList}>\n            <PreferenceItem\n              title=\"Friend Follows\"\n              description=\"Get notified when someone follows you\"\n              value={preferences.notifications.friendship_follow}\n              onValueChange={(value) => handleToggle('friendship_follow', value)}\n              disabled={preferences.unsubscribed}\n              colors={colors}\n            />\n\n            <PreferenceItem\n              title=\"Playlist Updates\"\n              description=\"Get notified when friends update playlists\"\n              value={preferences.notifications.playlist_sync}\n              onValueChange={(value) => handleToggle('playlist_sync', value)}\n              disabled={preferences.unsubscribed}\n              colors={colors}\n            />\n\n            <PreferenceItem\n              title=\"Voice Note Replies\"\n              description=\"Get notified when someone replies with a voice note\"\n              value={preferences.notifications.voice_note_interaction}\n              onValueChange={(value) => handleToggle('voice_note_interaction', value)}\n              disabled={preferences.unsubscribed}\n              colors={colors}\n            />\n\n            <PreferenceItem\n              title=\"Engagement Reminders\"\n              description=\"Get reminded to check back when you've been inactive\"\n              value={preferences.notifications.engagement_boost}\n              onValueChange={(value) => handleToggle('engagement_boost', value)}\n              disabled={preferences.unsubscribed}\n              colors={colors}\n            />\n\n            <PreferenceItem\n              title=\"Monthly Digest\"\n              description=\"Receive a monthly summary of your activity\"\n              value={preferences.notifications.monthly_digest}\n              onValueChange={(value) => handleToggle('monthly_digest', value)}\n              disabled={preferences.unsubscribed}\n              colors={colors}\n            />\n          </View>\n        </View>\n\n        <View style={[styles.section, { backgroundColor: colors.card }]}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            Transactional Emails\n          </Text>\n          <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n            These emails are always sent for security and account management\n          </Text>\n\n          <View style={[styles.transactionalItem, { borderColor: colors.border }]}>\n            <CheckCircle size={20} color={colors.primary} />\n            <View style={styles.transactionalText}>\n              <Text style={[styles.transactionalTitle, { color: colors.text }]}>\n                Account Security\n              </Text>\n              <Text style={[styles.transactionalDescription, { color: colors.textSecondary }]}>\n                Password resets, login alerts, account recovery\n              </Text>\n            </View>\n          </View>\n\n          <View style={[styles.transactionalItem, { borderColor: colors.border }]}>\n            <CheckCircle size={20} color={colors.primary} />\n            <View style={styles.transactionalText}>\n              <Text style={[styles.transactionalTitle, { color: colors.text }]}>\n                Email Verification\n              </Text>\n              <Text style={[styles.transactionalDescription, { color: colors.textSecondary }]}>\n                Verify your email address when signing up\n              </Text>\n            </View>\n          </View>\n\n          <View style={[styles.transactionalItem, { borderColor: colors.border }]}>\n            <CheckCircle size={20} color={colors.primary} />\n            <View style={styles.transactionalText}>\n              <Text style={[styles.transactionalTitle, { color: colors.text }]}>\n                Order Updates\n              </Text>\n              <Text style={[styles.transactionalDescription, { color: colors.textSecondary }]}>\n                Order confirmations, shipping, and delivery notifications\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.actions}>\n          {preferences.unsubscribed ? (\n            <TouchableOpacity\n              style={[styles.resubscribeButton, { backgroundColor: colors.primary }]}\n              onPress={handleResubscribe}\n            >\n              <Bell size={20} color=\"#FFFFFF\" />\n              <Text style={styles.resubscribeButtonText}>Resubscribe to Emails</Text>\n            </TouchableOpacity>\n          ) : (\n            <TouchableOpacity\n              style={[styles.unsubscribeButton, { borderColor: colors.border }]}\n              onPress={handleUnsubscribeAll}\n            >\n              <BellOff size={20} color={colors.textSecondary} />\n              <Text style={[styles.unsubscribeButtonText, { color: colors.textSecondary }]}>\n                Unsubscribe from All\n              </Text>\n            </TouchableOpacity>\n          )}\n        </View>\n\n        <View style={[styles.footer, { backgroundColor: colors.card }]}>\n          <Text style={[styles.footerText, { color: colors.textSecondary }]}>\n            Email: {preferences.email}\n          </Text>\n          {preferences.unsubscribedAt && (\n            <Text style={[styles.footerText, { color: colors.textSecondary }]}>\n              Unsubscribed on: {new Date(preferences.unsubscribedAt).toLocaleDateString()}\n            </Text>\n          )}\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\ninterface PreferenceItemProps {\n  title: string;\n  description: string;\n  value: boolean;\n  onValueChange: (value: boolean) => void;\n  disabled: boolean;\n  colors: any;\n}\n\nfunction PreferenceItem({\n  title,\n  description,\n  value,\n  onValueChange,\n  disabled,\n  colors,\n}: PreferenceItemProps) {\n  return (\n    <View style={[styles.preferenceItem, { borderBottomColor: colors.border }]}>\n      <View style={styles.preferenceContent}>\n        <Text style={[styles.preferenceTitle, { color: colors.text }]}>{title}</Text>\n        <Text style={[styles.preferenceDescription, { color: colors.textSecondary }]}>\n          {description}\n        </Text>\n      </View>\n      <Switch\n        value={value}\n        onValueChange={onValueChange}\n        disabled={disabled}\n        trackColor={{ false: colors.border, true: colors.primary }}\n        thumbColor=\"#FFFFFF\"\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    fontSize: 16,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 16,\n    gap: 16,\n  },\n  header: {\n    padding: 20,\n    borderRadius: 12,\n    alignItems: 'center',\n    gap: 12,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  unsubscribedBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n    padding: 16,\n    borderRadius: 8,\n  },\n  unsubscribedText: {\n    flex: 1,\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  section: {\n    padding: 20,\n    borderRadius: 12,\n    gap: 12,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n  },\n  sectionDescription: {\n    fontSize: 14,\n  },\n  preferencesList: {\n    marginTop: 8,\n  },\n  preferenceItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n  },\n  preferenceContent: {\n    flex: 1,\n    marginRight: 16,\n  },\n  preferenceTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  preferenceDescription: {\n    fontSize: 14,\n  },\n  transactionalItem: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    gap: 12,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  transactionalText: {\n    flex: 1,\n  },\n  transactionalTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  transactionalDescription: {\n    fontSize: 14,\n  },\n  actions: {\n    marginTop: 8,\n  },\n  unsubscribeButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    padding: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n  },\n  unsubscribeButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  resubscribeButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    padding: 16,\n    borderRadius: 8,\n  },\n  resubscribeButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n  footer: {\n    padding: 16,\n    borderRadius: 8,\n    gap: 8,\n  },\n  footerText: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, Alert } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { ArrowLeft, Eye, EyeOff, Check, X } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { StatusBar } from 'expo-status-bar';\n\ninterface PasswordRequirement {\n  label: string;\n  met: boolean;\n}\n\nexport default function ResetPasswordScreen() {\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const getPasswordStrength = (password: string): 'weak' | 'medium' | 'strong' => {\n    let strength = 0;\n    \n    if (password.length >= 8) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/[0-9]/.test(password)) strength++;\n    if (/[^A-Za-z0-9]/.test(password)) strength++;\n\n    if (strength <= 1) return 'weak';\n    if (strength <= 2) return 'medium';\n    return 'strong';\n  };\n\n  const getPasswordRequirements = (password: string): PasswordRequirement[] => {\n    return [\n      { label: 'At least 8 characters', met: password.length >= 8 },\n      { label: 'One uppercase letter', met: /[A-Z]/.test(password) },\n      { label: 'One number', met: /[0-9]/.test(password) },\n      { label: 'One special character (optional)', met: /[^A-Za-z0-9]/.test(password) },\n    ];\n  };\n\n  const strength = getPasswordStrength(newPassword);\n  const requirements = getPasswordRequirements(newPassword);\n  const isPasswordValid = requirements.slice(0, 3).every(req => req.met);\n\n  const getStrengthColor = () => {\n    switch (strength) {\n      case 'weak': return Colors.error;\n      case 'medium': return '#FFA500';\n      case 'strong': return Colors.success;\n      default: return Colors.border;\n    }\n  };\n\n  const getStrengthWidth = () => {\n    switch (strength) {\n      case 'weak': return '33%';\n      case 'medium': return '66%';\n      case 'strong': return '100%';\n      default: return '0%';\n    }\n  };\n\n  const handleResetPassword = async () => {\n    if (!isPasswordValid) {\n      setError('Password does not meet requirements');\n      return;\n    }\n\n    if (newPassword !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      Alert.alert(\n        'Password Reset Successful',\n        'Your password has been reset successfully. You can now login with your new password.',\n        [\n          {\n            text: 'Login',\n            onPress: () => router.replace('/auth'),\n          },\n        ]\n      );\n    } catch (err) {\n      setError('Failed to reset password. Please try again.');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: Colors.background },\n          headerTintColor: Colors.text,\n          headerTitle: 'Reset Password',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <View style={styles.content}>\n        <View style={styles.iconContainer}>\n          <View style={styles.iconCircle}>\n            <Text style={styles.iconText}></Text>\n          </View>\n        </View>\n\n        <Text style={styles.title}>Create New Password</Text>\n        <Text style={styles.subtitle}>\n          Your new password must be different from previously used passwords\n        </Text>\n\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n\n        <View style={styles.inputContainer}>\n          <TextInput\n            style={styles.input}\n            placeholder=\"New Password\"\n            placeholderTextColor={Colors.textSecondary}\n            value={newPassword}\n            onChangeText={(text) => {\n              setNewPassword(text);\n              setError('');\n            }}\n            secureTextEntry={!showNewPassword}\n            autoCapitalize=\"none\"\n          />\n          <TouchableOpacity\n            style={styles.eyeIcon}\n            onPress={() => setShowNewPassword(!showNewPassword)}\n          >\n            {showNewPassword ? (\n              <EyeOff size={20} color={Colors.textSecondary} />\n            ) : (\n              <Eye size={20} color={Colors.textSecondary} />\n            )}\n          </TouchableOpacity>\n        </View>\n\n        {newPassword.length > 0 && (\n          <>\n            <View style={styles.strengthContainer}>\n              <View style={styles.strengthBarBackground}>\n                <View\n                  style={[\n                    styles.strengthBarFill,\n                    { width: getStrengthWidth(), backgroundColor: getStrengthColor() },\n                  ]}\n                />\n              </View>\n              <Text style={[styles.strengthText, { color: getStrengthColor() }]}>\n                {strength.charAt(0).toUpperCase() + strength.slice(1)}\n              </Text>\n            </View>\n\n            <View style={styles.requirementsContainer}>\n              {requirements.map((req, index) => (\n                <View key={index} style={styles.requirementItem}>\n                  {req.met ? (\n                    <Check size={16} color={Colors.success} />\n                  ) : (\n                    <X size={16} color={Colors.textSecondary} />\n                  )}\n                  <Text style={[\n                    styles.requirementText,\n                    req.met && styles.requirementTextMet,\n                  ]}>\n                    {req.label}\n                  </Text>\n                </View>\n              ))}\n            </View>\n          </>\n        )}\n\n        <View style={styles.inputContainer}>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Confirm New Password\"\n            placeholderTextColor={Colors.textSecondary}\n            value={confirmPassword}\n            onChangeText={(text) => {\n              setConfirmPassword(text);\n              setError('');\n            }}\n            secureTextEntry={!showConfirmPassword}\n            autoCapitalize=\"none\"\n          />\n          <TouchableOpacity\n            style={styles.eyeIcon}\n            onPress={() => setShowConfirmPassword(!showConfirmPassword)}\n          >\n            {showConfirmPassword ? (\n              <EyeOff size={20} color={Colors.textSecondary} />\n            ) : (\n              <Eye size={20} color={Colors.textSecondary} />\n            )}\n          </TouchableOpacity>\n        </View>\n\n        <Button\n          title=\"Reset Password\"\n          onPress={handleResetPassword}\n          loading={isLoading}\n          disabled={isLoading || !isPasswordValid || !confirmPassword}\n          style={styles.resetButton}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  content: {\n    flex: 1,\n    padding: 24,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 24,\n  },\n  iconCircle: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconText: {\n    fontSize: 40,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold' as const,\n    color: Colors.text,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n    marginBottom: 32,\n    lineHeight: 20,\n  },\n  errorText: {\n    color: Colors.error,\n    marginBottom: 16,\n    fontSize: 14,\n  },\n  inputContainer: {\n    position: 'relative',\n    marginBottom: 16,\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    paddingRight: 48,\n    color: Colors.text,\n    fontSize: 16,\n  },\n  eyeIcon: {\n    position: 'absolute',\n    right: 16,\n    top: 18,\n  },\n  strengthContainer: {\n    marginBottom: 16,\n  },\n  strengthBarBackground: {\n    height: 4,\n    backgroundColor: Colors.border,\n    borderRadius: 2,\n    overflow: 'hidden',\n    marginBottom: 8,\n  },\n  strengthBarFill: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  strengthText: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    textAlign: 'right',\n  },\n  requirementsContainer: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 24,\n  },\n  requirementItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n  },\n  requirementText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n  },\n  requirementTextMet: {\n    color: Colors.success,\n  },\n  resetButton: {\n    marginTop: 8,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, TextInput } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Button } from '@/components/ui/Button';\nimport { ArrowLeft, Search, X } from 'lucide-react-native';\nimport { mockUsers } from '@/mocks/users';\nimport { User } from '@/types';\n\nexport default function FollowingScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { isAuthenticated, user: currentUser } = useAuth();\n  const [following, setFollowing] = useState<User[]>([]);\n  const [filteredFollowing, setFilteredFollowing] = useState<User[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [followingStatus, setFollowingStatus] = useState<Record<string, boolean>>({});\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n\n    const mockFollowing = mockUsers.filter(u => u.id !== id);\n    setFollowing(mockFollowing);\n    setFilteredFollowing(mockFollowing);\n\n    const initialStatus: Record<string, boolean> = {};\n    mockFollowing.forEach(user => {\n      initialStatus[user.id] = true;\n    });\n    setFollowingStatus(initialStatus);\n  }, [id, isAuthenticated]);\n\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setFilteredFollowing(following);\n    } else {\n      const filtered = following.filter(user =>\n        user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        user.displayName.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n      setFilteredFollowing(filtered);\n    }\n  }, [searchQuery, following]);\n\n  const handleFollowToggle = (userId: string) => {\n    setFollowingStatus(prev => ({\n      ...prev,\n      [userId]: !prev[userId]\n    }));\n  };\n\n  const handleUserPress = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  const renderFollowing = ({ item }: { item: User }) => {\n    const isFollowing = followingStatus[item.id];\n    const isSelf = currentUser?.id === item.id;\n    \n    const mutualFollowers = mockUsers.slice(0, Math.floor(Math.random() * 3) + 1);\n    const mutualCount = mutualFollowers.length;\n\n    return (\n      <TouchableOpacity\n        style={styles.followingItem}\n        onPress={() => handleUserPress(item.id)}\n      >\n        <Avatar uri={item.profileImage} size={48} />\n        <View style={styles.followingInfo}>\n          <View style={styles.followingNameRow}>\n            <Text style={styles.followingDisplayName}>{item.displayName}</Text>\n            {item.isVerified && <VerifiedBadge size={16} />}\n          </View>\n          <Text style={styles.followingUsername}>@{item.username}</Text>\n          {mutualCount > 0 && (\n            <Text style={styles.mutualText}>\n              Followed by {mutualFollowers[0].username}\n              {mutualCount > 1 && ` & ${mutualCount - 1} other${mutualCount > 2 ? 's' : ''}`}\n            </Text>\n          )}\n        </View>\n        {!isSelf && (\n          <Button\n            title={isFollowing ? 'Following' : 'Follow'}\n            onPress={() => handleFollowToggle(item.id)}\n            style={[\n              styles.followButton,\n              isFollowing && styles.followingButton\n            ]}\n            textStyle={[\n              styles.followButtonText,\n              isFollowing && styles.followingButtonText\n            ]}\n          />\n        )}\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen\n        options={{\n          title: 'Following',\n          headerStyle: { backgroundColor: Colors.background },\n          headerTitleStyle: { color: Colors.text },\n          headerTintColor: Colors.text,\n          headerLeft: () => (\n            <TouchableOpacity\n              onPress={() => router.back()}\n              style={styles.headerBackButton}\n            >\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <View style={styles.searchContainer}>\n        <View style={styles.searchInputContainer}>\n          <Search size={20} color={Colors.textSecondary} />\n          <TextInput\n            style={styles.searchInput}\n            placeholder=\"Search following...\"\n            placeholderTextColor={Colors.textSecondary}\n            value={searchQuery}\n            onChangeText={setSearchQuery}\n          />\n          {searchQuery.length > 0 && (\n            <TouchableOpacity onPress={() => setSearchQuery('')}>\n              <X size={20} color={Colors.textSecondary} />\n            </TouchableOpacity>\n          )}\n        </View>\n      </View>\n\n      <FlatList\n        data={filteredFollowing}\n        keyExtractor={(item) => item.id}\n        renderItem={renderFollowing}\n        contentContainerStyle={styles.listContent}\n        showsVerticalScrollIndicator={false}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>\n              {searchQuery ? 'No users found' : 'Not following anyone yet'}\n            </Text>\n          </View>\n        }\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  headerBackButton: {\n    marginLeft: 16,\n  },\n  searchContainer: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  searchInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    paddingHorizontal: 12,\n    height: 44,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    color: Colors.text,\n  },\n  listContent: {\n    paddingVertical: 8,\n  },\n  followingItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  followingInfo: {\n    flex: 1,\n    marginLeft: 12,\n  },\n  followingNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    marginBottom: 2,\n  },\n  followingDisplayName: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  followingUsername: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  mutualText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    marginTop: 2,\n  },\n  followButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n    minWidth: 100,\n  },\n  followingButton: {\n    backgroundColor: Colors.cardLight,\n  },\n  followButtonText: {\n    fontSize: 14,\n  },\n  followingButtonText: {\n    color: Colors.text,\n  },\n  emptyContainer: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n  },\n});\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { StyleSheet, View, FlatList, Dimensions, TouchableOpacity, Text, Platform, Animated, Image, Pressable } from 'react-native';\nimport { Video, ResizeMode, AVPlaybackStatus } from 'expo-av';\nimport { useTheme } from '@/hooks/theme-store';\nimport { mockVibes } from '@/mocks/vibes';\nimport { Vibe } from '@/types';\nimport { ColorScheme } from '@/constants/colors';\nimport { Heart, MessageCircle, Send, Bookmark, Music2, RefreshCw, Repeat2, Play, Pause } from 'lucide-react-native';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { router } from 'expo-router';\nimport { useIsFocused } from '@react-navigation/native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { BlurView } from 'expo-blur';\n\nimport { useProfileViews } from '@/hooks/profile-views-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { CommentDrawer } from '@/components/engagement/CommentDrawer';\nimport { ShareSheet } from '@/components/engagement/ShareSheet';\n\nconst getScreenDimensions = () => {\n  if (Platform.OS === 'web') {\n    return {\n      height: typeof window !== 'undefined' ? window.innerHeight : 800,\n      width: typeof window !== 'undefined' ? window.innerWidth : 400\n    };\n  }\n  return Dimensions.get('window');\n};\n\nconst { height: SCREEN_HEIGHT, width: SCREEN_WIDTH } = getScreenDimensions();\n\nconst formatNumber = (num: number): string => {\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  }\n  if (num >= 1000) {\n    return (num / 1000).toFixed(1).replace(/\\.0$/, '') + 'K';\n  }\n  return num.toString();\n};\n\ninterface VibeItemProps {\n  vibe: Vibe;\n  isActive: boolean;\n  onLike: (id: string) => void;\n  onComment: (id: string) => void;\n  onShare: (id: string) => void;\n  onSave: (id: string) => void;\n  onRevibe: (id: string) => void;\n  onUserPress: (userId: string) => void;\n  onFollowPress: (userId: string) => void;\n  friendsWhoLiked: any[];\n  colors: ColorScheme;\n}\n\nconst VibeItem = React.memo<VibeItemProps>(function VibeItem({\n  vibe,\n  isActive,\n  onLike,\n  onComment,\n  onShare,\n  onSave,\n  onRevibe,\n  onUserPress,\n  onFollowPress,\n  friendsWhoLiked,\n  colors,\n}) {\n  const videoRef = useRef<Video>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [, setShowPlayPause] = useState(false);\n  const [showProgressBar, setShowProgressBar] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const likeScale = useRef(new Animated.Value(1)).current;\n  const playPauseOpacity = useRef(new Animated.Value(0)).current;\n  const playPauseScale = useRef(new Animated.Value(0)).current;\n  const progressBarOpacity = useRef(new Animated.Value(0)).current;\n  \n  const hideProgressTimeout = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  React.useEffect(() => {\n    if (isActive && videoRef.current) {\n      videoRef.current.playAsync();\n      setIsPlaying(true);\n    } else if (!isActive && videoRef.current) {\n      videoRef.current.pauseAsync();\n      setIsPlaying(false);\n    }\n    \n    return () => {\n      if (videoRef.current) {\n        videoRef.current.pauseAsync();\n      }\n    };\n  }, [isActive]);\n\n  const handlePlaybackStatusUpdate = (status: AVPlaybackStatus) => {\n    if (status.isLoaded) {\n      setIsPlaying(status.isPlaying);\n      setCurrentTime(status.positionMillis / 1000);\n      setDuration(status.durationMillis ? status.durationMillis / 1000 : 0);\n      if (status.didJustFinish) {\n        videoRef.current?.replayAsync();\n      }\n    }\n  };\n\n  const togglePlayPause = async () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        await videoRef.current.pauseAsync();\n        setShowPlayPause(true);\n      } else {\n        await videoRef.current.playAsync();\n        setShowPlayPause(false);\n      }\n      \n      Animated.sequence([\n        Animated.parallel([\n          Animated.timing(playPauseOpacity, {\n            toValue: 1,\n            duration: 100,\n            useNativeDriver: true,\n          }),\n          Animated.spring(playPauseScale, {\n            toValue: 1,\n            useNativeDriver: true,\n            tension: 50,\n            friction: 5,\n          }),\n        ]),\n        Animated.delay(500),\n        Animated.parallel([\n          Animated.timing(playPauseOpacity, {\n            toValue: 0,\n            duration: 200,\n            useNativeDriver: true,\n          }),\n          Animated.spring(playPauseScale, {\n            toValue: 0,\n            useNativeDriver: true,\n            tension: 50,\n            friction: 5,\n          }),\n        ]),\n      ]).start(() => {\n        if (isPlaying) {\n          setShowPlayPause(false);\n        }\n      });\n    }\n  };\n\n  const handleSingleTap = () => {\n    togglePlayPause();\n    showProgressBarTemporarily();\n  };\n\n  const showProgressBarTemporarily = () => {\n    setShowProgressBar(true);\n    Animated.timing(progressBarOpacity, {\n      toValue: 1,\n      duration: 200,\n      useNativeDriver: true,\n    }).start();\n\n    if (hideProgressTimeout.current) {\n      clearTimeout(hideProgressTimeout.current);\n    }\n\n    hideProgressTimeout.current = setTimeout(() => {\n      Animated.timing(progressBarOpacity, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }).start(() => {\n        setShowProgressBar(false);\n      });\n    }, 3000);\n  };\n\n  const handleProgressBarPress = (event: any) => {\n    const { locationX } = event.nativeEvent;\n    const screenWidth = SCREEN_WIDTH - 32;\n    const percentage = locationX / screenWidth;\n    const newPosition = percentage * duration;\n    \n    videoRef.current?.setPositionAsync(newPosition * 1000);\n    showProgressBarTemporarily();\n  };\n\n  const handleLikePress = () => {\n    onLike(vibe.id);\n    Animated.sequence([\n      Animated.spring(likeScale, {\n        toValue: 1.3,\n        useNativeDriver: true,\n        tension: 100,\n        friction: 3,\n      }),\n      Animated.spring(likeScale, {\n        toValue: 1,\n        useNativeDriver: true,\n        tension: 100,\n        friction: 3,\n      }),\n    ]).start();\n  };\n\n  const handleFollowPress = () => {\n    setIsFollowing(!isFollowing);\n    onFollowPress(vibe.userId);\n  };\n\n  return (\n    <View style={styles.vibeContainer}>\n      <Pressable\n        style={styles.videoContainer}\n        onPress={handleSingleTap}\n      >\n        <Video\n          ref={videoRef}\n          source={{ uri: vibe.videoUrl }}\n          style={styles.video}\n          resizeMode={ResizeMode.COVER}\n          isLooping\n          shouldPlay={isActive}\n          onPlaybackStatusUpdate={handlePlaybackStatusUpdate}\n        />\n        \n        <Animated.View\n          style={[\n            styles.playPauseOverlay,\n            {\n              opacity: playPauseOpacity,\n              transform: [{ scale: playPauseScale }],\n            },\n          ]}\n        >\n          <View style={styles.playPauseIcon}>\n            {isPlaying ? (\n              <Pause size={60} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n            ) : (\n              <Play size={60} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n            )}\n          </View>\n        </Animated.View>\n      </Pressable>\n\n      <Animated.View\n        style={[\n          styles.progressBarContainer,\n          {\n            opacity: progressBarOpacity,\n          },\n        ]}\n        pointerEvents={showProgressBar ? 'auto' : 'none'}\n      >\n        <Pressable\n          style={styles.progressBarTouchable}\n          onPress={handleProgressBarPress}\n        >\n          <View style={styles.progressBarBackground}>\n            <View\n              style={[\n                styles.progressBarFill,\n                {\n                  width: `${duration > 0 ? (currentTime / duration) * 100 : 0}%`,\n                },\n              ]}\n            />\n          </View>\n        </Pressable>\n      </Animated.View>\n\n      <LinearGradient\n        colors={['transparent', 'rgba(0,0,0,0.8)']}\n        style={styles.gradient}\n      />\n\n      <View style={styles.rightActions}>\n        <View style={styles.profileAvatarContainer}>\n          <TouchableOpacity onPress={() => onUserPress(vibe.userId)}>\n            <Avatar uri={vibe.profileImage} size={48} />\n          </TouchableOpacity>\n          {!isFollowing && (\n            <TouchableOpacity \n              style={styles.followButton}\n              onPress={handleFollowPress}\n              activeOpacity={0.8}\n            >\n              <View style={styles.followButtonInner}>\n                <Text style={styles.followButtonText}>+</Text>\n              </View>\n            </TouchableOpacity>\n          )}\n        </View>\n\n        <Animated.View style={[styles.actionItem, { transform: [{ scale: likeScale }] }]}>\n          <TouchableOpacity onPress={handleLikePress} activeOpacity={0.7}>\n            <Heart\n              size={32}\n              color={vibe.isLiked ? '#FF3B5C' : '#FFFFFF'}\n              fill={vibe.isLiked ? '#FF3B5C' : 'transparent'}\n              strokeWidth={2}\n            />\n          </TouchableOpacity>\n          <Text style={styles.actionText}>{formatNumber(vibe.likes)}</Text>\n        </Animated.View>\n\n        <TouchableOpacity onPress={() => onComment(vibe.id)} style={styles.actionItem} activeOpacity={0.7}>\n          <MessageCircle size={32} color=\"#FFFFFF\" strokeWidth={2} />\n          <Text style={styles.actionText}>{formatNumber(vibe.comments)}</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity onPress={() => onRevibe(vibe.id)} style={styles.actionItem} activeOpacity={0.7}>\n          <Repeat2 size={32} color=\"#FFFFFF\" strokeWidth={2} />\n          <Text style={styles.actionText}>{formatNumber(vibe.shares)}</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity onPress={() => onShare(vibe.id)} style={styles.actionItem} activeOpacity={0.7}>\n          <Send size={30} color=\"#FFFFFF\" strokeWidth={2} />\n        </TouchableOpacity>\n\n        <TouchableOpacity onPress={() => onSave(vibe.id)} style={styles.actionItem} activeOpacity={0.7}>\n          <Bookmark\n            size={30}\n            color={vibe.isSaved ? '#FFD700' : '#FFFFFF'}\n            fill={vibe.isSaved ? '#FFD700' : 'transparent'}\n            strokeWidth={2}\n          />\n        </TouchableOpacity>\n\n        {vibe.soundName && (\n          <TouchableOpacity style={styles.soundButton} activeOpacity={0.8}>\n            <Image\n              source={{ uri: vibe.profileImage }}\n              style={styles.soundImage}\n            />\n          </TouchableOpacity>\n        )}\n      </View>\n\n      <View style={styles.bottomInfo}>\n        <TouchableOpacity\n          style={styles.userInfoRow}\n          onPress={() => onUserPress(vibe.userId)}\n        >\n          <Text style={styles.displayName}>@{vibe.username}</Text>\n          {vibe.isVerified && <VerifiedBadge size={16} />}\n        </TouchableOpacity>\n\n        {vibe.caption && (\n          <Text style={styles.caption} numberOfLines={3}>\n            {vibe.caption}\n          </Text>\n        )}\n\n        {vibe.soundName && (\n          <TouchableOpacity style={styles.soundInfo}>\n            <Music2 size={12} color=\"#FFFFFF\" />\n            <Text style={styles.soundText} numberOfLines={1}>\n              {vibe.soundName}  {vibe.soundArtist}\n            </Text>\n          </TouchableOpacity>\n        )}\n      </View>\n\n\n    </View>\n  );\n}, (prevProps, nextProps) => {\n  return (\n    prevProps.vibe.id === nextProps.vibe.id &&\n    prevProps.isActive === nextProps.isActive &&\n    prevProps.vibe.isLiked === nextProps.vibe.isLiked &&\n    prevProps.vibe.isSaved === nextProps.vibe.isSaved &&\n    prevProps.vibe.likes === nextProps.vibe.likes &&\n    prevProps.vibe.comments === nextProps.vibe.comments &&\n    prevProps.vibe.shares === nextProps.vibe.shares\n  );\n});\n\nexport default function VibezScreen() {\n  const { colors, isDark } = useTheme();\n  const { user } = useAuth();\n  const { getFriendsWhoLiked, trackVibeLike } = useProfileViews();\n  const [vibes, setVibes] = useState(mockVibes);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [showRefreshButton, setShowRefreshButton] = useState(false);\n  const [newVibesCount, setNewVibesCount] = useState(0);\n  const [selectedVibeForComment, setSelectedVibeForComment] = useState<Vibe | null>(null);\n  const [selectedVibeForShare, setSelectedVibeForShare] = useState<Vibe | null>(null);\n  const flatListRef = useRef<FlatList>(null);\n  const buttonScale = useRef(new Animated.Value(0)).current;\n  const lastCheckTime = useRef(Date.now());\n  const checkInterval = useRef<ReturnType<typeof setInterval> | null>(null);\n  const isFocused = useIsFocused();\n  \n  const friendIds = ['1', '2', '3', '4', '5'];\n\n  const onViewableItemsChanged = useRef(({ viewableItems }: any) => {\n    if (viewableItems.length > 0) {\n      setCurrentIndex(viewableItems[0].index || 0);\n    }\n  }).current;\n\n  const viewabilityConfig = useRef({\n    itemVisiblePercentThreshold: 80,\n  }).current;\n\n  const handleLike = useCallback((id: string) => {\n    setVibes((prev) =>\n      prev.map((vibe) =>\n        vibe.id === id\n          ? {\n              ...vibe,\n              isLiked: !vibe.isLiked,\n              likes: vibe.isLiked ? vibe.likes - 1 : vibe.likes + 1,\n            }\n          : vibe\n      )\n    );\n    \n    if (user?.id) {\n      trackVibeLike(id, user.id);\n    }\n  }, [user, trackVibeLike]);\n\n  const handleComment = useCallback((id: string) => {\n    const vibe = vibes.find(v => v.id === id);\n    if (vibe) {\n      setSelectedVibeForComment(vibe);\n    }\n  }, [vibes]);\n\n  const handleShare = useCallback((id: string) => {\n    const vibe = vibes.find(v => v.id === id);\n    if (vibe) {\n      setSelectedVibeForShare(vibe);\n    }\n  }, [vibes]);\n\n  const handleRevibe = useCallback((id: string) => {\n    console.log('Revibe:', id);\n    setVibes((prev) =>\n      prev.map((vibe) =>\n        vibe.id === id\n          ? { ...vibe, shares: vibe.shares + 1 }\n          : vibe\n      )\n    );\n  }, []);\n\n  const handleFollowPress = useCallback((userId: string) => {\n    console.log('Follow user:', userId);\n  }, []);\n\n  const handleSave = useCallback((id: string) => {\n    setVibes((prev) =>\n      prev.map((vibe) =>\n        vibe.id === id ? { ...vibe, isSaved: !vibe.isSaved } : vibe\n      )\n    );\n  }, []);\n\n  const handleUserPress = useCallback((userId: string) => {\n    router.push(`/user/${userId}`);\n  }, []);\n\n  const generateNewVibes = useCallback((): Vibe[] => {\n    const newVibes: Vibe[] = [];\n    const numNewVibes = Math.floor(Math.random() * 3) + 1;\n\n    for (let i = 0; i < numNewVibes; i++) {\n      const randomVibe = mockVibes[Math.floor(Math.random() * mockVibes.length)];\n      const newVibe: Vibe = {\n        ...randomVibe,\n        id: `vibe_${Date.now()}_${i}`,\n        timestamp: 'Just now',\n        likes: Math.floor(Math.random() * 1000),\n        comments: Math.floor(Math.random() * 100),\n        shares: Math.floor(Math.random() * 50),\n        views: Math.floor(Math.random() * 10000),\n        isLiked: false,\n        isSaved: false,\n      };\n      newVibes.push(newVibe);\n    }\n\n    return newVibes;\n  }, []);\n\n  const checkForNewVibes = useCallback(() => {\n    const currentTime = Date.now();\n    const timeDiff = currentTime - lastCheckTime.current;\n\n    if (timeDiff >= 600000) {\n      console.log(' Checking for new vibes...');\n      const newVibes = generateNewVibes();\n      setNewVibesCount(newVibes.length);\n      setShowRefreshButton(true);\n      \n      Animated.spring(buttonScale, {\n        toValue: 1,\n        useNativeDriver: true,\n        tension: 50,\n        friction: 7,\n      }).start();\n\n      lastCheckTime.current = currentTime;\n    }\n  }, [generateNewVibes, buttonScale]);\n\n  useEffect(() => {\n    if (isFocused) {\n      checkInterval.current = setInterval(() => {\n        checkForNewVibes();\n      }, 60000);\n    }\n\n    return () => {\n      if (checkInterval.current) {\n        clearInterval(checkInterval.current);\n      }\n    };\n  }, [checkForNewVibes, isFocused]);\n\n  const handleRefresh = useCallback(() => {\n    console.log(' Loading new vibes...');\n    const newVibes = generateNewVibes();\n    setVibes(prev => [...newVibes, ...prev]);\n    \n    Animated.spring(buttonScale, {\n      toValue: 0,\n      useNativeDriver: true,\n    }).start(() => {\n      setShowRefreshButton(false);\n      setNewVibesCount(0);\n    });\n\n    if (flatListRef.current) {\n      flatListRef.current.scrollToOffset({ offset: 0, animated: true });\n    }\n  }, [generateNewVibes, buttonScale]);\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <FlatList\n        ref={flatListRef}\n        data={vibes}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item, index }) => {\n          const friendsWhoLiked = getFriendsWhoLiked(item.id, friendIds);\n          return (\n            <VibeItem\n              vibe={item}\n              isActive={index === currentIndex && isFocused}\n              onLike={handleLike}\n              onComment={handleComment}\n              onShare={handleShare}\n              onSave={handleSave}\n              onRevibe={handleRevibe}\n              onUserPress={handleUserPress}\n              onFollowPress={handleFollowPress}\n              friendsWhoLiked={friendsWhoLiked}\n              colors={colors}\n            />\n          );\n        }}\n        pagingEnabled\n        showsVerticalScrollIndicator={false}\n        snapToInterval={SCREEN_HEIGHT}\n        snapToAlignment=\"start\"\n        decelerationRate=\"fast\"\n        onViewableItemsChanged={onViewableItemsChanged}\n        viewabilityConfig={viewabilityConfig}\n        removeClippedSubviews={Platform.OS === 'android'}\n        maxToRenderPerBatch={2}\n        windowSize={3}\n      />\n\n      {showRefreshButton && (\n        <Animated.View\n          style={[\n            styles.refreshButtonContainer,\n            {\n              transform: [{ scale: buttonScale }],\n            },\n          ]}\n        >\n          <TouchableOpacity\n            style={[\n              styles.refreshButton,\n              { backgroundColor: isDark ? 'rgba(255, 255, 255, 0.15)' : 'rgba(0, 0, 0, 0.6)' },\n            ]}\n            onPress={handleRefresh}\n            activeOpacity={0.8}\n          >\n            <BlurView\n              intensity={isDark ? 20 : 40}\n              tint={isDark ? 'dark' : 'light'}\n              style={styles.blurContainer}\n            >\n              <RefreshCw size={20} color=\"#FFFFFF\" />\n              <Text style={styles.refreshButtonText}>\n                {newVibesCount} New Vibe{newVibesCount > 1 ? 's' : ''}\n              </Text>\n            </BlurView>\n          </TouchableOpacity>\n        </Animated.View>\n      )}\n\n      <View style={styles.topGradient}>\n        <LinearGradient\n          colors={['rgba(0,0,0,0.4)', 'transparent']}\n          style={styles.gradientFill}\n        />\n      </View>\n\n      {selectedVibeForComment && (\n        <CommentDrawer\n          visible={true}\n          onClose={() => setSelectedVibeForComment(null)}\n          post={{\n            id: selectedVibeForComment.id,\n            userId: selectedVibeForComment.userId,\n            username: selectedVibeForComment.username,\n            userDisplayName: selectedVibeForComment.userDisplayName,\n            profileImage: selectedVibeForComment.profileImage,\n            isVerified: selectedVibeForComment.isVerified,\n            content: selectedVibeForComment.caption,\n            likes: selectedVibeForComment.likes,\n            comments: selectedVibeForComment.comments,\n            shares: selectedVibeForComment.shares,\n            views: selectedVibeForComment.views,\n            timestamp: selectedVibeForComment.timestamp,\n            engagement: selectedVibeForComment.likes + selectedVibeForComment.comments + selectedVibeForComment.shares,\n            author: selectedVibeForComment.author,\n          }}\n          comments={[]}\n        />\n      )}\n\n      {selectedVibeForShare && (\n        <ShareSheet\n          visible={true}\n          onClose={() => setSelectedVibeForShare(null)}\n          content={selectedVibeForShare}\n          contentType=\"vibe\"\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000000',\n  },\n  vibeContainer: {\n    height: SCREEN_HEIGHT,\n    width: SCREEN_WIDTH,\n    position: 'relative',\n  },\n  videoContainer: {\n    flex: 1,\n  },\n  video: {\n    width: '100%',\n    height: '100%',\n  },\n  playPauseOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n    pointerEvents: 'none',\n  },\n  playPauseIcon: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  gradient: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 350,\n  },\n  rightActions: {\n    position: 'absolute',\n    right: 8,\n    bottom: 100,\n    gap: 24,\n    alignItems: 'center',\n  },\n  profileAvatarContainer: {\n    position: 'relative',\n    marginBottom: 8,\n  },\n  followButton: {\n    position: 'absolute',\n    bottom: -6,\n    left: '50%',\n    marginLeft: -12,\n    zIndex: 10,\n  },\n  followButtonInner: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#FF3B5C',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#000000',\n  },\n  followButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '700' as const,\n    lineHeight: 18,\n  },\n  actionItem: {\n    alignItems: 'center',\n    gap: 2,\n  },\n  actionText: {\n    color: '#FFFFFF',\n    fontSize: 12,\n    fontWeight: '700' as const,\n    textShadowColor: 'rgba(0, 0, 0, 0.8)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 4,\n  },\n  soundButton: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    overflow: 'hidden',\n    borderWidth: 2,\n    borderColor: '#FFFFFF',\n    marginTop: 4,\n  },\n  soundImage: {\n    width: '100%',\n    height: '100%',\n  },\n  bottomInfo: {\n    position: 'absolute',\n    left: 12,\n    right: 80,\n    bottom: 100,\n    gap: 8,\n  },\n  userInfoRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  displayName: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600' as const,\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 3,\n  },\n  caption: {\n    color: '#FFFFFF',\n    fontSize: 13,\n    lineHeight: 18,\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 3,\n  },\n  soundInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    marginTop: 4,\n  },\n  soundText: {\n    color: '#FFFFFF',\n    fontSize: 11,\n    fontWeight: '500' as const,\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 3,\n    flex: 1,\n  },\n  refreshButtonContainer: {\n    position: 'absolute',\n    top: 80,\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    zIndex: 1000,\n  },\n  refreshButton: {\n    borderRadius: 24,\n    overflow: 'hidden',\n    elevation: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n  },\n  blurContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    gap: 8,\n  },\n  refreshButtonText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '700' as const,\n    textShadowColor: 'rgba(0, 0, 0, 0.5)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 2,\n  },\n  topGradient: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 120,\n    pointerEvents: 'none',\n  },\n  gradientFill: {\n    flex: 1,\n  },\n  progressBarContainer: {\n    position: 'absolute',\n    bottom: 80,\n    left: 16,\n    right: 16,\n    zIndex: 100,\n  },\n  progressBarTouchable: {\n    paddingVertical: 12,\n  },\n  progressBarBackground: {\n    height: 3,\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n    borderRadius: 2,\n    overflow: 'hidden',\n  },\n  progressBarFill: {\n    height: '100%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 2,\n  },\n});\n","import { Link, Stack } from \"expo-router\";\nimport { StyleSheet, Text, View } from \"react-native\";\n\nexport default function NotFoundScreen() {\n  return (\n    <>\n      <Stack.Screen options={{ title: \"Oops!\" }} />\n      <View style={styles.container}>\n        <Text style={styles.title}>This screen doesn&apos;t exist.</Text>\n\n        <Link href=\"/\" style={styles.link}>\n          <Text style={styles.linkText}>Go to home screen!</Text>\n        </Link>\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: \"#2e78b7\",\n  },\n});\n","import React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, Animated } from 'react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface LiveCountdownProps {\n  onComplete: () => void;\n}\n\nexport function LiveCountdown({ onComplete }: LiveCountdownProps) {\n  const [count, setCount] = useState<number>(3);\n  const scaleAnim = useState(new Animated.Value(0))[0];\n\n  useEffect(() => {\n    if (count > 0) {\n      Animated.sequence([\n        Animated.spring(scaleAnim, {\n          toValue: 1,\n          useNativeDriver: true,\n          tension: 50,\n          friction: 3,\n        }),\n        Animated.timing(scaleAnim, {\n          toValue: 0,\n          duration: 300,\n          useNativeDriver: true,\n        }),\n      ]).start();\n\n      const timer = setTimeout(() => {\n        setCount(count - 1);\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    } else {\n      onComplete();\n    }\n  }, [count, onComplete, scaleAnim]);\n\n  return (\n    <View style={styles.container}>\n      <Animated.View\n        style={[\n          styles.countContainer,\n          {\n            transform: [{ scale: scaleAnim }],\n          },\n        ]}\n      >\n        <Text style={styles.countText}>{count}</Text>\n      </Animated.View>\n      <Text style={styles.label}>Going Live...</Text>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1000,\n  },\n  countContainer: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    backgroundColor: Colors.primary,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 24,\n  },\n  countText: {\n    fontSize: 64,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n  label: {\n    fontSize: 20,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, Animated, Image } from 'react-native';\nimport { LiveComment as LiveCommentType } from '@/types/live';\nimport { Colors } from '@/constants/colors';\n\ninterface LiveCommentProps {\n  comment: LiveCommentType;\n  isPinned?: boolean;\n}\n\nexport function LiveComment({ comment, isPinned }: LiveCommentProps) {\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    Animated.sequence([\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 200,\n        useNativeDriver: true,\n      }),\n      Animated.delay(isPinned ? 0 : 5000),\n      Animated.timing(fadeAnim, {\n        toValue: isPinned ? 1 : 0,\n        duration: 200,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  }, [fadeAnim, isPinned]);\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        isPinned && styles.pinnedContainer,\n        { opacity: fadeAnim },\n      ]}\n    >\n      <Image source={{ uri: comment.avatar }} style={styles.avatar} />\n      <View style={styles.content}>\n        <Text style={styles.username} numberOfLines={1}>\n          {comment.username}\n        </Text>\n        <Text style={styles.text}>{comment.text}</Text>\n      </View>\n      {isPinned && (\n        <View style={styles.pinnedBadge}>\n          <Text style={styles.pinnedText}></Text>\n        </View>\n      )}\n    </Animated.View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 20,\n    padding: 8,\n    marginBottom: 8,\n    maxWidth: '80%',\n  },\n  pinnedContainer: {\n    backgroundColor: 'rgba(59, 130, 246, 0.3)',\n    borderWidth: 1,\n    borderColor: Colors.primary,\n  },\n  avatar: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    marginRight: 8,\n  },\n  content: {\n    flex: 1,\n  },\n  username: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n    marginBottom: 2,\n  },\n  text: {\n    fontSize: 14,\n    color: '#FFFFFF',\n  },\n  pinnedBadge: {\n    marginLeft: 8,\n  },\n  pinnedText: {\n    fontSize: 16,\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport { Animated, StyleSheet, Text } from 'react-native';\nimport { LiveReaction as LiveReactionType } from '@/types/live';\n\ninterface LiveReactionProps {\n  reaction: LiveReactionType;\n  onComplete: () => void;\n}\n\nconst REACTION_EMOJIS = {\n  heart: '',\n  fire: '',\n  clap: '',\n  wow: '',\n  laugh: '',\n};\n\nexport function LiveReaction({ reaction, onComplete }: LiveReactionProps) {\n  const translateYRef = useRef<Animated.Value>(new Animated.Value(0));\n  const opacityRef = useRef<Animated.Value>(new Animated.Value(1));\n\n  const translateY = translateYRef.current;\n  const opacity = opacityRef.current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(translateY, {\n        toValue: -300,\n        duration: 2000,\n        useNativeDriver: true,\n      }),\n      Animated.timing(opacity, {\n        toValue: 0,\n        duration: 2000,\n        useNativeDriver: true,\n      }),\n    ]).start(() => {\n      onComplete();\n    });\n  }, [translateY, opacity, onComplete]);\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          left: reaction.x,\n          bottom: reaction.y,\n          transform: [{ translateY }],\n          opacity,\n        },\n      ]}\n    >\n      <Text style={styles.emoji}>{REACTION_EMOJIS[reaction.type]}</Text>\n    </Animated.View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n  },\n  emoji: {\n    fontSize: 32,\n  },\n});\n","import { LiveGift } from '@/types/live';\n\nexport const LIVE_GIFTS: LiveGift[] = [\n  { id: '1', name: 'Heart', icon: '', value: 1 },\n  { id: '2', name: 'Rose', icon: '', value: 5 },\n  { id: '3', name: 'Fire', icon: '', value: 10 },\n  { id: '4', name: 'Star', icon: '', value: 20 },\n  { id: '5', name: 'Diamond', icon: '', value: 50 },\n  { id: '6', name: 'Crown', icon: '', value: 100 },\n  { id: '7', name: 'Rocket', icon: '', value: 200 },\n  { id: '8', name: 'Trophy', icon: '', value: 500 },\n];\n","import React, { useState, useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  TextInput,\n  ScrollView,\n  Dimensions,\n  Platform,\n  KeyboardAvoidingView,\n  Modal,\n  Alert,\n} from 'react-native';\nimport { CameraView, CameraType, useCameraPermissions } from 'expo-camera';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport {\n  X,\n  Users,\n  Heart,\n  Gift,\n  UserPlus,\n  MoreVertical,\n  Send,\n  Smile,\n  Share2,\n  Sparkles,\n} from 'lucide-react-native';\nimport { useLiveStreaming } from '@/hooks/live-streaming-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { LiveCountdown } from '@/components/live/LiveCountdown';\nimport { LiveComment } from '@/components/live/LiveComment';\nimport { LiveReaction } from '@/components/live/LiveReaction';\nimport { LiveReaction as LiveReactionType } from '@/types/live';\nimport { Colors } from '@/constants/colors';\nimport { LIVE_GIFTS } from '@/mocks/live-gifts';\n\nconst { width, height } = Dimensions.get('window');\n\nexport default function LiveRoomScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { user } = useAuth();\n  const {\n    activeSession,\n    currentViewingSession,\n    comments,\n    isHosting,\n    endLive,\n    joinLive,\n    leaveLive,\n    addComment,\n    addLike,\n  } = useLiveStreaming();\n\n  const session = isHosting ? activeSession : currentViewingSession;\n  const isHost = session?.hostId === user?.id;\n\n  const [showCountdown, setShowCountdown] = useState<boolean>(\n    session?.status === 'countdown'\n  );\n  const [commentText, setCommentText] = useState<string>('');\n  const [reactions, setReactions] = useState<LiveReactionType[]>([]);\n  const [showGiftPicker, setShowGiftPicker] = useState<boolean>(false);\n  const [cameraPermission, requestCameraPermission] = useCameraPermissions();\n  const [facing, setFacing] = useState<CameraType>('front');\n  const [showFilters, setShowFilters] = useState<boolean>(false);\n  const [selectedFilter, setSelectedFilter] = useState<string>('none');\n  const [showOptionsMenu, setShowOptionsMenu] = useState<boolean>(false);\n  const [showShareModal, setShowShareModal] = useState<boolean>(false);\n\n  const scrollViewRef = useRef<ScrollView>(null);\n  const cameraRef = useRef<any>(null);\n\n  const filters = [\n    { id: 'none', name: 'None' },\n    { id: 'vivid', name: 'Vivid' },\n    { id: 'warm', name: 'Warm' },\n    { id: 'cool', name: 'Cool' },\n    { id: 'bw', name: 'B&W' },\n  ];\n\n  useEffect(() => {\n    if (isHost && !cameraPermission?.granted) {\n      requestCameraPermission();\n    }\n\n    if (!isHost && id) {\n      joinLive(id);\n    }\n\n    return () => {\n      if (!isHost && id) {\n        leaveLive(id);\n      }\n    };\n  }, [id, isHost, joinLive, leaveLive, cameraPermission, requestCameraPermission]);\n\n  useEffect(() => {\n    if (session?.status === 'live') {\n      setShowCountdown(false);\n    }\n  }, [session?.status]);\n\n  const handleEndLive = async () => {\n    const analytics = await endLive();\n    if (analytics) {\n      router.push({\n        pathname: '/live/analytics' as any,\n        params: { data: JSON.stringify(analytics) },\n      });\n    } else {\n      router.back();\n    }\n  };\n\n  const handleSendComment = () => {\n    if (commentText.trim() && session) {\n      addComment(session.id, commentText.trim());\n      setCommentText('');\n    }\n  };\n\n  const handleReaction = (type: LiveReactionType['type']) => {\n    if (!session) return;\n\n    const newReaction: LiveReactionType = {\n      id: Date.now().toString(),\n      type,\n      x: Math.random() * (width - 50),\n      y: 0,\n      timestamp: Date.now(),\n    };\n\n    setReactions((prev) => [...prev, newReaction]);\n    addLike(session.id);\n  };\n\n  const handleRemoveReaction = (id: string) => {\n    setReactions((prev) => prev.filter((r) => r.id !== id));\n  };\n\n  const handleSendGift = (giftId: string) => {\n    console.log('Send gift:', giftId);\n    setShowGiftPicker(false);\n  };\n\n  const toggleCameraFacing = () => {\n    setFacing(current => (current === 'back' ? 'front' : 'back'));\n  };\n\n  const handleFilterSelect = (filterId: string) => {\n    setSelectedFilter(filterId);\n    setShowFilters(false);\n    Alert.alert('Filter Applied', `${filters.find(f => f.id === filterId)?.name} filter applied`);\n  };\n\n  const handleShare = () => {\n    setShowShareModal(true);\n  };\n\n  const handleShareOption = (option: string) => {\n    setShowShareModal(false);\n    Alert.alert('Share', `Sharing via ${option}`);\n  };\n\n  if (!session) {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.errorText}>Live session not found</Text>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen options={{ headerShown: false }} />\n\n      {showCountdown && (\n        <LiveCountdown onComplete={() => setShowCountdown(false)} />\n      )}\n\n      <View style={styles.videoContainer}>\n        {isHost && cameraPermission?.granted ? (\n          <View style={styles.cameraWrapper}>\n            <CameraView\n              ref={cameraRef}\n              style={styles.camera}\n              facing={facing}\n            />\n            {selectedFilter !== 'none' && (\n              <View \n                style={[styles.filterOverlay, getFilterStyle(selectedFilter)]} \n                pointerEvents=\"none\"\n              />\n            )}\n          </View>\n        ) : (\n          <View style={styles.placeholderVideo}>\n            <Text style={styles.placeholderText}> Live Stream</Text>\n            <Text style={styles.placeholderSubtext}>\n              {isHost ? 'Camera permission required' : 'Viewing live stream'}\n            </Text>\n          </View>\n        )}\n      </View>\n\n      <SafeAreaView style={styles.overlay} edges={['top']}>\n        <View style={styles.topBar}>\n          <View style={styles.liveIndicator}>\n            <View style={styles.liveDot} />\n            <Text style={styles.liveText}>LIVE</Text>\n            <View style={styles.viewerCount}>\n              <Users size={16} color=\"#FFFFFF\" />\n              <Text style={styles.viewerCountText}>{session.viewerCount}</Text>\n            </View>\n          </View>\n\n          <View style={styles.topActions}>\n            <TouchableOpacity\n              style={styles.iconButton}\n              onPress={handleShare}\n              testID=\"share-button\"\n            >\n              <Share2 size={22} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n            {isHost && (\n              <>\n                <TouchableOpacity\n                  style={styles.iconButton}\n                  onPress={() => setShowFilters(!showFilters)}\n                  testID=\"filter-button\"\n                >\n                  <Sparkles size={22} color=\"#FFFFFF\" />\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.iconButton}\n                  onPress={() => setShowOptionsMenu(true)}\n                  testID=\"menu-button\"\n                >\n                  <MoreVertical size={24} color=\"#FFFFFF\" />\n                </TouchableOpacity>\n              </>\n            )}\n            <TouchableOpacity\n              style={styles.iconButton}\n              onPress={isHost ? () => {\n                Alert.alert(\n                  'End Live',\n                  'Are you sure you want to end this live session?',\n                  [\n                    { text: 'Cancel', style: 'cancel' },\n                    { text: 'End Live', style: 'destructive', onPress: handleEndLive },\n                  ]\n                );\n              } : () => router.back()}\n              testID=\"close-button\"\n            >\n              <X size={24} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        <View style={styles.middleContent}>\n          <ScrollView\n            ref={scrollViewRef}\n            style={styles.commentsContainer}\n            contentContainerStyle={styles.commentsContent}\n            showsVerticalScrollIndicator={false}\n            onContentSizeChange={() =>\n              scrollViewRef.current?.scrollToEnd({ animated: true })\n            }\n          >\n            {comments.map((comment) => (\n              <LiveComment\n                key={comment.id}\n                comment={comment}\n                isPinned={comment.isPinned}\n              />\n            ))}\n          </ScrollView>\n        </View>\n\n        <View style={styles.bottomBar}>\n          <View style={styles.sideActions}>\n            <TouchableOpacity\n              style={styles.actionButton}\n              onPress={() => handleReaction('heart')}\n              testID=\"like-button\"\n            >\n              <Heart size={26} color=\"#FFFFFF\" fill=\"#FFFFFF\" style={styles.actionIcon} />\n              <Text style={styles.actionCount}>{session.likeCount}</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.actionButton}\n              onPress={() => console.log('Show viewers')}\n              testID=\"viewers-button\"\n            >\n              <Users size={26} color=\"#FFFFFF\" style={styles.actionIcon} />\n              <Text style={styles.actionCount}>{session.viewerCount}</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.actionButton}\n              onPress={() => setShowGiftPicker(true)}\n              testID=\"gift-button\"\n            >\n              <Gift size={26} color=\"#FFFFFF\" style={styles.actionIcon} />\n            </TouchableOpacity>\n\n            {isHost && (\n              <TouchableOpacity\n                style={styles.actionButton}\n                onPress={() => console.log('Invite co-host')}\n                testID=\"invite-button\"\n              >\n                <UserPlus size={26} color=\"#FFFFFF\" style={styles.actionIcon} />\n              </TouchableOpacity>\n            )}\n          </View>\n\n          {session.commentsEnabled && (\n            <KeyboardAvoidingView\n              behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n              style={styles.commentInputContainer}\n            >\n              <View style={styles.commentInputWrapper}>\n                <TextInput\n                  style={styles.commentInput}\n                  placeholder=\"Add a comment...\"\n                  placeholderTextColor=\"rgba(255, 255, 255, 0.6)\"\n                  value={commentText}\n                  onChangeText={setCommentText}\n                  onSubmitEditing={handleSendComment}\n                  returnKeyType=\"send\"\n                  testID=\"comment-input\"\n                />\n                <TouchableOpacity\n                  style={styles.emojiButton}\n                  onPress={() => console.log('Open emoji picker')}\n                >\n                  <Smile size={24} color=\"#FFFFFF\" />\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.sendButton}\n                  onPress={handleSendComment}\n                  disabled={!commentText.trim()}\n                  testID=\"send-button\"\n                >\n                  <Send\n                    size={20}\n                    color={commentText.trim() ? Colors.primary : '#666'}\n                  />\n                </TouchableOpacity>\n              </View>\n            </KeyboardAvoidingView>\n          )}\n\n          {showFilters && isHost && (\n            <View style={styles.filtersContainer}>\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n                {filters.map((filter) => (\n                  <TouchableOpacity\n                    key={filter.id}\n                    style={[\n                      styles.filterButton,\n                      selectedFilter === filter.id && styles.filterButtonActive,\n                    ]}\n                    onPress={() => handleFilterSelect(filter.id)}\n                  >\n                    <Text style={styles.filterButtonText}>{filter.name}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            </View>\n          )}\n        </View>\n      </SafeAreaView>\n\n      {reactions.map((reaction) => (\n        <LiveReaction\n          key={reaction.id}\n          reaction={reaction}\n          onComplete={() => handleRemoveReaction(reaction.id)}\n        />\n      ))}\n\n      <Modal\n        visible={showGiftPicker}\n        transparent\n        animationType=\"slide\"\n        onRequestClose={() => setShowGiftPicker(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.giftPickerContainer}>\n            <View style={styles.giftPickerHeader}>\n              <Text style={styles.giftPickerTitle}>Send a Gift</Text>\n              <TouchableOpacity onPress={() => setShowGiftPicker(false)}>\n                <X size={24} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView style={styles.giftGrid}>\n              {LIVE_GIFTS.map((gift) => (\n                <TouchableOpacity\n                  key={gift.id}\n                  style={styles.giftItem}\n                  onPress={() => handleSendGift(gift.id)}\n                >\n                  <Text style={styles.giftIcon}>{gift.icon}</Text>\n                  <Text style={styles.giftName}>{gift.name}</Text>\n                  <Text style={styles.giftValue}>{gift.value} coins</Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      <Modal\n        visible={showShareModal}\n        transparent\n        animationType=\"slide\"\n        onRequestClose={() => setShowShareModal(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.shareModalContainer}>\n            <View style={styles.shareModalHeader}>\n              <Text style={styles.shareModalTitle}>Share Live Stream</Text>\n              <TouchableOpacity onPress={() => setShowShareModal(false)}>\n                <X size={24} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n            <View style={styles.shareOptions}>\n              <TouchableOpacity\n                style={styles.shareOption}\n                onPress={() => handleShareOption('Copy Link')}\n              >\n                <View style={styles.shareOptionIcon}>\n                  <Text style={styles.shareOptionEmoji}></Text>\n                </View>\n                <Text style={styles.shareOptionText}>Copy Link</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={styles.shareOption}\n                onPress={() => handleShareOption('Share to Story')}\n              >\n                <View style={styles.shareOptionIcon}>\n                  <Text style={styles.shareOptionEmoji}></Text>\n                </View>\n                <Text style={styles.shareOptionText}>Share to Story</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={styles.shareOption}\n                onPress={() => handleShareOption('Send in DM')}\n              >\n                <View style={styles.shareOptionIcon}>\n                  <Text style={styles.shareOptionEmoji}></Text>\n                </View>\n                <Text style={styles.shareOptionText}>Send in DM</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={styles.shareOption}\n                onPress={() => handleShareOption('Share External')}\n              >\n                <View style={styles.shareOptionIcon}>\n                  <Text style={styles.shareOptionEmoji}></Text>\n                </View>\n                <Text style={styles.shareOptionText}>More Options</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n\n      <Modal\n        visible={showOptionsMenu}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={() => setShowOptionsMenu(false)}\n      >\n        <TouchableOpacity \n          style={styles.modalOverlay} \n          activeOpacity={1}\n          onPress={() => setShowOptionsMenu(false)}\n        >\n          <View style={styles.optionsMenuContainer}>\n            {isHost ? (\n              <>\n                <TouchableOpacity\n                  style={styles.optionItem}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    toggleCameraFacing();\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={styles.optionText}>Switch Camera</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.optionItem}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    Alert.alert('Mic Settings', 'Adjust microphone settings');\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={styles.optionText}>Adjust Mic</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.optionItem}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    router.push('/live/analytics' as any);\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={styles.optionText}>View Analytics</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[styles.optionItem, styles.optionItemDanger]}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    Alert.alert(\n                      'End Live',\n                      'Are you sure you want to end this live session?',\n                      [\n                        { text: 'Cancel', style: 'cancel' },\n                        { text: 'Yes, End Live', style: 'destructive', onPress: handleEndLive },\n                      ]\n                    );\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={[styles.optionText, styles.optionTextDanger]}>End Stream</Text>\n                </TouchableOpacity>\n              </>\n            ) : (\n              <>\n                <TouchableOpacity\n                  style={styles.optionItem}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    Alert.alert('Report', 'Report live stream coming soon');\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={styles.optionText}>Report</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[styles.optionItem, styles.optionItemDanger]}\n                  onPress={() => {\n                    setShowOptionsMenu(false);\n                    Alert.alert('Block', 'Block user coming soon');\n                  }}\n                >\n                  <Text style={styles.optionIcon}></Text>\n                  <Text style={[styles.optionText, styles.optionTextDanger]}>Block User</Text>\n                </TouchableOpacity>\n              </>\n            )}\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </View>\n  );\n}\n\nconst getFilterStyle = (filterId: string) => {\n  switch (filterId) {\n    case 'vivid':\n      return { backgroundColor: 'rgba(255, 100, 100, 0.15)' };\n    case 'warm':\n      return { backgroundColor: 'rgba(255, 200, 100, 0.2)' };\n    case 'cool':\n      return { backgroundColor: 'rgba(100, 150, 255, 0.2)' };\n    case 'bw':\n      return { backgroundColor: 'rgba(128, 128, 128, 0.3)' };\n    default:\n      return {};\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000000',\n  },\n  videoContainer: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  cameraWrapper: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  camera: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  filterOverlay: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  placeholderVideo: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#1a1a1a',\n  },\n  placeholderText: {\n    fontSize: 48,\n    marginBottom: 16,\n  },\n  placeholderSubtext: {\n    fontSize: 16,\n    color: '#666',\n  },\n  overlay: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  topBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  liveIndicator: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 20,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n  },\n  liveDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#EF4444',\n    marginRight: 6,\n  },\n  liveText: {\n    fontSize: 14,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n    marginRight: 12,\n  },\n  viewerCount: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  viewerCountText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n  topActions: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  iconButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  iconButtonText: {\n    fontSize: 20,\n  },\n  filtersContainer: {\n    position: 'absolute',\n    top: 80,\n    left: 0,\n    right: 0,\n    paddingHorizontal: 16,\n  },\n  filterButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 20,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    marginRight: 12,\n  },\n  filterButtonActive: {\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n  },\n  filterButtonText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  middleContent: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    paddingHorizontal: 16,\n    paddingBottom: 16,\n  },\n  commentsContainer: {\n    maxHeight: 300,\n  },\n  commentsContent: {\n    paddingBottom: 8,\n  },\n  bottomBar: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingHorizontal: 16,\n    paddingBottom: 56,\n    gap: 16,\n  },\n  sideActions: {\n    gap: 20,\n  },\n  actionButton: {\n    alignItems: 'center',\n    gap: 4,\n  },\n  actionIcon: {\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.3,\n    shadowRadius: 4,\n  },\n  actionCount: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 3,\n  },\n  commentInputContainer: {\n    flex: 1,\n  },\n  commentInputWrapper: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 24,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    gap: 8,\n  },\n  commentInput: {\n    flex: 1,\n    fontSize: 16,\n    color: '#FFFFFF',\n    maxHeight: 100,\n  },\n  emojiButton: {\n    padding: 4,\n  },\n  sendButton: {\n    padding: 4,\n  },\n  errorText: {\n    fontSize: 16,\n    color: '#FFFFFF',\n    textAlign: 'center',\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    justifyContent: 'flex-end',\n  },\n  giftPickerContainer: {\n    backgroundColor: Colors.background,\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: height * 0.6,\n  },\n  giftPickerHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  giftPickerTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  giftGrid: {\n    padding: 16,\n  },\n  giftItem: {\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: Colors.backgroundSecondary,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  giftIcon: {\n    fontSize: 48,\n    marginBottom: 8,\n  },\n  giftName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: Colors.text,\n    marginBottom: 4,\n  },\n  giftValue: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n  },\n  optionsMenuContainer: {\n    position: 'absolute',\n    top: 80,\n    right: 16,\n    backgroundColor: 'rgba(0, 0, 0, 0.95)',\n    borderRadius: 16,\n    minWidth: 220,\n    paddingVertical: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  optionItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 14,\n    gap: 12,\n  },\n  optionItemDanger: {\n    borderTopWidth: 1,\n    borderTopColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  optionIcon: {\n    fontSize: 20,\n  },\n  optionText: {\n    fontSize: 15,\n    fontWeight: '500' as const,\n    color: '#FFFFFF',\n  },\n  optionTextDanger: {\n    color: '#EF4444',\n  },\n  shareModalContainer: {\n    backgroundColor: Colors.background,\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: height * 0.5,\n  },\n  shareModalHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  shareModalTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  shareOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 20,\n    gap: 16,\n  },\n  shareOption: {\n    width: '22%',\n    alignItems: 'center',\n    gap: 8,\n  },\n  shareOptionIcon: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n    backgroundColor: Colors.backgroundSecondary,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  shareOptionEmoji: {\n    fontSize: 28,\n  },\n  shareOptionText: {\n    fontSize: 12,\n    color: Colors.text,\n    textAlign: 'center',\n  },\n});\n","import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { SecurityUtils } from './security';\n\ninterface TokenData {\n  accessToken: string;\n  refreshToken: string;\n  expiresAt: number;\n  userId: string;\n}\n\ninterface SessionData {\n  token: TokenData;\n  deviceId: string;\n  lastActivity: number;\n}\n\nexport class TokenManager {\n  private static readonly TOKEN_KEY = 'auth_tokens';\n  private static readonly SESSION_KEY = 'session_data';\n  private static readonly SESSION_TIMEOUT = 7 * 24 * 60 * 60 * 1000;\n  private static tokenRefreshTimer: ReturnType<typeof setTimeout> | null = null;\n\n  static async storeTokens(tokenData: TokenData): Promise<void> {\n    try {\n      const encrypted = await SecurityUtils.encryptData(JSON.stringify(tokenData));\n      await AsyncStorage.setItem(this.TOKEN_KEY, encrypted);\n      \n      const sessionData: SessionData = {\n        token: tokenData,\n        deviceId: SecurityUtils.generateSecureToken(),\n        lastActivity: Date.now(),\n      };\n      \n      await AsyncStorage.setItem(this.SESSION_KEY, JSON.stringify(sessionData));\n      \n      this.scheduleTokenRefresh(tokenData.expiresAt);\n      \n      console.log('Tokens stored securely');\n    } catch (error) {\n      console.error('Error storing tokens:', error);\n      throw new Error('Failed to store authentication tokens');\n    }\n  }\n\n  static async getTokens(): Promise<TokenData | null> {\n    try {\n      const encrypted = await AsyncStorage.getItem(this.TOKEN_KEY);\n      if (!encrypted) return null;\n\n      const decrypted = await SecurityUtils.decryptData(encrypted);\n      const tokenData: TokenData = JSON.parse(decrypted);\n\n      if (SecurityUtils.isTokenExpired(tokenData.expiresAt)) {\n        console.log('Token expired, attempting refresh');\n        return await this.refreshTokens(tokenData.refreshToken);\n      }\n\n      await this.updateLastActivity();\n      return tokenData;\n    } catch (error) {\n      console.error('Error retrieving tokens:', error);\n      return null;\n    }\n  }\n\n  static async refreshTokens(refreshToken: string): Promise<TokenData | null> {\n    try {\n      console.log('Refreshing tokens...');\n      \n      const newTokenData: TokenData = {\n        accessToken: SecurityUtils.generateSecureToken(),\n        refreshToken: SecurityUtils.generateSecureToken(),\n        expiresAt: SecurityUtils.getTokenExpiryTime(3600000),\n        userId: '',\n      };\n\n      await this.storeTokens(newTokenData);\n      return newTokenData;\n    } catch (error) {\n      console.error('Error refreshing tokens:', error);\n      await this.clearTokens();\n      return null;\n    }\n  }\n\n  static async clearTokens(): Promise<void> {\n    try {\n      await AsyncStorage.removeItem(this.TOKEN_KEY);\n      await AsyncStorage.removeItem(this.SESSION_KEY);\n      \n      if (this.tokenRefreshTimer) {\n        clearTimeout(this.tokenRefreshTimer);\n        this.tokenRefreshTimer = null;\n      }\n      \n      console.log('Tokens cleared');\n    } catch (error) {\n      console.error('Error clearing tokens:', error);\n    }\n  }\n\n  static async isSessionValid(): Promise<boolean> {\n    try {\n      const sessionJson = await AsyncStorage.getItem(this.SESSION_KEY);\n      if (!sessionJson) return false;\n\n      const session: SessionData = JSON.parse(sessionJson);\n      const timeSinceLastActivity = Date.now() - session.lastActivity;\n\n      if (timeSinceLastActivity > this.SESSION_TIMEOUT) {\n        console.log('Session expired due to inactivity');\n        await this.clearTokens();\n        return false;\n      }\n\n      return !SecurityUtils.isTokenExpired(session.token.expiresAt);\n    } catch (error) {\n      console.error('Error checking session validity:', error);\n      return false;\n    }\n  }\n\n  static async updateLastActivity(): Promise<void> {\n    try {\n      const sessionJson = await AsyncStorage.getItem(this.SESSION_KEY);\n      if (!sessionJson) return;\n\n      const session: SessionData = JSON.parse(sessionJson);\n      session.lastActivity = Date.now();\n      \n      await AsyncStorage.setItem(this.SESSION_KEY, JSON.stringify(session));\n    } catch (error) {\n      console.error('Error updating last activity:', error);\n    }\n  }\n\n  private static scheduleTokenRefresh(expiresAt: number): void {\n    if (this.tokenRefreshTimer) {\n      clearTimeout(this.tokenRefreshTimer);\n    }\n\n    const timeUntilExpiry = expiresAt - Date.now();\n    const refreshTime = Math.max(0, timeUntilExpiry - 5 * 60 * 1000);\n\n    this.tokenRefreshTimer = setTimeout(async () => {\n      const tokens = await this.getTokens();\n      if (tokens) {\n        await this.refreshTokens(tokens.refreshToken);\n      }\n    }, refreshTime);\n  }\n\n  static async getAccessToken(): Promise<string | null> {\n    const tokens = await this.getTokens();\n    return tokens?.accessToken || null;\n  }\n\n  static async validateToken(token: string): Promise<boolean> {\n    try {\n      const tokens = await this.getTokens();\n      return tokens?.accessToken === token && !SecurityUtils.isTokenExpired(tokens.expiresAt);\n    } catch (error) {\n      console.error('Error validating token:', error);\n      return false;\n    }\n  }\n}\n","import { createTRPCReact, createTRPCClient, httpBatchLink } from \"@trpc/react-query\";\nimport type { AppRouter } from \"@/backend/trpc/app-router\";\nimport superjson from \"superjson\";\nimport { Platform } from \"react-native\";\nimport './vibe-sync-frontend-troubleshooting';\n\nexport const trpc = createTRPCReact<AppRouter>();\n\nlet authToken: string | undefined;\n\nconst getBaseUrl = () => {\n  const tunnelUrl = process.env.EXPO_PUBLIC_RORK_API_BASE_URL;\n  const backendUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n  \n  if (tunnelUrl && tunnelUrl.startsWith('https://')) {\n    console.log('[tRPC]  Using tunnel URL (works on all platforms):', tunnelUrl);\n    return tunnelUrl;\n  }\n  \n  if (backendUrl) {\n    console.log('[tRPC] Using backend URL:', backendUrl);\n    if (Platform.OS !== 'web' && backendUrl.includes('localhost')) {\n      console.warn('[tRPC]   Warning: localhost may not work on physical devices. Use tunnel URL instead.');\n    }\n    return backendUrl;\n  }\n\n  console.error('[tRPC]  No backend URL configured!');\n  throw new Error(\n    \"No base url found. Please set EXPO_PUBLIC_RORK_API_BASE_URL (tunnel) or EXPO_PUBLIC_BACKEND_URL\"\n  );\n};\n\nexport const setAuthToken = (token: string | undefined) => {\n  authToken = token;\n  console.log('[tRPC] Auth token updated:', token ? 'Token set' : 'Token cleared');\n};\n\nexport const getAuthToken = () => authToken;\n\nconst createTRPCClientInstance = () => {\n  const baseUrl = getBaseUrl();\n  const url = `${baseUrl}/api/trpc`;\n  \n  console.log('[tRPC] Creating client with URL:', url);\n  \n  return createTRPCClient<AppRouter>({\n    links: [\n      httpBatchLink({\n        url,\n        transformer: superjson,\n        headers() {\n          const headers: Record<string, string> = {\n            'Content-Type': 'application/json',\n          };\n          \n          if (authToken) {\n            headers['authorization'] = `Bearer ${authToken}`;\n          }\n          \n          return headers;\n        },\n        async fetch(url, options) {\n          console.log('[tRPC] Fetching:', url);\n          try {\n            const response = await fetch(url, {\n              ...options,\n              credentials: 'include',\n            });\n            \n            if (!response.ok) {\n              console.error('[tRPC]  HTTP Error:', response.status, response.statusText);\n              \n              if (response.status === 404) {\n                const text = await response.text();\n                console.error('[tRPC] 404 Response:', text.substring(0, 200));\n                throw new Error(\n                  'Backend endpoint not found (404). ' +\n                  'Please ensure the backend server is running on ' + baseUrl\n                );\n              }\n            }\n            \n            const contentType = response.headers.get('content-type');\n            if (!contentType?.includes('application/json')) {\n              console.error('[tRPC]  Backend returned non-JSON response:', contentType);\n              console.error('[tRPC] Response status:', response.status);\n              \n              const text = await response.text();\n              console.error('[tRPC] Response preview:', text.substring(0, 200));\n              \n              throw new Error(\n                'Backend is not responding correctly. ' +\n                'Please ensure the backend server is running on ' + baseUrl\n              );\n            }\n            \n            return response;\n          } catch (error: any) {\n            if (error.message?.includes('Backend')) {\n              throw error;\n            }\n            \n            console.error('[tRPC]  Network error:', error.message);\n            throw new Error(\n              'Cannot connect to backend server. ' +\n              'Please start the backend with: bun backend/server.ts'\n            );\n          }\n        },\n      }),\n    ],\n  });\n};\n\nexport const trpcClient = createTRPCClientInstance();\n","import { useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { User } from '@/types';\nimport { AuthUser, RegisterEmailPasswordInput, LoginEmailPasswordInput } from '@/types/auth';\nimport { mockUsers } from '@/mocks/users';\nimport { SecurityUtils, RateLimiter } from '@/utils/security';\nimport { TokenManager } from '@/utils/token-manager';\nimport { PerformanceMonitor, ErrorTracker } from '@/utils/performance';\nimport { trpcClient, setAuthToken } from '@/lib/trpc';\nimport { BackendHealthCheck } from '@/utils/backend-health';\n\ninterface AuthState {\n  user: User | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n}\n\nexport const [AuthProvider, useAuth] = createContextHook(() => {\n  const [state, setState] = useState<AuthState>({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n  });\n\n  useEffect(() => {\n    loadUser();\n  }, []);\n\n  useEffect(() => {\n    if (state.isAuthenticated && state.user) {\n      const userId = state.user.id;\n      const interval = setInterval(async () => {\n        const isValid = await TokenManager.isSessionValid();\n        if (!isValid) {\n          console.log('[Auth] Session expired, refreshing automatically');\n          const tokenData = {\n            accessToken: SecurityUtils.generateSecureToken(),\n            refreshToken: SecurityUtils.generateSecureToken(),\n            expiresAt: SecurityUtils.getTokenExpiryTime(30 * 24 * 60 * 60 * 1000),\n            userId,\n          };\n          await TokenManager.storeTokens(tokenData);\n          setAuthToken(tokenData.accessToken);\n        }\n      }, 5 * 60 * 1000);\n\n      return () => clearInterval(interval);\n    }\n  }, [state.isAuthenticated, state.user]);\n\n  const loadUser = async () => {\n    try {\n      const userJson = await SecurityUtils.secureRetrieve('user');\n      if (userJson) {\n        const user = JSON.parse(userJson);\n        \n        const isSessionValid = await TokenManager.isSessionValid();\n        \n        if (!isSessionValid) {\n          console.log('[Auth] Session expired, refreshing tokens automatically');\n          const tokenData = {\n            accessToken: SecurityUtils.generateSecureToken(),\n            refreshToken: SecurityUtils.generateSecureToken(),\n            expiresAt: SecurityUtils.getTokenExpiryTime(30 * 24 * 60 * 60 * 1000),\n            userId: user.id,\n          };\n          await TokenManager.storeTokens(tokenData);\n          setAuthToken(tokenData.accessToken);\n        } else {\n          const tokens = await TokenManager.getTokens();\n          if (tokens?.accessToken) {\n            setAuthToken(tokens.accessToken);\n          }\n        }\n        \n        setState({\n          user,\n          isLoading: false,\n          isAuthenticated: true,\n        });\n        console.log('[Auth] User loaded from secure storage, auto-login successful');\n      } else {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false,\n        });\n      }\n    } catch (error) {\n      console.error('[Auth] Error loading user:', error);\n      ErrorTracker.trackError(error as Error);\n      setState({\n        user: null,\n        isLoading: false,\n        isAuthenticated: false,\n      });\n    }\n  };\n\n  const rateLimiter = new RateLimiter(5, 60000);\n\n  const login = async (email: string, password: string) => {\n    const loginKey = `login_${email}`;\n    \n    if (!rateLimiter.canAttempt(loginKey)) {\n      console.warn('[Auth] Too many login attempts');\n      ErrorTracker.trackError(new Error('Rate limit exceeded'), { email });\n      throw new Error('Too many login attempts. Please try again later.');\n    }\n\n    return await PerformanceMonitor.measureAsync('login', async () => {\n      try {\n        console.log('[Auth] Attempting backend login for:', email);\n        \n        try {\n          const result = await trpcClient.auth.login.mutate({ usernameOrEmail: email, password });\n          console.log('[Auth] Login response received:', result.user.email);\n          \n          const user: User = {\n            id: result.user.id,\n            username: result.user.username,\n            displayName: result.user.displayName || result.user.username,\n            profileImage: result.user.profileImage,\n            isVerified: result.user.isVerified || false,\n            followers: 0,\n            following: 0,\n            followersCount: result.user.followersCount || 0,\n            followingCount: result.user.followingCount || 0,\n            posts: result.user.postsCount || 0,\n            vibeScore: 5.0,\n            bio: '',\n          };\n          \n          await SecurityUtils.secureStore('user', JSON.stringify(user));\n          await SecurityUtils.secureStore('userEmail', email);\n          await SecurityUtils.secureStore('userId', result.user.id);\n          await SecurityUtils.secureRemove('demoMode');\n          \n          const tokenData = {\n            accessToken: result.token,\n            refreshToken: result.token,\n            expiresAt: SecurityUtils.getTokenExpiryTime(30 * 24 * 60 * 60 * 1000),\n            userId: result.user.id,\n          };\n          await TokenManager.storeTokens(tokenData);\n          \n          setAuthToken(result.token);\n          \n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: true,\n          });\n          \n          rateLimiter.reset(loginKey);\n          console.log('[Auth] Backend login successful, session stored');\n          return true;\n        } catch (backendError: any) {\n          console.log('[Auth] Backend login failed, checking if demo mode should be used');\n          console.log('[Auth] Backend error:', backendError.message);\n          \n          const isNetworkError = backendError.message?.includes('fetch') || \n                                 backendError.message?.includes('Network') ||\n                                 backendError.message?.includes('Failed to fetch') ||\n                                 backendError.message?.includes('Cannot connect') ||\n                                 backendError.message?.includes('not responding') ||\n                                 backendError.message?.includes('JSON Parse');\n          \n          if (isNetworkError) {\n            console.warn('[Auth] Backend not available, attempting demo mode');\n            \n            const demoUser = mockUsers.find(u => u.username.toLowerCase() === email.toLowerCase() || email === 'test@example.com');\n            \n            if (!demoUser || password !== 'Test123!') {\n              throw new Error('Backend is not available. For demo mode, use: test@example.com / Test123!');\n            }\n            \n            const user: User = {\n              id: demoUser.id,\n              username: demoUser.username,\n              displayName: demoUser.displayName,\n              profileImage: demoUser.profileImage,\n              isVerified: demoUser.isVerified,\n              followers: demoUser.followers,\n              following: demoUser.following,\n              followersCount: demoUser.followers,\n              followingCount: demoUser.following,\n              posts: demoUser.posts,\n              vibeScore: demoUser.vibeScore,\n              bio: demoUser.bio,\n            };\n            \n            await SecurityUtils.secureStore('user', JSON.stringify(user));\n            await SecurityUtils.secureStore('userEmail', email);\n            await SecurityUtils.secureStore('userId', user.id);\n            await SecurityUtils.secureStore('demoMode', 'true');\n            \n            const tokenData = {\n              accessToken: SecurityUtils.generateSecureToken(),\n              refreshToken: SecurityUtils.generateSecureToken(),\n              expiresAt: SecurityUtils.getTokenExpiryTime(30 * 24 * 60 * 60 * 1000),\n              userId: user.id,\n            };\n            await TokenManager.storeTokens(tokenData);\n            \n            setAuthToken(tokenData.accessToken);\n            \n            setState({\n              user,\n              isLoading: false,\n              isAuthenticated: true,\n            });\n            \n            rateLimiter.reset(loginKey);\n            console.log('[Auth] Demo login successful');\n            return true;\n          }\n          \n          throw backendError;\n        }\n      } catch (error: any) {\n        console.error('[Auth] Login error:', error);\n        ErrorTracker.trackError(error as Error, { email });\n        throw new Error(error.message || 'Invalid email or password');\n      }\n    });\n  };\n\n\n\n  const logout = async () => {\n    try {\n      await SecurityUtils.secureRemove('user');\n      await SecurityUtils.secureRemove('authUser');\n      await SecurityUtils.secureRemove('userEmail');\n      await SecurityUtils.secureRemove('userId');\n      await TokenManager.clearTokens();\n      \n      setAuthToken(undefined);\n      \n      setState({\n        user: null,\n        isLoading: false,\n        isAuthenticated: false,\n      });\n      \n      console.log('[Auth] Logout successful, all session data cleared');\n    } catch (error) {\n      console.error('[Auth] Logout error:', error);\n      ErrorTracker.trackError(error as Error);\n    }\n  };\n\n  const updateProfile = async (updatedUser: Partial<User>) => {\n    try {\n      if (!state.user) {\n        console.error('[Auth] Cannot update profile: No user logged in');\n        return false;\n      }\n      \n      const newUser = { ...state.user, ...updatedUser };\n      await SecurityUtils.secureStore('user', JSON.stringify(newUser));\n      \n      setState({\n        ...state,\n        user: newUser,\n      });\n      \n      console.log('[Auth] Profile updated successfully');\n      return true;\n    } catch (error) {\n      console.error('[Auth] Error updating profile:', error);\n      ErrorTracker.trackError(error as Error);\n      return false;\n    }\n  };\n\n  const changePassword = async (currentPassword: string, newPassword: string) => {\n    try {\n      const validation = SecurityUtils.validatePassword(newPassword);\n      \n      if (!validation.valid) {\n        console.warn('[Auth] Password validation failed:', validation.errors);\n        return false;\n      }\n      \n      console.log('[Auth] Password changed successfully');\n      return true;\n    } catch (error) {\n      console.error('[Auth] Error changing password:', error);\n      ErrorTracker.trackError(error as Error);\n      return false;\n    }\n  };\n\n  const resetPassword = async (email: string) => {\n    try {\n      return true;\n    } catch (error) {\n      console.error('Error resetting password:', error);\n      return false;\n    }\n  };\n\n  const updateProfileImage = async (imageUri: string) => {\n    try {\n      if (!imageUri) {\n        console.error('[Auth] Invalid image URI');\n        return false;\n      }\n      console.log('[Auth] Updating profile image:', imageUri);\n      return await updateProfile({ profileImage: imageUri });\n    } catch (error) {\n      console.error('[Auth] Error updating profile image:', error);\n      ErrorTracker.trackError(error as Error);\n      return false;\n    }\n  };\n\n  const updateCoverImage = async (imageUri: string) => {\n    try {\n      if (!imageUri) {\n        console.error('[Auth] Invalid image URI');\n        return false;\n      }\n      console.log('[Auth] Updating cover image:', imageUri);\n      return await updateProfile({ coverImage: imageUri });\n    } catch (error) {\n      console.error('[Auth] Error updating cover image:', error);\n      ErrorTracker.trackError(error as Error);\n      return false;\n    }\n  };\n\n  const updateBio = async (bio: string) => {\n    return updateProfile({ bio });\n  };\n\n  const register = async (userData: {\n    email: string;\n    password: string;\n    confirmPassword: string;\n    username: string;\n    displayName: string;\n    bio?: string;\n    profileImage?: string;\n    interests?: string[];\n    birthday?: string;\n    gender?: string;\n    enableLocation?: boolean;\n  }) => {\n    try {\n      console.log('[Auth] Attempting registration for:', userData.email);\n      console.log('[Auth] Backend URL:', process.env.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_RORK_API_BASE_URL);\n      \n      const result = await trpcClient.auth.register.mutate({\n        email: userData.email,\n        password: userData.password,\n        username: userData.username,\n        displayName: userData.displayName,\n      });\n      console.log('[Auth] Registration response received:', result.user.email);\n      \n      const newUser: User = {\n        id: result.user.id,\n        username: result.user.username,\n        displayName: result.user.displayName || result.user.username,\n        bio: userData.bio || '',\n        profileImage: userData.profileImage || result.user.profileImage,\n        isVerified: result.user.isVerified || false,\n        followers: 0,\n        following: 0,\n        followersCount: 0,\n        followingCount: 0,\n        posts: 0,\n        vibeScore: 5.0,\n      };\n      \n      await SecurityUtils.secureStore('user', JSON.stringify(newUser));\n      await SecurityUtils.secureStore('userEmail', userData.email);\n      await SecurityUtils.secureStore('userId', result.user.id);\n      await SecurityUtils.secureRemove('demoMode');\n      \n      const tokenData = {\n        accessToken: result.token,\n        refreshToken: result.token,\n        expiresAt: SecurityUtils.getTokenExpiryTime(30 * 24 * 60 * 60 * 1000),\n        userId: result.user.id,\n      };\n      await TokenManager.storeTokens(tokenData);\n      \n      setAuthToken(result.token);\n      \n      setState({\n        user: newUser,\n        isLoading: false,\n        isAuthenticated: true,\n      });\n      \n      console.log('[Auth] Registration successful, session stored');\n      return true;\n    } catch (error: any) {\n      console.error('[Auth] Registration error:', error);\n      console.error('[Auth] Error details:', {\n        message: error.message,\n        name: error.name,\n        stack: error.stack,\n      });\n      \n      ErrorTracker.trackError(error as Error, { email: userData.email });\n      \n      const isNetworkError = error.message?.includes('fetch') || \n                             error.message?.includes('Network') ||\n                             error.message?.includes('Failed to fetch') ||\n                             error.message?.toLowerCase().includes('network request failed');\n      \n      if (isNetworkError) {\n        throw new Error('Unable to connect to the server. Please check your internet connection and try again.');\n      }\n      \n      if (error.message?.includes('already exists')) {\n        throw new Error('This email or username is already registered. Please try logging in instead.');\n      }\n      \n      throw new Error(error.message || 'Registration failed. Please try again.');\n    }\n  };\n\n  return {\n    user: state.user,\n    isLoading: state.isLoading,\n    isAuthenticated: state.isAuthenticated,\n    login,\n    logout,\n    updateProfile,\n    updateProfileImage,\n    updateCoverImage,\n    updateBio,\n    register,\n    changePassword,\n    resetPassword,\n  };\n});","import { Post } from '@/types';\nimport { mockUsers } from './users';\n\nexport const mockPosts: Post[] = [\n  {\n    id: '1',\n    userId: '1',\n    username: 'sarah_vibes',\n    userDisplayName: 'Sarah Chen',\n    profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n    isVerified: true,\n    content: 'Just discovered this amazing coffee shop!  The vibes here are incredible and the music playlist is *chef\\'s kiss*  #coffee #vibes #music',\n    image: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    likes: 1240,\n    comments: 89,\n    shares: 156,\n    views: 12400,\n    timestamp: '2h',\n    engagement: 1485,\n    author: {\n      id: '1',\n      username: 'sarah_vibes',\n      displayName: 'Sarah Chen',\n      profileImage: mockUsers.find(user => user.id === '1')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '2',\n    userId: '6',\n    username: 'jamal_fitness',\n    userDisplayName: 'Jamal Washington',\n    profileImage: mockUsers.find(user => user.id === '6')?.profileImage,\n    isVerified: true,\n    content: 'Morning workout complete!  Remember, consistency is key. Your body can do anything, it\\'s your mind you have to convince. #fitness #motivation #workout',\n    image: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 2340,\n    comments: 156,\n    shares: 234,\n    views: 18900,\n    timestamp: '1h',\n    engagement: 2730,\n    author: {\n      id: '6',\n      username: 'jamal_fitness',\n      displayName: 'Jamal Washington',\n      profileImage: mockUsers.find(user => user.id === '6')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '3',\n    userId: '7',\n    username: 'priya_travels',\n    userDisplayName: 'Priya Sharma',\n    profileImage: mockUsers.find(user => user.id === '7')?.profileImage,\n    isVerified: true,\n    content: 'Sunset at the Taj Mahal never gets old  Every visit feels like the first time. The beauty, the history, the love story... simply magical! #travel #india #tajmahal',\n    image: 'https://images.unsplash.com/photo-1564507592333-c60657eea523?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 3450,\n    comments: 234,\n    shares: 456,\n    views: 28900,\n    timestamp: '3h',\n    engagement: 4140,\n    author: {\n      id: '7',\n      username: 'priya_travels',\n      displayName: 'Priya Sharma',\n      profileImage: mockUsers.find(user => user.id === '7')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '4',\n    userId: '9',\n    username: 'yuki_fashion',\n    userDisplayName: 'Yuki Tanaka',\n    profileImage: mockUsers.find(user => user.id === '9')?.profileImage,\n    isVerified: true,\n    content: 'Tokyo street style is all about mixing traditional with modern  This kimono-inspired jacket is everything! #fashion #tokyo #streetstyle',\n    image: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 4560,\n    comments: 345,\n    shares: 567,\n    views: 34500,\n    timestamp: '4h',\n    engagement: 5472,\n    author: {\n      id: '9',\n      username: 'yuki_fashion',\n      displayName: 'Yuki Tanaka',\n      profileImage: mockUsers.find(user => user.id === '9')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '5',\n    userId: '11',\n    username: 'fatima_beauty',\n    userDisplayName: 'Fatima Al-Rashid',\n    profileImage: mockUsers.find(user => user.id === '11')?.profileImage,\n    isVerified: true,\n    content: 'New makeup tutorial dropping tomorrow!  This look is perfect for any occasion. Can you guess the color palette? #beauty #makeup #tutorial',\n    image: 'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 5670,\n    comments: 456,\n    shares: 678,\n    views: 45600,\n    timestamp: '5h',\n    engagement: 6804,\n    author: {\n      id: '11',\n      username: 'fatima_beauty',\n      displayName: 'Fatima Al-Rashid',\n      profileImage: mockUsers.find(user => user.id === '11')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '6',\n    userId: '2',\n    username: 'mike_foodie',\n    userDisplayName: 'Mike Rodriguez',\n    profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n    isVerified: false,\n    content: 'Made this delicious pasta while listening to my favorite playlist! Food and music - perfect combo  #foodie #musiclover',\n    image: 'https://images.unsplash.com/photo-1563379926898-05f4575a45d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    likes: 567,\n    comments: 42,\n    shares: 18,\n    views: 8900,\n    timestamp: '6h',\n    engagement: 627,\n    author: {\n      id: '2',\n      username: 'mike_foodie',\n      displayName: 'Mike Rodriguez',\n      profileImage: mockUsers.find(user => user.id === '2')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '7',\n    userId: '13',\n    username: 'aisha_wellness',\n    userDisplayName: 'Aisha Okonkwo',\n    profileImage: mockUsers.find(user => user.id === '13')?.profileImage,\n    isVerified: true,\n    content: 'Morning meditation by the beach  Start your day with gratitude and positive energy. The ocean has a way of healing the soul. #wellness #meditation #mindfulness',\n    image: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 3890,\n    comments: 234,\n    shares: 345,\n    views: 29800,\n    timestamp: '7h',\n    engagement: 4469,\n    author: {\n      id: '13',\n      username: 'aisha_wellness',\n      displayName: 'Aisha Okonkwo',\n      profileImage: mockUsers.find(user => user.id === '13')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '8',\n    userId: '14',\n    username: 'diego_sports',\n    userDisplayName: 'Diego Martinez',\n    profileImage: mockUsers.find(user => user.id === '14')?.profileImage,\n    isVerified: true,\n    content: 'What a match!  The passion, the skill, the drama - this is why we love football! #football #soccer #sports',\n    image: 'https://images.unsplash.com/photo-1522778119026-d647f0596c20?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 6780,\n    comments: 567,\n    shares: 890,\n    views: 56700,\n    timestamp: '8h',\n    engagement: 8237,\n    author: {\n      id: '14',\n      username: 'diego_sports',\n      displayName: 'Diego Martinez',\n      profileImage: mockUsers.find(user => user.id === '14')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '9',\n    userId: '12',\n    username: 'liam_photo',\n    userDisplayName: 'Liam O\\'Connor',\n    profileImage: mockUsers.find(user => user.id === '12')?.profileImage,\n    isVerified: false,\n    content: 'Golden hour in Dublin  There\\'s something magical about the way light transforms ordinary moments into extraordinary memories. #photography #dublin #goldenhour',\n    image: 'https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 2340,\n    comments: 123,\n    shares: 156,\n    views: 18900,\n    timestamp: '9h',\n    engagement: 2619,\n    author: {\n      id: '12',\n      username: 'liam_photo',\n      displayName: 'Liam O\\'Connor',\n      profileImage: mockUsers.find(user => user.id === '12')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '10',\n    userId: '15',\n    username: 'mei_chef',\n    userDisplayName: 'Mei Wong',\n    profileImage: mockUsers.find(user => user.id === '15')?.profileImage,\n    isVerified: false,\n    content: 'Homemade dim sum  The secret is in the folding technique and fresh ingredients. Recipe coming soon! #cooking #dimsum #asiancuisine',\n    image: 'https://images.unsplash.com/photo-1496116218417-1a781b1c416c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 2890,\n    comments: 189,\n    shares: 234,\n    views: 23400,\n    timestamp: '10h',\n    engagement: 3313,\n    author: {\n      id: '15',\n      username: 'mei_chef',\n      displayName: 'Mei Wong',\n      profileImage: mockUsers.find(user => user.id === '15')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '11',\n    userId: '8',\n    username: 'carlos_music',\n    userDisplayName: 'Carlos Silva',\n    profileImage: mockUsers.find(user => user.id === '8')?.profileImage,\n    isVerified: false,\n    content: 'New beat dropping tonight!  This one\\'s been in the works for months. Can\\'t wait for you all to hear it! #music #producer #newmusic',\n    image: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 1890,\n    comments: 234,\n    shares: 345,\n    views: 15600,\n    timestamp: '11h',\n    engagement: 2469,\n    author: {\n      id: '8',\n      username: 'carlos_music',\n      displayName: 'Carlos Silva',\n      profileImage: mockUsers.find(user => user.id === '8')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '12',\n    userId: '10',\n    username: 'marcus_tech',\n    userDisplayName: 'Marcus Brown',\n    profileImage: mockUsers.find(user => user.id === '10')?.profileImage,\n    isVerified: false,\n    content: 'Just shipped a major feature!  The feeling when your code works on the first try is unmatched. #coding #developer #tech',\n    image: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 987,\n    comments: 67,\n    shares: 89,\n    views: 7890,\n    timestamp: '12h',\n    engagement: 1143,\n    author: {\n      id: '10',\n      username: 'marcus_tech',\n      displayName: 'Marcus Brown',\n      profileImage: mockUsers.find(user => user.id === '10')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '13',\n    userId: '3',\n    username: 'taylor_sync',\n    userDisplayName: 'Taylor Kim',\n    profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n    isVerified: false,\n    content: 'Just released a new playlist for coding sessions! Check it out and let me know what you think  #coding #music #productivity',\n    likes: 342,\n    comments: 28,\n    shares: 56,\n    views: 5600,\n    timestamp: '1d',\n    engagement: 426,\n    author: {\n      id: '3',\n      username: 'taylor_sync',\n      displayName: 'Taylor Kim',\n      profileImage: mockUsers.find(user => user.id === '3')?.profileImage,\n      isVerified: false,\n    }\n  },\n  {\n    id: '14',\n    userId: '5',\n    username: 'alexj',\n    userDisplayName: 'Alex Johnson',\n    profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n    isVerified: true,\n    content: 'Feeling amazing today! The weather is perfect and I\\'m vibing to some great music ',\n    likes: 24,\n    comments: 8,\n    shares: 3,\n    views: 890,\n    timestamp: '2d',\n    engagement: 35,\n    author: {\n      id: '5',\n      username: 'alexj',\n      displayName: 'Alex Johnson',\n      profileImage: mockUsers.find(user => user.id === '5')?.profileImage,\n      isVerified: true,\n    }\n  },\n  {\n    id: '15',\n    userId: '4',\n    username: 'emma_artist',\n    userDisplayName: 'Emma Wilson',\n    profileImage: mockUsers.find(user => user.id === '4')?.profileImage,\n    isVerified: true,\n    content: 'New digital art piece finished!  This one took me weeks but I\\'m so proud of the result. Art is my therapy. #digitalart #artist #creative',\n    image: 'https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    likes: 1120,\n    comments: 89,\n    shares: 123,\n    views: 9800,\n    timestamp: '2d',\n    engagement: 1332,\n    author: {\n      id: '4',\n      username: 'emma_artist',\n      displayName: 'Emma Wilson',\n      profileImage: mockUsers.find(user => user.id === '4')?.profileImage,\n      isVerified: true,\n    }\n  }\n];\n","import { useState, useCallback } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { ImageTag, Mention, TagSettings, PendingTag, TagAnalytics } from '@/types/tag';\nimport { User } from '@/types';\nimport { users } from '@/mocks/users';\n\nconst TAG_SETTINGS_KEY = 'tag_settings';\nconst PENDING_TAGS_KEY = 'pending_tags';\n\nexport const [TaggingProvider, useTagging] = createContextHook(() => {\n  const [tagSettings, setTagSettings] = useState<TagSettings>({\n    whoCanTagMe: 'everyone',\n    reviewTagsBeforeShowing: false,\n  });\n  const [pendingTags, setPendingTags] = useState<PendingTag[]>([]);\n  const [tagAnalytics, setTagAnalytics] = useState<TagAnalytics>({\n    totalTags: 0,\n    profileVisitsFromTags: 0,\n    topTaggers: [],\n    tagsByVerifiedUsers: 0,\n    vibeScoreFromTags: 0,\n  });\n\n  const loadSettings = useCallback(async () => {\n    try {\n      const stored = await AsyncStorage.getItem(TAG_SETTINGS_KEY);\n      if (stored) {\n        setTagSettings(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('Failed to load tag settings:', error);\n    }\n  }, []);\n\n  const saveSettings = useCallback(async (settings: TagSettings) => {\n    try {\n      await AsyncStorage.setItem(TAG_SETTINGS_KEY, JSON.stringify(settings));\n      setTagSettings(settings);\n    } catch (error) {\n      console.error('Failed to save tag settings:', error);\n    }\n  }, []);\n\n  const loadPendingTags = useCallback(async () => {\n    try {\n      const stored = await AsyncStorage.getItem(PENDING_TAGS_KEY);\n      if (stored) {\n        const tags = JSON.parse(stored);\n        setPendingTags(tags.map((tag: PendingTag) => ({\n          ...tag,\n          timestamp: new Date(tag.timestamp),\n        })));\n      }\n    } catch (error) {\n      console.error('Failed to load pending tags:', error);\n    }\n  }, []);\n\n  const searchUsers = useCallback((query: string): User[] => {\n    if (!query.trim()) return [];\n    \n    const lowerQuery = query.toLowerCase();\n    return users\n      .filter(user => \n        user.username.toLowerCase().includes(lowerQuery) ||\n        (user.name && user.name.toLowerCase().includes(lowerQuery))\n      )\n      .slice(0, 10);\n  }, []);\n\n  const canUserTagMe = useCallback((userId: string): boolean => {\n    if (tagSettings.whoCanTagMe === 'everyone') return true;\n    if (tagSettings.whoCanTagMe === 'no-one') return false;\n    \n    const user = users.find(u => u.id === userId);\n    return user?.isFollowing || false;\n  }, [tagSettings.whoCanTagMe]);\n\n  const addTag = useCallback(async (\n    postId: string,\n    postImage: string,\n    postType: 'post' | 'vibe' | 'story',\n    tag: ImageTag,\n    taggedByUserId: string\n  ) => {\n    const canTag = canUserTagMe(taggedByUserId);\n    \n    if (!canTag) {\n      throw new Error('This user cannot tag you');\n    }\n\n    if (tagSettings.reviewTagsBeforeShowing) {\n      const taggedByUser = users.find(u => u.id === taggedByUserId);\n      if (!taggedByUser) return;\n\n      const pendingTag: PendingTag = {\n        id: Date.now().toString(),\n        postId,\n        postImage,\n        postType,\n        taggedBy: {\n          userId: taggedByUser.id,\n          username: taggedByUser.username,\n          avatar: taggedByUser.avatar || '',\n          verified: taggedByUser.verified || false,\n        },\n        position: tag.position,\n        timestamp: new Date(),\n        status: 'pending',\n      };\n\n      const updated = [...pendingTags, pendingTag];\n      setPendingTags(updated);\n      await AsyncStorage.setItem(PENDING_TAGS_KEY, JSON.stringify(updated));\n    }\n\n    console.log('Tag added:', { postId, tag, requiresReview: tagSettings.reviewTagsBeforeShowing });\n  }, [tagSettings, pendingTags, canUserTagMe]);\n\n  const approveTag = useCallback(async (tagId: string) => {\n    const updated = pendingTags.map(tag =>\n      tag.id === tagId ? { ...tag, status: 'approved' as const } : tag\n    );\n    setPendingTags(updated);\n    await AsyncStorage.setItem(PENDING_TAGS_KEY, JSON.stringify(updated));\n    \n    setTagAnalytics(prev => ({\n      ...prev,\n      totalTags: prev.totalTags + 1,\n    }));\n  }, [pendingTags]);\n\n  const rejectTag = useCallback(async (tagId: string) => {\n    const updated = pendingTags.map(tag =>\n      tag.id === tagId ? { ...tag, status: 'rejected' as const } : tag\n    );\n    setPendingTags(updated);\n    await AsyncStorage.setItem(PENDING_TAGS_KEY, JSON.stringify(updated));\n  }, [pendingTags]);\n\n  const removeTag = useCallback(async (postId: string, tagId: string) => {\n    console.log('Removing tag:', { postId, tagId });\n  }, []);\n\n  const parseMentions = useCallback((text: string): Mention[] => {\n    const mentions: Mention[] = [];\n    const regex = /@(\\w+)/g;\n    let match;\n\n    while ((match = regex.exec(text)) !== null) {\n      const username = match[1];\n      const user = users.find(u => u.username.toLowerCase() === username.toLowerCase());\n      \n      if (user) {\n        mentions.push({\n          userId: user.id,\n          username: user.username,\n          avatar: user.avatar || '',\n          verified: user.verified || false,\n          startIndex: match.index,\n          endIndex: match.index + match[0].length,\n        });\n      }\n    }\n\n    return mentions;\n  }, []);\n\n  const updateAnalytics = useCallback((update: Partial<TagAnalytics>) => {\n    setTagAnalytics(prev => ({ ...prev, ...update }));\n  }, []);\n\n  return {\n    tagSettings,\n    pendingTags: pendingTags.filter(t => t.status === 'pending'),\n    tagAnalytics,\n    loadSettings,\n    saveSettings,\n    loadPendingTags,\n    searchUsers,\n    canUserTagMe,\n    addTag,\n    approveTag,\n    rejectTag,\n    removeTag,\n    parseMentions,\n    updateAnalytics,\n  };\n});\n","import React from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  Image,\n} from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Check, X } from 'lucide-react-native';\nimport { useTagging } from '@/hooks/tagging-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\n\nexport default function TagReviewScreen() {\n  const { pendingTags, approveTag, rejectTag } = useTagging();\n\n  const handleApprove = async (tagId: string) => {\n    await approveTag(tagId);\n  };\n\n  const handleReject = async (tagId: string) => {\n    await rejectTag(tagId);\n  };\n\n  const formatTime = (date: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n\n    if (days > 0) return `${days}d ago`;\n    if (hours > 0) return `${hours}h ago`;\n    if (minutes > 0) return `${minutes}m ago`;\n    return 'Just now';\n  };\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen\n        options={{\n          title: 'Review Tags',\n          headerStyle: { backgroundColor: '#000' },\n          headerTintColor: '#fff',\n          headerShadowVisible: false,\n        }}\n      />\n\n      {pendingTags.length === 0 ? (\n        <View style={styles.emptyContainer}>\n          <Text style={styles.emptyTitle}>No Pending Tags</Text>\n          <Text style={styles.emptyText}>\n            You&apos;ll see tags here when someone tags you in a post\n          </Text>\n        </View>\n      ) : (\n        <FlatList\n          data={pendingTags}\n          keyExtractor={item => item.id}\n          renderItem={({ item }) => (\n            <View style={styles.tagItem}>\n              <TouchableOpacity\n                style={styles.tagContent}\n                onPress={() => {\n                  if (item.postType === 'post') {\n                    router.push(`/post/${item.postId}`);\n                  } else if (item.postType === 'vibe') {\n                    router.push(`/post/${item.postId}`);\n                  } else if (item.postType === 'story') {\n                    router.push(`/story/${item.postId}`);\n                  }\n                }}\n              >\n                <Image\n                  source={{ uri: item.postImage }}\n                  style={styles.postThumbnail}\n                />\n                <View style={styles.tagInfo}>\n                  <View style={styles.userRow}>\n                    <Avatar uri={item.taggedBy.avatar} size={32} />\n                    <View style={styles.userInfo}>\n                      <View style={styles.userNameRow}>\n                        <Text style={styles.username}>\n                          @{item.taggedBy.username}\n                        </Text>\n                        {item.taggedBy.verified && <VerifiedBadge size={12} />}\n                      </View>\n                      <Text style={styles.tagAction}>\n                        tagged you in a {item.postType}\n                      </Text>\n                    </View>\n                  </View>\n                  <Text style={styles.timestamp}>\n                    {formatTime(item.timestamp)}\n                  </Text>\n                </View>\n              </TouchableOpacity>\n\n              <View style={styles.actions}>\n                <TouchableOpacity\n                  style={[styles.actionButton, styles.rejectButton]}\n                  onPress={() => handleReject(item.id)}\n                >\n                  <X size={20} color=\"#fff\" />\n                  <Text style={styles.actionText}>Reject</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[styles.actionButton, styles.approveButton]}\n                  onPress={() => handleApprove(item.id)}\n                >\n                  <Check size={20} color=\"#fff\" />\n                  <Text style={styles.actionText}>Approve</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n          contentContainerStyle={styles.listContent}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000',\n  },\n  listContent: {\n    padding: 16,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 32,\n  },\n  emptyTitle: {\n    fontSize: 20,\n    fontWeight: '600' as const,\n    color: '#fff',\n    marginBottom: 8,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: '#666',\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n  tagItem: {\n    backgroundColor: '#1a1a1a',\n    borderRadius: 12,\n    marginBottom: 16,\n    overflow: 'hidden',\n  },\n  tagContent: {\n    flexDirection: 'row',\n    padding: 12,\n    gap: 12,\n  },\n  postThumbnail: {\n    width: 80,\n    height: 80,\n    borderRadius: 8,\n  },\n  tagInfo: {\n    flex: 1,\n    justifyContent: 'space-between',\n  },\n  userRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  userInfo: {\n    flex: 1,\n  },\n  userNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  username: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    color: '#fff',\n  },\n  tagAction: {\n    fontSize: 14,\n    color: '#666',\n    marginTop: 2,\n  },\n  timestamp: {\n    fontSize: 13,\n    color: '#666',\n  },\n  actions: {\n    flexDirection: 'row',\n    borderTopWidth: 1,\n    borderTopColor: '#333',\n  },\n  actionButton: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    gap: 6,\n  },\n  rejectButton: {\n    borderRightWidth: 1,\n    borderRightColor: '#333',\n  },\n  approveButton: {},\n  actionText: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    color: '#fff',\n  },\n});\n","import React from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView, Alert, Platform } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Stack, router } from 'expo-router';\nimport * as ImagePicker from 'expo-image-picker';\nimport {\n  Image as ImageIcon,\n  Video,\n  Folder,\n  Camera,\n  Film,\n} from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useStudio } from '@/hooks/studio-store';\nimport { LinearGradient } from 'expo-linear-gradient';\n\nexport default function CreativeStudioScreen() {\n  const { colors } = useTheme();\n  const { projects } = useStudio();\n\n  const handleImportMedia = async (type: 'photo' | 'video') => {\n    try {\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== 'granted') {\n          Alert.alert('Permission Required', 'Please grant media library permissions.');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: type === 'photo' ? ImagePicker.MediaTypeOptions.Images : ImagePicker.MediaTypeOptions.Videos,\n        allowsEditing: false,\n        quality: 1,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        if (type === 'photo') {\n          router.push({\n            pathname: '/studio/image-editor',\n            params: { mediaUri: result.assets[0].uri }\n          });\n        } else {\n          router.push({\n            pathname: '/studio/video-editor',\n            params: { mediaUri: result.assets[0].uri }\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error picking media:', error);\n      Alert.alert('Error', 'Failed to pick media.');\n    }\n  };\n\n  const handleCaptureMedia = async (type: 'photo' | 'video') => {\n    try {\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestCameraPermissionsAsync();\n        if (status !== 'granted') {\n          Alert.alert('Permission Required', 'Please grant camera permissions.');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: type === 'photo' ? ImagePicker.MediaTypeOptions.Images : ImagePicker.MediaTypeOptions.Videos,\n        allowsEditing: false,\n        quality: 1,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        if (type === 'photo') {\n          router.push({\n            pathname: '/studio/image-editor',\n            params: { mediaUri: result.assets[0].uri }\n          });\n        } else {\n          router.push({\n            pathname: '/studio/video-editor',\n            params: { mediaUri: result.assets[0].uri }\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error capturing media:', error);\n      Alert.alert('Error', 'Failed to capture media.');\n    }\n  };\n\n  const createOptions = [\n    {\n      icon: Camera,\n      label: 'Capture Photo',\n      description: 'Take a photo & edit',\n      gradient: ['#667eea', '#764ba2'] as const,\n      onPress: () => handleCaptureMedia('photo'),\n    },\n    {\n      icon: ImageIcon,\n      label: 'Import Photo',\n      description: 'Edit existing photos',\n      gradient: ['#4facfe', '#00f2fe'] as const,\n      onPress: () => handleImportMedia('photo'),\n    },\n    {\n      icon: Video,\n      label: 'Capture Video',\n      description: 'Record & edit video',\n      gradient: ['#f093fb', '#f5576c'] as const,\n      onPress: () => handleCaptureMedia('video'),\n    },\n    {\n      icon: Film,\n      label: 'Import Video',\n      description: 'Edit existing videos',\n      gradient: ['#fa709a', '#fee140'] as const,\n      onPress: () => handleImportMedia('video'),\n    },\n  ];\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={['top']}>\n      <Stack.Screen\n        options={{\n          headerShown: false,\n        }}\n      />\n\n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>Creative Studio</Text>\n        <TouchableOpacity onPress={() => router.push('/studio/projects')} style={styles.projectsButton}>\n          <Folder size={24} color={colors.primary} />\n        </TouchableOpacity>\n      </View>\n\n      <ScrollView style={styles.content}>\n        <View style={styles.section}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Create New Project</Text>\n          <Text style={[styles.sectionSubtitle, { color: colors.textSecondary }]}>\n            Import or capture content to start editing\n          </Text>\n          {createOptions.map((option, index) => (\n            <TouchableOpacity\n              key={index}\n              style={[styles.createCard, { backgroundColor: colors.card }]}\n              onPress={option.onPress}\n              activeOpacity={0.7}\n            >\n              <LinearGradient\n                colors={option.gradient}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n                style={styles.createIconContainer}\n              >\n                <option.icon size={28} color=\"#FFFFFF\" />\n              </LinearGradient>\n              <View style={styles.createInfo}>\n                <Text style={[styles.createLabel, { color: colors.text }]}>{option.label}</Text>\n                <Text style={[styles.createDescription, { color: colors.textSecondary }]}>\n                  {option.description}\n                </Text>\n              </View>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <View style={styles.section}>\n          <View style={styles.sectionHeader}>\n            <Text style={[styles.sectionTitle, { color: colors.text }]}>My Drafts</Text>\n            {projects.length > 0 && (\n              <TouchableOpacity onPress={() => router.push('/studio/projects')}>\n                <Text style={[styles.viewAllLink, { color: colors.primary }]}>View All</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n          {projects.length === 0 ? (\n            <View style={styles.emptyDrafts}>\n              <Folder size={48} color={colors.textSecondary} />\n              <Text style={[styles.emptyDraftsText, { color: colors.textSecondary }]}>\n                No drafts yet. Start creating!\n              </Text>\n            </View>\n          ) : (\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.draftsScroll}>\n              {projects.slice(0, 6).map((project) => (\n                <TouchableOpacity\n                  key={project.id}\n                  style={[styles.draftCard, { backgroundColor: colors.card }]}\n                  onPress={() => {\n                    if (project.type === 'image') {\n                      router.push('/studio/image-editor');\n                    } else {\n                      router.push('/studio/video-editor');\n                    }\n                  }}\n                >\n                  <View style={styles.draftThumbnail}>\n                    {project.type === 'video' && (\n                      <View style={[styles.playBadge, { backgroundColor: colors.primary }]}>\n                        <Video size={12} color=\"#FFFFFF\" />\n                      </View>\n                    )}\n                  </View>\n                  <Text style={[styles.draftName, { color: colors.text }]} numberOfLines={1}>\n                    {project.name}\n                  </Text>\n                  <Text style={[styles.draftDate, { color: colors.textSecondary }]}>\n                    {project.updatedAt.toLocaleDateString()}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n  },\n  projectsButton: {\n    padding: 8,\n  },\n  content: {\n    flex: 1,\n  },\n  section: {\n    padding: 20,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 22,\n    fontWeight: '700' as const,\n  },\n  sectionSubtitle: {\n    fontSize: 14,\n    marginBottom: 20,\n    marginTop: 4,\n  },\n  viewAllLink: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  createCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 12,\n  },\n  createIconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  createInfo: {\n    flex: 1,\n    marginLeft: 16,\n  },\n  createLabel: {\n    fontSize: 17,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  createDescription: {\n    fontSize: 14,\n  },\n  emptyDrafts: {\n    alignItems: 'center',\n    paddingVertical: 32,\n  },\n  emptyDraftsText: {\n    fontSize: 14,\n    marginTop: 12,\n  },\n  draftsScroll: {\n    marginHorizontal: -20,\n    paddingHorizontal: 20,\n  },\n  draftCard: {\n    width: 120,\n    marginRight: 12,\n    borderRadius: 12,\n    padding: 8,\n  },\n  draftThumbnail: {\n    width: '100%',\n    height: 120,\n    borderRadius: 8,\n    backgroundColor: '#333',\n    marginBottom: 8,\n    position: 'relative',\n  },\n  playBadge: {\n    position: 'absolute',\n    top: 8,\n    right: 8,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  draftName: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  draftDate: {\n    fontSize: 11,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity, Alert } from 'react-native';\nimport { Monitor, Smartphone, X, LogOut } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\ninterface ActiveSession {\n  id: string;\n  deviceName: string;\n  deviceType: 'mobile' | 'desktop' | 'tablet';\n  location: string;\n  lastActive: string;\n  isCurrent: boolean;\n  ipAddress: string;\n}\n\ninterface ActiveSessionsModalProps {\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst SESSIONS_KEY = '@vibesync_active_sessions';\n\nexport default function ActiveSessionsModal({ visible, onClose }: ActiveSessionsModalProps) {\n  const { colors } = useTheme();\n  const [sessions, setSessions] = useState<ActiveSession[]>([]);\n\n  useEffect(() => {\n    if (visible) {\n      loadSessions();\n    }\n  }, [visible]);\n\n  const loadSessions = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(SESSIONS_KEY);\n      if (stored) {\n        setSessions(JSON.parse(stored));\n      } else {\n        const mockSessions: ActiveSession[] = [\n          {\n            id: '1',\n            deviceName: 'iPhone 14 Pro',\n            deviceType: 'mobile',\n            location: 'New York, USA',\n            lastActive: 'Active now',\n            isCurrent: true,\n            ipAddress: '192.168.1.1',\n          },\n          {\n            id: '2',\n            deviceName: 'MacBook Pro',\n            deviceType: 'desktop',\n            location: 'New York, USA',\n            lastActive: '2 hours ago',\n            isCurrent: false,\n            ipAddress: '192.168.1.2',\n          },\n        ];\n        setSessions(mockSessions);\n        await AsyncStorage.setItem(SESSIONS_KEY, JSON.stringify(mockSessions));\n      }\n    } catch (error) {\n      console.error('Error loading sessions:', error);\n    }\n  };\n\n  const handleLogoutSession = (sessionId: string) => {\n    Alert.alert(\n      'Logout Session',\n      'Are you sure you want to logout this device?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Logout',\n          style: 'destructive',\n          onPress: async () => {\n            const updatedSessions = sessions.filter(s => s.id !== sessionId);\n            setSessions(updatedSessions);\n            await AsyncStorage.setItem(SESSIONS_KEY, JSON.stringify(updatedSessions));\n            Alert.alert('Success', 'Device logged out successfully');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleLogoutAllOthers = () => {\n    Alert.alert(\n      'Logout All Other Devices',\n      'This will logout all devices except this one.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Logout All',\n          style: 'destructive',\n          onPress: async () => {\n            const currentSession = sessions.filter(s => s.isCurrent);\n            setSessions(currentSession);\n            await AsyncStorage.setItem(SESSIONS_KEY, JSON.stringify(currentSession));\n            Alert.alert('Success', 'All other devices logged out');\n          },\n        },\n      ]\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>Active Sessions</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            {sessions.map((session) => (\n              <View key={session.id} style={[styles.sessionCard, { backgroundColor: colors.cardLight }]}>\n                <View style={styles.sessionHeader}>\n                  <View style={[styles.iconContainer, { backgroundColor: colors.glass }]}>\n                    {session.deviceType === 'mobile' ? (\n                      <Smartphone size={20} color={colors.primary} />\n                    ) : (\n                      <Monitor size={20} color={colors.primary} />\n                    )}\n                  </View>\n                  <View style={styles.sessionInfo}>\n                    <View style={styles.deviceRow}>\n                      <Text style={[styles.deviceName, { color: colors.text }]}>{session.deviceName}</Text>\n                      {session.isCurrent && (\n                        <View style={[styles.currentBadge, { backgroundColor: colors.success }]}>\n                          <Text style={[styles.currentText, { color: colors.textInverse }]}>Current</Text>\n                        </View>\n                      )}\n                    </View>\n                    <Text style={[styles.location, { color: colors.textSecondary }]}>{session.location}</Text>\n                    <Text style={[styles.lastActive, { color: colors.textSecondary }]}>{session.lastActive}</Text>\n                    <Text style={[styles.ipAddress, { color: colors.textMuted }]}>IP: {session.ipAddress}</Text>\n                  </View>\n                </View>\n\n                {!session.isCurrent && (\n                  <TouchableOpacity\n                    style={[styles.logoutButton, { backgroundColor: colors.error + '20' }]}\n                    onPress={() => handleLogoutSession(session.id)}\n                  >\n                    <LogOut size={16} color={colors.error} />\n                    <Text style={[styles.logoutText, { color: colors.error }]}>Logout</Text>\n                  </TouchableOpacity>\n                )}\n              </View>\n            ))}\n          </ScrollView>\n\n          {sessions.filter(s => !s.isCurrent).length > 0 && (\n            <View style={[styles.footer, { borderTopColor: colors.border }]}>\n              <TouchableOpacity\n                style={[styles.logoutAllButton, { backgroundColor: colors.error }]}\n                onPress={handleLogoutAllOthers}\n              >\n                <LogOut size={18} color={colors.textInverse} />\n                <Text style={[styles.logoutAllText, { color: colors.textInverse }]}>\n                  Logout All Other Devices\n                </Text>\n              </TouchableOpacity>\n            </View>\n          )}\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '80%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    padding: 16,\n  },\n  sessionCard: {\n    borderRadius: 16,\n    padding: 16,\n    marginBottom: 12,\n  },\n  sessionHeader: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  iconContainer: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  sessionInfo: {\n    flex: 1,\n  },\n  deviceRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 4,\n  },\n  deviceName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  currentBadge: {\n    paddingHorizontal: 8,\n    paddingVertical: 2,\n    borderRadius: 8,\n  },\n  currentText: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  location: {\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  lastActive: {\n    fontSize: 13,\n    marginBottom: 2,\n  },\n  ipAddress: {\n    fontSize: 12,\n  },\n  logoutButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 6,\n    marginTop: 12,\n    paddingVertical: 10,\n    borderRadius: 10,\n  },\n  logoutText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  footer: {\n    padding: 16,\n    borderTopWidth: 1,\n  },\n  logoutAllButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 14,\n    borderRadius: 12,\n  },\n  logoutAllText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity, Alert, TextInput } from 'react-native';\nimport { UserX, X, Search, Unlock } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Avatar } from '@/components/ui/Avatar';\n\ninterface BlockedUser {\n  id: string;\n  username: string;\n  displayName: string;\n  profileImage?: string;\n  blockedAt: string;\n}\n\ninterface BlockedAccountsModalProps {\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst BLOCKED_KEY = '@vibesync_blocked_accounts';\n\nexport default function BlockedAccountsModal({ visible, onClose }: BlockedAccountsModalProps) {\n  const { colors } = useTheme();\n  const [blockedUsers, setBlockedUsers] = useState<BlockedUser[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      loadBlockedUsers();\n    }\n  }, [visible]);\n\n  const loadBlockedUsers = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(BLOCKED_KEY);\n      if (stored) {\n        setBlockedUsers(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('Error loading blocked users:', error);\n    }\n  };\n\n  const handleUnblock = (userId: string, username: string) => {\n    Alert.alert(\n      'Unblock User',\n      `Are you sure you want to unblock @${username}?`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Unblock',\n          onPress: async () => {\n            const updated = blockedUsers.filter(u => u.id !== userId);\n            setBlockedUsers(updated);\n            await AsyncStorage.setItem(BLOCKED_KEY, JSON.stringify(updated));\n            Alert.alert('Success', `@${username} has been unblocked`);\n          },\n        },\n      ]\n    );\n  };\n\n  const filteredUsers = blockedUsers.filter(user =>\n    user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    user.displayName.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>Blocked Accounts</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.searchContainer}>\n            <View style={[styles.searchBar, { backgroundColor: colors.cardLight }]}>\n              <Search size={18} color={colors.textSecondary} />\n              <TextInput\n                style={[styles.searchInput, { color: colors.text }]}\n                placeholder=\"Search blocked accounts...\"\n                placeholderTextColor={colors.textSecondary}\n                value={searchQuery}\n                onChangeText={setSearchQuery}\n              />\n            </View>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            {filteredUsers.length === 0 ? (\n              <View style={styles.emptyState}>\n                <UserX size={48} color={colors.textSecondary} />\n                <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n                  {searchQuery ? 'No blocked accounts found' : 'No blocked accounts'}\n                </Text>\n              </View>\n            ) : (\n              filteredUsers.map((user) => (\n                <View key={user.id} style={[styles.userCard, { borderBottomColor: colors.border }]}>\n                  <Avatar uri={user.profileImage} size={48} />\n                  <View style={styles.userInfo}>\n                    <Text style={[styles.displayName, { color: colors.text }]}>{user.displayName}</Text>\n                    <Text style={[styles.username, { color: colors.textSecondary }]}>@{user.username}</Text>\n                    <Text style={[styles.blockedAt, { color: colors.textMuted }]}>\n                      Blocked {new Date(user.blockedAt).toLocaleDateString()}\n                    </Text>\n                  </View>\n                  <TouchableOpacity\n                    style={[styles.unblockButton, { backgroundColor: colors.primary }]}\n                    onPress={() => handleUnblock(user.id, user.username)}\n                  >\n                    <Unlock size={16} color={colors.textInverse} />\n                    <Text style={[styles.unblockText, { color: colors.textInverse }]}>Unblock</Text>\n                  </TouchableOpacity>\n                </View>\n              ))\n            )}\n          </ScrollView>\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '80%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  searchContainer: {\n    padding: 16,\n  },\n  searchBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 12,\n    gap: 10,\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 15,\n  },\n  content: {\n    flex: 1,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n    gap: 12,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '500' as const,\n  },\n  userCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    gap: 12,\n  },\n  userInfo: {\n    flex: 1,\n  },\n  displayName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  username: {\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  blockedAt: {\n    fontSize: 12,\n  },\n  unblockButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    paddingHorizontal: 14,\n    paddingVertical: 8,\n    borderRadius: 8,\n  },\n  unblockText: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity, Alert, TextInput } from 'react-native';\nimport { VolumeX, X, Search, Volume2 } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Avatar } from '@/components/ui/Avatar';\n\ninterface MutedUser {\n  id: string;\n  username: string;\n  displayName: string;\n  profileImage?: string;\n  mutedAt: string;\n  muteType: 'posts' | 'stories' | 'all';\n}\n\ninterface MutedAccountsModalProps {\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst MUTED_KEY = '@vibesync_muted_accounts';\n\nexport default function MutedAccountsModal({ visible, onClose }: MutedAccountsModalProps) {\n  const { colors } = useTheme();\n  const [mutedUsers, setMutedUsers] = useState<MutedUser[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      loadMutedUsers();\n    }\n  }, [visible]);\n\n  const loadMutedUsers = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(MUTED_KEY);\n      if (stored) {\n        setMutedUsers(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('Error loading muted users:', error);\n    }\n  };\n\n  const handleUnmute = (userId: string, username: string) => {\n    Alert.alert(\n      'Unmute User',\n      `Are you sure you want to unmute @${username}?`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Unmute',\n          onPress: async () => {\n            const updated = mutedUsers.filter(u => u.id !== userId);\n            setMutedUsers(updated);\n            await AsyncStorage.setItem(MUTED_KEY, JSON.stringify(updated));\n            Alert.alert('Success', `@${username} has been unmuted`);\n          },\n        },\n      ]\n    );\n  };\n\n  const filteredUsers = mutedUsers.filter(user =>\n    user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    user.displayName.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getMuteTypeLabel = (type: string) => {\n    switch (type) {\n      case 'posts': return 'Posts muted';\n      case 'stories': return 'Stories muted';\n      case 'all': return 'All content muted';\n      default: return 'Muted';\n    }\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>Muted Accounts</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.searchContainer}>\n            <View style={[styles.searchBar, { backgroundColor: colors.cardLight }]}>\n              <Search size={18} color={colors.textSecondary} />\n              <TextInput\n                style={[styles.searchInput, { color: colors.text }]}\n                placeholder=\"Search muted accounts...\"\n                placeholderTextColor={colors.textSecondary}\n                value={searchQuery}\n                onChangeText={setSearchQuery}\n              />\n            </View>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            {filteredUsers.length === 0 ? (\n              <View style={styles.emptyState}>\n                <VolumeX size={48} color={colors.textSecondary} />\n                <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n                  {searchQuery ? 'No muted accounts found' : 'No muted accounts'}\n                </Text>\n              </View>\n            ) : (\n              filteredUsers.map((user) => (\n                <View key={user.id} style={[styles.userCard, { borderBottomColor: colors.border }]}>\n                  <Avatar uri={user.profileImage} size={48} />\n                  <View style={styles.userInfo}>\n                    <Text style={[styles.displayName, { color: colors.text }]}>{user.displayName}</Text>\n                    <Text style={[styles.username, { color: colors.textSecondary }]}>@{user.username}</Text>\n                    <Text style={[styles.muteType, { color: colors.textMuted }]}>\n                      {getMuteTypeLabel(user.muteType)}\n                    </Text>\n                  </View>\n                  <TouchableOpacity\n                    style={[styles.unmuteButton, { backgroundColor: colors.primary }]}\n                    onPress={() => handleUnmute(user.id, user.username)}\n                  >\n                    <Volume2 size={16} color={colors.textInverse} />\n                    <Text style={[styles.unmuteText, { color: colors.textInverse }]}>Unmute</Text>\n                  </TouchableOpacity>\n                </View>\n              ))\n            )}\n          </ScrollView>\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '80%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  searchContainer: {\n    padding: 16,\n  },\n  searchBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 12,\n    gap: 10,\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 15,\n  },\n  content: {\n    flex: 1,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n    gap: 12,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '500' as const,\n  },\n  userCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    gap: 12,\n  },\n  userInfo: {\n    flex: 1,\n  },\n  displayName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  username: {\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  muteType: {\n    fontSize: 12,\n  },\n  unmuteButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    paddingHorizontal: 14,\n    paddingVertical: 8,\n    borderRadius: 8,\n  },\n  unmuteText: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n  },\n});\n","import React from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity } from 'react-native';\nimport { X } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface LegalDocumentModalProps {\n  visible: boolean;\n  onClose: () => void;\n  title: string;\n  content: string;\n}\n\nexport default function LegalDocumentModal({ visible, onClose, title, content }: LegalDocumentModalProps) {\n  const { colors } = useTheme();\n\n  const getDocumentContent = () => {\n    switch (title) {\n      case 'Terms of Service':\n        return `Last Updated: January 1, 2025\n\n1. Acceptance of Terms\nBy accessing and using VibeSync, you accept and agree to be bound by the terms and provision of this agreement.\n\n2. Use License\nPermission is granted to temporarily download one copy of the materials on VibeSync for personal, non-commercial transitory viewing only.\n\n3. User Content\nYou retain all rights to the content you post on VibeSync. By posting content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, and distribute your content.\n\n4. Privacy\nYour use of VibeSync is also governed by our Privacy Policy.\n\n5. Prohibited Uses\nYou may not use VibeSync:\n- For any unlawful purpose\n- To harass, abuse, or harm another person\n- To impersonate or attempt to impersonate VibeSync or another user\n- To upload viruses or malicious code\n\n6. Account Termination\nWe may terminate or suspend your account immediately, without prior notice, for conduct that we believe violates these Terms.\n\n7. Limitation of Liability\nVibeSync shall not be liable for any indirect, incidental, special, consequential or punitive damages.\n\n8. Changes to Terms\nWe reserve the right to modify these terms at any time. We will notify users of any changes.\n\n9. Contact Us\nIf you have any questions about these Terms, please contact us at legal@vibesync.com`;\n\n      case 'Privacy Policy':\n        return `Last Updated: January 1, 2025\n\n1. Information We Collect\nWe collect information you provide directly to us, including:\n- Account information (username, email, password)\n- Profile information (bio, profile picture, cover image)\n- Content you post (posts, comments, messages)\n- Usage data (interactions, preferences)\n\n2. How We Use Your Information\nWe use the information we collect to:\n- Provide, maintain, and improve our services\n- Personalize your experience\n- Send you technical notices and support messages\n- Respond to your comments and questions\n- Protect against fraud and abuse\n\n3. Information Sharing\nWe do not sell your personal information. We may share your information:\n- With your consent\n- To comply with legal obligations\n- With service providers who assist us\n- In connection with a merger or acquisition\n\n4. Data Security\nWe implement appropriate security measures to protect your information. However, no method of transmission over the Internet is 100% secure.\n\n5. Your Rights\nYou have the right to:\n- Access your personal information\n- Correct inaccurate information\n- Delete your account and data\n- Export your data\n- Opt-out of marketing communications\n\n6. Cookies and Tracking\nWe use cookies and similar tracking technologies to track activity and hold certain information.\n\n7. Children's Privacy\nOur service is not intended for children under 13. We do not knowingly collect information from children under 13.\n\n8. International Data Transfers\nYour information may be transferred to and maintained on servers located outside of your jurisdiction.\n\n9. Changes to Privacy Policy\nWe may update this Privacy Policy from time to time. We will notify you of any changes.\n\n10. Contact Us\nFor privacy-related questions, contact us at privacy@vibesync.com`;\n\n      case 'Community Guidelines':\n        return `Last Updated: January 1, 2025\n\nWelcome to VibeSync! Our community guidelines help create a safe and positive environment for everyone.\n\n1. Be Respectful\n- Treat others with kindness and respect\n- No hate speech, harassment, or bullying\n- Respect different opinions and perspectives\n\n2. Authentic Content\n- Post original content or give proper credit\n- No impersonation or fake accounts\n- Be honest and transparent\n\n3. Safety First\n- No violence, threats, or dangerous content\n- No self-harm or suicide content\n- Report concerning behavior\n\n4. Privacy Matters\n- Respect others' privacy\n- Don't share personal information without consent\n- No doxxing or stalking\n\n5. Legal Compliance\n- No illegal activities or content\n- Respect intellectual property rights\n- Follow local laws and regulations\n\n6. Appropriate Content\n- No nudity or sexual content\n- No graphic violence or gore\n- Age-appropriate content only\n\n7. Spam and Manipulation\n- No spam or fake engagement\n- No misleading information\n- No manipulation of features\n\n8. Reporting Violations\nIf you see content that violates these guidelines:\n- Use the report feature\n- Block or mute problematic accounts\n- Contact our support team\n\n9. Consequences\nViolations may result in:\n- Content removal\n- Account warnings\n- Temporary suspension\n- Permanent ban\n\n10. Appeals\nIf you believe your content was removed in error, you can appeal the decision through our support system.\n\nTogether, we can build a vibrant and safe community!`;\n\n      case 'Copyright / DMCA Policy':\n        return `Last Updated: January 1, 2025\n\nVibeSync respects the intellectual property rights of others and expects users to do the same.\n\n1. Copyright Infringement Notification\nIf you believe your copyrighted work has been infringed, please provide:\n- Your contact information\n- Description of the copyrighted work\n- Location of the infringing material\n- A statement of good faith belief\n- A statement of accuracy under penalty of perjury\n- Your physical or electronic signature\n\n2. DMCA Agent Contact\nSend notifications to:\nDMCA Agent\nVibeSync Inc.\nEmail: dmca@vibesync.com\n\n3. Counter-Notification\nIf you believe your content was removed in error, you may file a counter-notification including:\n- Your contact information\n- Identification of removed content\n- Statement under penalty of perjury\n- Consent to jurisdiction\n- Your physical or electronic signature\n\n4. Repeat Infringer Policy\nWe will terminate accounts of repeat infringers in appropriate circumstances.\n\n5. Fair Use\nWe respect fair use and will consider fair use defenses in appropriate cases.\n\n6. Response Time\nWe aim to respond to valid DMCA notices within 24-48 hours.\n\n7. False Claims\nSubmitting false copyright claims may result in legal liability.\n\n8. Music and Audio\nSpecial considerations apply to music and audio content. We work with rights holders to ensure proper licensing.\n\n9. User Responsibility\nUsers are responsible for ensuring they have rights to content they upload.\n\n10. Questions\nFor copyright questions, contact copyright@vibesync.com`;\n\n      default:\n        return content;\n    }\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>{title}</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            <Text style={[styles.documentText, { color: colors.text }]}>\n              {getDocumentContent()}\n            </Text>\n          </ScrollView>\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '90%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    flex: 1,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    padding: 20,\n  },\n  documentText: {\n    fontSize: 15,\n    lineHeight: 24,\n    whiteSpace: 'pre-wrap' as any,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity, TextInput, Alert } from 'react-native';\nimport { X, Send } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface SupportModalProps {\n  visible: boolean;\n  onClose: () => void;\n  type: 'contact' | 'bug' | 'feedback';\n}\n\nexport default function SupportModal({ visible, onClose, type }: SupportModalProps) {\n  const { colors } = useTheme();\n  const [subject, setSubject] = useState('');\n  const [message, setMessage] = useState('');\n  const [email, setEmail] = useState('');\n\n  const getTitle = () => {\n    switch (type) {\n      case 'contact': return 'Contact Support';\n      case 'bug': return 'Report a Bug';\n      case 'feedback': return 'Submit Feedback';\n      default: return 'Support';\n    }\n  };\n\n  const getPlaceholder = () => {\n    switch (type) {\n      case 'bug': return 'Describe the bug you encountered...';\n      case 'feedback': return 'Share your feedback with us...';\n      default: return 'How can we help you?';\n    }\n  };\n\n  const handleSubmit = () => {\n    if (!subject.trim() || !message.trim()) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    Alert.alert(\n      'Success',\n      'Your message has been sent. We\\'ll get back to you soon!',\n      [\n        {\n          text: 'OK',\n          onPress: () => {\n            setSubject('');\n            setMessage('');\n            setEmail('');\n            onClose();\n          },\n        },\n      ]\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>{getTitle()}</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            <View style={styles.form}>\n              <View style={styles.inputGroup}>\n                <Text style={[styles.label, { color: colors.text }]}>Email</Text>\n                <TextInput\n                  style={[styles.input, { backgroundColor: colors.cardLight, color: colors.text }]}\n                  placeholder=\"your.email@example.com\"\n                  placeholderTextColor={colors.textSecondary}\n                  value={email}\n                  onChangeText={setEmail}\n                  keyboardType=\"email-address\"\n                  autoCapitalize=\"none\"\n                />\n              </View>\n\n              <View style={styles.inputGroup}>\n                <Text style={[styles.label, { color: colors.text }]}>Subject</Text>\n                <TextInput\n                  style={[styles.input, { backgroundColor: colors.cardLight, color: colors.text }]}\n                  placeholder=\"Brief description\"\n                  placeholderTextColor={colors.textSecondary}\n                  value={subject}\n                  onChangeText={setSubject}\n                />\n              </View>\n\n              <View style={styles.inputGroup}>\n                <Text style={[styles.label, { color: colors.text }]}>Message</Text>\n                <TextInput\n                  style={[styles.textArea, { backgroundColor: colors.cardLight, color: colors.text }]}\n                  placeholder={getPlaceholder()}\n                  placeholderTextColor={colors.textSecondary}\n                  value={message}\n                  onChangeText={setMessage}\n                  multiline\n                  numberOfLines={8}\n                  textAlignVertical=\"top\"\n                />\n              </View>\n\n              {type === 'bug' && (\n                <View style={[styles.infoBox, { backgroundColor: colors.glass }]}>\n                  <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n                    Please include steps to reproduce the bug and any error messages you saw.\n                  </Text>\n                </View>\n              )}\n\n              <TouchableOpacity\n                style={[styles.submitButton, { backgroundColor: colors.primary }]}\n                onPress={handleSubmit}\n              >\n                <Send size={18} color={colors.textInverse} />\n                <Text style={[styles.submitText, { color: colors.textInverse }]}>Send Message</Text>\n              </TouchableOpacity>\n            </View>\n          </ScrollView>\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '90%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    flex: 1,\n  },\n  form: {\n    padding: 20,\n  },\n  inputGroup: {\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    marginBottom: 8,\n  },\n  input: {\n    paddingHorizontal: 16,\n    paddingVertical: 14,\n    borderRadius: 12,\n    fontSize: 15,\n  },\n  textArea: {\n    paddingHorizontal: 16,\n    paddingVertical: 14,\n    borderRadius: 12,\n    fontSize: 15,\n    minHeight: 150,\n  },\n  infoBox: {\n    padding: 12,\n    borderRadius: 12,\n    marginBottom: 20,\n  },\n  infoText: {\n    fontSize: 13,\n    lineHeight: 18,\n  },\n  submitButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 16,\n    borderRadius: 12,\n  },\n  submitText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, Modal, Pressable, ScrollView, TouchableOpacity } from 'react-native';\nimport { X, ChevronDown, ChevronUp } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface FAQ {\n  question: string;\n  answer: string;\n  category: string;\n}\n\ninterface FAQModalProps {\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst FAQS: FAQ[] = [\n  {\n    category: 'Account',\n    question: 'How do I create an account?',\n    answer: 'Tap \"Sign Up\" on the login screen, enter your details, and follow the verification steps. You can also sign up using Google, Facebook, or Apple.',\n  },\n  {\n    category: 'Account',\n    question: 'How do I reset my password?',\n    answer: 'Go to Settings > Change Password, or use \"Forgot Password\" on the login screen. You\\'ll receive a verification code via email.',\n  },\n  {\n    category: 'Account',\n    question: 'How do I get verified?',\n    answer: 'Verified badges are given to notable public figures, celebrities, and brands. Submit a verification request through Settings > Account.',\n  },\n  {\n    category: 'Privacy',\n    question: 'Who can see my posts?',\n    answer: 'You can control post visibility in Settings > Privacy. Choose between Public (everyone), Friends Only, or Private.',\n  },\n  {\n    category: 'Privacy',\n    question: 'How do I block someone?',\n    answer: 'Go to their profile, tap the menu icon, and select \"Block User\". They won\\'t be able to see your content or contact you.',\n  },\n  {\n    category: 'Privacy',\n    question: 'What is screenshot protection?',\n    answer: 'Screenshot protection prevents others from taking screenshots of your messages. You\\'ll be notified if someone attempts to screenshot.',\n  },\n  {\n    category: 'Features',\n    question: 'What are Vibes?',\n    answer: 'Vibes are short-form video content similar to reels. Create engaging videos with music, filters, and effects.',\n  },\n  {\n    category: 'Features',\n    question: 'How do voice posts work?',\n    answer: 'Voice posts let you share audio messages up to 60 seconds. Tap the microphone icon when creating a post.',\n  },\n  {\n    category: 'Features',\n    question: 'What is VibeScore?',\n    answer: 'VibeScore is your engagement rating based on interactions, content quality, and community participation. Higher scores unlock features.',\n  },\n  {\n    category: 'Messaging',\n    question: 'What are View Once messages?',\n    answer: 'View Once messages disappear after being opened once. Perfect for sensitive content you don\\'t want saved.',\n  },\n  {\n    category: 'Messaging',\n    question: 'Can I make voice/video calls?',\n    answer: 'Yes! Open any conversation and tap the phone or video icon to start a call.',\n  },\n  {\n    category: 'Content',\n    question: 'How do I report inappropriate content?',\n    answer: 'Tap the menu icon on any post and select \"Report\". Choose the reason and submit. Our team reviews all reports.',\n  },\n  {\n    category: 'Content',\n    question: 'Can I edit posts after publishing?',\n    answer: 'Yes, tap the menu icon on your post and select \"Edit\". You have 24 hours to edit after posting.',\n  },\n  {\n    category: 'Technical',\n    question: 'Why is the app running slow?',\n    answer: 'Try clearing cache in Settings > Data & Storage > Clear Cache. Also ensure you have the latest app version.',\n  },\n  {\n    category: 'Technical',\n    question: 'How do I enable notifications?',\n    answer: 'Go to Settings > Notifications and toggle on the types of notifications you want to receive.',\n  },\n];\n\nexport default function FAQModal({ visible, onClose }: FAQModalProps) {\n  const { colors } = useTheme();\n  const [expandedIndex, setExpandedIndex] = useState<number | null>(null);\n\n  const categories = Array.from(new Set(FAQS.map(faq => faq.category)));\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={[styles.container, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n          <View style={[styles.header, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.title, { color: colors.text }]}>Frequently Asked Questions</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            {categories.map((category) => (\n              <View key={category} style={styles.categorySection}>\n                <Text style={[styles.categoryTitle, { color: colors.primary }]}>{category}</Text>\n                {FAQS.filter(faq => faq.category === category).map((faq, index) => {\n                  const globalIndex = FAQS.indexOf(faq);\n                  const isExpanded = expandedIndex === globalIndex;\n\n                  return (\n                    <TouchableOpacity\n                      key={globalIndex}\n                      style={[styles.faqItem, { backgroundColor: colors.cardLight }]}\n                      onPress={() => setExpandedIndex(isExpanded ? null : globalIndex)}\n                      activeOpacity={0.7}\n                    >\n                      <View style={styles.questionRow}>\n                        <Text style={[styles.question, { color: colors.text }]}>{faq.question}</Text>\n                        {isExpanded ? (\n                          <ChevronUp size={20} color={colors.textSecondary} />\n                        ) : (\n                          <ChevronDown size={20} color={colors.textSecondary} />\n                        )}\n                      </View>\n                      {isExpanded && (\n                        <Text style={[styles.answer, { color: colors.textSecondary }]}>{faq.answer}</Text>\n                      )}\n                    </TouchableOpacity>\n                  );\n                })}\n              </View>\n            ))}\n\n            <View style={[styles.contactBox, { backgroundColor: colors.glass }]}>\n              <Text style={[styles.contactTitle, { color: colors.text }]}>Still have questions?</Text>\n              <Text style={[styles.contactText, { color: colors.textSecondary }]}>\n                Contact our support team at support@vibesync.com\n              </Text>\n            </View>\n          </ScrollView>\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '90%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    flex: 1,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    flex: 1,\n  },\n  categorySection: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n  },\n  categoryTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    marginBottom: 12,\n  },\n  faqItem: {\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 8,\n  },\n  questionRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    gap: 12,\n  },\n  question: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    flex: 1,\n  },\n  answer: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginTop: 12,\n  },\n  contactBox: {\n    margin: 20,\n    padding: 20,\n    borderRadius: 16,\n    alignItems: 'center',\n  },\n  contactTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 8,\n  },\n  contactText: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n});\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { StyleSheet, Text, View, ScrollView, TouchableOpacity, Switch, Alert, Modal, Pressable } from 'react-native';\nimport ActiveSessionsModal from '@/components/settings/ActiveSessionsModal';\nimport BlockedAccountsModal from '@/components/settings/BlockedAccountsModal';\nimport MutedAccountsModal from '@/components/settings/MutedAccountsModal';\nimport LegalDocumentModal from '@/components/settings/LegalDocumentModal';\nimport SupportModal from '@/components/settings/SupportModal';\nimport FAQModal from '@/components/settings/FAQModal';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Stack, router } from 'expo-router';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { \n  ArrowLeft, \n  User, \n  Lock, \n  Shield, \n  Bell, \n  Globe, \n  Palette, \n  Sun, \n  Moon, \n  Smartphone, \n  HelpCircle, \n  AlertCircle, \n  Mail, \n  Info, \n  FileText, \n  LogOut,\n  ChevronRight,\n  Eye,\n  UserX,\n  Database,\n  Fingerprint,\n  Monitor,\n  Trash2,\n  Download,\n  Wifi,\n  MapPin,\n  Users,\n  TrendingUp,\n  MessageSquare,\n  Type,\n  Zap\n} from 'lucide-react-native';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { AppSettings } from '@/types';\n\nconst SETTINGS_STORAGE_KEY = '@vibesync_settings';\n\nconst ACCENT_COLORS = [\n  { name: 'Blue', value: '#3B82F6' },\n  { name: 'Green', value: '#10B981' },\n  { name: 'Orange', value: '#F59E0B' },\n  { name: 'Pink', value: '#EC4899' },\n  { name: 'Red', value: '#EF4444' },\n  { name: 'Cyan', value: '#06B6D4' },\n];\n\nexport default function SettingsScreen() {\n  const { logout } = useAuth();\n  const { colors, userPreference, setTheme } = useTheme();\n  const insets = useSafeAreaInsets();\n  const [settings, setSettings] = useState<AppSettings>({\n    theme: userPreference,\n    accentColor: '#3B82F6',\n    fontSize: 'medium',\n    language: 'English',\n    notifications: {\n      push: true,\n      email: false,\n      sms: false,\n      likes: true,\n      comments: true,\n      follows: true,\n      messages: true,\n      syncSessions: true,\n      playlistActivity: true,\n      vibeTab: true,\n      influencerUpdates: true,\n    },\n    privacy: {\n      profileVisibility: 'public',\n      showOnlineStatus: true,\n      allowMessageRequests: true,\n      screenshotProtection: false,\n      whoCanMessageMe: 'everyone',\n      whoCanSeeMyVibes: 'public',\n      contentFilters: false,\n    },\n    messaging: {\n      screenshotProtection: false,\n      notifyOnScreenshotAttempt: true,\n      defaultViewOnce: false,\n    },\n    security: {\n      twoFactorEnabled: false,\n      biometricEnabled: false,\n    },\n    discoverability: {\n      suggestedFollows: true,\n      contactsSync: false,\n      locationDiscovery: false,\n      vibeScoreVisible: true,\n    },\n    data: {\n      dataSaverMode: false,\n      backgroundPlay: true,\n      autoDownload: false,\n    },\n  });\n\n  const [showLanguageModal, setShowLanguageModal] = useState(false);\n  const [showAccentColorModal, setShowAccentColorModal] = useState(false);\n  const [showFontSizeModal, setShowFontSizeModal] = useState(false);\n  const [showMessagePermissionModal, setShowMessagePermissionModal] = useState(false);\n  const [showVibeVisibilityModal, setShowVibeVisibilityModal] = useState(false);\n  const [showActiveSessionsModal, setShowActiveSessionsModal] = useState(false);\n  const [showBlockedAccountsModal, setShowBlockedAccountsModal] = useState(false);\n  const [showMutedAccountsModal, setShowMutedAccountsModal] = useState(false);\n  const [showLegalModal, setShowLegalModal] = useState(false);\n  const [legalModalContent, setLegalModalContent] = useState({ title: '', content: '' });\n  const [showSupportModal, setShowSupportModal] = useState(false);\n  const [supportModalType, setSupportModalType] = useState<'contact' | 'bug' | 'feedback'>('contact');\n  const [showFAQModal, setShowFAQModal] = useState(false);\n\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        const stored = await AsyncStorage.getItem(SETTINGS_STORAGE_KEY);\n        if (stored) {\n          const parsed = JSON.parse(stored);\n          setSettings(prev => ({\n            ...prev,\n            ...parsed,\n            theme: parsed.theme || prev.theme,\n            notifications: { ...prev.notifications, ...parsed.notifications },\n            privacy: { ...prev.privacy, ...parsed.privacy },\n            messaging: { ...prev.messaging, ...parsed.messaging },\n            security: { ...prev.security, ...parsed.security },\n            discoverability: { ...prev.discoverability, ...parsed.discoverability },\n            data: { ...prev.data, ...parsed.data },\n          }));\n        }\n      } catch (error) {\n        console.error('[Settings] Error loading settings:', error);\n      }\n    };\n    loadSettings();\n  }, []);\n\n  useEffect(() => {\n    const saveSettings = async () => {\n      try {\n        await AsyncStorage.setItem(SETTINGS_STORAGE_KEY, JSON.stringify(settings));\n      } catch (error) {\n        console.error('[Settings] Error saving settings:', error);\n      }\n    };\n    const timeoutId = setTimeout(() => {\n      saveSettings();\n    }, 500);\n    return () => clearTimeout(timeoutId);\n  }, [settings]);\n\n  const handleLogout = () => {\n    Alert.alert(\n      'Logout',\n      'Are you sure you want to logout?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Logout',\n          style: 'destructive',\n          onPress: () => {\n            logout();\n            router.replace('/auth');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleDeactivateAccount = () => {\n    Alert.alert(\n      'Deactivate Account',\n      'Your account will be temporarily deactivated. You can reactivate it by logging in again.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Deactivate',\n          style: 'destructive',\n          onPress: () => {\n            Alert.alert('Account Deactivated', 'Your account has been deactivated.');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleDeleteAccount = () => {\n    Alert.alert(\n      'Delete Account',\n      'This action is permanent and cannot be undone. All your data will be deleted.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: () => {\n            Alert.alert('Account Deleted', 'Your account has been permanently deleted.');\n          },\n        },\n      ]\n    );\n  };\n\n  const handleClearCache = () => {\n    Alert.alert(\n      'Clear Cache',\n      'This will free up storage space on your device.',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Clear',\n          onPress: () => {\n            Alert.alert('Cache Cleared', 'App cache has been cleared successfully.');\n          },\n        },\n      ]\n    );\n  };\n\n  const updateNotificationSetting = (key: keyof AppSettings['notifications'], value: boolean) => {\n    setSettings(prev => ({\n      ...prev,\n      notifications: {\n        ...prev.notifications,\n        [key]: value,\n      },\n    }));\n  };\n\n  const updatePrivacySetting = (key: keyof AppSettings['privacy'], value: any) => {\n    setSettings(prev => ({\n      ...prev,\n      privacy: {\n        ...prev.privacy,\n        [key]: value,\n      },\n    }));\n  };\n\n  const updateMessagingSetting = (key: keyof AppSettings['messaging'], value: any) => {\n    setSettings(prev => ({\n      ...prev,\n      messaging: {\n        ...prev.messaging,\n        [key]: value,\n      },\n    }));\n  };\n\n  const updateSecuritySetting = (key: keyof AppSettings['security'], value: boolean) => {\n    setSettings(prev => ({\n      ...prev,\n      security: {\n        ...prev.security,\n        [key]: value,\n      },\n    }));\n  };\n\n  const updateDiscoverabilitySetting = (key: keyof AppSettings['discoverability'], value: boolean) => {\n    setSettings(prev => ({\n      ...prev,\n      discoverability: {\n        ...prev.discoverability,\n        [key]: value,\n      },\n    }));\n  };\n\n  const updateDataSetting = (key: keyof AppSettings['data'], value: boolean) => {\n    setSettings(prev => ({\n      ...prev,\n      data: {\n        ...prev.data,\n        [key]: value,\n      },\n    }));\n  };\n\n  const handleThemeChange = (newTheme: 'light' | 'dark' | 'system') => {\n    setTheme(newTheme);\n    setSettings(prev => ({ ...prev, theme: newTheme }));\n  };\n\n  const languages = ['English', 'Spanish', 'French', 'German', 'Portuguese', 'Chinese', 'Japanese', 'Arabic', 'Hindi'];\n  const fontSizes: ('small' | 'medium' | 'large')[] = ['small', 'medium', 'large'];\n  const messagePermissions: ('everyone' | 'friends' | 'none')[] = ['everyone', 'friends', 'none'];\n  const vibeVisibility: ('public' | 'friends' | 'private')[] = ['public', 'friends', 'private'];\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: colors.background },\n          headerTintColor: colors.text,\n          headerTitle: 'Settings',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n      \n      <ScrollView \n        style={[styles.scrollView, { backgroundColor: colors.background }]} \n        showsVerticalScrollIndicator={false}\n        contentContainerStyle={[styles.scrollContent, { paddingBottom: insets.bottom + 40 }]}\n      >\n        <View style={[styles.sectionHeader, { backgroundColor: colors.glass }]}>\n          <Lock size={20} color={colors.primary} />\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Account & Security</Text>\n        </View>\n        \n        <View style={[styles.card, { backgroundColor: colors.card }]}>\n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => router.push('/edit-profile')}\n          >\n            <User size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Profile Information</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => router.push('/change-password')}\n          >\n            <Lock size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Change Password</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Shield size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Two-Factor Authentication</Text>\n            <Switch\n              value={settings.security.twoFactorEnabled}\n              onValueChange={(value) => updateSecuritySetting('twoFactorEnabled', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Fingerprint size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Biometric / PIN Lock</Text>\n            <Switch\n              value={settings.security.biometricEnabled}\n              onValueChange={(value) => updateSecuritySetting('biometricEnabled', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => setShowActiveSessionsModal(true)}\n          >\n            <Monitor size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Active Sessions</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={handleDeactivateAccount}\n          >\n            <AlertCircle size={18} color={colors.warning} />\n            <Text style={[styles.settingLabel, { color: colors.warning }]}>Deactivate Account</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomWidth: 0 }]}\n            onPress={handleDeleteAccount}\n          >\n            <Trash2 size={18} color={colors.error} />\n            <Text style={[styles.settingLabel, { color: colors.error }]}>Delete Account</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n\n        <View style={[styles.sectionHeader, { backgroundColor: colors.glass }]}>\n          <Palette size={20} color={colors.primary} />\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Appearance & Personalization</Text>\n        </View>\n        \n        <View style={[styles.card, { backgroundColor: colors.card }]}>\n          <View style={[styles.themeSection, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Theme</Text>\n            <View style={styles.themeOptions}>\n              <TouchableOpacity \n                style={[\n                  styles.themeOption, \n                  { backgroundColor: colors.cardLight }, \n                  userPreference === 'light' && { backgroundColor: colors.primary }\n                ]}\n                onPress={() => handleThemeChange('light')}\n              >\n                <Sun size={16} color={userPreference === 'light' ? colors.textInverse : colors.textSecondary} />\n                <Text style={[styles.themeOptionText, { \n                  color: userPreference === 'light' ? colors.textInverse : colors.textSecondary \n                }]}>Light</Text>\n              </TouchableOpacity>\n              \n              <TouchableOpacity \n                style={[\n                  styles.themeOption, \n                  { backgroundColor: colors.cardLight }, \n                  userPreference === 'dark' && { backgroundColor: colors.primary }\n                ]}\n                onPress={() => handleThemeChange('dark')}\n              >\n                <Moon size={16} color={userPreference === 'dark' ? colors.textInverse : colors.textSecondary} />\n                <Text style={[styles.themeOptionText, { \n                  color: userPreference === 'dark' ? colors.textInverse : colors.textSecondary \n                }]}>Dark</Text>\n              </TouchableOpacity>\n              \n              <TouchableOpacity \n                style={[\n                  styles.themeOption, \n                  { backgroundColor: colors.cardLight }, \n                  userPreference === 'system' && { backgroundColor: colors.primary }\n                ]}\n                onPress={() => handleThemeChange('system')}\n              >\n                <Smartphone size={16} color={userPreference === 'system' ? colors.textInverse : colors.textSecondary} />\n                <Text style={[styles.themeOptionText, { \n                  color: userPreference === 'system' ? colors.textInverse : colors.textSecondary \n                }]}>System</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => setShowAccentColorModal(true)}\n          >\n            <Palette size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Accent Color</Text>\n            <View style={styles.languageValue}>\n              <View style={[styles.colorPreview, { backgroundColor: settings.accentColor }]} />\n              <ChevronRight size={18} color={colors.textSecondary} />\n            </View>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => setShowFontSizeModal(true)}\n          >\n            <Type size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Font Size</Text>\n            <View style={styles.languageValue}>\n              <Text style={[styles.settingValue, { color: colors.textSecondary, textTransform: 'capitalize' }]}>\n                {settings.fontSize}\n              </Text>\n              <ChevronRight size={18} color={colors.textSecondary} />\n            </View>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomWidth: 0 }]}\n            onPress={() => setShowLanguageModal(true)}\n          >\n            <Globe size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Language</Text>\n            <View style={styles.languageValue}>\n              <Text style={[styles.settingValue, { color: colors.textSecondary }]}>{settings.language}</Text>\n              <ChevronRight size={18} color={colors.textSecondary} />\n            </View>\n          </TouchableOpacity>\n        </View>\n\n        <View style={[styles.sectionHeader, { backgroundColor: colors.glass }]}>\n          <Bell size={20} color={colors.primary} />\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Notifications</Text>\n        </View>\n        \n        <View style={[styles.card, { backgroundColor: colors.card }]}>\n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Push Notifications</Text>\n            <Switch\n              value={settings.notifications.push}\n              onValueChange={(value) => updateNotificationSetting('push', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Email Alerts</Text>\n            <Switch\n              value={settings.notifications.email}\n              onValueChange={(value) => updateNotificationSetting('email', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>SMS Alerts</Text>\n            <Switch\n              value={settings.notifications.sms}\n              onValueChange={(value) => updateNotificationSetting('sms', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Messages</Text>\n            <Switch\n              value={settings.notifications.messages}\n              onValueChange={(value) => updateNotificationSetting('messages', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Likes</Text>\n            <Switch\n              value={settings.notifications.likes}\n              onValueChange={(value) => updateNotificationSetting('likes', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomColor: colors.border }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Comments</Text>\n            <Switch\n              value={settings.notifications.comments}\n              onValueChange={(value) => updateNotificationSetting('comments', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n          \n          <View style={[styles.settingItem, { borderBottomWidth: 0 }]}>\n            <Text style={[styles.settingLabel, { color: colors.text }]}>New Followers</Text>\n            <Switch\n              value={settings.notifications.follows}\n              onValueChange={(value) => updateNotificationSetting('follows', value)}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.text}\n            />\n          </View>\n        </View>\n\n        <View style={[styles.sectionHeader, { backgroundColor: colors.glass }]}>\n          <FileText size={20} color={colors.primary} />\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>Legal & About</Text>\n        </View>\n        \n        <View style={[styles.card, { backgroundColor: colors.card }]}>\n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => router.push('/privacy-policy')}\n          >\n            <Shield size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Privacy Policy</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomColor: colors.border }]}\n            onPress={() => router.push('/terms-of-service')}\n          >\n            <FileText size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Terms of Service</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={[styles.settingItem, { borderBottomWidth: 0 }]}\n            onPress={() => setShowFAQModal(true)}\n          >\n            <HelpCircle size={18} color={colors.textSecondary} />\n            <Text style={[styles.settingLabel, { color: colors.text }]}>Help & FAQ</Text>\n            <ChevronRight size={18} color={colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.section}>\n          <TouchableOpacity \n            style={[styles.logoutButton, { backgroundColor: colors.card }]} \n            onPress={handleLogout}\n          >\n            <LogOut size={20} color={colors.error} />\n            <Text style={[styles.logoutText, { color: colors.error }]}>Logout</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.bottomPadding} />\n      </ScrollView>\n\n      <Modal\n        visible={showLanguageModal}\n        transparent\n        animationType=\"slide\"\n        onRequestClose={() => setShowLanguageModal(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setShowLanguageModal(false)}\n        >\n          <View style={[styles.modalContent, { backgroundColor: colors.card }]}>\n            <View style={[styles.modalHeader, { borderBottomColor: colors.border }]}>\n              <Text style={[styles.modalTitle, { color: colors.text }]}>Select Language</Text>\n            </View>\n            <ScrollView style={styles.modalScroll}>\n              {languages.map((lang) => (\n                <TouchableOpacity\n                  key={lang}\n                  style={[\n                    styles.modalOption,\n                    { borderBottomColor: colors.border },\n                    settings.language === lang && { backgroundColor: colors.glass }\n                  ]}\n                  onPress={() => {\n                    setSettings(prev => ({ ...prev, language: lang }));\n                    setShowLanguageModal(false);\n                  }}\n                >\n                  <Text style={[\n                    styles.modalOptionText,\n                    { color: settings.language === lang ? colors.primary : colors.text }\n                  ]}>\n                    {lang}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        </Pressable>\n      </Modal>\n\n      <ActiveSessionsModal\n        visible={showActiveSessionsModal}\n        onClose={() => setShowActiveSessionsModal(false)}\n      />\n\n      <BlockedAccountsModal\n        visible={showBlockedAccountsModal}\n        onClose={() => setShowBlockedAccountsModal(false)}\n      />\n\n      <MutedAccountsModal\n        visible={showMutedAccountsModal}\n        onClose={() => setShowMutedAccountsModal(false)}\n      />\n\n      <LegalDocumentModal\n        visible={showLegalModal}\n        onClose={() => setShowLegalModal(false)}\n        title={legalModalContent.title}\n        content={legalModalContent.content}\n      />\n\n      <SupportModal\n        visible={showSupportModal}\n        onClose={() => setShowSupportModal(false)}\n        type={supportModalType}\n      />\n\n      <FAQModal\n        visible={showFAQModal}\n        onClose={() => setShowFAQModal(false)}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    paddingBottom: 40,\n  },\n  section: {\n    marginTop: 24,\n    paddingHorizontal: 16,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 24,\n    marginBottom: 12,\n    marginHorizontal: 16,\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 12,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n    marginLeft: 8,\n  },\n  card: {\n    marginHorizontal: 16,\n    borderRadius: 16,\n    overflow: 'hidden',\n  },\n  settingItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    gap: 12,\n  },\n  settingLabel: {\n    fontSize: 15,\n    flex: 1,\n    fontWeight: '500' as const,\n  },\n  settingValue: {\n    fontSize: 15,\n    marginRight: 4,\n  },\n  languageValue: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  themeSection: {\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n  },\n  themeOptions: {\n    flexDirection: 'row',\n    marginTop: 12,\n    gap: 8,\n  },\n  themeOption: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 12,\n    borderRadius: 12,\n    gap: 6,\n  },\n  themeOptionText: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n  },\n  colorPreview: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n  },\n  logoutButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 16,\n    borderRadius: 16,\n    gap: 8,\n  },\n  logoutText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  bottomPadding: {\n    height: 40,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  modalContent: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '70%',\n  },\n  modalHeader: {\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    textAlign: 'center',\n  },\n  modalScroll: {\n    maxHeight: 400,\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  modalOptionText: {\n    fontSize: 16,\n    fontWeight: '500' as const,\n  },\n});\n","import React from 'react';\nimport { StyleSheet, TextInput, View, ViewStyle } from 'react-native';\nimport { Search } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface SearchBarProps {\n  value: string;\n  onChangeText: (text: string) => void;\n  placeholder?: string;\n  style?: ViewStyle;\n  testID?: string;\n}\n\nexport const SearchBar: React.FC<SearchBarProps> = ({\n  value,\n  onChangeText,\n  placeholder = 'Search',\n  style,\n  testID,\n}) => {\n  return (\n    <View style={[styles.container, style]} testID={testID}>\n      <Search size={18} color={Colors.textSecondary} style={styles.icon} />\n      <TextInput\n        style={styles.input}\n        value={value}\n        onChangeText={onChangeText}\n        placeholder={placeholder}\n        placeholderTextColor={Colors.textSecondary}\n        selectionColor={Colors.primary}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: Colors.cardLight,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n  },\n  icon: {\n    marginRight: 8,\n  },\n  input: {\n    flex: 1,\n    color: Colors.text,\n    fontSize: 16,\n    padding: 0,\n  },\n});","import React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Button } from '@/components/ui/Button';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Colors } from '@/constants/colors';\nimport { User } from '@/types';\n\ninterface UserCardProps {\n  user: User;\n  onFollowPress: (userId: string) => void;\n  onUserPress: (userId: string) => void;\n  testID?: string;\n}\n\nexport const UserCard: React.FC<UserCardProps> = ({\n  user,\n  onFollowPress,\n  onUserPress,\n  testID,\n}) => {\n  return (\n    <View style={styles.container} testID={testID}>\n      <View style={styles.userInfo}>\n        <View>\n          <Avatar\n            uri={user.profileImage}\n            size={50}\n          />\n        </View>\n        <View style={styles.nameContainer}>\n          <View style={styles.nameRow}>\n            <Text style={styles.displayName}>{user.displayName}</Text>\n            {user.isVerified && <VerifiedBadge size={14} />}\n          </View>\n          <Text style={styles.username}>@{user.username}</Text>\n          <Text style={styles.bio}>{user.bio}</Text>\n          {user.location && (\n            <Text style={styles.location}>{user.location}</Text>\n          )}\n        </View>\n      </View>\n      <Button\n        title=\"Follow\"\n        onPress={() => onFollowPress(user.id)}\n        variant=\"outline\"\n        size=\"small\"\n        style={styles.followButton}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  nameContainer: {\n    marginLeft: 12,\n    flex: 1,\n  },\n  nameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  displayName: {\n    color: Colors.text,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  username: {\n    color: Colors.primary,\n    fontSize: 14,\n    marginTop: 2,\n  },\n  bio: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginTop: 2,\n  },\n  location: {\n    color: Colors.textMuted,\n    fontSize: 12,\n    marginTop: 2,\n  },\n  followButton: {\n    minWidth: 80,\n  },\n});","import { useState, useEffect, useMemo, useCallback } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport * as Location from 'expo-location';\nimport * as Contacts from 'expo-contacts';\nimport { Platform } from 'react-native';\nimport {\n  User,\n  DistanceFilter,\n  UserLocation,\n  ProximitySuggestion,\n  MutualConnection,\n  ContactSuggestion,\n  DiscoverySuggestion,\n  SuggestionScore,\n} from '@/types';\nimport { mockUsers } from '@/mocks/users';\n\ninterface FollowGraph {\n  [userId: string]: string[];\n}\n\nconst calculateDistance = (\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number => {\n  const R = 6371;\n  const dLat = ((lat2 - lat1) * Math.PI) / 180;\n  const dLon = ((lon2 - lon1) * Math.PI) / 180;\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos((lat1 * Math.PI) / 180) *\n      Math.cos((lat2 * Math.PI) / 180) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\n\nconst getDistanceInKm = (filter: DistanceFilter): number => {\n  switch (filter) {\n    case '1km':\n      return 1;\n    case '5km':\n      return 5;\n    case '20km':\n      return 20;\n    case 'city':\n      return 50;\n    default:\n      return 5;\n  }\n};\n\nexport const [DiscoveryProvider, useDiscovery] = createContextHook(() => {\n  const [currentUserId] = useState<string>('5');\n  const [userLocation, setUserLocation] = useState<UserLocation | null>(null);\n  const [locationPermission, setLocationPermission] = useState<boolean>(false);\n  const [contactsPermission, setContactsPermission] = useState<boolean>(false);\n  const [distanceFilter, setDistanceFilter] = useState<DistanceFilter>('5km');\n  const [syncedContacts, setSyncedContacts] = useState<ContactSuggestion[]>([]);\n  const [isLoadingLocation, setIsLoadingLocation] = useState<boolean>(false);\n  const [isLoadingContacts, setIsLoadingContacts] = useState<boolean>(false);\n\n  const followGraph: FollowGraph = useMemo(() => {\n    return {\n      '5': ['1', '2', '4'],\n      '1': ['2', '3', '4'],\n      '2': ['1', '3', '5'],\n      '3': ['1', '2', '4'],\n      '4': ['1', '2', '3', '5'],\n    };\n  }, []);\n\n  const userLocations: { [userId: string]: UserLocation } = useMemo(() => {\n    return {\n      '1': { latitude: 34.0522, longitude: -118.2437, city: 'Los Angeles', lastUpdated: new Date().toISOString() },\n      '2': { latitude: 25.7617, longitude: -80.1918, city: 'Miami', lastUpdated: new Date().toISOString() },\n      '3': { latitude: 47.6062, longitude: -122.3321, city: 'Seattle', lastUpdated: new Date().toISOString() },\n      '4': { latitude: 40.7128, longitude: -74.006, city: 'New York', lastUpdated: new Date().toISOString() },\n      '5': { latitude: 37.7749, longitude: -122.4194, city: 'San Francisco', lastUpdated: new Date().toISOString() },\n    };\n  }, []);\n\n  const requestLocationPermission = useCallback(async (): Promise<boolean> => {\n    try {\n      if (Platform.OS === 'web') {\n        console.log('Location permission not required on web');\n        return true;\n      }\n\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      const granted = status === 'granted';\n      setLocationPermission(granted);\n      return granted;\n    } catch (error) {\n      console.error('Error requesting location permission:', error);\n      return false;\n    }\n  }, []);\n\n  const requestContactsPermission = useCallback(async (): Promise<boolean> => {\n    try {\n      if (Platform.OS === 'web') {\n        console.log('Contacts not available on web');\n        return false;\n      }\n\n      const { status } = await Contacts.requestPermissionsAsync();\n      const granted = status === 'granted';\n      setContactsPermission(granted);\n      return granted;\n    } catch (error) {\n      console.error('Error requesting contacts permission:', error);\n      return false;\n    }\n  }, []);\n\n  const getCurrentLocation = useCallback(async (): Promise<UserLocation | null> => {\n    try {\n      setIsLoadingLocation(true);\n\n      if (Platform.OS === 'web') {\n        const mockLocation = userLocations[currentUserId];\n        setUserLocation(mockLocation);\n        setIsLoadingLocation(false);\n        return mockLocation;\n      }\n\n      const hasPermission = locationPermission || (await requestLocationPermission());\n      if (!hasPermission) {\n        setIsLoadingLocation(false);\n        return null;\n      }\n\n      const location = await Location.getCurrentPositionAsync({\n        accuracy: Location.Accuracy.Balanced,\n      });\n\n      const userLoc: UserLocation = {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n        lastUpdated: new Date().toISOString(),\n      };\n\n      setUserLocation(userLoc);\n      setIsLoadingLocation(false);\n      return userLoc;\n    } catch (error) {\n      console.error('Error getting location:', error);\n      setIsLoadingLocation(false);\n      return null;\n    }\n  }, [currentUserId, locationPermission, userLocations, requestLocationPermission]);\n\n  const getProximitySuggestions = useCallback((\n    filter: DistanceFilter = distanceFilter\n  ): ProximitySuggestion[] => {\n    if (!userLocation) return [];\n\n    const maxDistance = getDistanceInKm(filter);\n    const suggestions: ProximitySuggestion[] = [];\n\n    mockUsers.forEach((user) => {\n      if (user.id === currentUserId) return;\n\n      const userLoc = userLocations[user.id];\n      if (!userLoc) return;\n\n      const distance = calculateDistance(\n        userLocation.latitude,\n        userLocation.longitude,\n        userLoc.latitude,\n        userLoc.longitude\n      );\n\n      if (distance <= maxDistance) {\n        const sharedInterests: string[] = [];\n        if (user.bio?.includes('') && Math.random() > 0.5) sharedInterests.push('Movies');\n        if (user.bio?.includes('') && Math.random() > 0.5) sharedInterests.push('Art');\n        if (user.bio?.includes('') && Math.random() > 0.5) sharedInterests.push('Tech');\n\n        suggestions.push({\n          user,\n          distance: Math.round(distance * 10) / 10,\n          distanceUnit: 'km',\n          sharedInterests,\n          isRecentlyActive: Math.random() > 0.3,\n          activityHeatScore: Math.random() * 10,\n        });\n      }\n    });\n\n    return suggestions.sort((a, b) => a.distance - b.distance);\n  }, [userLocation, distanceFilter, currentUserId, userLocations]);\n\n  const getMutualConnections = useCallback((): MutualConnection[] => {\n    const currentUserFollowing = followGraph[currentUserId] || [];\n    const connections: MutualConnection[] = [];\n\n    mockUsers.forEach((user) => {\n      if (user.id === currentUserId) return;\n      if (currentUserFollowing.includes(user.id)) return;\n\n      const userFollowers = Object.keys(followGraph).filter((userId) =>\n        followGraph[userId]?.includes(user.id)\n      );\n\n      const mutualFollowers = userFollowers\n        .filter((userId) => currentUserFollowing.includes(userId))\n        .map((userId) => mockUsers.find((u) => u.id === userId))\n        .filter((u): u is User => u !== undefined);\n\n      if (mutualFollowers.length > 0) {\n        connections.push({\n          user,\n          mutualFollowers,\n          mutualCount: mutualFollowers.length,\n          connectionStrength: mutualFollowers.length * (user.isVerified ? 1.5 : 1),\n        });\n      }\n    });\n\n    return connections.sort((a, b) => b.connectionStrength - a.connectionStrength);\n  }, [currentUserId, followGraph]);\n\n  const syncContacts = useCallback(async (): Promise<ContactSuggestion[]> => {\n    try {\n      setIsLoadingContacts(true);\n\n      if (Platform.OS === 'web') {\n        console.log('Contacts sync not available on web');\n        setIsLoadingContacts(false);\n        return [];\n      }\n\n      const hasPermission = contactsPermission || (await requestContactsPermission());\n      if (!hasPermission) {\n        setIsLoadingContacts(false);\n        return [];\n      }\n\n      const { data } = await Contacts.getContactsAsync({\n        fields: [Contacts.Fields.PhoneNumbers, Contacts.Fields.Emails],\n      });\n\n      const suggestions: ContactSuggestion[] = [];\n\n      data.slice(0, 10).forEach((contact: any, index: number) => {\n        const matchedUser = mockUsers[index % mockUsers.length];\n        if (matchedUser && matchedUser.id !== currentUserId) {\n          suggestions.push({\n            user: matchedUser,\n            contactName: contact.name || 'Unknown',\n            phoneNumber: contact.phoneNumbers?.[0]?.number,\n            email: contact.emails?.[0]?.email,\n            isNewUser: Math.random() > 0.5,\n            joinedAt: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000).toISOString(),\n          });\n        }\n      });\n\n      setSyncedContacts(suggestions);\n      setIsLoadingContacts(false);\n      return suggestions;\n    } catch (error) {\n      console.error('Error syncing contacts:', error);\n      setIsLoadingContacts(false);\n      return [];\n    }\n  }, [contactsPermission, currentUserId, requestContactsPermission]);\n\n  const calculateHybridScore = useCallback((\n    user: User,\n    proximity?: ProximitySuggestion,\n    mutual?: MutualConnection,\n    contact?: ContactSuggestion\n  ): SuggestionScore => {\n    let proximityScore = 0;\n    let mutualScore = 0;\n    let contactScore = 0;\n    const reasons: string[] = [];\n\n    if (proximity) {\n      proximityScore = Math.max(0, 10 - proximity.distance);\n      if (proximity.isRecentlyActive) proximityScore += 2;\n      if (proximity.sharedInterests.length > 0) {\n        proximityScore += proximity.sharedInterests.length;\n        reasons.push(`${proximity.sharedInterests.length} shared interests`);\n      }\n      reasons.push(`${proximity.distance}km away`);\n    }\n\n    if (mutual) {\n      mutualScore = mutual.connectionStrength;\n      reasons.push(`${mutual.mutualCount} mutual connections`);\n    }\n\n    if (contact) {\n      contactScore = 15;\n      if (contact.isNewUser) {\n        contactScore += 5;\n        reasons.push('Just joined VibeSync');\n      }\n      reasons.push('From your contacts');\n    }\n\n    if (user.isVerified) {\n      proximityScore *= 1.2;\n      mutualScore *= 1.2;\n      contactScore *= 1.2;\n      reasons.push('Verified user');\n    }\n\n    const totalScore = proximityScore + mutualScore + contactScore;\n\n    return {\n      userId: user.id,\n      proximityScore,\n      mutualScore,\n      contactScore,\n      totalScore,\n      reasons,\n    };\n  }, []);\n\n  const getHybridSuggestions = useCallback((): DiscoverySuggestion[] => {\n    const proximityUsers = getProximitySuggestions();\n    const mutualUsers = getMutualConnections();\n    const contactUsers = syncedContacts;\n\n    const userMap = new Map<string, DiscoverySuggestion>();\n\n    proximityUsers.forEach((prox) => {\n      const mutual = mutualUsers.find((m) => m.user.id === prox.user.id);\n      const contact = contactUsers.find((c) => c.user.id === prox.user.id);\n      const score = calculateHybridScore(prox.user, prox, mutual, contact);\n\n      userMap.set(prox.user.id, {\n        user: prox.user,\n        score,\n        primaryReason: contact ? 'contact' : mutual ? 'hybrid' : 'proximity',\n        distance: prox.distance,\n        mutualCount: mutual?.mutualCount,\n        isContact: !!contact,\n        metadata: {\n          sharedInterests: prox.sharedInterests,\n          mutualFollowers: mutual?.mutualFollowers,\n          contactInfo: contact?.contactName,\n          activityLevel: prox.isRecentlyActive ? 'high' : 'medium',\n        },\n      });\n    });\n\n    mutualUsers.forEach((mutual) => {\n      if (!userMap.has(mutual.user.id)) {\n        const contact = contactUsers.find((c) => c.user.id === mutual.user.id);\n        const score = calculateHybridScore(mutual.user, undefined, mutual, contact);\n\n        userMap.set(mutual.user.id, {\n          user: mutual.user,\n          score,\n          primaryReason: contact ? 'contact' : 'mutual',\n          mutualCount: mutual.mutualCount,\n          isContact: !!contact,\n          metadata: {\n            mutualFollowers: mutual.mutualFollowers,\n            contactInfo: contact?.contactName,\n            activityLevel: 'medium',\n          },\n        });\n      }\n    });\n\n    contactUsers.forEach((contact) => {\n      if (!userMap.has(contact.user.id)) {\n        const score = calculateHybridScore(contact.user, undefined, undefined, contact);\n\n        userMap.set(contact.user.id, {\n          user: contact.user,\n          score,\n          primaryReason: 'contact',\n          isContact: true,\n          metadata: {\n            contactInfo: contact.contactName,\n            activityLevel: contact.isNewUser ? 'high' : 'low',\n          },\n        });\n      }\n    });\n\n    return Array.from(userMap.values()).sort((a, b) => b.score.totalScore - a.score.totalScore);\n  }, [getProximitySuggestions, getMutualConnections, syncedContacts, calculateHybridScore]);\n\n  useEffect(() => {\n    getCurrentLocation();\n  }, [getCurrentLocation]);\n\n  return useMemo(() => ({\n    currentUserId,\n    userLocation,\n    locationPermission,\n    contactsPermission,\n    distanceFilter,\n    syncedContacts,\n    isLoadingLocation,\n    isLoadingContacts,\n    setDistanceFilter,\n    requestLocationPermission,\n    requestContactsPermission,\n    getCurrentLocation,\n    getProximitySuggestions,\n    getMutualConnections,\n    syncContacts,\n    getHybridSuggestions,\n  }), [\n    currentUserId,\n    userLocation,\n    locationPermission,\n    contactsPermission,\n    distanceFilter,\n    syncedContacts,\n    isLoadingLocation,\n    isLoadingContacts,\n    requestLocationPermission,\n    requestContactsPermission,\n    getCurrentLocation,\n    getProximitySuggestions,\n    getMutualConnections,\n    syncContacts,\n    getHybridSuggestions,\n  ]);\n});\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { MapPin, Users, Contact, Sparkles, ChevronDown, MoreVertical, Check } from 'lucide-react-native';\nimport { useRouter } from 'expo-router';\nimport { DiscoverySuggestion, DistanceFilter } from '@/types';\nimport { useDiscovery } from '@/hooks/discovery-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Colors } from '@/constants/colors';\n\nconst DISTANCE_FILTERS: { label: string; value: DistanceFilter }[] = [\n  { label: '1km', value: '1km' },\n  { label: '5km', value: '5km' },\n  { label: '20km', value: '20km' },\n  { label: 'City', value: 'city' },\n];\n\nexport default function PeopleSuggestion() {\n  const router = useRouter();\n  const {\n    distanceFilter,\n    setDistanceFilter,\n    getHybridSuggestions,\n    syncContacts,\n    isLoadingContacts,\n    requestLocationPermission,\n    requestContactsPermission,\n  } = useDiscovery();\n\n  const [suggestions, setSuggestions] = useState<DiscoverySuggestion[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [showFilters, setShowFilters] = useState<boolean>(false);\n  const [activeTab, setActiveTab] = useState<'all' | 'proximity' | 'mutual' | 'contact'>('all');\n  const [followedUsers, setFollowedUsers] = useState<Set<string>>(new Set());\n  const [showMenuForUser, setShowMenuForUser] = useState<string | null>(null);\n\n  const loadSuggestions = useCallback(() => {\n    setIsLoading(true);\n    const results = getHybridSuggestions();\n    setSuggestions(results);\n    setIsLoading(false);\n  }, [getHybridSuggestions]);\n\n  const handleSyncContacts = async () => {\n    await requestContactsPermission();\n    await syncContacts();\n    loadSuggestions();\n  };\n\n  const handleEnableLocation = async () => {\n    await requestLocationPermission();\n    loadSuggestions();\n  };\n\n  const filteredSuggestions = suggestions.filter((s) => {\n    if (activeTab === 'all') return true;\n    if (activeTab === 'proximity') return s.primaryReason === 'proximity' || s.primaryReason === 'hybrid';\n    if (activeTab === 'mutual') return s.primaryReason === 'mutual' || s.primaryReason === 'hybrid';\n    if (activeTab === 'contact') return s.isContact;\n    return true;\n  });\n\n  useEffect(() => {\n    loadSuggestions();\n  }, [distanceFilter, loadSuggestions]);\n\n  const getPrimaryReasonText = (suggestion: DiscoverySuggestion): string => {\n    if (suggestion.isContact) return 'From contacts';\n    if (suggestion.distance) return `${suggestion.distance}km away`;\n    if (suggestion.mutualCount) return `${suggestion.mutualCount} mutual`;\n    return 'Suggested for you';\n  };\n\n  const getMutualText = (suggestion: DiscoverySuggestion): string | null => {\n    if (suggestion.metadata.mutualFollowers && suggestion.metadata.mutualFollowers.length > 0) {\n      const first = suggestion.metadata.mutualFollowers[0].displayName;\n      if (suggestion.mutualCount && suggestion.mutualCount > 1) {\n        const second = suggestion.metadata.mutualFollowers[1]?.displayName;\n        if (second) {\n          return `Followed by ${first} and ${second}`;\n        }\n        return `Followed by ${first} and ${suggestion.mutualCount - 1} other${suggestion.mutualCount - 1 > 1 ? 's' : ''}`;\n      }\n      return `Followed by ${first}`;\n    }\n    return null;\n  };\n\n  const handleFollowToggle = (userId: string) => {\n    setFollowedUsers(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(userId)) {\n        newSet.delete(userId);\n      } else {\n        newSet.add(userId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleMenuAction = (userId: string, action: 'hide' | 'report') => {\n    console.log(`${action} user:`, userId);\n    setShowMenuForUser(null);\n    if (action === 'hide') {\n      setSuggestions(prev => prev.filter(s => s.user.id !== userId));\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <Text style={styles.title}>Discover People</Text>\n        <TouchableOpacity\n          style={styles.filterButton}\n          onPress={() => setShowFilters(!showFilters)}\n        >\n          <Text style={styles.filterButtonText}>Filters</Text>\n          <ChevronDown size={16} color={Colors.textSecondary} />\n        </TouchableOpacity>\n      </View>\n\n      {showFilters && (\n        <View style={styles.filtersContainer}>\n          <View style={styles.filterSection}>\n            <Text style={styles.filterLabel}>Distance</Text>\n            <View style={styles.filterOptions}>\n              {DISTANCE_FILTERS.map((filter) => (\n                <TouchableOpacity\n                  key={filter.value}\n                  style={[\n                    styles.filterChip,\n                    distanceFilter === filter.value && styles.filterChipActive,\n                  ]}\n                  onPress={() => setDistanceFilter(filter.value)}\n                >\n                  <Text\n                    style={[\n                      styles.filterChipText,\n                      distanceFilter === filter.value && styles.filterChipTextActive,\n                    ]}\n                  >\n                    {filter.label}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n          </View>\n\n          <View style={styles.actionButtons}>\n            <TouchableOpacity style={styles.actionButton} onPress={handleEnableLocation}>\n              <MapPin size={16} color={Colors.primary} />\n              <Text style={styles.actionButtonText}>Enable Location</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={styles.actionButton}\n              onPress={handleSyncContacts}\n              disabled={isLoadingContacts}\n            >\n              {isLoadingContacts ? (\n                <ActivityIndicator size=\"small\" color={Colors.primary} />\n              ) : (\n                <Contact size={16} color={Colors.primary} />\n              )}\n              <Text style={styles.actionButtonText}>Sync Contacts</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      )}\n\n      <View style={styles.tabs}>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'all' && styles.tabActive]}\n          onPress={() => setActiveTab('all')}\n        >\n          <Text style={[styles.tabText, activeTab === 'all' && styles.tabTextActive]}>\n            All\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'proximity' && styles.tabActive]}\n          onPress={() => setActiveTab('proximity')}\n        >\n          <MapPin size={14} color={activeTab === 'proximity' ? Colors.primary : Colors.textSecondary} />\n          <Text style={[styles.tabText, activeTab === 'proximity' && styles.tabTextActive]}>\n            Nearby\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'mutual' && styles.tabActive]}\n          onPress={() => setActiveTab('mutual')}\n        >\n          <Users size={14} color={activeTab === 'mutual' ? Colors.primary : Colors.textSecondary} />\n          <Text style={[styles.tabText, activeTab === 'mutual' && styles.tabTextActive]}>\n            Mutual\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'contact' && styles.tabActive]}\n          onPress={() => setActiveTab('contact')}\n        >\n          <Contact size={14} color={activeTab === 'contact' ? Colors.success : Colors.textSecondary} />\n          <Text style={[styles.tabText, activeTab === 'contact' && styles.tabTextActive]}>\n            Contacts\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {isLoading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={Colors.primary} />\n        </View>\n      ) : (\n        <ScrollView style={styles.suggestionsList} showsVerticalScrollIndicator={false}>\n          {filteredSuggestions.map((suggestion, index) => {\n            const isFollowed = followedUsers.has(suggestion.user.id);\n            const mutualText = getMutualText(suggestion);\n            \n            return (\n              <View key={suggestion.user.id}>\n                <TouchableOpacity\n                  style={styles.suggestionRow}\n                  onPress={() => router.push(`/user/${suggestion.user.id}`)}\n                  activeOpacity={0.7}\n                >\n                  <Avatar\n                    source={suggestion.user.profileImage}\n                    size={50}\n                  />\n                  \n                  <View style={styles.userInfoColumn}>\n                    <View style={styles.nameRowCompact}>\n                      <Text style={styles.displayNameCompact} numberOfLines={1}>\n                        {suggestion.user.displayName}\n                      </Text>\n                      {suggestion.user.isVerified && (\n                        <View style={styles.verifiedBadgeContainer}>\n                          <Check size={10} color={Colors.text} strokeWidth={3} />\n                        </View>\n                      )}\n                    </View>\n                    <Text style={styles.suggestionInfo} numberOfLines={1}>\n                      {mutualText || getPrimaryReasonText(suggestion)}\n                    </Text>\n                  </View>\n\n                  <View style={styles.actionsRow}>\n                    <TouchableOpacity\n                      style={[\n                        styles.followButtonCompact,\n                        isFollowed && styles.followingButton\n                      ]}\n                      onPress={(e) => {\n                        e.stopPropagation();\n                        handleFollowToggle(suggestion.user.id);\n                      }}\n                      activeOpacity={0.8}\n                    >\n                      {isFollowed ? (\n                        <View style={styles.followingButtonContent}>\n                          <Text style={styles.followingButtonText}>Following</Text>\n                        </View>\n                      ) : (\n                        <LinearGradient\n                          colors={['#667eea', '#764ba2']}\n                          start={{ x: 0, y: 0 }}\n                          end={{ x: 1, y: 0 }}\n                          style={styles.followButtonGradientCompact}\n                        >\n                          <Text style={styles.followButtonTextCompact}>Follow</Text>\n                        </LinearGradient>\n                      )}\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                      style={styles.menuButton}\n                      onPress={(e) => {\n                        e.stopPropagation();\n                        setShowMenuForUser(showMenuForUser === suggestion.user.id ? null : suggestion.user.id);\n                      }}\n                    >\n                      <MoreVertical size={18} color={Colors.textSecondary} />\n                    </TouchableOpacity>\n                  </View>\n                </TouchableOpacity>\n\n                {showMenuForUser === suggestion.user.id && (\n                  <View style={styles.menuDropdown}>\n                    <TouchableOpacity\n                      style={styles.menuItem}\n                      onPress={() => handleMenuAction(suggestion.user.id, 'hide')}\n                    >\n                      <Text style={styles.menuItemText}>Hide suggestion</Text>\n                    </TouchableOpacity>\n                    <View style={styles.menuDivider} />\n                    <TouchableOpacity\n                      style={styles.menuItem}\n                      onPress={() => handleMenuAction(suggestion.user.id, 'report')}\n                    >\n                      <Text style={[styles.menuItemText, styles.menuItemDanger]}>Report user</Text>\n                    </TouchableOpacity>\n                  </View>\n                )}\n\n                {index < filteredSuggestions.length - 1 && (\n                  <View style={styles.divider} />\n                )}\n              </View>\n            );\n          })}\n          {filteredSuggestions.length === 0 && (\n            <View style={styles.emptyState}>\n              <Sparkles size={48} color={Colors.textSecondary} />\n              <Text style={styles.emptyText}>No suggestions found</Text>\n              <Text style={styles.emptySubtext}>Try adjusting your filters or sync contacts</Text>\n            </View>\n          )}\n        </ScrollView>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  filterButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    backgroundColor: Colors.card,\n    borderRadius: 16,\n  },\n  filterButtonText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    fontWeight: '500' as const,\n  },\n  filtersContainer: {\n    backgroundColor: Colors.card,\n    marginHorizontal: 16,\n    marginBottom: 12,\n    padding: 16,\n    borderRadius: 16,\n    gap: 16,\n  },\n  filterSection: {\n    gap: 8,\n  },\n  filterLabel: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.text,\n  },\n  filterOptions: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  filterChip: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    backgroundColor: Colors.background,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  filterChipActive: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  filterChipText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    fontWeight: '500' as const,\n  },\n  filterChipTextActive: {\n    color: Colors.text,\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  actionButton: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 6,\n    paddingVertical: 10,\n    backgroundColor: Colors.background,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  actionButtonText: {\n    fontSize: 13,\n    color: Colors.text,\n    fontWeight: '500' as const,\n  },\n  tabs: {\n    flexDirection: 'row',\n    paddingHorizontal: 16,\n    gap: 8,\n    marginBottom: 12,\n  },\n  tab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    backgroundColor: Colors.card,\n    borderRadius: 20,\n  },\n  tabActive: {\n    backgroundColor: Colors.primary,\n  },\n  tabText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    fontWeight: '500' as const,\n  },\n  tabTextActive: {\n    color: Colors.text,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  suggestionsList: {\n    flex: 1,\n  },\n  suggestionRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 14,\n    paddingHorizontal: 16,\n    gap: 12,\n  },\n  userInfoColumn: {\n    flex: 1,\n    gap: 2,\n  },\n  nameRowCompact: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  displayNameCompact: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  verifiedBadgeContainer: {\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    backgroundColor: Colors.primary,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  suggestionInfo: {\n    fontSize: 13,\n    color: Colors.textSecondary,\n  },\n  actionsRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  followButtonCompact: {\n    borderRadius: 20,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  followButtonGradientCompact: {\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n  },\n  followButtonTextCompact: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n  followingButton: {\n    backgroundColor: Colors.card,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    shadowOpacity: 0,\n    elevation: 0,\n  },\n  followingButtonContent: {\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n  },\n  followingButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.textSecondary,\n  },\n  menuButton: {\n    padding: 4,\n  },\n  menuDropdown: {\n    backgroundColor: Colors.card,\n    marginHorizontal: 16,\n    marginTop: -8,\n    marginBottom: 8,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.15,\n    shadowRadius: 8,\n    elevation: 5,\n  },\n  menuItem: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n  },\n  menuItemText: {\n    fontSize: 14,\n    color: Colors.text,\n    fontWeight: '500' as const,\n  },\n  menuItemDanger: {\n    color: Colors.error,\n  },\n  menuDivider: {\n    height: 1,\n    backgroundColor: Colors.border,\n    opacity: 0.3,\n  },\n  divider: {\n    height: 1,\n    backgroundColor: Colors.border,\n    marginLeft: 78,\n    opacity: 0.1,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n    gap: 12,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: Colors.text,\n  },\n  emptySubtext: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n  },\n});\n","import React from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView } from 'react-native';\nimport { router } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Hash, TrendingUp } from 'lucide-react-native';\n\ninterface TrendingHashtag {\n  tag: string;\n  count: number;\n  trending: boolean;\n}\n\nconst mockTrendingHashtags: TrendingHashtag[] = [\n  { tag: 'vibesync', count: 12500, trending: true },\n  { tag: 'music', count: 8900, trending: true },\n  { tag: 'art', count: 7200, trending: false },\n  { tag: 'photography', count: 6800, trending: true },\n  { tag: 'travel', count: 5400, trending: false },\n  { tag: 'food', count: 4900, trending: false },\n  { tag: 'fitness', count: 4200, trending: true },\n  { tag: 'fashion', count: 3800, trending: false },\n];\n\nexport const TrendingHashtags: React.FC = () => {\n  const { colors } = useTheme();\n\n  const formatCount = (count: number): string => {\n    if (count >= 1000000) {\n      return (count / 1000000).toFixed(1).replace(/\\.0$/, '') + 'M';\n    }\n    if (count >= 1000) {\n      return (count / 1000).toFixed(1).replace(/\\.0$/, '') + 'K';\n    }\n    return count.toString();\n  };\n\n  const handleHashtagPress = (tag: string) => {\n    router.push(`/hashtag/${tag}`);\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <TrendingUp size={20} color={colors.primary} />\n        <Text style={[styles.headerTitle, { color: colors.text }]}>Trending Hashtags</Text>\n      </View>\n      <ScrollView\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.scrollContent}\n      >\n        {mockTrendingHashtags.map((item, index) => (\n          <TouchableOpacity\n            key={index}\n            style={[\n              styles.hashtagCard,\n              { backgroundColor: colors.cardLight, borderColor: colors.border }\n            ]}\n            onPress={() => handleHashtagPress(item.tag)}\n          >\n            <View style={styles.hashtagHeader}>\n              <View style={[styles.hashtagIcon, { backgroundColor: 'rgba(135, 206, 235, 0.15)' }]}>\n                <Hash size={18} color=\"#87CEEB\" />\n              </View>\n              {item.trending && (\n                <View style={styles.trendingBadge}>\n                  <TrendingUp size={12} color=\"#FF6B6B\" />\n                </View>\n              )}\n            </View>\n            <Text style={[styles.hashtagTag, { color: '#87CEEB' }]}>#{item.tag}</Text>\n            <Text style={[styles.hashtagCount, { color: colors.textSecondary }]}>\n              {formatCount(item.count)} posts\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: 16,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    marginBottom: 12,\n    gap: 8,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  scrollContent: {\n    paddingHorizontal: 16,\n    gap: 12,\n  },\n  hashtagCard: {\n    width: 140,\n    padding: 16,\n    borderRadius: 16,\n    borderWidth: 1,\n  },\n  hashtagHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 12,\n  },\n  hashtagIcon: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  trendingBadge: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: 'rgba(255, 107, 107, 0.15)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hashtagTag: {\n    fontSize: 16,\n    fontWeight: '700',\n    marginBottom: 4,\n  },\n  hashtagCount: {\n    fontSize: 12,\n    fontWeight: '500',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, View, FlatList, Text, TouchableOpacity, ScrollView } from 'react-native';\nimport { SearchBar } from '@/components/ui/SearchBar';\nimport { UserCard } from '@/components/discover/UserCard';\nimport PeopleSuggestion from '@/components/discover/PeopleSuggestion';\nimport { mockUsers } from '@/mocks/users';\nimport { Colors } from '@/constants/colors';\nimport { router } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\nimport { TrendingHashtags } from '@/components/hashtag/TrendingHashtags';\n\nexport default function DiscoverScreen() {\n  const { colors } = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeTab, setActiveTab] = useState<'people' | 'suggestions'>('suggestions');\n  const [users] = useState(mockUsers);\n\n  const handleFollowPress = (userId: string) => {\n    console.log('Follow pressed for user:', userId);\n  };\n\n  const handleUserPress = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  const filteredUsers = users.filter(user => \n    user.displayName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    (user.bio && user.bio.toLowerCase().includes(searchQuery.toLowerCase()))\n  );\n\n  return (\n    <View style={styles.container}>\n      <SearchBar\n        value={searchQuery}\n        onChangeText={setSearchQuery}\n        placeholder=\"Search people, music, vibes...\"\n        style={styles.searchBar}\n      />\n      \n      <View style={styles.tabsContainer}>\n        <TouchableOpacity\n          style={[\n            styles.tab,\n            activeTab === 'suggestions' && styles.activeTab,\n          ]}\n          onPress={() => setActiveTab('suggestions')}\n        >\n          <Text\n            style={[\n              styles.tabText,\n              activeTab === 'suggestions' && styles.activeTabText,\n            ]}\n          >\n            Suggestions\n          </Text>\n        </TouchableOpacity>\n        \n        <TouchableOpacity\n          style={[\n            styles.tab,\n            activeTab === 'people' && styles.activeTab,\n          ]}\n          onPress={() => setActiveTab('people')}\n        >\n          <Text\n            style={[\n              styles.tabText,\n              activeTab === 'people' && styles.activeTabText,\n            ]}\n          >\n            Search\n          </Text>\n        </TouchableOpacity>\n      </View>\n      \n      {activeTab === 'suggestions' ? (\n        <ScrollView showsVerticalScrollIndicator={false}>\n          <TrendingHashtags />\n          <PeopleSuggestion />\n        </ScrollView>\n      ) : (\n        <FlatList\n          data={filteredUsers}\n          keyExtractor={(item) => item.id}\n          renderItem={({ item }) => (\n            <UserCard\n              user={item}\n              onFollowPress={handleFollowPress}\n              onUserPress={handleUserPress}\n            />\n          )}\n          ListEmptyComponent={() => (\n            <View style={styles.emptyContainer}>\n              <Text style={styles.emptyText}>\n                {searchQuery\n                  ? `No results found for \"${searchQuery}\"`\n                  : 'No users found'}\n              </Text>\n            </View>\n          )}\n          showsVerticalScrollIndicator={false}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  searchBar: {\n    margin: 16,\n  },\n  tabsContainer: {\n    flexDirection: 'row',\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: 'center',\n  },\n  activeTab: {\n    borderBottomWidth: 2,\n    borderBottomColor: Colors.primary,\n  },\n  tabText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n  },\n  activeTabText: {\n    color: Colors.text,\n    fontWeight: '600',\n  },\n  emptyContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 24,\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    textAlign: 'center',\n  },\n});","import React from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Modal,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport {\n  Edit3,\n  Trash2,\n  Pin,\n  MessageCircleOff,\n  HeartOff,\n  BarChart3,\n  Link2,\n  Bookmark,\n  Share2,\n  AlertCircle,\n  VolumeX,\n  UserX,\n  UserPlus,\n  UserMinus,\n  Mic,\n  Video,\n  X,\n} from 'lucide-react-native';\n\nexport interface PostMenuOption {\n  id: string;\n  label: string;\n  icon: React.ReactNode;\n  onPress: () => void;\n  destructive?: boolean;\n  divider?: boolean;\n}\n\ninterface PostMenuProps {\n  visible: boolean;\n  onClose: () => void;\n  postId: string;\n  postAuthorId: string;\n  isFollowing?: boolean;\n  commentsEnabled?: boolean;\n  likesVisible?: boolean;\n  isPinned?: boolean;\n  onEdit?: () => void;\n  onDelete?: () => void;\n  onPin?: () => void;\n  onToggleComments?: () => void;\n  onToggleLikes?: () => void;\n  onViewInsights?: () => void;\n  onCopyLink?: () => void;\n  onSave?: () => void;\n  onShare?: () => void;\n  onReport?: () => void;\n  onMute?: () => void;\n  onFollow?: () => void;\n  onUnfollow?: () => void;\n  onBlock?: () => void;\n  onVoiceReply?: () => void;\n  onRemixVibez?: () => void;\n}\n\nexport const PostMenu: React.FC<PostMenuProps> = ({\n  visible,\n  onClose,\n  postId,\n  postAuthorId,\n  isFollowing = false,\n  commentsEnabled = true,\n  likesVisible = true,\n  isPinned = false,\n  onEdit,\n  onDelete,\n  onPin,\n  onToggleComments,\n  onToggleLikes,\n  onViewInsights,\n  onCopyLink,\n  onSave,\n  onShare,\n  onReport,\n  onMute,\n  onFollow,\n  onUnfollow,\n  onBlock,\n  onVoiceReply,\n  onRemixVibez,\n}) => {\n  const { colors } = useTheme();\n  const { user } = useAuth();\n\n  const isAuthor = user?.id === postAuthorId;\n\n  const authorOptions: PostMenuOption[] = [\n    {\n      id: 'edit',\n      label: 'Edit Post',\n      icon: <Edit3 size={20} color={colors.text} />,\n      onPress: () => {\n        onEdit?.();\n        onClose();\n      },\n    },\n    {\n      id: 'delete',\n      label: 'Delete Post',\n      icon: <Trash2 size={20} color={colors.error} />,\n      onPress: () => {\n        onDelete?.();\n        onClose();\n      },\n      destructive: true,\n    },\n    {\n      id: 'pin',\n      label: isPinned ? 'Unpin from Profile' : 'Pin to Profile',\n      icon: <Pin size={20} color={colors.text} />,\n      onPress: () => {\n        onPin?.();\n        onClose();\n      },\n    },\n    {\n      id: 'toggle-comments',\n      label: commentsEnabled ? 'Turn Off Comments' : 'Turn On Comments',\n      icon: <MessageCircleOff size={20} color={colors.text} />,\n      onPress: () => {\n        onToggleComments?.();\n        onClose();\n      },\n    },\n    {\n      id: 'toggle-likes',\n      label: likesVisible ? 'Hide Like Counts' : 'Show Like Counts',\n      icon: <HeartOff size={20} color={colors.text} />,\n      onPress: () => {\n        onToggleLikes?.();\n        onClose();\n      },\n    },\n    {\n      id: 'insights',\n      label: 'View Insights',\n      icon: <BarChart3 size={20} color={colors.text} />,\n      onPress: () => {\n        onViewInsights?.();\n        onClose();\n      },\n      divider: true,\n    },\n    {\n      id: 'copy-link',\n      label: 'Copy Link',\n      icon: <Link2 size={20} color={colors.text} />,\n      onPress: () => {\n        onCopyLink?.();\n        onClose();\n      },\n    },\n  ];\n\n  const viewerOptions: PostMenuOption[] = [\n    {\n      id: 'save',\n      label: 'Save Post',\n      icon: <Bookmark size={20} color={colors.text} />,\n      onPress: () => {\n        onSave?.();\n        onClose();\n      },\n    },\n    {\n      id: 'share',\n      label: 'Share Post',\n      icon: <Share2 size={20} color={colors.text} />,\n      onPress: () => {\n        onShare?.();\n        onClose();\n      },\n    },\n    {\n      id: 'copy-link',\n      label: 'Copy Link',\n      icon: <Link2 size={20} color={colors.text} />,\n      onPress: () => {\n        onCopyLink?.();\n        onClose();\n      },\n      divider: true,\n    },\n    {\n      id: 'report',\n      label: 'Report Post',\n      icon: <AlertCircle size={20} color={colors.error} />,\n      onPress: () => {\n        onReport?.();\n        onClose();\n      },\n      destructive: true,\n    },\n    {\n      id: 'mute',\n      label: 'Mute Author',\n      icon: <VolumeX size={20} color={colors.text} />,\n      onPress: () => {\n        onMute?.();\n        onClose();\n      },\n    },\n    {\n      id: 'follow-toggle',\n      label: isFollowing ? 'Unfollow Author' : 'Follow Author',\n      icon: isFollowing ? (\n        <UserMinus size={20} color={colors.text} />\n      ) : (\n        <UserPlus size={20} color={colors.text} />\n      ),\n      onPress: () => {\n        if (isFollowing) {\n          onUnfollow?.();\n        } else {\n          onFollow?.();\n        }\n        onClose();\n      },\n    },\n    {\n      id: 'block',\n      label: 'Block Author',\n      icon: <UserX size={20} color={colors.error} />,\n      onPress: () => {\n        onBlock?.();\n        onClose();\n      },\n      destructive: true,\n    },\n  ];\n\n  const specialOptions: PostMenuOption[] = [\n    {\n      id: 'voice-reply',\n      label: 'Reply with Voice',\n      icon: <Mic size={20} color={colors.primary} />,\n      onPress: () => {\n        onVoiceReply?.();\n        onClose();\n      },\n    },\n    {\n      id: 'remix-vibez',\n      label: 'Remix with Vibez',\n      icon: <Video size={20} color={colors.primary} />,\n      onPress: () => {\n        onRemixVibez?.();\n        onClose();\n      },\n    },\n  ];\n\n  const options = isAuthor ? authorOptions : [...viewerOptions, ...specialOptions];\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n      statusBarTranslucent\n    >\n      <TouchableOpacity\n        style={styles.overlay}\n        activeOpacity={1}\n        onPress={onClose}\n      >\n        <BlurView intensity={80} style={StyleSheet.absoluteFill} tint=\"dark\" />\n        \n        <View style={styles.container}>\n          <TouchableOpacity\n            activeOpacity={1}\n            onPress={(e) => e.stopPropagation()}\n            style={[\n              styles.menuContainer,\n              {\n                backgroundColor: colors.card,\n                borderColor: colors.border,\n              },\n            ]}\n          >\n            <View style={styles.header}>\n              <Text style={[styles.headerTitle, { color: colors.text }]}>\n                {isAuthor ? 'Post Options' : 'Actions'}\n              </Text>\n              <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                <X size={24} color={colors.textSecondary} />\n              </TouchableOpacity>\n            </View>\n\n            <ScrollView\n              style={styles.optionsList}\n              showsVerticalScrollIndicator={false}\n            >\n              {options.map((option, index) => (\n                <React.Fragment key={option.id}>\n                  <TouchableOpacity\n                    style={[\n                      styles.option,\n                      option.destructive && styles.destructiveOption,\n                    ]}\n                    onPress={option.onPress}\n                    activeOpacity={0.7}\n                  >\n                    <View style={styles.optionIcon}>{option.icon}</View>\n                    <Text\n                      style={[\n                        styles.optionLabel,\n                        {\n                          color: option.destructive\n                            ? colors.error\n                            : colors.text,\n                        },\n                      ]}\n                    >\n                      {option.label}\n                    </Text>\n                  </TouchableOpacity>\n                  {option.divider && (\n                    <View\n                      style={[\n                        styles.divider,\n                        { backgroundColor: colors.border },\n                      ]}\n                    />\n                  )}\n                </React.Fragment>\n              ))}\n            </ScrollView>\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  container: {\n    justifyContent: 'flex-end',\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n  },\n  menuContainer: {\n    marginHorizontal: 16,\n    borderRadius: 24,\n    borderWidth: 1,\n    overflow: 'hidden',\n    maxHeight: '80%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  closeButton: {\n    padding: 4,\n  },\n  optionsList: {\n    paddingVertical: 8,\n  },\n  option: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n  },\n  destructiveOption: {\n    backgroundColor: 'rgba(239, 68, 68, 0.05)',\n  },\n  optionIcon: {\n    marginRight: 16,\n    width: 24,\n    alignItems: 'center',\n  },\n  optionLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  divider: {\n    height: 1,\n    marginVertical: 8,\n    marginHorizontal: 20,\n  },\n});\n","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { useAuth } from './auth-store';\n\nexport interface Collection {\n  id: string;\n  name: string;\n  postIds: string[];\n  createdAt: string;\n}\n\nexport interface Revibe {\n  id: string;\n  postId: string;\n  userId: string;\n  caption?: string;\n  timestamp: string;\n}\n\nexport interface Like {\n  postId: string;\n  userId: string;\n  timestamp: string;\n  isAuthorLike?: boolean;\n}\n\nexport interface CommentLike {\n  commentId: string;\n  userId: string;\n  timestamp: string;\n  isAuthorLike?: boolean;\n}\n\ninterface EngagementState {\n  likes: Like[];\n  revibes: Revibe[];\n  savedPosts: string[];\n  collections: Collection[];\n  commentLikes: CommentLike[];\n}\n\nconst STORAGE_KEY = 'engagement_data';\n\nexport const [EngagementProvider, useEngagement] = createContextHook(() => {\n  const { user } = useAuth();\n  const [state, setState] = useState<EngagementState>({\n    likes: [],\n    revibes: [],\n    savedPosts: [],\n    collections: [\n      { id: 'default', name: 'Saved', postIds: [], createdAt: new Date().toISOString() }\n    ],\n    commentLikes: [],\n  });\n\n  const loadEngagementData = useCallback(async () => {\n    try {\n      const data = await AsyncStorage.getItem(STORAGE_KEY);\n      if (data) {\n        setState(JSON.parse(data));\n      }\n    } catch (error) {\n      console.error('Error loading engagement data:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadEngagementData();\n  }, [loadEngagementData]);\n\n  const saveEngagementData = useCallback(async (newState: EngagementState) => {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(newState));\n      setState(newState);\n    } catch (error) {\n      console.error('Error saving engagement data:', error);\n    }\n  }, []);\n\n  const likePost = useCallback(async (postId: string, postAuthorId: string) => {\n    if (!user) return false;\n\n    const isAuthorLike = user.id === postAuthorId;\n    const existingLike = state.likes.find(\n      like => like.postId === postId && like.userId === user.id\n    );\n\n    if (existingLike) {\n      const newLikes = state.likes.filter(\n        like => !(like.postId === postId && like.userId === user.id)\n      );\n      await saveEngagementData({ ...state, likes: newLikes });\n      return false;\n    } else {\n      const newLike: Like = {\n        postId,\n        userId: user.id,\n        timestamp: new Date().toISOString(),\n        isAuthorLike,\n      };\n      await saveEngagementData({ ...state, likes: [...state.likes, newLike] });\n      return true;\n    }\n  }, [user, state, saveEngagementData]);\n\n  const revibePost = useCallback(async (postId: string, caption?: string) => {\n    if (!user) return false;\n\n    const existingRevibe = state.revibes.find(\n      revibe => revibe.postId === postId && revibe.userId === user.id\n    );\n\n    if (existingRevibe) {\n      const newRevibes = state.revibes.filter(\n        revibe => !(revibe.postId === postId && revibe.userId === user.id)\n      );\n      await saveEngagementData({ ...state, revibes: newRevibes });\n      return false;\n    } else {\n      const newRevibe: Revibe = {\n        id: `revibe_${Date.now()}`,\n        postId,\n        userId: user.id,\n        caption,\n        timestamp: new Date().toISOString(),\n      };\n      await saveEngagementData({ ...state, revibes: [...state.revibes, newRevibe] });\n      return true;\n    }\n  }, [user, state, saveEngagementData]);\n\n  const savePost = useCallback(async (postId: string, collectionId: string = 'default') => {\n    if (!user) return false;\n\n    const collection = state.collections.find(c => c.id === collectionId);\n    if (!collection) return false;\n\n    const isSaved = collection.postIds.includes(postId);\n\n    if (isSaved) {\n      const updatedCollections = state.collections.map(c => {\n        if (c.id === collectionId) {\n          return {\n            ...c,\n            postIds: c.postIds.filter(id => id !== postId),\n          };\n        }\n        return c;\n      });\n\n      const allSavedPosts = updatedCollections.flatMap(c => c.postIds);\n      await saveEngagementData({\n        ...state,\n        collections: updatedCollections,\n        savedPosts: allSavedPosts,\n      });\n      return false;\n    } else {\n      const updatedCollections = state.collections.map(c => {\n        if (c.id === collectionId) {\n          return {\n            ...c,\n            postIds: [...c.postIds, postId],\n          };\n        }\n        return c;\n      });\n\n      const allSavedPosts = updatedCollections.flatMap(c => c.postIds);\n      await saveEngagementData({\n        ...state,\n        collections: updatedCollections,\n        savedPosts: allSavedPosts,\n      });\n      return true;\n    }\n  }, [user, state, saveEngagementData]);\n\n  const createCollection = useCallback(async (name: string) => {\n    if (!user) return null;\n\n    const newCollection: Collection = {\n      id: `collection_${Date.now()}`,\n      name,\n      createdAt: new Date().toISOString(),\n      postIds: [],\n    };\n\n    await saveEngagementData({\n      ...state,\n      collections: [...state.collections, newCollection],\n    });\n\n    return newCollection;\n  }, [user, state, saveEngagementData]);\n\n  const deleteCollection = useCallback(async (collectionId: string) => {\n    if (collectionId === 'default') return false;\n\n    const updatedCollections = state.collections.filter(c => c.id !== collectionId);\n    const allSavedPosts = updatedCollections.flatMap(c => c.postIds);\n\n    await saveEngagementData({\n      ...state,\n      collections: updatedCollections,\n      savedPosts: allSavedPosts,\n    });\n\n    return true;\n  }, [state, saveEngagementData]);\n\n  const likeComment = useCallback(async (commentId: string, postAuthorId: string) => {\n    if (!user) return false;\n\n    const isAuthorLike = user.id === postAuthorId;\n    const existingLike = state.commentLikes.find(\n      like => like.commentId === commentId && like.userId === user.id\n    );\n\n    if (existingLike) {\n      const newLikes = state.commentLikes.filter(\n        like => !(like.commentId === commentId && like.userId === user.id)\n      );\n      await saveEngagementData({ ...state, commentLikes: newLikes });\n      return false;\n    } else {\n      const newLike: CommentLike = {\n        commentId,\n        userId: user.id,\n        timestamp: new Date().toISOString(),\n        isAuthorLike,\n      };\n      await saveEngagementData({\n        ...state,\n        commentLikes: [...state.commentLikes, newLike],\n      });\n      return true;\n    }\n  }, [user, state, saveEngagementData]);\n\n  const isPostLiked = useCallback((postId: string) => {\n    if (!user) return false;\n    return state.likes.some(like => like.postId === postId && like.userId === user.id);\n  }, [user, state.likes]);\n\n  const isPostRevibed = useCallback((postId: string) => {\n    if (!user) return false;\n    return state.revibes.some(revibe => revibe.postId === postId && revibe.userId === user.id);\n  }, [user, state.revibes]);\n\n  const isPostSaved = useCallback((postId: string) => {\n    return state.savedPosts.includes(postId);\n  }, [state.savedPosts]);\n\n  const isCommentLiked = useCallback((commentId: string) => {\n    if (!user) return false;\n    return state.commentLikes.some(\n      like => like.commentId === commentId && like.userId === user.id\n    );\n  }, [user, state.commentLikes]);\n\n  const getPostLikes = useCallback((postId: string) => {\n    return state.likes.filter(like => like.postId === postId);\n  }, [state.likes]);\n\n  const getPostRevibes = useCallback((postId: string) => {\n    return state.revibes.filter(revibe => revibe.postId === postId);\n  }, [state.revibes]);\n\n  const getCommentLikes = useCallback((commentId: string) => {\n    return state.commentLikes.filter(like => like.commentId === commentId);\n  }, [state.commentLikes]);\n\n  const getSavedPostsByCollection = useCallback((collectionId: string) => {\n    const collection = state.collections.find(c => c.id === collectionId);\n    return collection?.postIds || [];\n  }, [state.collections]);\n\n  return useMemo(() => ({\n    likes: state.likes,\n    revibes: state.revibes,\n    savedPosts: state.savedPosts,\n    collections: state.collections,\n    commentLikes: state.commentLikes,\n    likePost,\n    revibePost,\n    savePost,\n    createCollection,\n    deleteCollection,\n    likeComment,\n    isPostLiked,\n    isPostRevibed,\n    isPostSaved,\n    isCommentLiked,\n    getPostLikes,\n    getPostRevibes,\n    getCommentLikes,\n    getSavedPostsByCollection,\n  }), [\n    state.likes,\n    state.revibes,\n    state.savedPosts,\n    state.collections,\n    state.commentLikes,\n    likePost,\n    revibePost,\n    savePost,\n    createCollection,\n    deleteCollection,\n    likeComment,\n    isPostLiked,\n    isPostRevibed,\n    isPostSaved,\n    isCommentLiked,\n    getPostLikes,\n    getPostRevibes,\n    getCommentLikes,\n    getSavedPostsByCollection,\n  ]);\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Modal,\n  TouchableOpacity,\n  TextInput,\n  KeyboardAvoidingView,\n  Platform,\n  ScrollView,\n} from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useEngagement } from '@/hooks/engagement-store';\nimport { Post } from '@/types';\nimport { X, Repeat2 } from 'lucide-react-native';\n\ninterface RevibeSheetProps {\n  visible: boolean;\n  onClose: () => void;\n  post: Post;\n  onRevibe?: (postId: string, caption?: string) => void;\n}\n\nexport const RevibeSheet: React.FC<RevibeSheetProps> = ({\n  visible,\n  onClose,\n  post,\n  onRevibe,\n}) => {\n  const { colors } = useTheme();\n  const { revibePost, isPostRevibed } = useEngagement();\n  const [caption, setCaption] = useState<string>('');\n  const [isRevibing, setIsRevibing] = useState<boolean>(false);\n\n  const isRevibed = isPostRevibed(post.id);\n\n  const handleRevibe = async () => {\n    setIsRevibing(true);\n    try {\n      const result = await revibePost(post.id, caption.trim() || undefined);\n      \n      if (result) {\n        console.log('Post revibed successfully');\n        onRevibe?.(post.id, caption.trim() || undefined);\n      } else {\n        console.log('Post unrevibed');\n      }\n      \n      setCaption('');\n      onClose();\n    } catch (error) {\n      console.error('Error revibing post:', error);\n    } finally {\n      setIsRevibing(false);\n    }\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        style={styles.container}\n      >\n        <TouchableOpacity\n          style={styles.backdrop}\n          activeOpacity={1}\n          onPress={onClose}\n        >\n          <BlurView intensity={80} style={StyleSheet.absoluteFill} />\n        </TouchableOpacity>\n\n        <View style={[styles.sheet, { backgroundColor: colors.card }]}>\n          <View style={styles.header}>\n            <View style={styles.headerLeft}>\n              <View style={[styles.iconContainer, { backgroundColor: colors.primary + '20' }]}>\n                <Repeat2 size={24} color={colors.primary} />\n              </View>\n              <Text style={[styles.title, { color: colors.text }]}>\n                {isRevibed ? 'Undo Revibe?' : 'Revibe to your followers?'}\n              </Text>\n            </View>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <X size={24} color={colors.textSecondary} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n            <View style={[styles.postPreview, { backgroundColor: colors.background }]}>\n              <Text style={[styles.postAuthor, { color: colors.textSecondary }]}>\n                @{post.username}\n              </Text>\n              <Text style={[styles.postContent, { color: colors.text }]} numberOfLines={3}>\n                {post.content}\n              </Text>\n            </View>\n\n            {!isRevibed && (\n              <View style={styles.captionContainer}>\n                <Text style={[styles.captionLabel, { color: colors.textSecondary }]}>\n                  Add a caption (optional)\n                </Text>\n                <TextInput\n                  style={[\n                    styles.captionInput,\n                    {\n                      backgroundColor: colors.background,\n                      color: colors.text,\n                      borderColor: colors.border,\n                    },\n                  ]}\n                  placeholder=\"What's on your mind?\"\n                  placeholderTextColor={colors.textSecondary}\n                  value={caption}\n                  onChangeText={setCaption}\n                  multiline\n                  maxLength={280}\n                  textAlignVertical=\"top\"\n                />\n                <Text style={[styles.charCount, { color: colors.textSecondary }]}>\n                  {caption.length}/280\n                </Text>\n              </View>\n            )}\n          </ScrollView>\n\n          <View style={styles.actions}>\n            <TouchableOpacity\n              style={[styles.cancelButton, { backgroundColor: colors.background }]}\n              onPress={onClose}\n            >\n              <Text style={[styles.cancelText, { color: colors.text }]}>Cancel</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={[\n                styles.revibeButton,\n                {\n                  backgroundColor: isRevibed ? colors.error : colors.primary,\n                  opacity: isRevibing ? 0.6 : 1,\n                },\n              ]}\n              onPress={handleRevibe}\n              disabled={isRevibing}\n            >\n              <Repeat2 size={20} color=\"#FFFFFF\" />\n              <Text style={styles.revibeText}>\n                {isRevibing ? 'Processing...' : isRevibed ? 'Undo Revibe' : 'Revibe'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </KeyboardAvoidingView>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  backdrop: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  sheet: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '80%',\n    paddingBottom: 34,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 16,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '700',\n    flex: 1,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    paddingHorizontal: 20,\n  },\n  postPreview: {\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 20,\n  },\n  postAuthor: {\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 8,\n  },\n  postContent: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  captionContainer: {\n    marginBottom: 20,\n  },\n  captionLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 8,\n  },\n  captionInput: {\n    borderWidth: 1,\n    borderRadius: 12,\n    padding: 12,\n    fontSize: 15,\n    minHeight: 100,\n  },\n  charCount: {\n    fontSize: 12,\n    textAlign: 'right',\n    marginTop: 4,\n  },\n  actions: {\n    flexDirection: 'row',\n    paddingHorizontal: 20,\n    paddingTop: 16,\n    gap: 12,\n  },\n  cancelButton: {\n    flex: 1,\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  cancelText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  revibeButton: {\n    flex: 1,\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'row',\n    gap: 8,\n  },\n  revibeText: {\n    fontSize: 16,\n    fontWeight: '700',\n    color: '#FFFFFF',\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Modal,\n  TouchableOpacity,\n  TextInput,\n  ScrollView,\n  Alert,\n} from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useEngagement } from '@/hooks/engagement-store';\nimport { X, Bookmark, Plus, Check, Folder } from 'lucide-react-native';\n\ninterface SaveSheetProps {\n  visible: boolean;\n  onClose: () => void;\n  postId: string;\n  onSave?: (postId: string, collectionId: string) => void;\n}\n\nexport const SaveSheet: React.FC<SaveSheetProps> = ({\n  visible,\n  onClose,\n  postId,\n  onSave,\n}) => {\n  const { colors } = useTheme();\n  const {\n    collections,\n    savePost,\n    createCollection,\n    deleteCollection,\n    getSavedPostsByCollection,\n  } = useEngagement();\n  \n  const [showNewCollection, setShowNewCollection] = useState<boolean>(false);\n  const [newCollectionName, setNewCollectionName] = useState<string>('');\n  const [isCreating, setIsCreating] = useState<boolean>(false);\n\n  const handleSaveToCollection = async (collectionId: string) => {\n    try {\n      const result = await savePost(postId, collectionId);\n      const collection = collections.find(c => c.id === collectionId);\n      \n      if (result) {\n        console.log(`Post saved to ${collection?.name}`);\n        Alert.alert('Saved', `Post saved to ${collection?.name}`);\n      } else {\n        console.log(`Post removed from ${collection?.name}`);\n        Alert.alert('Removed', `Post removed from ${collection?.name}`);\n      }\n      \n      onSave?.(postId, collectionId);\n      onClose();\n    } catch (error) {\n      console.error('Error saving post:', error);\n      Alert.alert('Error', 'Failed to save post');\n    }\n  };\n\n  const handleCreateCollection = async () => {\n    if (!newCollectionName.trim()) {\n      Alert.alert('Error', 'Please enter a collection name');\n      return;\n    }\n\n    setIsCreating(true);\n    try {\n      const newCollection = await createCollection(newCollectionName.trim());\n      \n      if (newCollection) {\n        console.log('Collection created:', newCollection.name);\n        await savePost(postId, newCollection.id);\n        Alert.alert('Success', `Saved to new collection: ${newCollection.name}`);\n        setNewCollectionName('');\n        setShowNewCollection(false);\n        onClose();\n      }\n    } catch (error) {\n      console.error('Error creating collection:', error);\n      Alert.alert('Error', 'Failed to create collection');\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  const handleDeleteCollection = (collectionId: string, collectionName: string) => {\n    Alert.alert(\n      'Delete Collection',\n      `Are you sure you want to delete \"${collectionName}\"?`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: async () => {\n            await deleteCollection(collectionId);\n            Alert.alert('Deleted', `Collection \"${collectionName}\" deleted`);\n          },\n        },\n      ]\n    );\n  };\n\n  const isPostInCollection = (collectionId: string) => {\n    const postIds = getSavedPostsByCollection(collectionId);\n    return postIds.includes(postId);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <TouchableOpacity\n        style={styles.container}\n        activeOpacity={1}\n        onPress={onClose}\n      >\n        <BlurView intensity={80} style={StyleSheet.absoluteFill} />\n      </TouchableOpacity>\n\n      <View style={[styles.sheet, { backgroundColor: colors.card }]}>\n        <View style={styles.header}>\n          <View style={styles.headerLeft}>\n            <View style={[styles.iconContainer, { backgroundColor: colors.primary + '20' }]}>\n              <Bookmark size={24} color={colors.primary} />\n            </View>\n            <Text style={[styles.title, { color: colors.text }]}>\n              Save to Collection\n            </Text>\n          </View>\n          <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n            <X size={24} color={colors.textSecondary} />\n          </TouchableOpacity>\n        </View>\n\n        <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n          {collections.map((collection) => {\n            const isSaved = isPostInCollection(collection.id);\n            const postCount = getSavedPostsByCollection(collection.id).length;\n\n            return (\n              <TouchableOpacity\n                key={collection.id}\n                style={[\n                  styles.collectionItem,\n                  {\n                    backgroundColor: isSaved ? colors.primary + '10' : colors.background,\n                    borderColor: isSaved ? colors.primary : colors.border,\n                  },\n                ]}\n                onPress={() => handleSaveToCollection(collection.id)}\n                onLongPress={() => {\n                  if (collection.id !== 'default') {\n                    handleDeleteCollection(collection.id, collection.name);\n                  }\n                }}\n              >\n                <View style={styles.collectionLeft}>\n                  <View\n                    style={[\n                      styles.collectionIcon,\n                      {\n                        backgroundColor: isSaved ? colors.primary + '20' : colors.card,\n                      },\n                    ]}\n                  >\n                    <Folder\n                      size={20}\n                      color={isSaved ? colors.primary : colors.textSecondary}\n                    />\n                  </View>\n                  <View style={styles.collectionInfo}>\n                    <Text style={[styles.collectionName, { color: colors.text }]}>\n                      {collection.name}\n                    </Text>\n                    <Text style={[styles.collectionCount, { color: colors.textSecondary }]}>\n                      {postCount} {postCount === 1 ? 'post' : 'posts'}\n                    </Text>\n                  </View>\n                </View>\n\n                {isSaved && (\n                  <View style={[styles.checkmark, { backgroundColor: colors.primary }]}>\n                    <Check size={16} color=\"#FFFFFF\" />\n                  </View>\n                )}\n              </TouchableOpacity>\n            );\n          })}\n\n          {showNewCollection ? (\n            <View style={[styles.newCollectionForm, { backgroundColor: colors.background }]}>\n              <TextInput\n                style={[\n                  styles.newCollectionInput,\n                  {\n                    backgroundColor: colors.card,\n                    color: colors.text,\n                    borderColor: colors.border,\n                  },\n                ]}\n                placeholder=\"Collection name\"\n                placeholderTextColor={colors.textSecondary}\n                value={newCollectionName}\n                onChangeText={setNewCollectionName}\n                maxLength={30}\n                autoFocus\n              />\n              <View style={styles.newCollectionActions}>\n                <TouchableOpacity\n                  style={[styles.newCollectionCancel, { backgroundColor: colors.card }]}\n                  onPress={() => {\n                    setShowNewCollection(false);\n                    setNewCollectionName('');\n                  }}\n                >\n                  <Text style={[styles.newCollectionCancelText, { color: colors.text }]}>\n                    Cancel\n                  </Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[\n                    styles.newCollectionCreate,\n                    {\n                      backgroundColor: colors.primary,\n                      opacity: isCreating || !newCollectionName.trim() ? 0.5 : 1,\n                    },\n                  ]}\n                  onPress={handleCreateCollection}\n                  disabled={isCreating || !newCollectionName.trim()}\n                >\n                  <Text style={styles.newCollectionCreateText}>\n                    {isCreating ? 'Creating...' : 'Create'}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          ) : (\n            <TouchableOpacity\n              style={[styles.newCollectionButton, { backgroundColor: colors.background }]}\n              onPress={() => setShowNewCollection(true)}\n            >\n              <View style={[styles.newCollectionIcon, { backgroundColor: colors.primary + '20' }]}>\n                <Plus size={20} color={colors.primary} />\n              </View>\n              <Text style={[styles.newCollectionText, { color: colors.primary }]}>\n                Create New Collection\n              </Text>\n            </TouchableOpacity>\n          )}\n        </ScrollView>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  sheet: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    maxHeight: '70%',\n    paddingBottom: 34,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: 'rgba(255, 255, 255, 0.05)',\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '700',\n    flex: 1,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  content: {\n    paddingHorizontal: 20,\n    paddingTop: 16,\n  },\n  collectionItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 12,\n    borderWidth: 2,\n  },\n  collectionLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  collectionIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12,\n  },\n  collectionInfo: {\n    flex: 1,\n  },\n  collectionName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 2,\n  },\n  collectionCount: {\n    fontSize: 13,\n  },\n  checkmark: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  newCollectionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 12,\n  },\n  newCollectionIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12,\n  },\n  newCollectionText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  newCollectionForm: {\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 12,\n  },\n  newCollectionInput: {\n    borderWidth: 1,\n    borderRadius: 12,\n    padding: 12,\n    fontSize: 15,\n    marginBottom: 12,\n  },\n  newCollectionActions: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  newCollectionCancel: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  newCollectionCancelText: {\n    fontSize: 15,\n    fontWeight: '600',\n  },\n  newCollectionCreate: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  newCollectionCreateText: {\n    fontSize: 15,\n    fontWeight: '700',\n    color: '#FFFFFF',\n  },\n});\n","import React, { useState, useRef, useMemo } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Alert, Animated } from 'react-native';\nimport * as Clipboard from 'expo-clipboard';\nimport { Image } from 'expo-image';\nimport { Video, ResizeMode } from 'expo-av';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { PostMenu } from '@/components/post/PostMenu';\nimport { RevibeSheet } from '@/components/engagement/RevibeSheet';\nimport { SaveSheet } from '@/components/engagement/SaveSheet';\nimport { CommentDrawer } from '@/components/engagement/CommentDrawer';\nimport { ShareSheet } from '@/components/engagement/ShareSheet';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useEngagement } from '@/hooks/engagement-store';\nimport { Post } from '@/types';\nimport { Heart, MessageCircle, Repeat2, Bookmark, MoreHorizontal, Eye } from 'lucide-react-native';\nimport { VoiceNotePlayer } from '@/components/ui/VoiceNotePlayer';\nimport { router } from 'expo-router';\nimport { mockComments } from '@/mocks/comments';\n\n\ninterface PostCardProps {\n  post: Post;\n  onLikePress?: (postId: string) => void;\n  onCommentPress?: (postId: string) => void;\n  onSharePress?: (postId: string) => void;\n  onSavePress?: (postId: string) => void;\n  onUserPress?: (userId: string) => void;\n  onPress?: (postId: string) => void;\n  onLike?: (postId: string) => void;\n  onComment?: (postId: string) => void;\n  onShare?: (postId: string) => void;\n  showFullContent?: boolean;\n  testID?: string;\n}\n\nconst formatNumber = (num: number): string => {\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1).replace(/\\\\.0$/, '') + 'M';\n  }\n  if (num >= 1000) {\n    return (num / 1000).toFixed(1).replace(/\\\\.0$/, '') + 'K';\n  }\n  return num.toString();\n};\n\nconst parseTextWithLinks = (text: string, colors: any) => {\n  const parts: React.ReactNode[] = [];\n  const regex = /(#\\w+|@\\w+)/g;\n  let lastIndex = 0;\n  let match: RegExpExecArray | null;\n\n  while ((match = regex.exec(text)) !== null) {\n    if (match.index > lastIndex) {\n      parts.push(\n        <Text key={`text-${lastIndex}`} style={{ color: colors.text }}>\n          {text.slice(lastIndex, match.index)}\n        </Text>\n      );\n    }\n\n    const isHashtag = match[0].startsWith('#');\n    const isUsername = match[0].startsWith('@');\n    \n    parts.push(\n      <TouchableOpacity\n        key={`link-${match.index}`}\n        onPress={() => {\n          if (match && isHashtag) {\n            const hashtag = match[0].slice(1);\n            console.log('Navigate to hashtag:', hashtag);\n            router.push(`/hashtag/${hashtag}`);\n          } else if (match && isUsername) {\n            const username = match[0].slice(1);\n            console.log('Navigate to user:', username);\n            router.push(`/user/${username}`);\n          }\n        }}\n      >\n        <Text style={{ color: isHashtag ? '#1DA1F2' : colors.primary, fontWeight: '600' }}>\n          {match[0]}\n        </Text>\n      </TouchableOpacity>\n    );\n\n    lastIndex = regex.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    parts.push(\n      <Text key={`text-${lastIndex}`} style={{ color: colors.text }}>\n        {text.slice(lastIndex)}\n      </Text>\n    );\n  }\n\n  return parts.length > 0 ? parts : [<Text key=\"full-text\" style={{ color: colors.text }}>{text}</Text>];\n};\n\nconst PostCardComponent: React.FC<PostCardProps> = ({\n  post,\n  onLikePress,\n  onCommentPress,\n  onSharePress,\n  onSavePress,\n  onUserPress,\n  onPress,\n  onLike,\n  onComment,\n  onShare,\n  showFullContent = false,\n  testID,\n}) => {\n  const { colors } = useTheme();\n  useAuth();\n  const {\n    likePost,\n    isPostLiked,\n    isPostRevibed,\n    isPostSaved,\n    getPostLikes,\n    getPostRevibes,\n  } = useEngagement();\n  \n  const [menuVisible, setMenuVisible] = useState<boolean>(false);\n  const [revibeSheetVisible, setRevibeSheetVisible] = useState<boolean>(false);\n  const [saveSheetVisible, setSaveSheetVisible] = useState<boolean>(false);\n  const [commentDrawerVisible, setCommentDrawerVisible] = useState<boolean>(false);\n  const [shareSheetVisible, setShareSheetVisible] = useState<boolean>(false);\n  const [isFollowing, setIsFollowing] = useState<boolean>(false);\n\n  const likeAnim = useRef(new Animated.Value(1)).current;\n  const revibeAnim = useRef(new Animated.Value(1)).current;\n  const saveAnim = useRef(new Animated.Value(1)).current;\n\n  const isLiked = useMemo(() => isPostLiked(post.id), [isPostLiked, post.id]);\n  const isRevibed = useMemo(() => isPostRevibed(post.id), [isPostRevibed, post.id]);\n  const isSaved = useMemo(() => isPostSaved(post.id), [isPostSaved, post.id]);\n  const likesCount = useMemo(() => post.likes + getPostLikes(post.id).length, [post.likes, getPostLikes, post.id]);\n  const revibesCount = useMemo(() => post.shares + getPostRevibes(post.id).length, [post.shares, getPostRevibes, post.id]);\n\n  const animateButton = (animValue: Animated.Value) => {\n    Animated.sequence([\n      Animated.timing(animValue, {\n        toValue: 1.3,\n        duration: 150,\n        useNativeDriver: true,\n      }),\n      Animated.spring(animValue, {\n        toValue: 1,\n        friction: 3,\n        tension: 40,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  };\n\n  const handleLike = async () => {\n    animateButton(likeAnim);\n    await likePost(post.id, post.userId);\n    onLikePress?.(post.id);\n    onLike?.(post.id);\n  };\n\n  const handleRevibe = () => {\n    animateButton(revibeAnim);\n    setRevibeSheetVisible(true);\n  };\n\n  const handleSave = () => {\n    animateButton(saveAnim);\n    setSaveSheetVisible(true);\n  };\n\n  const handleComment = () => {\n    router.push(`/post/${post.id}?scrollToComments=true`);\n    onCommentPress?.(post.id);\n    onComment?.(post.id);\n  };\n\n  const handleEdit = () => {\n    console.log('Edit post:', post.id);\n    Alert.alert('Edit Post', 'Edit functionality coming soon');\n  };\n\n  const handleDelete = () => {\n    Alert.alert(\n      'Delete Post',\n      'Are you sure you want to delete this post?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Delete',\n          style: 'destructive',\n          onPress: () => {\n            console.log('Delete post:', post.id);\n          },\n        },\n      ]\n    );\n  };\n\n  const handlePin = () => {\n    console.log('Pin post:', post.id);\n    Alert.alert('Success', 'Post pinned to profile');\n  };\n\n  const handleToggleComments = () => {\n    console.log('Toggle comments:', post.id);\n    Alert.alert('Success', 'Comments toggled');\n  };\n\n  const handleToggleLikes = () => {\n    console.log('Toggle likes visibility:', post.id);\n    Alert.alert('Success', 'Like counts visibility toggled');\n  };\n\n  const handleViewInsights = () => {\n    console.log('View insights:', post.id);\n    Alert.alert('Insights', `Views: ${post.views}\\\\nLikes: ${likesCount}\\\\nComments: ${post.comments}\\\\nRevibes: ${revibesCount}`);\n  };\n\n  const handleCopyLink = async () => {\n    const link = `vibesync://post/${post.id}`;\n    await Clipboard.setStringAsync(link);\n    Alert.alert('Success', 'Link copied to clipboard');\n  };\n\n  const handleSharePost = () => {\n    setShareSheetVisible(true);\n  };\n\n  const handleReport = () => {\n    Alert.alert(\n      'Report Post',\n      'Why are you reporting this post?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { text: 'Spam', onPress: () => console.log('Report: Spam') },\n        { text: 'Inappropriate', onPress: () => console.log('Report: Inappropriate') },\n        { text: 'Harassment', onPress: () => console.log('Report: Harassment') },\n      ]\n    );\n  };\n\n  const handleMute = () => {\n    console.log('Mute author:', post.userId);\n    Alert.alert('Success', `You won't see posts from @${post.username}`);\n  };\n\n  const handleFollow = () => {\n    setIsFollowing(true);\n    console.log('Follow author:', post.userId);\n    Alert.alert('Success', `You are now following @${post.username}`);\n  };\n\n  const handleUnfollow = () => {\n    setIsFollowing(false);\n    console.log('Unfollow author:', post.userId);\n    Alert.alert('Success', `You unfollowed @${post.username}`);\n  };\n\n  const handleBlock = () => {\n    Alert.alert(\n      'Block User',\n      `Are you sure you want to block @${post.username}?`,\n      [\n        { text: 'Cancel', style: 'cancel' },\n        {\n          text: 'Block',\n          style: 'destructive',\n          onPress: () => {\n            console.log('Block author:', post.userId);\n            Alert.alert('Success', `@${post.username} has been blocked`);\n          },\n        },\n      ]\n    );\n  };\n\n  const handleVoiceReply = () => {\n    console.log('Voice reply to post:', post.id);\n    Alert.alert('Voice Reply', 'Voice reply feature coming soon');\n  };\n\n  const handleRemixVibez = () => {\n    console.log('Remix with Vibez:', post.id);\n    router.push('/studio/video-editor');\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background, borderBottomColor: colors.border }]} testID={testID}>\n      <View style={styles.header}>\n        <TouchableOpacity\n          style={styles.userInfo}\n          onPress={() => {\n            router.push(`/user/${post.userId}`);\n            onUserPress?.(post.userId);\n          }}\n        >\n          <Avatar uri={post.profileImage} size={40} />\n          <View style={styles.nameContainer}>\n            <View style={styles.nameRow}>\n              <Text style={[styles.username, { color: colors.text }]}>@{post.username}</Text>\n              {post.isVerified && <VerifiedBadge size={14} />}\n            </View>\n            <Text style={[styles.timestamp, { color: colors.textSecondary }]}>{post.timestamp}</Text>\n          </View>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.moreButton}\n          onPress={() => setMenuVisible(true)}\n        >\n          <MoreHorizontal size={20} color={colors.textSecondary} />\n        </TouchableOpacity>\n      </View>\n\n      <TouchableOpacity \n        activeOpacity={0.95}\n        onPress={() => {\n          router.push(`/post/${post.id}`);\n          onPress?.(post.id);\n        }}\n      >\n        <View style={styles.content}>\n          {parseTextWithLinks(post.content, colors)}\n        </View>\n      </TouchableOpacity>\n\n      {post.voiceNote && (\n        <View style={styles.voiceNoteContainer}>\n          <VoiceNotePlayer\n            uri={post.voiceNote.url}\n            duration={post.voiceNote.duration}\n            waveform={post.voiceNote.waveform}\n            size=\"medium\"\n          />\n        </View>\n      )}\n\n      {post.image && (\n        <TouchableOpacity \n          activeOpacity={0.95}\n          onPress={() => {\n            router.push(`/post/${post.id}`);\n            onPress?.(post.id);\n          }}\n        >\n          <Image\n            source={{ uri: post.image }}\n            style={styles.image}\n            contentFit=\"cover\"\n            transition={300}\n          />\n        </TouchableOpacity>\n      )}\n\n      {post.video && (\n        <TouchableOpacity \n          activeOpacity={0.95}\n          onPress={() => {\n            router.push(`/post/${post.id}`);\n            onPress?.(post.id);\n          }}\n        >\n          <Video\n            source={{ uri: post.video }}\n            style={styles.video}\n            useNativeControls\n            resizeMode={ResizeMode.COVER}\n            isLooping\n            shouldPlay={false}\n          />\n        </TouchableOpacity>\n      )}\n\n      <View style={styles.actions}>\n        <View style={styles.actionGroup}>\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={handleLike}\n          >\n            <Animated.View style={{ transform: [{ scale: likeAnim }] }}>\n              <Heart\n                size={22}\n                color={isLiked ? colors.error : colors.textSecondary}\n                fill={isLiked ? colors.error : 'transparent'}\n              />\n            </Animated.View>\n            <Text style={[styles.actionText, { color: isLiked ? colors.error : colors.textSecondary }]}>\n              {formatNumber(likesCount)}\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={handleComment}\n          >\n            <MessageCircle size={22} color={colors.textSecondary} />\n            <Text style={[styles.actionText, { color: colors.textSecondary }]}>{formatNumber(post.comments)}</Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.actionButton}\n            onPress={handleRevibe}\n          >\n            <Animated.View style={{ transform: [{ scale: revibeAnim }] }}>\n              <Repeat2\n                size={22}\n                color={isRevibed ? colors.success : colors.textSecondary}\n              />\n            </Animated.View>\n            <Text style={[styles.actionText, { color: isRevibed ? colors.success : colors.textSecondary }]}>\n              {formatNumber(revibesCount)}\n            </Text>\n          </TouchableOpacity>\n\n          <View style={styles.actionButton}>\n            <Eye size={22} color={colors.textSecondary} />\n            <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n              {formatNumber(post.views)}\n            </Text>\n          </View>\n        </View>\n\n        <TouchableOpacity onPress={handleSave}>\n          <Animated.View style={{ transform: [{ scale: saveAnim }] }}>\n            <Bookmark \n              size={22} \n              color={isSaved ? colors.primary : colors.textSecondary}\n              fill={isSaved ? colors.primary : 'transparent'}\n            />\n          </Animated.View>\n        </TouchableOpacity>\n      </View>\n\n      <PostMenu\n        visible={menuVisible}\n        onClose={() => setMenuVisible(false)}\n        postId={post.id}\n        postAuthorId={post.userId}\n        isFollowing={isFollowing}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n        onPin={handlePin}\n        onToggleComments={handleToggleComments}\n        onToggleLikes={handleToggleLikes}\n        onViewInsights={handleViewInsights}\n        onCopyLink={handleCopyLink}\n        onSave={handleSave}\n        onShare={handleSharePost}\n        onReport={handleReport}\n        onMute={handleMute}\n        onFollow={handleFollow}\n        onUnfollow={handleUnfollow}\n        onBlock={handleBlock}\n        onVoiceReply={handleVoiceReply}\n        onRemixVibez={handleRemixVibez}\n      />\n\n      <RevibeSheet\n        visible={revibeSheetVisible}\n        onClose={() => setRevibeSheetVisible(false)}\n        post={post}\n        onRevibe={(postId, caption) => {\n          console.log('Revibed post:', postId, caption);\n          onSharePress?.(postId);\n          onShare?.(postId);\n        }}\n      />\n\n      <SaveSheet\n        visible={saveSheetVisible}\n        onClose={() => setSaveSheetVisible(false)}\n        postId={post.id}\n        onSave={(postId, collectionId) => {\n          console.log('Saved post to collection:', postId, collectionId);\n          onSavePress?.(postId);\n        }}\n      />\n\n      <CommentDrawer\n        visible={commentDrawerVisible}\n        onClose={() => setCommentDrawerVisible(false)}\n        post={post}\n        comments={mockComments.filter(c => c.postId === post.id)}\n        onComment={(postId, content, isVoice) => {\n          console.log('Posted comment:', postId, content, isVoice);\n          onPress?.(postId);\n        }}\n      />\n\n      <ShareSheet\n        visible={shareSheetVisible}\n        onClose={() => setShareSheetVisible(false)}\n        content={post}\n        contentType=\"post\"\n      />\n    </View>\n  );\n};\n\nPostCardComponent.displayName = 'PostCard';\n\nexport const PostCard = React.memo(PostCardComponent, (prevProps, nextProps) => {\n  return (\n    prevProps.post.id === nextProps.post.id &&\n    prevProps.post.likes === nextProps.post.likes &&\n    prevProps.post.comments === nextProps.post.comments &&\n    prevProps.post.shares === nextProps.post.shares &&\n    prevProps.post.views === nextProps.post.views\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    borderBottomWidth: 1,\n    paddingVertical: 12,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    marginBottom: 12,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  nameContainer: {\n    marginLeft: 12,\n  },\n  nameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  username: {\n    fontWeight: '600',\n    fontSize: 14,\n  },\n  timestamp: {\n    fontSize: 12,\n    marginTop: 2,\n  },\n  moreButton: {\n    padding: 4,\n  },\n  content: {\n    fontSize: 14,\n    lineHeight: 20,\n    paddingHorizontal: 16,\n    marginBottom: 12,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  image: {\n    width: '100%',\n    height: 300,\n    marginBottom: 12,\n  },\n  video: {\n    width: '100%',\n    height: 400,\n    marginBottom: 12,\n    backgroundColor: '#000',\n  },\n  actions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n  },\n  actionGroup: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  actionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  actionText: {\n    fontSize: 14,\n    marginLeft: 6,\n  },\n  voiceNoteContainer: {\n    marginBottom: 12,\n    paddingHorizontal: 16,\n  },\n});\n","import * as FileSystem from 'expo-file-system';\nimport { Platform } from 'react-native';\n\nconst CACHE_DIR = `${FileSystem.cacheDirectory}images/`;\nconst MAX_CACHE_SIZE = 100 * 1024 * 1024;\nconst CACHE_EXPIRY = 7 * 24 * 60 * 60 * 1000;\n\ninterface CacheEntry {\n  uri: string;\n  timestamp: number;\n  size: number;\n}\n\nclass ImageCache {\n  private cacheMap: Map<string, CacheEntry> = new Map();\n  private initialized = false;\n\n  async initialize() {\n    if (this.initialized || Platform.OS === 'web') return;\n\n    try {\n      const dirInfo = await FileSystem.getInfoAsync(CACHE_DIR);\n      if (!dirInfo.exists) {\n        await FileSystem.makeDirectoryAsync(CACHE_DIR, { intermediates: true });\n      }\n      await this.loadCacheMap();\n      this.initialized = true;\n    } catch (error) {\n      console.warn('[ImageCache] Initialization error:', error);\n    }\n  }\n\n  private async loadCacheMap() {\n    try {\n      const files = await FileSystem.readDirectoryAsync(CACHE_DIR);\n      for (const file of files) {\n        const filePath = `${CACHE_DIR}${file}`;\n        const info = await FileSystem.getInfoAsync(filePath);\n        if (info.exists && !info.isDirectory) {\n          this.cacheMap.set(file, {\n            uri: filePath,\n            timestamp: info.modificationTime || Date.now(),\n            size: info.size || 0,\n          });\n        }\n      }\n    } catch (error) {\n      console.warn('[ImageCache] Load cache map error:', error);\n    }\n  }\n\n  private getCacheKey(url: string): string {\n    return url.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n  }\n\n  async get(url: string): Promise<string | null> {\n    if (Platform.OS === 'web') return url;\n    if (!this.initialized) await this.initialize();\n\n    const key = this.getCacheKey(url);\n    const entry = this.cacheMap.get(key);\n\n    if (entry) {\n      const age = Date.now() - entry.timestamp;\n      if (age < CACHE_EXPIRY) {\n        const info = await FileSystem.getInfoAsync(entry.uri);\n        if (info.exists) {\n          return entry.uri;\n        }\n      }\n      this.cacheMap.delete(key);\n    }\n\n    return null;\n  }\n\n  async set(url: string, localUri: string): Promise<void> {\n    if (Platform.OS === 'web') return;\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const key = this.getCacheKey(url);\n      const cachedPath = `${CACHE_DIR}${key}`;\n\n      await FileSystem.copyAsync({\n        from: localUri,\n        to: cachedPath,\n      });\n\n      const info = await FileSystem.getInfoAsync(cachedPath);\n      if (info.exists) {\n        this.cacheMap.set(key, {\n          uri: cachedPath,\n          timestamp: Date.now(),\n          size: info.size || 0,\n        });\n\n        await this.enforceMaxSize();\n      }\n    } catch (error) {\n      console.warn('[ImageCache] Set error:', error);\n    }\n  }\n\n  async download(url: string): Promise<string> {\n    if (Platform.OS === 'web') return url;\n\n    const cached = await this.get(url);\n    if (cached) return cached;\n\n    try {\n      const key = this.getCacheKey(url);\n      const cachedPath = `${CACHE_DIR}${key}`;\n\n      const downloadResult = await FileSystem.downloadAsync(url, cachedPath);\n      \n      if (downloadResult.status === 200) {\n        const info = await FileSystem.getInfoAsync(cachedPath);\n        if (info.exists) {\n          this.cacheMap.set(key, {\n            uri: cachedPath,\n            timestamp: Date.now(),\n            size: info.size || 0,\n          });\n\n          await this.enforceMaxSize();\n          return cachedPath;\n        }\n      }\n    } catch (error) {\n      console.warn('[ImageCache] Download error:', error);\n    }\n\n    return url;\n  }\n\n  private async enforceMaxSize() {\n    const entries = Array.from(this.cacheMap.entries());\n    const totalSize = entries.reduce((sum, [, entry]) => sum + entry.size, 0);\n\n    if (totalSize > MAX_CACHE_SIZE) {\n      entries.sort((a, b) => a[1].timestamp - b[1].timestamp);\n\n      let currentSize = totalSize;\n      for (const [key, entry] of entries) {\n        if (currentSize <= MAX_CACHE_SIZE * 0.8) break;\n\n        try {\n          await FileSystem.deleteAsync(entry.uri, { idempotent: true });\n          this.cacheMap.delete(key);\n          currentSize -= entry.size;\n        } catch (error) {\n          console.warn('[ImageCache] Delete error:', error);\n        }\n      }\n    }\n  }\n\n  async clear() {\n    if (Platform.OS === 'web') return;\n\n    try {\n      await FileSystem.deleteAsync(CACHE_DIR, { idempotent: true });\n      await FileSystem.makeDirectoryAsync(CACHE_DIR, { intermediates: true });\n      this.cacheMap.clear();\n    } catch (error) {\n      console.warn('[ImageCache] Clear error:', error);\n    }\n  }\n\n  getCacheSize(): number {\n    return Array.from(this.cacheMap.values()).reduce((sum, entry) => sum + entry.size, 0);\n  }\n}\n\nexport const imageCache = new ImageCache();\n","import React, { useState, useEffect, memo } from 'react';\nimport { Image as ExpoImage, ImageProps as ExpoImageProps } from 'expo-image';\nimport { View, ActivityIndicator, StyleSheet } from 'react-native';\nimport { imageCache } from './image-cache';\n\ninterface OptimizedImageProps extends Omit<ExpoImageProps, 'source'> {\n  uri: string;\n  width?: number;\n  height?: number;\n  blurhash?: string;\n  priority?: 'low' | 'normal' | 'high';\n  cachePolicy?: 'memory' | 'disk' | 'memory-disk';\n}\n\nconst OptimizedImageComponent: React.FC<OptimizedImageProps> = ({\n  uri,\n  width,\n  height,\n  blurhash,\n  priority = 'normal',\n  cachePolicy = 'memory-disk',\n  style,\n  ...props\n}) => {\n  const [cachedUri, setCachedUri] = useState<string>(uri);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const loadImage = async () => {\n      if (!uri) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        if (cachePolicy !== 'memory') {\n          const cached = await imageCache.get(uri);\n          if (cached && mounted) {\n            setCachedUri(cached);\n          }\n        }\n      } catch (error) {\n        console.warn('[OptimizedImage] Cache load error:', error);\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    if (priority === 'high') {\n      loadImage();\n    } else {\n      const timeout = setTimeout(loadImage, priority === 'normal' ? 0 : 100);\n      return () => clearTimeout(timeout);\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [uri, priority, cachePolicy]);\n\n  return (\n    <View style={[{ width, height }, style]}>\n      <ExpoImage\n        source={{ uri: cachedUri }}\n        style={[StyleSheet.absoluteFill, style]}\n        placeholder={blurhash}\n        contentFit=\"cover\"\n        transition={200}\n        cachePolicy={cachePolicy}\n        priority={priority}\n        {...props}\n      />\n      {loading && (\n        <View style={[StyleSheet.absoluteFill, styles.loadingContainer]}>\n          <ActivityIndicator size=\"small\" color=\"#999\" />\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  loadingContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.05)',\n  },\n});\n\nexport const OptimizedImage = memo(OptimizedImageComponent, (prev, next) => {\n  return (\n    prev.uri === next.uri &&\n    prev.width === next.width &&\n    prev.height === next.height &&\n    prev.priority === next.priority\n  );\n});\n","import React, { memo } from 'react';\nimport { StyleSheet, View, ViewStyle, TouchableOpacity } from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { User } from 'lucide-react-native';\nimport { OptimizedImage } from '@/utils/optimized-image';\n\ninterface AvatarProps {\n  uri?: string | null;\n  source?: string | null;\n  size?: number;\n  style?: ViewStyle;\n  borderColor?: string;\n  borderWidth?: number;\n  testID?: string;\n  onPress?: () => void;\n}\n\nconst AvatarComponent: React.FC<AvatarProps> = ({\n  uri,\n  source,\n  size = 40,\n  style,\n  borderColor = Colors.primary,\n  borderWidth = 0,\n  testID,\n  onPress,\n}) => {\n  const imageUri = uri || source;\n  \n  const content = (\n    <View\n      style={[\n        styles.container,\n        {\n          width: size,\n          height: size,\n          borderRadius: size / 2,\n          borderWidth: borderWidth,\n          borderColor: borderColor,\n        },\n        style,\n      ]}\n      testID={testID}\n    >\n      {imageUri ? (\n        <OptimizedImage\n          uri={imageUri}\n          width={size - borderWidth * 2}\n          height={size - borderWidth * 2}\n          style={[\n            styles.image,\n            {\n              width: size - borderWidth * 2,\n              height: size - borderWidth * 2,\n              borderRadius: (size - borderWidth * 2) / 2,\n            },\n          ]}\n          priority=\"high\"\n          cachePolicy=\"memory-disk\"\n        />\n      ) : (\n        <View\n          style={[\n            styles.placeholder,\n            {\n              width: size - borderWidth * 2,\n              height: size - borderWidth * 2,\n              borderRadius: (size - borderWidth * 2) / 2,\n            },\n          ]}\n        >\n          <User size={size / 2} color={Colors.textSecondary} />\n        </View>\n      )}\n    </View>\n  );\n\n  if (onPress) {\n    return (\n      <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\n        {content}\n      </TouchableOpacity>\n    );\n  }\n\n  return content;\n};\n\nexport const Avatar = memo(AvatarComponent, (prev, next) => {\n  return (\n    prev.uri === next.uri &&\n    prev.source === next.source &&\n    prev.size === next.size &&\n    prev.borderWidth === next.borderWidth\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  image: {\n    backgroundColor: Colors.cardLight,\n  },\n  placeholder: {\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default Avatar;","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Status, UserStatusGroup, StatusUploadProgress, StatusType, StatusViewer } from '@/types/status';\nimport { mockUserStatusGroups } from '@/mocks/statuses';\n\nconst STATUS_STORAGE_KEY = '@vibesync_statuses';\nconst VIEWED_STATUSES_KEY = '@vibesync_viewed_statuses';\n\nexport const [StatusProvider, useStatus] = createContextHook(() => {\n  const [statusGroups, setStatusGroups] = useState<UserStatusGroup[]>([]);\n  const [uploadProgress, setUploadProgress] = useState<StatusUploadProgress[]>([]);\n  const [viewedStatuses, setViewedStatuses] = useState<Set<string>>(new Set());\n  const [isLoading, setIsLoading] = useState(true);\n\n  const cleanExpiredStatuses = useCallback(() => {\n    const now = new Date();\n    setStatusGroups(prev => {\n      const updated = prev\n        .map(group => ({\n          ...group,\n          statuses: group.statuses.filter(status => \n            status.isPinned || new Date(status.expiresAt) > now\n          ),\n        }))\n        .filter(group => group.statuses.length > 0);\n      \n      if (updated.length !== prev.length) {\n        saveStatuses(updated);\n      }\n      return updated;\n    });\n  }, []);\n\n  useEffect(() => {\n    loadStatuses();\n    loadViewedStatuses();\n    const interval = setInterval(cleanExpiredStatuses, 60000);\n    return () => clearInterval(interval);\n  }, [cleanExpiredStatuses]);\n\n  const loadStatuses = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(STATUS_STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        setStatusGroups(parsed);\n      } else {\n        setStatusGroups(mockUserStatusGroups);\n        await AsyncStorage.setItem(STATUS_STORAGE_KEY, JSON.stringify(mockUserStatusGroups));\n      }\n    } catch (error) {\n      console.error('[StatusStore] Error loading statuses:', error);\n      setStatusGroups(mockUserStatusGroups);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const loadViewedStatuses = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(VIEWED_STATUSES_KEY);\n      if (stored) {\n        setViewedStatuses(new Set(JSON.parse(stored)));\n      }\n    } catch (error) {\n      console.error('[StatusStore] Error loading viewed statuses:', error);\n    }\n  };\n\n  const saveStatuses = async (groups: UserStatusGroup[]) => {\n    try {\n      await AsyncStorage.setItem(STATUS_STORAGE_KEY, JSON.stringify(groups));\n    } catch (error) {\n      console.error('[StatusStore] Error saving statuses:', error);\n    }\n  };\n\n  const saveViewedStatuses = async (viewed: Set<string>) => {\n    try {\n      await AsyncStorage.setItem(VIEWED_STATUSES_KEY, JSON.stringify(Array.from(viewed)));\n    } catch (error) {\n      console.error('[StatusStore] Error saving viewed statuses:', error);\n    }\n  };\n\n  const uploadStatus = useCallback(async (\n    type: StatusType,\n    content: any,\n    options?: {\n      caption?: string;\n      overlays?: any[];\n      privacy?: string;\n    }\n  ): Promise<string> => {\n    const statusId = `status-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    \n    setUploadProgress(prev => [...prev, {\n      statusId,\n      progress: 0,\n      status: 'uploading',\n    }]);\n\n    try {\n      await simulateUpload(statusId);\n\n      const newStatus: Status = {\n        id: statusId,\n        userId: 'current-user',\n        username: 'You',\n        avatar: 'https://i.pravatar.cc/150?img=50',\n        verified: false,\n        type,\n        ...(type === 'photo' || type === 'video' ? { media: content } : {}),\n        ...(type === 'text' ? { textContent: content } : {}),\n        ...(type === 'voice' ? { voiceContent: content } : {}),\n        overlays: options?.overlays,\n        caption: options?.caption,\n        createdAt: new Date().toISOString(),\n        expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n        isPinned: false,\n        privacy: (options?.privacy as any) || 'public',\n        analytics: {\n          views: 0,\n          replies: 0,\n          shares: 0,\n          viewers: [],\n        },\n      };\n\n      setStatusGroups(prev => {\n        const existingGroupIndex = prev.findIndex(g => g.userId === 'current-user');\n        let updated: UserStatusGroup[];\n\n        if (existingGroupIndex >= 0) {\n          updated = [...prev];\n          updated[existingGroupIndex] = {\n            ...updated[existingGroupIndex],\n            statuses: [newStatus, ...updated[existingGroupIndex].statuses],\n            lastStatusAt: newStatus.createdAt,\n          };\n        } else {\n          const newGroup: UserStatusGroup = {\n            userId: 'current-user',\n            username: 'You',\n            avatar: 'https://i.pravatar.cc/150?img=50',\n            verified: false,\n            statuses: [newStatus],\n            hasUnviewed: false,\n            lastStatusAt: newStatus.createdAt,\n          };\n          updated = [newGroup, ...prev];\n        }\n\n        saveStatuses(updated);\n        return updated;\n      });\n\n      setUploadProgress(prev => \n        prev.map(p => p.statusId === statusId \n          ? { ...p, progress: 100, status: 'success' as const }\n          : p\n        )\n      );\n\n      setTimeout(() => {\n        setUploadProgress(prev => prev.filter(p => p.statusId !== statusId));\n      }, 2000);\n\n      console.log('[StatusStore] Status uploaded successfully:', statusId);\n      return statusId;\n    } catch (error) {\n      console.error('[StatusStore] Upload error:', error);\n      setUploadProgress(prev => \n        prev.map(p => p.statusId === statusId \n          ? { ...p, status: 'error' as const, error: 'Upload failed' }\n          : p\n        )\n      );\n      throw error;\n    }\n  }, []);\n\n  const simulateUpload = (statusId: string): Promise<void> => {\n    return new Promise((resolve) => {\n      let progress = 0;\n      const interval = setInterval(() => {\n        progress += Math.random() * 30;\n        if (progress >= 100) {\n          progress = 100;\n          clearInterval(interval);\n          setUploadProgress(prev => \n            prev.map(p => p.statusId === statusId \n              ? { ...p, progress: 100, status: 'processing' as const }\n              : p\n            )\n          );\n          setTimeout(() => resolve(), 500);\n        } else {\n          setUploadProgress(prev => \n            prev.map(p => p.statusId === statusId \n              ? { ...p, progress: Math.floor(progress) }\n              : p\n            )\n          );\n        }\n      }, 200);\n    });\n  };\n\n  const markStatusAsViewed = useCallback((statusId: string) => {\n    setViewedStatuses(prev => {\n      const updated = new Set(prev);\n      updated.add(statusId);\n      saveViewedStatuses(updated);\n      return updated;\n    });\n\n    setStatusGroups(prev => {\n      const updated = prev.map(group => ({\n        ...group,\n        hasUnviewed: group.statuses.some(s => !viewedStatuses.has(s.id) && s.id !== statusId),\n      }));\n      return updated;\n    });\n  }, [viewedStatuses]);\n\n  const addStatusView = useCallback((statusId: string, viewer: StatusViewer) => {\n    setStatusGroups(prev => {\n      const updated = prev.map(group => ({\n        ...group,\n        statuses: group.statuses.map(status => {\n          if (status.id === statusId) {\n            const viewerExists = status.analytics.viewers.some(v => v.userId === viewer.userId);\n            if (!viewerExists) {\n              return {\n                ...status,\n                analytics: {\n                  ...status.analytics,\n                  views: status.analytics.views + 1,\n                  viewers: [...status.analytics.viewers, viewer],\n                },\n              };\n            }\n          }\n          return status;\n        }),\n      }));\n      saveStatuses(updated);\n      return updated;\n    });\n  }, []);\n\n  const deleteStatus = useCallback((statusId: string) => {\n    setStatusGroups(prev => {\n      const updated = prev\n        .map(group => ({\n          ...group,\n          statuses: group.statuses.filter(s => s.id !== statusId),\n        }))\n        .filter(group => group.statuses.length > 0);\n      saveStatuses(updated);\n      return updated;\n    });\n  }, []);\n\n  const pinStatus = useCallback((statusId: string) => {\n    setStatusGroups(prev => {\n      const updated = prev.map(group => ({\n        ...group,\n        statuses: group.statuses.map(status => \n          status.id === statusId \n            ? { ...status, isPinned: !status.isPinned }\n            : status\n        ),\n      }));\n      saveStatuses(updated);\n      return updated;\n    });\n  }, []);\n\n  const muteUserStatus = useCallback((userId: string) => {\n    setStatusGroups(prev => {\n      const updated = prev.map(group => \n        group.userId === userId \n          ? { ...group, statuses: group.statuses.map(s => ({ ...s, isMuted: true })) }\n          : group\n      );\n      saveStatuses(updated);\n      return updated;\n    });\n  }, []);\n\n  const hideUserStatus = useCallback((userId: string) => {\n    setStatusGroups(prev => {\n      const updated = prev.filter(group => group.userId !== userId);\n      saveStatuses(updated);\n      return updated;\n    });\n  }, []);\n\n  const getStatusById = useCallback((statusId: string): Status | undefined => {\n    for (const group of statusGroups) {\n      const status = group.statuses.find(s => s.id === statusId);\n      if (status) return status;\n    }\n    return undefined;\n  }, [statusGroups]);\n\n  const getUserStatuses = useCallback((userId: string): Status[] => {\n    const group = statusGroups.find(g => g.userId === userId);\n    return group?.statuses || [];\n  }, [statusGroups]);\n\n  return useMemo(() => ({\n    statusGroups,\n    uploadProgress,\n    viewedStatuses,\n    isLoading,\n    uploadStatus,\n    markStatusAsViewed,\n    addStatusView,\n    deleteStatus,\n    pinStatus,\n    muteUserStatus,\n    hideUserStatus,\n    getStatusById,\n    getUserStatuses,\n  }), [\n    statusGroups,\n    uploadProgress,\n    viewedStatuses,\n    isLoading,\n    uploadStatus,\n    markStatusAsViewed,\n    addStatusView,\n    deleteStatus,\n    pinStatus,\n    muteUserStatus,\n    hideUserStatus,\n    getStatusById,\n    getUserStatuses,\n  ]);\n});\n","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Appearance, ColorSchemeName } from 'react-native';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { Theme, ThemePreference, ColorScheme, DarkTheme, LightTheme } from '@/constants/colors';\n\ninterface ThemeContextType {\n  theme: Theme;\n  colors: ColorScheme;\n  isDark: boolean;\n  isLight: boolean;\n  setTheme: (theme: ThemePreference) => void;\n  userPreference: ThemePreference;\n  toggleTheme: () => void;\n  systemTheme: ColorSchemeName;\n}\n\nconst THEME_STORAGE_KEY = '@vibesync_theme';\n\nexport const [ThemeProvider, useTheme] = createContextHook(() => {\n  const [theme, setThemeState] = useState<Theme>('dark');\n  const [systemTheme, setSystemTheme] = useState<ColorSchemeName>(Appearance.getColorScheme());\n  const [userPreference, setUserPreference] = useState<ThemePreference>('system');\n\n  // Listen to system theme changes\n  useEffect(() => {\n    const subscription = Appearance.addChangeListener(({ colorScheme }) => {\n      console.log('System theme changed to:', colorScheme);\n      setSystemTheme(colorScheme);\n    });\n\n    return () => subscription?.remove();\n  }, []);\n\n  // Load saved theme preference\n  useEffect(() => {\n    const loadTheme = async () => {\n      try {\n        const savedTheme = await AsyncStorage.getItem(THEME_STORAGE_KEY);\n        if (savedTheme) {\n          const parsedTheme = savedTheme as ThemePreference;\n          setUserPreference(parsedTheme);\n          console.log('Loaded theme preference:', parsedTheme);\n        }\n      } catch (error) {\n        console.error('Error loading theme:', error);\n      }\n    };\n\n    loadTheme();\n  }, []);\n\n  // Update active theme based on user preference and system theme\n  useEffect(() => {\n    let activeTheme: Theme;\n    \n    if (userPreference === 'system') {\n      activeTheme = systemTheme === 'light' ? 'light' : 'dark';\n    } else {\n      activeTheme = userPreference;\n    }\n    \n    console.log('Setting active theme:', activeTheme, 'from preference:', userPreference, 'system:', systemTheme);\n    setThemeState(activeTheme);\n  }, [userPreference, systemTheme]);\n\n  const setTheme = useCallback(async (newTheme: ThemePreference) => {\n    try {\n      await AsyncStorage.setItem(THEME_STORAGE_KEY, newTheme);\n      setUserPreference(newTheme);\n      console.log('Theme preference saved:', newTheme);\n    } catch (error) {\n      console.error('Error saving theme:', error);\n    }\n  }, []);\n\n  const toggleTheme = useCallback(() => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    setTheme(newTheme);\n  }, [theme, setTheme]);\n\n  const colors = useMemo(() => theme === 'dark' ? DarkTheme : LightTheme, [theme]);\n  const isDark = theme === 'dark';\n  const isLight = theme === 'light';\n\n  return {\n    theme,\n    colors,\n    isDark,\n    isLight,\n    setTheme,\n    toggleTheme,\n    systemTheme,\n    userPreference,\n  } as ThemeContextType;\n});","import React, { useEffect } from 'react';\nimport { StyleSheet, View, Text, Animated, Image } from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { router } from 'expo-router';\nimport { StatusBar } from 'expo-status-bar';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useTheme } from '@/hooks/theme-store';\n\nexport default function SplashScreen() {\n  const { isAuthenticated, isLoading } = useAuth();\n  const { colors } = useTheme();\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\n  const scaleAnim = React.useRef(new Animated.Value(0.8)).current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }),\n      Animated.timing(scaleAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  }, [fadeAnim, scaleAnim]);\n\n  useEffect(() => {\n    if (!isLoading) {\n      const timer = setTimeout(() => {\n        try {\n          if (isAuthenticated) {\n            router.replace('/(tabs)');\n          } else {\n            router.replace('/auth');\n          }\n        } catch (error) {\n          console.warn('Navigation error:', error);\n          // Retry navigation after a short delay\n          setTimeout(() => {\n            try {\n              if (isAuthenticated) {\n                router.replace('/(tabs)');\n              } else {\n                router.replace('/auth');\n              }\n            } catch (retryError) {\n              console.error('Retry navigation failed:', retryError);\n            }\n          }, 500);\n        }\n      }, 1500);\n\n      return () => clearTimeout(timer);\n    }\n  }, [isAuthenticated, isLoading]);\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <StatusBar style=\"light\" />\n      <Animated.View\n        style={[\n          styles.content,\n          {\n            opacity: fadeAnim,\n            transform: [{ scale: scaleAnim }],\n          },\n        ]}\n      >\n        <Image\n          source={{ uri: 'https://pub-e001eb4506b145aa938b5d3badbff6a5.r2.dev/attachments/k7tu86i3z6m51kdeomv1w' }}\n          style={styles.logo}\n          resizeMode=\"contain\"\n        />\n        <Text style={[styles.appName, { color: colors.text }]}>VibeSync</Text>\n        <Text style={[styles.tagline, { color: colors.textSecondary }]}>Connect & Experience</Text>\n      </Animated.View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    alignItems: 'center',\n  },\n  logo: {\n    width: 320,\n    height: 320,\n    marginBottom: 32,\n  },\n  appName: {\n    fontSize: 36,\n    fontWeight: 'bold' as const,\n    letterSpacing: 1,\n  },\n  tagline: {\n    fontSize: 16,\n    marginTop: 8,\n    fontWeight: '500' as const,\n  },\n});","import { useState, useCallback, useMemo } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\n\nexport type ProjectType = 'image' | 'video';\nexport type AspectRatio = '1:1' | '9:16' | '16:9' | '4:5' | 'freeform';\nexport type Resolution = '720p' | '1080p' | '2K' | '4K';\nexport type FrameRate = 24 | 30 | 60;\n\nexport interface Project {\n  id: string;\n  type: ProjectType;\n  name: string;\n  thumbnail?: string;\n  aspectRatio: AspectRatio;\n  resolution: Resolution;\n  frameRate?: FrameRate;\n  duration?: number;\n  createdAt: Date;\n  updatedAt: Date;\n  mediaUri?: string;\n  edits: ProjectEdits;\n}\n\nexport interface ProjectEdits {\n  filters: FilterEdit[];\n  adjustments: AdjustmentEdit;\n  effects: EffectEdit[];\n  textLayers: TextLayer[];\n  stickers: StickerLayer[];\n  overlays: OverlayLayer[];\n  audioTracks: AudioTrack[];\n  transitions?: TransitionEdit[];\n  trimData?: TrimData;\n}\n\nexport interface FilterEdit {\n  id: string;\n  name: string;\n  intensity: number;\n}\n\nexport interface AdjustmentEdit {\n  brightness: number;\n  contrast: number;\n  saturation: number;\n  exposure: number;\n  temperature: number;\n  tint: number;\n  highlights: number;\n  shadows: number;\n  whites: number;\n  blacks: number;\n  clarity: number;\n  sharpness: number;\n  grain: number;\n  vignette: number;\n}\n\nexport interface EffectEdit {\n  id: string;\n  type: 'glitch' | 'vhs' | 'sparkle' | 'neon' | 'blur' | 'bokeh' | 'motion' | 'lens-flare' | 'light-leak' | 'dust';\n  intensity: number;\n  params?: Record<string, any>;\n}\n\nexport interface TextLayer {\n  id: string;\n  text: string;\n  font: string;\n  size: number;\n  color: string;\n  position: { x: number; y: number };\n  rotation: number;\n  opacity: number;\n  style: {\n    shadow?: boolean;\n    stroke?: boolean;\n    glow?: boolean;\n    neon?: boolean;\n  };\n  animation?: 'fade-in' | 'typewriter' | 'bounce' | 'zoom';\n}\n\nexport interface StickerLayer {\n  id: string;\n  uri: string;\n  position: { x: number; y: number };\n  scale: number;\n  rotation: number;\n  opacity: number;\n}\n\nexport interface OverlayLayer {\n  id: string;\n  uri: string;\n  blendMode: 'overlay' | 'multiply' | 'screen' | 'soft-light';\n  opacity: number;\n}\n\nexport interface AudioTrack {\n  id: string;\n  uri: string;\n  name: string;\n  volume: number;\n  fadeIn: number;\n  fadeOut: number;\n  startTime: number;\n  duration: number;\n}\n\nexport interface TransitionEdit {\n  id: string;\n  type: 'fade' | 'dissolve' | 'wipe' | 'slide' | 'zoom' | 'glitch';\n  duration: number;\n  position: number;\n}\n\nexport interface TrimData {\n  startTime: number;\n  endTime: number;\n  clips: ClipData[];\n}\n\nexport interface ClipData {\n  id: string;\n  startTime: number;\n  endTime: number;\n  speed: number;\n}\n\nconst defaultAdjustments: AdjustmentEdit = {\n  brightness: 0,\n  contrast: 0,\n  saturation: 0,\n  exposure: 0,\n  temperature: 0,\n  tint: 0,\n  highlights: 0,\n  shadows: 0,\n  whites: 0,\n  blacks: 0,\n  clarity: 0,\n  sharpness: 0,\n  grain: 0,\n  vignette: 0,\n};\n\nexport const [StudioProvider, useStudio] = createContextHook(() => {\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [currentProject, setCurrentProject] = useState<Project | null>(null);\n\n  const createProject = useCallback((\n    type: ProjectType,\n    name: string,\n    aspectRatio: AspectRatio,\n    resolution: Resolution,\n    frameRate?: FrameRate,\n    mediaUri?: string\n  ): Project => {\n    const project: Project = {\n      id: Date.now().toString(),\n      type,\n      name,\n      aspectRatio,\n      resolution,\n      frameRate,\n      mediaUri,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      edits: {\n        filters: [],\n        adjustments: { ...defaultAdjustments },\n        effects: [],\n        textLayers: [],\n        stickers: [],\n        overlays: [],\n        audioTracks: [],\n        transitions: type === 'video' ? [] : undefined,\n        trimData: type === 'video' ? { startTime: 0, endTime: 0, clips: [] } : undefined,\n      },\n    };\n\n    setProjects(prev => [project, ...prev]);\n    setCurrentProject(project);\n    return project;\n  }, []);\n\n  const updateProject = useCallback((projectId: string, updates: Partial<Project>) => {\n    setProjects(prev => prev.map(p => \n      p.id === projectId \n        ? { ...p, ...updates, updatedAt: new Date() }\n        : p\n    ));\n    \n    if (currentProject?.id === projectId) {\n      setCurrentProject(prev => prev ? { ...prev, ...updates, updatedAt: new Date() } : null);\n    }\n  }, [currentProject]);\n\n  const deleteProject = useCallback((projectId: string) => {\n    setProjects(prev => prev.filter(p => p.id !== projectId));\n    if (currentProject?.id === projectId) {\n      setCurrentProject(null);\n    }\n  }, [currentProject]);\n\n  const duplicateProject = useCallback((projectId: string) => {\n    const project = projects.find(p => p.id === projectId);\n    if (!project) return;\n\n    const duplicate: Project = {\n      ...project,\n      id: Date.now().toString(),\n      name: `${project.name} (Copy)`,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    setProjects(prev => [duplicate, ...prev]);\n  }, [projects]);\n\n  const addFilter = useCallback((filter: FilterEdit) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        filters: [...currentProject.edits.filters, filter],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const updateAdjustments = useCallback((adjustments: Partial<AdjustmentEdit>) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        adjustments: { ...currentProject.edits.adjustments, ...adjustments },\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const addEffect = useCallback((effect: EffectEdit) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        effects: [...currentProject.edits.effects, effect],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const addTextLayer = useCallback((textLayer: TextLayer) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        textLayers: [...currentProject.edits.textLayers, textLayer],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const addSticker = useCallback((sticker: StickerLayer) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        stickers: [...currentProject.edits.stickers, sticker],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const addOverlay = useCallback((overlay: OverlayLayer) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        overlays: [...currentProject.edits.overlays, overlay],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const addAudioTrack = useCallback((audio: AudioTrack) => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        audioTracks: [...currentProject.edits.audioTracks, audio],\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  const resetAdjustments = useCallback(() => {\n    if (!currentProject) return;\n    \n    updateProject(currentProject.id, {\n      edits: {\n        ...currentProject.edits,\n        adjustments: { ...defaultAdjustments },\n      },\n    });\n  }, [currentProject, updateProject]);\n\n  return useMemo(() => ({\n    projects,\n    currentProject,\n    setCurrentProject,\n    createProject,\n    updateProject,\n    deleteProject,\n    duplicateProject,\n    addFilter,\n    updateAdjustments,\n    addEffect,\n    addTextLayer,\n    addSticker,\n    addOverlay,\n    addAudioTrack,\n    resetAdjustments,\n  }), [\n    projects,\n    currentProject,\n    setCurrentProject,\n    createProject,\n    updateProject,\n    deleteProject,\n    duplicateProject,\n    addFilter,\n    updateAdjustments,\n    addEffect,\n    addTextLayer,\n    addSticker,\n    addOverlay,\n    addAudioTrack,\n    resetAdjustments,\n  ]);\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, Image } from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { useAuth } from '@/hooks/auth-store';\nimport { router } from 'expo-router';\nimport { StatusBar } from 'expo-status-bar';\nimport { Eye, EyeOff } from 'lucide-react-native';\n\nexport default function AuthScreen() {\n  const { login } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const validateEmail = (email: string) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const handleAuth = async () => {\n    if (!email || !password) {\n      setError('Please enter both email and password');\n      return;\n    }\n\n    if (!validateEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      console.log('[Auth Screen] Attempting login...');\n      await login(email, password);\n      console.log('[Auth Screen] Login successful, navigating to tabs');\n      router.replace('/(tabs)');\n    } catch (err: any) {\n      console.error('[Auth Screen] Login error:', err);\n      \n      let errorMessage = 'Invalid email or password';\n      \n      if (err.message?.includes('Backend is not available')) {\n        errorMessage = err.message;\n      } else if (err.message?.includes('Backend server is not running')) {\n        errorMessage = 'Backend is not running. Start it with: bun backend/server.ts';\n      } else if (err.message?.includes('Cannot connect to backend')) {\n        errorMessage = 'Cannot connect to backend. Please start the backend server.';\n      } else if (err.message?.includes('fetch') || err.message?.includes('Network')) {\n        errorMessage = 'Network error. Backend may not be running. For demo mode, use: test@example.com / Test123!';\n      } else if (err.message?.includes('JSON Parse')) {\n        errorMessage = 'Backend is returning invalid data. Please restart the backend server. For demo mode, use: test@example.com / Test123!';\n      } else if (err.message?.includes('Backend is not available')) {\n        errorMessage = err.message;\n      } else if (err.message?.includes('Cannot connect')) {\n        errorMessage = 'Cannot connect to backend. For demo mode, use: test@example.com / Test123!';\n      } else if (err.message?.includes('not responding')) {\n        errorMessage = 'Backend is not responding. For demo mode, use: test@example.com / Test123!';\n      } else if (err.message?.includes('Invalid credentials')) {\n        errorMessage = 'Invalid email or password. To create an account, click Sign Up below.';\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <View style={styles.logoContainer}>\n        <Image \n          source={{ uri: 'https://pub-e001eb4506b145aa938b5d3badbff6a5.r2.dev/attachments/rai378jqc4xtisgilk6wz' }}\n          style={styles.logo}\n          resizeMode=\"contain\"\n        />\n        <Text style={styles.appName}>VibeSync</Text>\n        <Text style={styles.tagline}>Connect & Experience</Text>\n      </View>\n      \n      <View style={styles.formContainer}>\n        <Text style={styles.title}>Login</Text>\n        \n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n        \n        <View style={styles.inputGroup}>\n          <Text style={styles.label}>Email</Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Enter your email\"\n            placeholderTextColor={Colors.textSecondary}\n            value={email}\n            onChangeText={(text) => {\n              setEmail(text);\n              setError('');\n            }}\n            autoCapitalize=\"none\"\n            keyboardType=\"email-address\"\n            autoComplete=\"email\"\n          />\n        </View>\n        \n        <View style={styles.inputGroup}>\n          <Text style={styles.label}>Password</Text>\n          <View style={styles.passwordContainer}>\n            <TextInput\n              style={[styles.input, styles.passwordInput]}\n              placeholder=\"Enter your password\"\n              placeholderTextColor={Colors.textSecondary}\n              value={password}\n              onChangeText={(text) => {\n                setPassword(text);\n                setError('');\n              }}\n              secureTextEntry={!showPassword}\n              autoComplete=\"password\"\n            />\n            <TouchableOpacity\n              style={styles.eyeIcon}\n              onPress={() => setShowPassword(!showPassword)}\n            >\n              {showPassword ? (\n                <EyeOff size={20} color={Colors.textSecondary} />\n              ) : (\n                <Eye size={20} color={Colors.textSecondary} />\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n        \n        <Button\n          title=\"Login\"\n          onPress={handleAuth}\n          loading={isLoading}\n          disabled={isLoading}\n          style={styles.authButton}\n        />\n        \n        <TouchableOpacity \n          onPress={() => router.push('/forgot-password')}\n          style={styles.forgotPasswordContainer}\n        >\n          <Text style={styles.forgotPasswordText}>Forgot Password?</Text>\n        </TouchableOpacity>\n        \n        <View style={styles.switchContainer}>\n          <Text style={styles.switchText}>\n            Don't have an account?\n          </Text>\n          <TouchableOpacity onPress={() => router.push('/register')}>\n            <Text style={styles.switchButton}>Sign Up</Text>\n          </TouchableOpacity>\n        </View>\n\n        <Text style={styles.demoText}>\n          Demo: test@example.com / Test123!\n        </Text>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n    padding: 16,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    marginTop: 60,\n    marginBottom: 40,\n  },\n  logo: {\n    width: 100,\n    height: 100,\n    marginBottom: 16,\n  },\n  appName: {\n    color: Colors.text,\n    fontSize: 28,\n    fontWeight: 'bold',\n  },\n  tagline: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n    marginTop: 4,\n  },\n  formContainer: {\n    flex: 1,\n  },\n  title: {\n    color: Colors.text,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 24,\n  },\n  errorText: {\n    color: Colors.error,\n    marginBottom: 16,\n    padding: 12,\n    backgroundColor: Colors.error + '20',\n    borderRadius: 8,\n  },\n  inputGroup: {\n    marginBottom: 16,\n  },\n  label: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 8,\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 8,\n    padding: 16,\n    color: Colors.text,\n    fontSize: 16,\n  },\n  passwordContainer: {\n    position: 'relative' as const,\n  },\n  passwordInput: {\n    paddingRight: 50,\n  },\n  eyeIcon: {\n    position: 'absolute' as const,\n    right: 16,\n    top: 16,\n  },\n  authButton: {\n    marginTop: 8,\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 16,\n  },\n  switchText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  switchButton: {\n    color: Colors.primary,\n    fontSize: 14,\n    fontWeight: '600',\n    marginLeft: 4,\n  },\n  forgotPasswordContainer: {\n    alignItems: 'flex-end',\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  forgotPasswordText: {\n    color: Colors.primary,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  demoText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    textAlign: 'center',\n    marginTop: 16,\n  },\n});\n","/**\n * Professional-grade filter system for Creative Studio\n * Industry-level LUTs and color grading presets\n */\n\nexport interface FilterPreset {\n  id: string;\n  name: string;\n  category: FilterCategoryType;\n  description: string;\n  preview: string;\n  isPremium?: boolean;\n  settings: {\n    brightness?: number;\n    contrast?: number;\n    saturation?: number;\n    exposure?: number;\n    highlights?: number;\n    shadows?: number;\n    whites?: number;\n    blacks?: number;\n    temperature?: number;\n    tint?: number;\n    vibrance?: number;\n    clarity?: number;\n    grain?: number;\n    vignette?: number;\n    sharpen?: number;\n    hue?: number;\n  };\n}\n\nexport type FilterCategoryType = \n  | 'cinematic'\n  | 'professional'\n  | 'film'\n  | 'creative'\n  | 'lighting'\n  | 'vintage'\n  | 'beauty'\n  | 'basic';\n\nexport interface FilterCategoryInfo {\n  id: FilterCategoryType;\n  name: string;\n  icon: string;\n  description: string;\n}\n\nexport const FILTER_CATEGORIES: FilterCategoryInfo[] = [\n  {\n    id: 'cinematic',\n    name: 'Cinematic',\n    icon: '',\n    description: 'Hollywood-grade color grading',\n  },\n  {\n    id: 'professional',\n    name: 'Professional',\n    icon: '',\n    description: 'Industry-standard color tools',\n  },\n  {\n    id: 'film',\n    name: 'Film Simulation',\n    icon: '',\n    description: 'Classic film stock emulation',\n  },\n  {\n    id: 'creative',\n    name: 'Creative',\n    icon: '',\n    description: 'Artistic effects & styles',\n  },\n  {\n    id: 'lighting',\n    name: 'Lighting',\n    icon: '',\n    description: 'Advanced lighting effects',\n  },\n  {\n    id: 'vintage',\n    name: 'Vintage',\n    icon: '',\n    description: 'Retro & nostalgic looks',\n  },\n  {\n    id: 'beauty',\n    name: 'Beauty',\n    icon: '',\n    description: 'Portrait enhancement',\n  },\n  {\n    id: 'basic',\n    name: 'Basic',\n    icon: '',\n    description: 'Essential adjustments',\n  },\n];\n\nexport const CINEMATIC_FILTERS: FilterPreset[] = [\n  {\n    id: 'teal-orange',\n    name: 'Teal & Orange',\n    category: 'cinematic',\n    description: 'Classic blockbuster look',\n    preview: '#1a7a8a',\n    settings: {\n      temperature: 15,\n      tint: -5,\n      saturation: 20,\n      contrast: 25,\n      highlights: -10,\n      shadows: -15,\n      vibrance: 30,\n    },\n  },\n  {\n    id: 'desaturated-grit',\n    name: 'Desaturated Grit',\n    category: 'cinematic',\n    description: 'Crime/drama mood',\n    preview: '#4a4a4a',\n    settings: {\n      saturation: -40,\n      contrast: 35,\n      clarity: 40,\n      shadows: -20,\n      blacks: -15,\n      grain: 15,\n    },\n  },\n  {\n    id: 'golden-hour',\n    name: 'Golden Hour',\n    category: 'cinematic',\n    description: 'Warm sunset tones',\n    preview: '#ff9a3c',\n    settings: {\n      temperature: 35,\n      tint: 10,\n      exposure: 5,\n      highlights: -5,\n      saturation: 15,\n      vibrance: 25,\n    },\n  },\n  {\n    id: 'cyberpunk-neon',\n    name: 'Cyberpunk Neon',\n    category: 'cinematic',\n    description: 'Neon purples, blues, pinks',\n    preview: '#ff00ff',\n    settings: {\n      saturation: 60,\n      vibrance: 50,\n      contrast: 30,\n      shadows: -25,\n      blacks: -30,\n      tint: 15,\n      hue: 280,\n    },\n  },\n  {\n    id: 'monochrome-noir',\n    name: 'Monochrome Noir',\n    category: 'cinematic',\n    description: 'Cinematic black & white',\n    preview: '#1a1a1a',\n    settings: {\n      saturation: -100,\n      contrast: 45,\n      clarity: 35,\n      highlights: -15,\n      shadows: -25,\n      blacks: -20,\n      grain: 10,\n    },\n  },\n  {\n    id: 'bleach-bypass',\n    name: 'Bleach Bypass',\n    category: 'cinematic',\n    description: 'Washed-out war movie style',\n    preview: '#8a8a7a',\n    settings: {\n      saturation: -30,\n      contrast: 40,\n      highlights: 20,\n      shadows: -10,\n      clarity: 30,\n    },\n  },\n];\n\nexport const PROFESSIONAL_FILTERS: FilterPreset[] = [\n  {\n    id: 'hdr-boost',\n    name: 'HDR Boost',\n    category: 'professional',\n    description: 'Enhanced dynamic range',\n    preview: '#ff8c42',\n    settings: {\n      highlights: -30,\n      shadows: 30,\n      whites: 10,\n      blacks: -10,\n      clarity: 25,\n      vibrance: 20,\n    },\n  },\n  {\n    id: 'studio-portrait',\n    name: 'Studio Portrait',\n    category: 'professional',\n    description: 'Professional portrait lighting',\n    preview: '#ffd1b3',\n    settings: {\n      exposure: 10,\n      highlights: -15,\n      shadows: 15,\n      temperature: 5,\n      saturation: -5,\n      clarity: -10,\n      sharpen: 20,\n    },\n  },\n  {\n    id: 'landscape-vivid',\n    name: 'Landscape Vivid',\n    category: 'professional',\n    description: 'Enhanced nature colors',\n    preview: '#4a9d5f',\n    settings: {\n      vibrance: 40,\n      saturation: 15,\n      clarity: 30,\n      contrast: 20,\n      highlights: -10,\n      shadows: 5,\n    },\n  },\n  {\n    id: 'color-match',\n    name: 'Color Match',\n    category: 'professional',\n    description: 'Balanced color correction',\n    preview: '#7a8a9a',\n    settings: {\n      temperature: 0,\n      tint: 0,\n      exposure: 5,\n      contrast: 10,\n      highlights: -5,\n      shadows: 5,\n    },\n  },\n];\n\nexport const FILM_SIMULATION_FILTERS: FilterPreset[] = [\n  {\n    id: 'kodak-portra',\n    name: 'Kodak Portra',\n    category: 'film',\n    description: 'Classic portrait film',\n    preview: '#ffd1c1',\n    settings: {\n      temperature: 8,\n      tint: 5,\n      saturation: -5,\n      contrast: -5,\n      highlights: -10,\n      shadows: 10,\n      grain: 8,\n    },\n  },\n  {\n    id: 'fuji-velvia',\n    name: 'Fuji Velvia',\n    category: 'film',\n    description: 'Vibrant landscape film',\n    preview: '#ff6a3c',\n    settings: {\n      saturation: 35,\n      vibrance: 30,\n      contrast: 20,\n      clarity: 15,\n      grain: 5,\n    },\n  },\n  {\n    id: 'polaroid-sx70',\n    name: 'Polaroid SX-70',\n    category: 'film',\n    description: 'Instant film aesthetic',\n    preview: '#f0e68c',\n    settings: {\n      temperature: 15,\n      saturation: -10,\n      contrast: -15,\n      exposure: 10,\n      vignette: 20,\n      grain: 25,\n    },\n  },\n  {\n    id: 'tri-x-400',\n    name: 'Tri-X 400',\n    category: 'film',\n    description: 'Classic B&W film',\n    preview: '#3a3a3a',\n    settings: {\n      saturation: -100,\n      contrast: 30,\n      grain: 20,\n      clarity: 20,\n      blacks: -10,\n    },\n  },\n];\n\nexport const CREATIVE_FILTERS: FilterPreset[] = [\n  {\n    id: 'glitch-art',\n    name: 'Glitch Art',\n    category: 'creative',\n    description: 'Digital distortion effect',\n    preview: '#ff00aa',\n    isPremium: true,\n    settings: {\n      saturation: 80,\n      contrast: 50,\n      hue: 180,\n      vibrance: 60,\n    },\n  },\n  {\n    id: 'vhs-tape',\n    name: 'VHS Tape',\n    category: 'creative',\n    description: 'Retro video aesthetic',\n    preview: '#8b4789',\n    settings: {\n      saturation: -20,\n      contrast: -10,\n      grain: 40,\n      vignette: 30,\n      temperature: -5,\n    },\n  },\n  {\n    id: 'neon-glow',\n    name: 'Neon Glow',\n    category: 'creative',\n    description: 'Vibrant neon effect',\n    preview: '#00ffff',\n    isPremium: true,\n    settings: {\n      saturation: 70,\n      vibrance: 80,\n      contrast: 35,\n      highlights: 20,\n      clarity: -20,\n    },\n  },\n  {\n    id: 'dreamy-soft',\n    name: 'Dreamy Soft',\n    category: 'creative',\n    description: 'Soft ethereal look',\n    preview: '#ffd1ff',\n    settings: {\n      exposure: 15,\n      highlights: -20,\n      clarity: -30,\n      saturation: -10,\n      temperature: 10,\n    },\n  },\n];\n\nexport const LIGHTING_FILTERS: FilterPreset[] = [\n  {\n    id: 'day-to-night',\n    name: 'Day to Night',\n    category: 'lighting',\n    description: 'Transform day shots to night',\n    preview: '#1a2a4a',\n    isPremium: true,\n    settings: {\n      exposure: -40,\n      temperature: -20,\n      tint: -10,\n      highlights: -30,\n      shadows: -20,\n      saturation: -15,\n    },\n  },\n  {\n    id: 'golden-light',\n    name: 'Golden Light',\n    category: 'lighting',\n    description: 'Add sunset lighting',\n    preview: '#ffb347',\n    settings: {\n      temperature: 30,\n      tint: 8,\n      exposure: 8,\n      highlights: -5,\n      vibrance: 20,\n    },\n  },\n  {\n    id: 'studio-light',\n    name: 'Studio Light',\n    category: 'lighting',\n    description: 'Brighten faces, darken backgrounds',\n    preview: '#ffffff',\n    settings: {\n      exposure: 15,\n      highlights: -10,\n      shadows: -15,\n      contrast: 20,\n      clarity: 15,\n    },\n  },\n  {\n    id: 'moody-dark',\n    name: 'Moody Dark',\n    category: 'lighting',\n    description: 'Dramatic low-key lighting',\n    preview: '#2a2a2a',\n    settings: {\n      exposure: -15,\n      shadows: -25,\n      blacks: -20,\n      contrast: 30,\n      clarity: 25,\n    },\n  },\n];\n\nexport const VINTAGE_FILTERS: FilterPreset[] = [\n  {\n    id: 'vintage-film',\n    name: 'Vintage Film',\n    category: 'vintage',\n    description: 'Grainy warm tones',\n    preview: '#8b7355',\n    settings: {\n      temperature: 20,\n      tint: 15,\n      saturation: -20,\n      contrast: -10,\n      grain: 30,\n      vignette: 25,\n    },\n  },\n  {\n    id: 'sepia-tone',\n    name: 'Sepia Tone',\n    category: 'vintage',\n    description: 'Classic sepia look',\n    preview: '#704214',\n    settings: {\n      saturation: -100,\n      temperature: 40,\n      tint: 20,\n      contrast: -5,\n      grain: 15,\n    },\n  },\n  {\n    id: 'faded-memories',\n    name: 'Faded Memories',\n    category: 'vintage',\n    description: 'Washed-out nostalgic',\n    preview: '#c9b8a8',\n    settings: {\n      exposure: 10,\n      contrast: -20,\n      saturation: -30,\n      highlights: -15,\n      grain: 20,\n      vignette: 15,\n    },\n  },\n  {\n    id: 'retro-80s',\n    name: 'Retro 80s',\n    category: 'vintage',\n    description: '80s color palette',\n    preview: '#ff6b9d',\n    settings: {\n      saturation: 40,\n      temperature: 10,\n      tint: 15,\n      contrast: 15,\n      grain: 12,\n    },\n  },\n];\n\nexport const BEAUTY_FILTERS: FilterPreset[] = [\n  {\n    id: 'beauty-glow',\n    name: 'Beauty Glow',\n    category: 'beauty',\n    description: 'Soft skin enhancement',\n    preview: '#ffe4e1',\n    settings: {\n      highlights: 20,\n      shadows: 10,\n      clarity: -25,\n      saturation: 5,\n      temperature: 5,\n      exposure: 5,\n    },\n  },\n  {\n    id: 'skin-smooth',\n    name: 'Skin Smooth',\n    category: 'beauty',\n    description: 'Natural skin smoothing',\n    preview: '#ffd1b3',\n    settings: {\n      clarity: -30,\n      sharpen: -10,\n      highlights: 10,\n      shadows: 5,\n      temperature: 3,\n    },\n  },\n  {\n    id: 'portrait-enhance',\n    name: 'Portrait Enhance',\n    category: 'beauty',\n    description: 'Overall portrait improvement',\n    preview: '#ffb3ba',\n    settings: {\n      exposure: 8,\n      highlights: -10,\n      shadows: 15,\n      clarity: -15,\n      saturation: 10,\n      sharpen: 15,\n    },\n  },\n];\n\nexport const BASIC_FILTERS: FilterPreset[] = [\n  {\n    id: 'original',\n    name: 'Original',\n    category: 'basic',\n    description: 'No filter applied',\n    preview: '#808080',\n    settings: {},\n  },\n  {\n    id: 'vivid',\n    name: 'Vivid',\n    category: 'basic',\n    description: 'Enhanced colors',\n    preview: '#ff6347',\n    settings: {\n      saturation: 30,\n      vibrance: 25,\n      contrast: 15,\n    },\n  },\n  {\n    id: 'dramatic',\n    name: 'Dramatic',\n    category: 'basic',\n    description: 'High contrast',\n    preview: '#2a2a2a',\n    settings: {\n      contrast: 50,\n      clarity: 30,\n      shadows: -20,\n      blacks: -15,\n    },\n  },\n  {\n    id: 'warm',\n    name: 'Warm',\n    category: 'basic',\n    description: 'Warm color temperature',\n    preview: '#ff8c42',\n    settings: {\n      temperature: 25,\n      tint: 5,\n    },\n  },\n  {\n    id: 'cool',\n    name: 'Cool',\n    category: 'basic',\n    description: 'Cool color temperature',\n    preview: '#4a90e2',\n    settings: {\n      temperature: -25,\n      tint: -5,\n    },\n  },\n  {\n    id: 'black-white',\n    name: 'Black & White',\n    category: 'basic',\n    description: 'Classic monochrome',\n    preview: '#000000',\n    settings: {\n      saturation: -100,\n      contrast: 20,\n    },\n  },\n];\n\nexport const ALL_FILTERS: FilterPreset[] = [\n  ...BASIC_FILTERS,\n  ...CINEMATIC_FILTERS,\n  ...PROFESSIONAL_FILTERS,\n  ...FILM_SIMULATION_FILTERS,\n  ...CREATIVE_FILTERS,\n  ...LIGHTING_FILTERS,\n  ...VINTAGE_FILTERS,\n  ...BEAUTY_FILTERS,\n];\n\nexport const getFiltersByCategory = (category: FilterCategoryType): FilterPreset[] => {\n  return ALL_FILTERS.filter(filter => filter.category === category);\n};\n\nexport const getFilterById = (id: string): FilterPreset | undefined => {\n  return ALL_FILTERS.find(filter => filter.id === id);\n};\n\nexport const getPremiumFilters = (): FilterPreset[] => {\n  return ALL_FILTERS.filter(filter => filter.isPremium);\n};\n\nexport const getFreeFilters = (): FilterPreset[] => {\n  return ALL_FILTERS.filter(filter => !filter.isPremium);\n};\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  ScrollView,\n  Alert,\n  Modal,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { Image } from 'expo-image';\nimport * as ImagePicker from 'expo-image-picker';\nimport {\n  ArrowLeft,\n  Download,\n  Image as ImageIcon,\n  Sparkles,\n  Sliders,\n  Wand2,\n  Type,\n  Smile,\n  Image as OverlayIcon,\n  Square,\n  Undo,\n  Redo,\n  Save,\n  RotateCcw,\n  Crop,\n} from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Button } from '@/components/ui/Button';\nimport { useStudio } from '@/hooks/studio-store';\nimport { \n  FILTER_CATEGORIES, \n  ALL_FILTERS, \n  getFiltersByCategory,\n  FilterCategoryType,\n  FilterPreset \n} from '@/constants/filters';\n\ntype ToolCategory = 'filters' | 'adjust' | 'effects' | 'text' | 'stickers' | 'overlays' | 'frames' | 'crop';\n\ninterface Tool {\n  id: ToolCategory;\n  name: string;\n  icon: React.ComponentType<any>;\n}\n\nconst TOOLS: Tool[] = [\n  { id: 'filters', name: 'Filters', icon: Sparkles },\n  { id: 'adjust', name: 'Adjust', icon: Sliders },\n  { id: 'effects', name: 'Effects', icon: Wand2 },\n  { id: 'text', name: 'Text', icon: Type },\n  { id: 'stickers', name: 'Stickers', icon: Smile },\n  { id: 'overlays', name: 'Overlays', icon: OverlayIcon },\n  { id: 'frames', name: 'Frames', icon: Square },\n  { id: 'crop', name: 'Crop', icon: Crop },\n];\n\n\n\nconst EFFECTS = [\n  { id: 'glitch', name: 'Glitch' },\n  { id: 'vhs', name: 'VHS' },\n  { id: 'sparkle', name: 'Sparkle' },\n  { id: 'neon-glow', name: 'Neon Glow' },\n  { id: 'blur', name: 'Blur' },\n  { id: 'bokeh', name: 'Bokeh' },\n  { id: 'lens-flare', name: 'Lens Flare' },\n  { id: 'light-leak', name: 'Light Leak' },\n  { id: 'dust', name: 'Dust & Scratches' },\n];\n\nexport default function ImageEditorScreen() {\n  const { colors } = useTheme();\n  const params = useLocalSearchParams();\n  const { currentProject, createProject } = useStudio();\n  \n  const [imageUri, setImageUri] = useState<string | null>(\n    (params.mediaUri as string) || currentProject?.mediaUri || null\n  );\n  const [activeTool, setActiveTool] = useState<ToolCategory | null>(null);\n  const [selectedFilterCategory, setSelectedFilterCategory] = useState<FilterCategoryType>('basic');\n  const [selectedFilter, setSelectedFilter] = useState<FilterPreset>(ALL_FILTERS[0]);\n  const [filterIntensity, setFilterIntensity] = useState(100);\n  const [brightness, setBrightness] = useState(0);\n  const [contrast, setContrast] = useState(0);\n  const [saturation, setSaturation] = useState(0);\n  const [exposure, setExposure] = useState(0);\n  const [showExportModal, setShowExportModal] = useState(false);\n\n  const pickImage = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission needed', 'Please grant camera roll permissions.');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: false,\n        quality: 1,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        setImageUri(result.assets[0].uri);\n        \n        if (!currentProject) {\n          createProject('image', 'New Image Project', '1:1', '1080p', undefined, result.assets[0].uri);\n        }\n      }\n    } catch (error) {\n      console.error('Error picking image:', error);\n      Alert.alert('Error', 'Failed to pick image.');\n    }\n  };\n\n  const handleExport = () => {\n    setShowExportModal(true);\n  };\n\n  const exportImage = (resolution: string) => {\n    setShowExportModal(false);\n    Alert.alert('Export Started', `Exporting image in ${resolution}...`);\n  };\n\n  const resetAdjustments = () => {\n    setBrightness(0);\n    setContrast(0);\n    setSaturation(0);\n    setExposure(0);\n  };\n\n  const renderToolPanel = () => {\n    if (!activeTool) return null;\n\n    switch (activeTool) {\n      case 'filters':\n        const categoryFilters = getFiltersByCategory(selectedFilterCategory);\n        return (\n          <View style={styles.filterContainer}>\n            <ScrollView \n              horizontal \n              showsHorizontalScrollIndicator={false} \n              style={styles.filterCategoryScroll}\n              contentContainerStyle={styles.filterCategoryContent}\n            >\n              {FILTER_CATEGORIES.map((category) => (\n                <TouchableOpacity\n                  key={category.id}\n                  style={[\n                    styles.categoryChip,\n                    { backgroundColor: colors.card },\n                    selectedFilterCategory === category.id && { \n                      backgroundColor: colors.primary,\n                      borderColor: colors.primary,\n                      borderWidth: 2\n                    }\n                  ]}\n                  onPress={() => setSelectedFilterCategory(category.id)}\n                >\n                  <Text style={styles.categoryEmoji}>{category.icon}</Text>\n                  <Text\n                    style={[\n                      styles.categoryName,\n                      { color: selectedFilterCategory === category.id ? colors.textInverse : colors.text }\n                    ]}\n                  >\n                    {category.name}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n            \n            <ScrollView \n              horizontal \n              showsHorizontalScrollIndicator={false} \n              style={styles.filterScroll}\n              contentContainerStyle={styles.filterScrollContent}\n            >\n              {categoryFilters.map((filter) => (\n                <TouchableOpacity\n                  key={filter.id}\n                  style={[\n                    styles.filterItem,\n                    selectedFilter.id === filter.id && { \n                      borderColor: colors.primary, \n                      borderWidth: 3 \n                    }\n                  ]}\n                  onPress={() => setSelectedFilter(filter)}\n                >\n                  <View style={[styles.filterPreview, { backgroundColor: filter.preview }]}>\n                    {filter.isPremium && (\n                      <View style={[styles.premiumBadge, { backgroundColor: colors.primary }]}>\n                        <Text style={[styles.premiumText, { color: colors.textInverse }]}>PRO</Text>\n                      </View>\n                    )}\n                  </View>\n                  <Text \n                    style={[styles.filterName, { color: colors.text }]} \n                    numberOfLines={1}\n                  >\n                    {filter.name}\n                  </Text>\n                  <Text \n                    style={[styles.filterDescription, { color: colors.textSecondary }]} \n                    numberOfLines={1}\n                  >\n                    {filter.description}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n            \n            {selectedFilter.id !== 'original' && (\n              <View style={[styles.intensityControl, { backgroundColor: colors.card }]}>\n                <Text style={[styles.intensityLabel, { color: colors.text }]}>Intensity</Text>\n                <Text style={[styles.intensityValue, { color: colors.primary }]}>{filterIntensity}%</Text>\n              </View>\n            )}\n          </View>\n        );\n\n      case 'adjust':\n        return (\n          <ScrollView style={styles.toolContent}>\n            <View style={styles.adjustmentItem}>\n              <View style={styles.adjustmentHeader}>\n                <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Brightness</Text>\n                <Text style={[styles.adjustmentValue, { color: colors.textSecondary }]}>{brightness}</Text>\n              </View>\n            </View>\n            <View style={styles.adjustmentItem}>\n              <View style={styles.adjustmentHeader}>\n                <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Contrast</Text>\n                <Text style={[styles.adjustmentValue, { color: colors.textSecondary }]}>{contrast}</Text>\n              </View>\n            </View>\n            <View style={styles.adjustmentItem}>\n              <View style={styles.adjustmentHeader}>\n                <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Saturation</Text>\n                <Text style={[styles.adjustmentValue, { color: colors.textSecondary }]}>{saturation}</Text>\n              </View>\n            </View>\n            <View style={styles.adjustmentItem}>\n              <View style={styles.adjustmentHeader}>\n                <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Exposure</Text>\n                <Text style={[styles.adjustmentValue, { color: colors.textSecondary }]}>{exposure}</Text>\n              </View>\n            </View>\n            <TouchableOpacity\n              style={[styles.resetButton, { backgroundColor: colors.card }]}\n              onPress={resetAdjustments}\n            >\n              <RotateCcw size={16} color={colors.text} />\n              <Text style={[styles.resetButtonText, { color: colors.text }]}>Reset All</Text>\n            </TouchableOpacity>\n          </ScrollView>\n        );\n\n      case 'effects':\n        return (\n          <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.toolContent}>\n            {EFFECTS.map((effect) => (\n              <TouchableOpacity\n                key={effect.id}\n                style={[styles.effectItem, { backgroundColor: colors.card }]}\n                onPress={() => Alert.alert('Effect', `Applied ${effect.name}`)}\n              >\n                <Wand2 size={24} color={colors.primary} />\n                <Text style={[styles.effectName, { color: colors.text }]}>{effect.name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        );\n\n      case 'text':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Text', 'Text editor coming soon')}\n            >\n              <Type size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Text Layer</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'stickers':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Sticker', 'Sticker library coming soon')}\n            >\n              <Smile size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Sticker</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'overlays':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Overlay', 'Overlay library coming soon')}\n            >\n              <OverlayIcon size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Overlay</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'frames':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Frame', 'Frame library coming soon')}\n            >\n              <Square size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Frame</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'crop':\n        return (\n          <View style={styles.toolContent}>\n            <Text style={[styles.cropInfo, { color: colors.textSecondary }]}>\n              Drag corners to crop image\n            </Text>\n            <View style={styles.aspectRatios}>\n              {['1:1', '4:5', '16:9', '9:16', 'Free'].map((ratio) => (\n                <TouchableOpacity\n                  key={ratio}\n                  style={[styles.aspectRatioButton, { backgroundColor: colors.card }]}\n                  onPress={() => Alert.alert('Aspect Ratio', `Set to ${ratio}`)}\n                >\n                  <Text style={[styles.aspectRatioText, { color: colors.text }]}>{ratio}</Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n          </View>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={['top']}>\n      <Stack.Screen options={{ headerShown: false }} />\n      \n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n        <TouchableOpacity onPress={() => router.back()} style={styles.headerButton}>\n          <ArrowLeft size={24} color={colors.text} />\n        </TouchableOpacity>\n        <View style={styles.headerActions}>\n          <TouchableOpacity style={styles.headerButton}>\n            <Undo size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.headerButton}>\n            <Redo size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.headerButton}>\n            <Save size={20} color={colors.text} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            onPress={() => {\n              Alert.alert(\n                'Post Image',\n                'Post this edited image to your feed?',\n                [\n                  { text: 'Cancel', style: 'cancel' },\n                  { \n                    text: 'Post', \n                    onPress: () => {\n                      Alert.alert('Success', 'Image posted to your feed!');\n                      router.back();\n                    }\n                  },\n                ]\n              );\n            }} \n            style={[styles.headerButton, { backgroundColor: colors.primary, paddingHorizontal: 12, borderRadius: 8 }]}\n          >\n            <Text style={{ color: colors.textInverse, fontWeight: '600' as const, fontSize: 14 }}>Post</Text>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={handleExport} style={styles.headerButton}>\n            <Download size={20} color={colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {!imageUri ? (\n        <View style={styles.emptyState}>\n          <ImageIcon size={64} color={colors.textSecondary} />\n          <Text style={[styles.emptyStateTitle, { color: colors.text }]}>No Image Selected</Text>\n          <Button title=\"Choose Image\" onPress={pickImage} style={styles.emptyStateButton} />\n        </View>\n      ) : (\n        <>\n          <View style={styles.canvas}>\n            <View style={[styles.imagePreview, { backgroundColor: colors.card }]}>\n              <Image\n                source={{ uri: imageUri }}\n                style={styles.imageContent}\n                contentFit=\"contain\"\n              />\n            </View>\n          </View>\n\n          <View style={[styles.toolbar, { backgroundColor: colors.card }]}>\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.toolbarContent}>\n              {TOOLS.map((tool) => {\n                const IconComponent = tool.icon;\n                return (\n                  <TouchableOpacity\n                    key={tool.id}\n                    style={[\n                      styles.toolButton,\n                      activeTool === tool.id && { backgroundColor: colors.primary }\n                    ]}\n                    onPress={() => setActiveTool(activeTool === tool.id ? null : tool.id)}\n                  >\n                    <IconComponent\n                      size={20}\n                      color={activeTool === tool.id ? colors.textInverse : colors.text}\n                    />\n                    <Text\n                      style={[\n                        styles.toolButtonText,\n                        { color: activeTool === tool.id ? colors.textInverse : colors.text }\n                      ]}\n                    >\n                      {tool.name}\n                    </Text>\n                  </TouchableOpacity>\n                );\n              })}\n            </ScrollView>\n          </View>\n\n          {activeTool && (\n            <View style={[styles.toolPanel, { backgroundColor: colors.card }]}>\n              {renderToolPanel()}\n            </View>\n          )}\n        </>\n      )}\n\n      <Modal visible={showExportModal} transparent animationType=\"slide\">\n        <View style={styles.modalOverlay}>\n          <View style={[styles.modalContent, { backgroundColor: colors.card }]}>\n            <Text style={[styles.modalTitle, { color: colors.text }]}>Export Image</Text>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportImage('1080p')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>1080p HD</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportImage('2K')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>2K</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportImage('4K')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>4K Ultra HD</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.modalCancel, { backgroundColor: colors.background }]}\n              onPress={() => setShowExportModal(false)}\n            >\n              <Text style={[styles.modalCancelText, { color: colors.textSecondary }]}>Cancel</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  headerButton: {\n    padding: 8,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 16,\n  },\n  emptyStateTitle: {\n    fontSize: 20,\n    fontWeight: '600' as const,\n  },\n  emptyStateButton: {\n    marginTop: 16,\n  },\n  canvas: {\n    flex: 1,\n    padding: 16,\n  },\n  imagePreview: {\n    flex: 1,\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  imageContent: {\n    width: '100%',\n    height: '100%',\n  },\n  toolbar: {\n    paddingVertical: 12,\n  },\n  toolbarContent: {\n    paddingHorizontal: 16,\n    gap: 8,\n  },\n  toolButton: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    gap: 4,\n  },\n  toolButtonText: {\n    fontSize: 10,\n    fontWeight: '600' as const,\n  },\n  toolPanel: {\n    height: 240,\n    borderTopWidth: 1,\n    borderTopColor: '#333',\n  },\n  toolContent: {\n    padding: 16,\n  },\n  filterContainer: {\n    flex: 1,\n  },\n  filterCategoryScroll: {\n    maxHeight: 50,\n    borderBottomWidth: 1,\n    borderBottomColor: '#333',\n  },\n  filterCategoryContent: {\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    gap: 8,\n  },\n  categoryChip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 20,\n    gap: 6,\n  },\n  categoryEmoji: {\n    fontSize: 14,\n  },\n  categoryName: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  filterScroll: {\n    flex: 1,\n  },\n  filterScrollContent: {\n    paddingHorizontal: 12,\n    paddingVertical: 12,\n    gap: 12,\n  },\n  filterItem: {\n    alignItems: 'center',\n    width: 80,\n    borderRadius: 8,\n    padding: 4,\n  },\n  filterPreview: {\n    width: 72,\n    height: 72,\n    borderRadius: 8,\n    marginBottom: 6,\n    position: 'relative',\n    justifyContent: 'flex-end',\n    alignItems: 'flex-end',\n  },\n  premiumBadge: {\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    borderRadius: 4,\n    margin: 4,\n  },\n  premiumText: {\n    fontSize: 8,\n    fontWeight: '700' as const,\n  },\n  filterName: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  filterDescription: {\n    fontSize: 9,\n    textAlign: 'center',\n  },\n  intensityControl: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderTopWidth: 1,\n    borderTopColor: '#333',\n  },\n  intensityLabel: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n  },\n  intensityValue: {\n    fontSize: 14,\n    fontWeight: '700' as const,\n  },\n  adjustmentItem: {\n    marginBottom: 16,\n  },\n  adjustmentHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  adjustmentLabel: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  adjustmentValue: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  resetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderRadius: 8,\n    gap: 8,\n    marginTop: 8,\n  },\n  resetButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  effectItem: {\n    alignItems: 'center',\n    padding: 12,\n    borderRadius: 8,\n    marginRight: 12,\n    minWidth: 80,\n  },\n  effectName: {\n    fontSize: 12,\n    marginTop: 4,\n  },\n  addButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderRadius: 12,\n    gap: 8,\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  cropInfo: {\n    fontSize: 12,\n    textAlign: 'center',\n    marginBottom: 12,\n  },\n  aspectRatios: {\n    flexDirection: 'row',\n    gap: 8,\n    justifyContent: 'center',\n  },\n  aspectRatioButton: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n  },\n  aspectRatioText: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'flex-end',\n  },\n  modalContent: {\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 24,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 20,\n  },\n  exportOption: {\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  exportOptionText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    textAlign: 'center',\n  },\n  modalCancel: {\n    padding: 16,\n    borderRadius: 12,\n    marginTop: 8,\n  },\n  modalCancelText: {\n    fontSize: 16,\n    textAlign: 'center',\n  },\n});\n","import React from 'react';\nimport { \n  StyleSheet, \n  Text, \n  TouchableOpacity, \n  ActivityIndicator,\n  ViewStyle,\n  TextStyle\n} from 'react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface ButtonProps {\n  title: string;\n  onPress: () => void;\n  variant?: 'primary' | 'secondary' | 'outline';\n  size?: 'small' | 'medium' | 'large';\n  disabled?: boolean;\n  loading?: boolean;\n  style?: ViewStyle;\n  textStyle?: TextStyle;\n  testID?: string;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  title,\n  onPress,\n  variant = 'primary',\n  size = 'medium',\n  disabled = false,\n  loading = false,\n  style,\n  textStyle,\n  testID,\n}) => {\n  const getButtonStyle = () => {\n    switch (variant) {\n      case 'primary':\n        return styles.primaryButton;\n      case 'secondary':\n        return styles.secondaryButton;\n      case 'outline':\n        return styles.outlineButton;\n      default:\n        return styles.primaryButton;\n    }\n  };\n\n  const getTextStyle = () => {\n    switch (variant) {\n      case 'primary':\n        return styles.primaryText;\n      case 'secondary':\n        return styles.secondaryText;\n      case 'outline':\n        return styles.outlineText;\n      default:\n        return styles.primaryText;\n    }\n  };\n\n  const getSizeStyle = (): ViewStyle => {\n    switch (size) {\n      case 'small':\n        return styles.smallButton;\n      case 'medium':\n        return styles.mediumButton;\n      case 'large':\n        return styles.largeButton;\n      default:\n        return styles.mediumButton;\n    }\n  };\n\n  const getTextSizeStyle = (): TextStyle => {\n    switch (size) {\n      case 'small':\n        return styles.smallText;\n      case 'medium':\n        return styles.mediumText;\n      case 'large':\n        return styles.largeText;\n      default:\n        return styles.mediumText;\n    }\n  };\n\n  return (\n    <TouchableOpacity\n      style={[\n        styles.button,\n        getButtonStyle(),\n        getSizeStyle(),\n        disabled && styles.disabledButton,\n        style,\n      ]}\n      onPress={onPress}\n      disabled={disabled || loading}\n      testID={testID}\n    >\n      {loading ? (\n        <ActivityIndicator color={variant === 'outline' ? Colors.primary : Colors.text} />\n      ) : (\n        <Text\n          style={[\n            styles.text,\n            getTextStyle(),\n            getTextSizeStyle(),\n            disabled && styles.disabledText,\n            textStyle,\n          ]}\n        >\n          {title}\n        </Text>\n      )}\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  primaryButton: {\n    backgroundColor: Colors.primary,\n  },\n  secondaryButton: {\n    backgroundColor: Colors.cardLight,\n  },\n  outlineButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 1,\n    borderColor: Colors.primary,\n  },\n  disabledButton: {\n    opacity: 0.6,\n  },\n  text: {\n    fontWeight: '600',\n  },\n  primaryText: {\n    color: Colors.text,\n  },\n  secondaryText: {\n    color: Colors.text,\n  },\n  outlineText: {\n    color: Colors.primary,\n  },\n  disabledText: {\n    color: Colors.textSecondary,\n  },\n  smallButton: {\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n  },\n  mediumButton: {\n    paddingVertical: 10,\n    paddingHorizontal: 16,\n  },\n  largeButton: {\n    paddingVertical: 14,\n    paddingHorizontal: 20,\n  },\n  smallText: {\n    fontSize: 12,\n  },\n  mediumText: {\n    fontSize: 14,\n  },\n  largeText: {\n    fontSize: 16,\n  },\n});","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, TextInput, Animated } from 'react-native';\nimport { Stack, useLocalSearchParams, router } from 'expo-router';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Image } from 'expo-image';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Mic, MicOff, Hand, Heart, Share2, X } from 'lucide-react-native';\nimport { useSpill } from '@/hooks/spill-store';\n\nconst REACTIONS = ['', '', '', '', '', ''];\n\nexport default function SpillRoomScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const insets = useSafeAreaInsets();\n  const { currentSpill, joinSpill, leaveSpill, isMuted, toggleMute, hasRequestedMic, requestMic, sendReaction, sendComment } = useSpill();\n  const [comment, setComment] = useState<string>('');\n  const [showReactions, setShowReactions] = useState<boolean>(false);\n  const [floatingReactions, setFloatingReactions] = useState<{ id: string; emoji: string; x: number }[]>([]);\n\n  useEffect(() => {\n    if (id) {\n      joinSpill(id);\n    }\n    return () => {\n      leaveSpill();\n    };\n  }, [id]);\n\n  const handleLeave = () => {\n    leaveSpill();\n    router.back();\n  };\n\n  const handleReaction = (emoji: string) => {\n    sendReaction(emoji);\n    const reactionId = `reaction-${Date.now()}`;\n    setFloatingReactions(prev => [...prev, { id: reactionId, emoji, x: Math.random() * 300 }]);\n    setTimeout(() => {\n      setFloatingReactions(prev => prev.filter(r => r.id !== reactionId));\n    }, 3000);\n  };\n\n  const handleSendComment = () => {\n    if (comment.trim()) {\n      sendComment(comment);\n      setComment('');\n    }\n  };\n\n  if (!currentSpill) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text style={styles.loadingText}>Loading Spill...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <>\n      <Stack.Screen options={{ headerShown: false }} />\n      <LinearGradient\n        colors={['#0B0D1A', '#1A1535', '#2E256E']}\n        style={styles.container}\n      >\n        <View style={[styles.header, { paddingTop: insets.top + 12 }]}>\n          <View style={styles.headerLeft}>\n            <View style={styles.liveBadge}>\n              <View style={styles.liveIndicator} />\n              <Text style={styles.liveText}>LIVE</Text>\n            </View>\n            <Text style={styles.listenerCount}> {formatListenerCount(currentSpill.listenerCount)}</Text>\n          </View>\n          <TouchableOpacity onPress={handleLeave} style={styles.closeButton}>\n            <X size={24} color=\"#FFFFFF\" />\n          </TouchableOpacity>\n        </View>\n\n        <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>\n          <View style={styles.topicSection}>\n            <Text style={styles.topicName}>{currentSpill.topicName}</Text>\n            <Text style={styles.topicSubtitle}>Live Discussion</Text>\n          </View>\n\n          <View style={styles.hostsSection}>\n            <Text style={styles.sectionTitle}>Hosts & Speakers</Text>\n            <View style={styles.participantsGrid}>\n              <ParticipantAvatar\n                avatar={currentSpill.hostAvatar}\n                name={currentSpill.hostName}\n                role=\"Host\"\n                isSpeaking={true}\n              />\n              {currentSpill.cohosts.map((cohost) => (\n                <ParticipantAvatar\n                  key={cohost.id}\n                  avatar={cohost.avatar}\n                  name={cohost.name}\n                  role=\"Co-host\"\n                  isSpeaking={cohost.isSpeaking}\n                />\n              ))}\n              {currentSpill.participants\n                .filter(p => p.role === 'speaker')\n                .map((speaker) => (\n                  <ParticipantAvatar\n                    key={speaker.id}\n                    avatar={speaker.avatar}\n                    name={speaker.name}\n                    role=\"Speaker\"\n                    isSpeaking={speaker.isSpeaking}\n                  />\n                ))}\n            </View>\n          </View>\n\n          <View style={styles.audienceSection}>\n            <Text style={styles.sectionTitle}>Audience</Text>\n            <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n              <View style={styles.audienceGrid}>\n                {currentSpill.participants\n                  .filter(p => p.role === 'listener')\n                  .slice(0, 20)\n                  .map((listener) => (\n                    <Image\n                      key={listener.id}\n                      source={{ uri: listener.avatar }}\n                      style={styles.audienceAvatar}\n                      contentFit=\"cover\"\n                    />\n                  ))}\n              </View>\n            </ScrollView>\n          </View>\n\n          <View style={styles.commentsSection}>\n            <Text style={styles.sectionTitle}>Live Comments</Text>\n            {currentSpill.comments.slice(-5).map((comment) => (\n              <View key={comment.id} style={styles.commentItem}>\n                <Text style={styles.commentUsername}>{comment.username}</Text>\n                <Text style={styles.commentText}>{comment.text}</Text>\n              </View>\n            ))}\n          </View>\n        </ScrollView>\n\n        {floatingReactions.map((reaction) => (\n          <FloatingReaction key={reaction.id} emoji={reaction.emoji} x={reaction.x} />\n        ))}\n\n        <View style={[styles.bottomBar, { paddingBottom: insets.bottom + 12 }]}>\n          <View style={styles.commentInputContainer}>\n            <TextInput\n              style={styles.commentInput}\n              placeholder=\"Add a comment...\"\n              placeholderTextColor=\"#8E8E93\"\n              value={comment}\n              onChangeText={setComment}\n              onSubmitEditing={handleSendComment}\n              returnKeyType=\"send\"\n            />\n          </View>\n\n          <View style={styles.actionButtons}>\n            <TouchableOpacity \n              style={[styles.actionButton, isMuted ? styles.mutedButton : styles.activeButton]} \n              onPress={toggleMute}\n            >\n              {isMuted ? <MicOff size={20} color=\"#FFFFFF\" /> : <Mic size={20} color=\"#FFFFFF\" />}\n            </TouchableOpacity>\n\n            {!hasRequestedMic && (\n              <TouchableOpacity style={styles.actionButton} onPress={requestMic}>\n                <Hand size={20} color=\"#FFFFFF\" />\n              </TouchableOpacity>\n            )}\n\n            <TouchableOpacity \n              style={styles.actionButton} \n              onPress={() => setShowReactions(!showReactions)}\n            >\n              <Heart size={20} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n\n            <TouchableOpacity style={styles.actionButton}>\n              <Share2 size={20} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n          </View>\n\n          {showReactions && (\n            <View style={styles.reactionsBar}>\n              {REACTIONS.map((emoji) => (\n                <TouchableOpacity\n                  key={emoji}\n                  style={styles.reactionButton}\n                  onPress={() => handleReaction(emoji)}\n                >\n                  <Text style={styles.reactionEmoji}>{emoji}</Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n          )}\n        </View>\n      </LinearGradient>\n    </>\n  );\n}\n\ntype ParticipantAvatarProps = {\n  avatar: string;\n  name: string;\n  role: string;\n  isSpeaking: boolean;\n};\n\nfunction ParticipantAvatar({ avatar, name, role, isSpeaking }: ParticipantAvatarProps) {\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    if (isSpeaking) {\n      const pulse = Animated.loop(\n        Animated.sequence([\n          Animated.timing(pulseAnim, {\n            toValue: 1.15,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n          Animated.timing(pulseAnim, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n        ])\n      );\n      pulse.start();\n      return () => pulse.stop();\n    }\n  }, [isSpeaking, pulseAnim]);\n\n  return (\n    <View style={styles.participantContainer}>\n      <Animated.View style={[styles.participantAvatarContainer, { transform: [{ scale: pulseAnim }] }]}>\n        {isSpeaking && (\n          <View style={styles.speakingRing} />\n        )}\n        <Image source={{ uri: avatar }} style={styles.participantAvatar} contentFit=\"cover\" />\n      </Animated.View>\n      <Text style={styles.participantName} numberOfLines={1}>{name}</Text>\n      <Text style={styles.participantRole}>{role}</Text>\n    </View>\n  );\n}\n\ntype FloatingReactionProps = {\n  emoji: string;\n  x: number;\n};\n\nfunction FloatingReaction({ emoji, x }: FloatingReactionProps) {\n  const translateY = useRef(new Animated.Value(0)).current;\n  const opacity = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(translateY, {\n        toValue: -300,\n        duration: 3000,\n        useNativeDriver: true,\n      }),\n      Animated.timing(opacity, {\n        toValue: 0,\n        duration: 3000,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  }, [translateY, opacity]);\n\n  return (\n    <Animated.Text\n      style={[\n        styles.floatingReaction,\n        {\n          left: x,\n          transform: [{ translateY }],\n          opacity,\n        },\n      ]}\n    >\n      {emoji}\n    </Animated.Text>\n  );\n}\n\nfunction formatListenerCount(count: number): string {\n  if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}K`;\n  }\n  return count.toString();\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0B0D1A',\n  },\n  loadingText: {\n    fontSize: 16,\n    color: '#FFFFFF',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingBottom: 12,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  liveBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 59, 48, 0.2)',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    borderRadius: 14,\n    gap: 6,\n  },\n  liveIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#FF3B30',\n  },\n  liveText: {\n    fontSize: 12,\n    fontWeight: '700' as const,\n    color: '#FF3B30',\n  },\n  listenerCount: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n  closeButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: 16,\n  },\n  topicSection: {\n    alignItems: 'center',\n    marginVertical: 24,\n  },\n  topicName: {\n    fontSize: 32,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n    marginBottom: 8,\n  },\n  topicSubtitle: {\n    fontSize: 16,\n    color: '#8E8E93',\n  },\n  hostsSection: {\n    marginBottom: 32,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n    marginBottom: 16,\n  },\n  participantsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n  },\n  participantContainer: {\n    alignItems: 'center',\n    width: 80,\n  },\n  participantAvatarContainer: {\n    position: 'relative' as const,\n    marginBottom: 8,\n  },\n  speakingRing: {\n    position: 'absolute' as const,\n    top: -4,\n    left: -4,\n    right: -4,\n    bottom: -4,\n    borderRadius: 40,\n    borderWidth: 3,\n    borderColor: '#7B61FF',\n  },\n  participantAvatar: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n  },\n  participantName: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n    marginBottom: 2,\n  },\n  participantRole: {\n    fontSize: 10,\n    color: '#8E8E93',\n  },\n  audienceSection: {\n    marginBottom: 32,\n  },\n  audienceGrid: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  audienceAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n  },\n  commentsSection: {\n    marginBottom: 32,\n  },\n  commentItem: {\n    backgroundColor: 'rgba(255, 255, 255, 0.05)',\n    borderRadius: 12,\n    padding: 12,\n    marginBottom: 8,\n  },\n  commentUsername: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n    color: '#7B61FF',\n    marginBottom: 4,\n  },\n  commentText: {\n    fontSize: 14,\n    color: '#FFFFFF',\n  },\n  bottomBar: {\n    paddingHorizontal: 16,\n    paddingTop: 12,\n    backgroundColor: 'rgba(11, 13, 26, 0.95)',\n    borderTopWidth: 1,\n    borderTopColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  commentInputContainer: {\n    marginBottom: 12,\n  },\n  commentInput: {\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 14,\n    color: '#FFFFFF',\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    gap: 12,\n  },\n  actionButton: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  mutedButton: {\n    backgroundColor: 'rgba(255, 59, 48, 0.2)',\n  },\n  activeButton: {\n    backgroundColor: '#7B61FF',\n  },\n  reactionsBar: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 12,\n    paddingVertical: 8,\n    backgroundColor: 'rgba(255, 255, 255, 0.05)',\n    borderRadius: 20,\n  },\n  reactionButton: {\n    padding: 8,\n  },\n  reactionEmoji: {\n    fontSize: 24,\n  },\n  floatingReaction: {\n    position: 'absolute' as const,\n    bottom: 200,\n    fontSize: 32,\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, ScrollView, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { ArrowLeft, Shield, Globe } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { detectRegion, getRegionName, type RegionInfo } from '@/utils/region-detection';\nimport { getLegalContent } from '@/constants/legal-content';\n\nexport default function PrivacyPolicyScreen() {\n  const { colors } = useTheme();\n  const insets = useSafeAreaInsets();\n  const [regionInfo, setRegionInfo] = useState<RegionInfo | null>(null);\n  const [content, setContent] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadContent = async () => {\n      try {\n        setLoading(true);\n        const detected = detectRegion();\n        setRegionInfo(detected);\n        \n        const legalContent = getLegalContent(detected.region);\n        setContent(legalContent.privacyPolicy);\n      } catch (error) {\n        console.error('[PrivacyPolicy] Error loading content:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadContent();\n  }, []);\n\n  const renderMarkdown = (text: string) => {\n    const lines = text.split('\\n');\n    const elements: JSX.Element[] = [];\n    \n    lines.forEach((line, index) => {\n      if (line.startsWith('# ')) {\n        elements.push(\n          <Text key={index} style={[styles.h1, { color: colors.text }]}>\n            {line.replace('# ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('## ')) {\n        elements.push(\n          <Text key={index} style={[styles.h2, { color: colors.text }]}>\n            {line.replace('## ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('### ')) {\n        elements.push(\n          <Text key={index} style={[styles.h3, { color: colors.text }]}>\n            {line.replace('### ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('- ')) {\n        elements.push(\n          <View key={index} style={styles.bulletContainer}>\n            <Text style={[styles.bullet, { color: colors.textSecondary }]}></Text>\n            <Text style={[styles.bulletText, { color: colors.textSecondary }]}>\n              {line.replace('- ', '')}\n            </Text>\n          </View>\n        );\n      } else if (line.startsWith('**') && line.endsWith('**')) {\n        elements.push(\n          <Text key={index} style={[styles.bold, { color: colors.text }]}>\n            {line.replace(/\\*\\*/g, '')}\n          </Text>\n        );\n      } else if (line.trim() === '---') {\n        elements.push(\n          <View key={index} style={[styles.divider, { backgroundColor: colors.border }]} />\n        );\n      } else if (line.trim() !== '') {\n        elements.push(\n          <Text key={index} style={[styles.paragraph, { color: colors.textSecondary }]}>\n            {line}\n          </Text>\n        );\n      } else {\n        elements.push(<View key={index} style={styles.spacing} />);\n      }\n    });\n    \n    return elements;\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: colors.background },\n          headerTintColor: colors.text,\n          headerTitle: 'Privacy Policy',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={colors.primary} />\n          <Text style={[styles.loadingText, { color: colors.textSecondary }]}>\n            Loading privacy policy...\n          </Text>\n        </View>\n      ) : (\n        <>\n          {regionInfo && (\n            <View style={[styles.regionBanner, { backgroundColor: colors.glass }]}>\n              <Globe size={16} color={colors.primary} />\n              <Text style={[styles.regionText, { color: colors.textSecondary }]}>\n                Showing {getRegionName(regionInfo.region)} version\n              </Text>\n            </View>\n          )}\n\n          <ScrollView\n            style={styles.scrollView}\n            contentContainerStyle={[\n              styles.content,\n              { paddingBottom: insets.bottom + 40 }\n            ]}\n            showsVerticalScrollIndicator={false}\n          >\n            <View style={[styles.header, { backgroundColor: colors.glass }]}>\n              <Shield size={32} color={colors.primary} />\n              <Text style={[styles.headerTitle, { color: colors.text }]}>\n                Your Privacy Matters\n              </Text>\n              <Text style={[styles.headerSubtitle, { color: colors.textSecondary }]}>\n                We&apos;re committed to protecting your personal information\n              </Text>\n            </View>\n\n            <View style={[styles.contentCard, { backgroundColor: colors.card }]}>\n              {renderMarkdown(content)}\n            </View>\n          </ScrollView>\n        </>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 16,\n  },\n  loadingText: {\n    fontSize: 14,\n  },\n  regionBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    gap: 8,\n  },\n  regionText: {\n    fontSize: 12,\n    fontWeight: '500' as const,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  content: {\n    padding: 16,\n  },\n  header: {\n    alignItems: 'center',\n    padding: 24,\n    borderRadius: 16,\n    marginBottom: 16,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginTop: 12,\n    textAlign: 'center',\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    marginTop: 8,\n    textAlign: 'center',\n  },\n  contentCard: {\n    borderRadius: 16,\n    padding: 20,\n  },\n  h1: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginTop: 24,\n    marginBottom: 12,\n  },\n  h2: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  h3: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  paragraph: {\n    fontSize: 14,\n    lineHeight: 22,\n    marginBottom: 8,\n  },\n  bulletContainer: {\n    flexDirection: 'row',\n    marginBottom: 6,\n    paddingLeft: 8,\n  },\n  bullet: {\n    fontSize: 14,\n    marginRight: 8,\n    marginTop: 2,\n  },\n  bulletText: {\n    flex: 1,\n    fontSize: 14,\n    lineHeight: 22,\n  },\n  bold: {\n    fontSize: 14,\n    fontWeight: '700' as const,\n    marginBottom: 8,\n  },\n  divider: {\n    height: 1,\n    marginVertical: 16,\n  },\n  spacing: {\n    height: 8,\n  },\n});\n","import { Stack } from \"expo-router\";\n\nexport default function RootLayout() {\n  return (\n    <Stack>\n      <Stack.Screen name=\"(tabs)\" />\n    </Stack>\n  );\n}\n","import React from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity } from 'react-native';\nimport { Check, X, AlertCircle } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Conversation } from '@/types/messaging';\n\ninterface MessageRequestCardProps {\n  conversation: Conversation;\n  senderName: string;\n  senderImage: string;\n  senderUsername: string;\n  onAccept: () => void;\n  onDecline: () => void;\n  onViewProfile: () => void;\n}\n\nexport function MessageRequestCard({\n  conversation,\n  senderName,\n  senderImage,\n  senderUsername,\n  onAccept,\n  onDecline,\n  onViewProfile,\n}: MessageRequestCardProps) {\n  const { colors } = useTheme();\n\n  const getLastMessagePreview = () => {\n    if (!conversation.lastMessage) return 'Sent you a message';\n    \n    const msg = conversation.lastMessage;\n    switch (msg.type) {\n      case 'image':\n        return ' Sent a photo';\n      case 'video':\n        return ' Sent a video';\n      case 'voice':\n        return ' Sent a voice message';\n      case 'gif':\n        return 'Sent a GIF';\n      case 'sticker':\n        return 'Sent a sticker';\n      default:\n        return msg.content;\n    }\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.card }]}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={onViewProfile} style={styles.profileSection}>\n          <Avatar uri={senderImage} size={64} />\n          <View style={styles.profileInfo}>\n            <Text style={[styles.name, { color: colors.text }]}>{senderName}</Text>\n            <Text style={[styles.username, { color: colors.textSecondary }]}>@{senderUsername}</Text>\n          </View>\n        </TouchableOpacity>\n      </View>\n\n      <View style={[styles.messagePreview, { backgroundColor: colors.background }]}>\n        <Text style={[styles.messageText, { color: colors.textSecondary }]} numberOfLines={2}>\n          {getLastMessagePreview()}\n        </Text>\n      </View>\n\n      <View style={[styles.warningBanner, { backgroundColor: colors.glass }]}>\n        <AlertCircle size={16} color={colors.warning} />\n        <Text style={[styles.warningText, { color: colors.textSecondary }]}>\n          You don&apos;t follow each other\n        </Text>\n      </View>\n\n      <View style={styles.actions}>\n        <TouchableOpacity\n          style={[styles.actionButton, styles.declineButton, { backgroundColor: colors.background }]}\n          onPress={onDecline}\n        >\n          <X size={20} color={colors.error} />\n          <Text style={[styles.actionText, { color: colors.error }]}>Decline</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.actionButton, styles.acceptButton, { backgroundColor: colors.primary }]}\n          onPress={onAccept}\n        >\n          <Check size={20} color=\"#fff\" />\n          <Text style={[styles.actionText, { color: '#fff' }]}>Accept</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginHorizontal: 16,\n    marginVertical: 8,\n    borderRadius: 16,\n    padding: 16,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  header: {\n    marginBottom: 16,\n  },\n  profileSection: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  profileInfo: {\n    flex: 1,\n  },\n  name: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    marginBottom: 4,\n  },\n  username: {\n    fontSize: 14,\n  },\n  messagePreview: {\n    padding: 12,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  messageText: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  warningBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  warningText: {\n    fontSize: 12,\n    flex: 1,\n  },\n  actions: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  actionButton: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderRadius: 12,\n    gap: 8,\n  },\n  declineButton: {\n    borderWidth: 1,\n    borderColor: 'rgba(239, 68, 68, 0.3)',\n  },\n  acceptButton: {},\n  actionText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport { \n  StyleSheet, \n  Text, \n  View, \n  FlatList, \n  TouchableOpacity, \n  TextInput,\n  RefreshControl,\n  Modal,\n  Pressable,\n} from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useDM } from '@/hooks/dm-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { \n  Search, \n  Edit3, \n  MoreHorizontal,\n  Settings,\n  X,\n  UserPlus,\n  Users,\n  ChevronDown,\n} from 'lucide-react-native';\nimport { Conversation } from '@/types/messaging';\nimport { mockUsers } from '@/mocks/users';\nimport { useTheme } from '@/hooks/theme-store';\nimport { MessageRequestCard } from '@/components/messaging/MessageRequestCard';\n\n\nexport default function InboxScreen() {\n  const { colors } = useTheme();\n  const { \n    getActiveConversations,\n    getMessageRequests,\n    getTotalUnreadCount,\n    selectConversation,\n    togglePin,\n    toggleMute,\n    archiveConversation,\n    deleteConversation,\n    acceptRequest,\n    declineRequest,\n  } = useDM();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [refreshing, setRefreshing] = useState(false);\n  const [showRequests, setShowRequests] = useState(false);\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n\n  const conversations = showRequests ? getMessageRequests() : getActiveConversations();\n  const requestCount = getMessageRequests().length;\n  const totalUnread = getTotalUnreadCount();\n\n  const onRefresh = () => {\n    setRefreshing(true);\n    setTimeout(() => setRefreshing(false), 1000);\n  };\n\n  const formatTime = (date: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    \n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    \n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  const handleConversationPress = (conversation: Conversation) => {\n    selectConversation(conversation.id);\n    router.push(`/chat/${conversation.id}`);\n  };\n\n  const getOtherUser = (conversation: Conversation) => {\n    const otherUserId = conversation.participants.find(id => id !== 'current-user');\n    return mockUsers.find(u => u.id === otherUserId) || mockUsers[0];\n  };\n\n  const isUserOnline = (userId: string) => {\n    return Math.random() > 0.5;\n  };\n\n  const getConversationName = (conversation: Conversation) => {\n    if (conversation.type === 'group') {\n      return conversation.name || 'Group Chat';\n    }\n    const user = getOtherUser(conversation);\n    return user.displayName;\n  };\n\n  const getConversationImage = (conversation: Conversation) => {\n    if (conversation.type === 'group') {\n      return conversation.image;\n    }\n    const user = getOtherUser(conversation);\n    return user.profileImage;\n  };\n\n  const getLastMessageText = (conversation: Conversation) => {\n    if (!conversation.lastMessage) return 'Tap to chat';\n    \n    const msg = conversation.lastMessage;\n    const isMe = msg.senderId === 'current-user';\n    const prefix = isMe ? 'You: ' : '';\n    \n    if (msg.deletedForEveryone) return ' This message was deleted';\n    \n    switch (msg.type) {\n      case 'image':\n        return `${prefix} Photo`;\n      case 'video':\n        return `${prefix} Video`;\n      case 'voice':\n        return `${prefix} Voice message`;\n      default:\n        return `${prefix}${msg.content}`;\n    }\n  };\n\n\n\n  const renderConversation = ({ item }: { item: Conversation }) => {\n    if (showRequests && item.isRequest) {\n      const otherUser = getOtherUser(item);\n      return (\n        <MessageRequestCard\n          conversation={item}\n          senderName={otherUser.displayName}\n          senderImage={otherUser.profileImage || ''}\n          senderUsername={otherUser.username}\n          onAccept={() => {\n            acceptRequest(item.id);\n          }}\n          onDecline={() => {\n            declineRequest(item.id);\n          }}\n          onViewProfile={() => {\n            router.push(`/user/${otherUser.id}`);\n          }}\n        />\n      );\n    }\n\n    const otherUser = getOtherUser(item);\n    const isOnline = isUserOnline(otherUser.id);\n\n    return (\n      <TouchableOpacity\n        style={[styles.conversationItem, { backgroundColor: colors.background }]}\n        onPress={() => handleConversationPress(item)}\n        activeOpacity={0.9}\n      >\n        <View style={styles.avatarContainer}>\n          <Avatar\n            uri={getConversationImage(item)}\n            size={56}\n          />\n          {isOnline && (\n            <View style={[styles.onlineDot, { backgroundColor: '#44b700' }]} />\n          )}\n        </View>\n        \n        <View style={styles.conversationContent}>\n          <View style={styles.conversationHeader}>\n            <View style={styles.nameContainer}>\n              <Text style={[styles.userName, { color: colors.text }]} numberOfLines={1}>\n                {getConversationName(item)}\n              </Text>\n              {isOnline && (\n                <View style={styles.onlineBadge}>\n                  <Text style={styles.onlineBadgeText}>Active</Text>\n                </View>\n              )}\n            </View>\n            <View style={styles.headerRight}>\n              {item.lastMessage && (\n                <Text style={[styles.timestamp, { color: colors.textSecondary }]}>\n                  {formatTime(new Date(item.lastMessage.createdAt))}\n                </Text>\n              )}\n              <TouchableOpacity \n                style={styles.menuButton}\n                onPress={() => setShowSettingsModal(true)}\n              >\n                <MoreHorizontal size={20} color={colors.textSecondary} />\n              </TouchableOpacity>\n            </View>\n          </View>\n          \n          <View style={styles.messagePreview}>\n            <Text \n              style={[\n                styles.lastMessage,\n                { color: colors.textSecondary },\n                item.unreadCount > 0 && [styles.unreadMessage, { color: colors.text }]\n              ]}\n              numberOfLines={1}\n            >\n              {getLastMessageText(item)}\n            </Text>\n            {item.unreadCount > 0 && (\n              <View style={[styles.unreadBadge, { backgroundColor: colors.primary }]}>\n                <Text style={styles.unreadBadgeText}>{item.unreadCount}</Text>\n              </View>\n            )}\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  const filteredConversations = conversations.filter(conv => {\n    if (!searchQuery) return true;\n    const name = getConversationName(conv).toLowerCase();\n    return name.includes(searchQuery.toLowerCase());\n  });\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen \n        options={{ \n          title: 'Messages',\n          headerStyle: { backgroundColor: colors.background },\n          headerTitleStyle: { \n            color: colors.text,\n            fontSize: 22,\n            fontWeight: 'bold' as const,\n          },\n          headerTintColor: colors.text,\n          headerRight: () => (\n            <View style={styles.headerRightContainer}>\n              <TouchableOpacity \n                style={styles.headerButton}\n                onPress={() => router.push('/messages-settings')}\n              >\n                <Settings size={24} color={colors.text} />\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.headerButton}\n                onPress={() => setShowNewChatModal(true)}\n              >\n                <Edit3 size={24} color={colors.text} />\n              </TouchableOpacity>\n            </View>\n          ),\n        }} \n      />\n      \n      <View style={[styles.searchContainer, { backgroundColor: colors.background }]}>\n        <View style={[styles.searchBar, { backgroundColor: colors.card }]}>\n          <Search size={18} color={colors.textSecondary} />\n          <TextInput\n            style={[styles.searchInput, { color: colors.text }]}\n            placeholder=\"Search\"\n            placeholderTextColor={colors.textSecondary}\n            value={searchQuery}\n            onChangeText={setSearchQuery}\n          />\n        </View>\n      </View>\n\n      {requestCount > 0 && !showRequests && (\n        <TouchableOpacity \n          style={[styles.requestsBanner, { backgroundColor: colors.background, borderBottomColor: colors.border }]}\n          onPress={() => setShowRequests(true)}\n        >\n          <View style={styles.requestsLeft}>\n            <Text style={[styles.requestsText, { color: colors.text }]}>\n              Message Requests\n            </Text>\n            <Text style={[styles.requestsCount, { color: colors.primary }]}>\n              {requestCount}\n            </Text>\n          </View>\n          <ChevronDown size={20} color={colors.textSecondary} style={{ transform: [{ rotate: '-90deg' }] }} />\n        </TouchableOpacity>\n      )}\n\n      {showRequests && (\n        <View style={[styles.requestsHeader, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n          <TouchableOpacity onPress={() => setShowRequests(false)}>\n            <Text style={[styles.backToInbox, { color: colors.primary }]}> Back</Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      {filteredConversations.length === 0 ? (\n        <View style={styles.emptyContainer}>\n          <View style={[styles.emptyIconContainer, { backgroundColor: colors.card }]}>\n            <Edit3 size={64} color={colors.textSecondary} strokeWidth={1.5} />\n          </View>\n          <Text style={[styles.emptyTitle, { color: colors.text }]}>\n            {searchQuery ? 'No results found' : showRequests ? 'No message requests' : 'No messages yet'}\n          </Text>\n          <Text style={[styles.emptyMessage, { color: colors.textSecondary }]}>\n            {searchQuery \n              ? 'Try searching for something else' \n              : showRequests\n              ? 'Message requests from people you don\\'t follow will appear here'\n              : 'Send a message to start a conversation'}\n          </Text>\n          {!searchQuery && !showRequests && (\n            <TouchableOpacity \n              style={[styles.sendMessageButton, { backgroundColor: colors.primary }]}\n              onPress={() => setShowNewChatModal(true)}\n            >\n              <Text style={styles.sendMessageButtonText}>Send Message</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n      ) : (\n        <FlatList\n          data={filteredConversations}\n          keyExtractor={(item) => item.id}\n          renderItem={renderConversation}\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={styles.listContainer}\n          refreshControl={\n            <RefreshControl\n              refreshing={refreshing}\n              onRefresh={onRefresh}\n              tintColor={colors.primary}\n            />\n          }\n        />\n      )}\n\n      <Modal\n        visible={showNewChatModal}\n        animationType=\"slide\"\n        transparent\n        onRequestClose={() => setShowNewChatModal(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setShowNewChatModal(false)}\n        >\n          <Pressable style={[styles.modalContent, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n            <View style={[styles.modalHeader, { borderBottomColor: colors.border }]}>\n              <Text style={[styles.modalTitle, { color: colors.text }]}>New Message</Text>\n              <TouchableOpacity onPress={() => setShowNewChatModal(false)}>\n                <X size={24} color={colors.text} />\n              </TouchableOpacity>\n            </View>\n            <View style={styles.modalBody}>\n              <View style={[styles.searchBar, { backgroundColor: colors.background, marginHorizontal: 16, marginBottom: 16 }]}>\n                <Search size={18} color={colors.textSecondary} />\n                <TextInput\n                  style={[styles.searchInput, { color: colors.text }]}\n                  placeholder=\"Search people to message...\"\n                  placeholderTextColor={colors.textSecondary}\n                  autoFocus\n                />\n              </View>\n              <TouchableOpacity \n                style={[styles.modalOption, { borderBottomColor: colors.border }]}\n                onPress={() => {\n                  setShowNewChatModal(false);\n                }}\n              >\n                <View style={[styles.modalOptionIcon, { backgroundColor: colors.primary }]}>\n                  <UserPlus size={24} color=\"#fff\" />\n                </View>\n                <View style={styles.modalOptionText}>\n                  <Text style={[styles.modalOptionTitle, { color: colors.text }]}>New Chat</Text>\n                  <Text style={[styles.modalOptionSubtitle, { color: colors.textSecondary }]}>Start a conversation</Text>\n                </View>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.modalOption}\n                onPress={() => {\n                  setShowNewChatModal(false);\n                }}\n              >\n                <View style={[styles.modalOptionIcon, { backgroundColor: colors.primary }]}>\n                  <Users size={24} color=\"#fff\" />\n                </View>\n                <View style={styles.modalOptionText}>\n                  <Text style={[styles.modalOptionTitle, { color: colors.text }]}>New Group</Text>\n                  <Text style={[styles.modalOptionSubtitle, { color: colors.textSecondary }]}>Create a group chat</Text>\n                </View>\n              </TouchableOpacity>\n            </View>\n          </Pressable>\n        </Pressable>\n      </Modal>\n\n      <Modal\n        visible={showSettingsModal}\n        animationType=\"slide\"\n        transparent\n        onRequestClose={() => setShowSettingsModal(false)}\n      >\n        <Pressable \n          style={styles.modalOverlay}\n          onPress={() => setShowSettingsModal(false)}\n        >\n          <Pressable style={[styles.modalContent, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n            <View style={[styles.modalHeader, { borderBottomColor: colors.border }]}>\n              <Text style={[styles.modalTitle, { color: colors.text }]}>Message Settings</Text>\n              <TouchableOpacity onPress={() => setShowSettingsModal(false)}>\n                <X size={24} color={colors.text} />\n              </TouchableOpacity>\n            </View>\n            <View style={styles.modalBody}>\n              <TouchableOpacity \n                style={[styles.settingsOption, { borderBottomColor: colors.border }]}\n                onPress={() => setShowSettingsModal(false)}\n              >\n                <Text style={[styles.settingsOptionText, { color: colors.text }]}>Mute notifications</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[styles.settingsOption, { borderBottomColor: colors.border }]}\n                onPress={() => setShowSettingsModal(false)}\n              >\n                <Text style={[styles.settingsOptionText, { color: colors.text }]}>Mark as unread</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[styles.settingsOption, { borderBottomColor: colors.border }]}\n                onPress={() => setShowSettingsModal(false)}\n              >\n                <Text style={[styles.settingsOptionText, { color: colors.text }]}>Archive chat</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.settingsOption}\n                onPress={() => setShowSettingsModal(false)}\n              >\n                <Text style={[styles.settingsOptionText, { color: colors.error }]}>Delete chat</Text>\n              </TouchableOpacity>\n            </View>\n          </Pressable>\n        </Pressable>\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  headerRightContainer: {\n    flexDirection: 'row',\n    marginRight: 16,\n    gap: 16,\n  },\n  headerButton: {\n    padding: 4,\n  },\n  searchContainer: {\n    paddingHorizontal: 16,\n    paddingTop: 12,\n    paddingBottom: 12,\n  },\n  searchBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 10,\n    paddingHorizontal: 12,\n    height: 45,\n    gap: 8,\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 0,\n  },\n  requestsBanner: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  requestsLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  requestsText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  requestsCount: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n  requestsHeader: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  backToInbox: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  listContainer: {\n    paddingBottom: 20,\n  },\n  conversationItem: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    paddingHorizontal: 16,\n    paddingVertical: 16,\n  },\n  avatarContainer: {\n    position: 'relative',\n    marginRight: 12,\n  },\n  onlineDot: {\n    position: 'absolute',\n    bottom: 2,\n    right: 2,\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    borderWidth: 3,\n    borderColor: '#fff',\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    gap: 8,\n  },\n  onlineBadge: {\n    backgroundColor: 'rgba(68, 183, 0, 0.15)',\n    paddingHorizontal: 8,\n    paddingVertical: 2,\n    borderRadius: 10,\n  },\n  onlineBadgeText: {\n    color: '#44b700',\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  headerRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  menuButton: {\n    padding: 4,\n  },\n  userName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  timestamp: {\n    fontSize: 13,\n    marginLeft: 4,\n  },\n  messagePreview: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  lastMessage: {\n    fontSize: 15,\n    flex: 1,\n  },\n  unreadMessage: {\n    fontWeight: '600' as const,\n  },\n  unreadBadge: {\n    minWidth: 20,\n    height: 20,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 6,\n  },\n  unreadBadgeText: {\n    color: '#fff',\n    fontSize: 12,\n    fontWeight: '700' as const,\n  },\n\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 40,\n  },\n  emptyIconContainer: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 24,\n  },\n  emptyTitle: {\n    fontSize: 22,\n    fontWeight: 'bold' as const,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  emptyMessage: {\n    fontSize: 16,\n    textAlign: 'center',\n    lineHeight: 22,\n    marginBottom: 32,\n  },\n  sendMessageButton: {\n    paddingVertical: 14,\n    paddingHorizontal: 32,\n    borderRadius: 24,\n  },\n  sendMessageButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-end',\n  },\n  modalContent: {\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    paddingBottom: 40,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold' as const,\n  },\n  modalBody: {\n    paddingTop: 8,\n  },\n  modalOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n  },\n  modalOptionIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  modalOptionText: {\n    flex: 1,\n  },\n  modalOptionTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  modalOptionSubtitle: {\n    fontSize: 14,\n  },\n  settingsOption: {\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n  },\n  settingsOptionText: {\n    fontSize: 16,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, View, FlatList, Text, TouchableOpacity } from 'react-native';\nimport { Stack, useLocalSearchParams, router } from 'expo-router';\nimport { PostCard } from '@/components/home/PostCard';\nimport { useTheme } from '@/hooks/theme-store';\nimport { mockPosts } from '@/mocks/posts';\nimport { Post } from '@/types';\nimport { Hash, TrendingUp } from 'lucide-react-native';\n\nexport default function HashtagScreen() {\n  const { tag } = useLocalSearchParams<{ tag: string }>();\n  const { colors } = useTheme();\n  \n  // Filter posts that contain the hashtag\n  const [hashtagPosts] = useState<Post[]>(\n    mockPosts.filter(post => \n      post.content.toLowerCase().includes(`#${tag?.toLowerCase()}`)\n    )\n  );\n\n  const handleLikePress = (postId: string) => {\n    console.log('Like pressed for post:', postId);\n  };\n\n  const handleCommentPress = (postId: string) => {\n    router.push(`/post/${postId}`);\n  };\n\n  const handleSharePress = (postId: string) => {\n    console.log('Share pressed for post:', postId);\n  };\n\n  const handleSavePress = (postId: string) => {\n    console.log('Save pressed for post:', postId);\n  };\n\n  const handleUserPress = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  const handlePostPress = (postId: string) => {\n    router.push(`/post/${postId}`);\n  };\n\n  return (\n    <>\n      <Stack.Screen \n        options={{ \n          title: `#${tag}`,\n          headerStyle: { backgroundColor: colors.background },\n          headerTintColor: colors.text,\n          headerTitleStyle: { color: '#87CEEB' },\n        }} \n      />\n      <View style={[styles.container, { backgroundColor: colors.background }]}>\n        <View style={styles.header}>\n          <View style={styles.hashtagInfo}>\n            <View style={styles.hashtagIconContainer}>\n              <Hash size={28} color=\"#87CEEB\" />\n            </View>\n            <View style={styles.hashtagTextContainer}>\n              <Text style={[styles.hashtagTitle, { color: '#87CEEB' }]}>#{tag}</Text>\n              <Text style={[styles.postCount, { color: colors.textSecondary }]}>\n                {hashtagPosts.length} {hashtagPosts.length === 1 ? 'post' : 'posts'}\n              </Text>\n            </View>\n          </View>\n          <TouchableOpacity style={styles.followHashtagButton}>\n            <TrendingUp size={20} color=\"#87CEEB\" />\n            <Text style={styles.followHashtagText}>Follow</Text>\n          </TouchableOpacity>\n        </View>\n        \n        {hashtagPosts.length > 0 ? (\n          <FlatList\n            data={hashtagPosts}\n            keyExtractor={(item) => item.id}\n            renderItem={({ item }) => (\n              <PostCard\n                post={item}\n                onPress={handlePostPress}\n                onLike={handleLikePress}\n                onComment={handleCommentPress}\n                onShare={handleSharePress}\n                onSavePress={handleSavePress}\n                onUserPress={handleUserPress}\n              />\n            )}\n            showsVerticalScrollIndicator={false}\n            contentContainerStyle={styles.contentContainer}\n          />\n        ) : (\n          <View style={styles.emptyState}>\n            <Hash size={48} color={colors.textSecondary} />\n            <Text style={[styles.emptyTitle, { color: colors.text }]}>No posts found</Text>\n            <Text style={[styles.emptySubtitle, { color: colors.textSecondary }]}>\n              Be the first to post with #{tag}\n            </Text>\n          </View>\n        )}\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: 'rgba(255, 255, 255, 0.1)',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  hashtagInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  hashtagIconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: 'rgba(135, 206, 235, 0.15)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 12,\n  },\n  hashtagTextContainer: {\n    flex: 1,\n  },\n  hashtagTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 4,\n  },\n  postCount: {\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  followHashtagButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'rgba(135, 206, 235, 0.15)',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    gap: 6,\n  },\n  followHashtagText: {\n    color: '#87CEEB',\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  contentContainer: {\n    paddingBottom: 100,\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 32,\n  },\n  emptyTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  emptySubtitle: {\n    fontSize: 16,\n    textAlign: 'center',\n    lineHeight: 24,\n  },\n});","export type Theme = 'light' | 'dark';\nexport type ThemePreference = Theme | 'system';\n\nexport interface ColorScheme {\n  primary: string;\n  primaryLight: string;\n  primaryDark: string;\n  background: string;\n  backgroundSecondary: string;\n  card: string;\n  cardLight: string;\n  text: string;\n  textSecondary: string;\n  textMuted: string;\n  textInverse: string;\n  border: string;\n  borderLight: string;\n  error: string;\n  success: string;\n  warning: string;\n  info: string;\n  notification: string;\n  transparent: string;\n  overlay: string;\n  glass: string;\n  glassLight: string;\n  shadow: string;\n}\n\nexport const DarkTheme: ColorScheme = {\n  primary: '#3B82F6',\n  primaryLight: '#60A5FA',\n  primaryDark: '#2563EB',\n  background: '#000000',\n  backgroundSecondary: '#0A0A0A',\n  card: '#121212',\n  cardLight: '#1E1E1E',\n  text: '#FFFFFF',\n  textSecondary: '#A0A0A0',\n  textMuted: '#6B7280',\n  textInverse: '#000000',\n  border: '#2A2A2A',\n  borderLight: '#3A3A3A',\n  error: '#EF4444',\n  success: '#10B981',\n  warning: '#F59E0B',\n  info: '#3B82F6',\n  notification: '#EF4444',\n  transparent: 'transparent',\n  overlay: 'rgba(0, 0, 0, 0.5)',\n  glass: 'rgba(255, 255, 255, 0.1)',\n  glassLight: 'rgba(255, 255, 255, 0.15)',\n  shadow: 'rgba(0, 0, 0, 0.3)',\n};\n\nexport const LightTheme: ColorScheme = {\n  primary: '#3B82F6',\n  primaryLight: '#60A5FA',\n  primaryDark: '#2563EB',\n  background: '#FFFFFF',\n  backgroundSecondary: '#F8F9FA',\n  card: '#FFFFFF',\n  cardLight: '#F1F5F9',\n  text: '#000000',\n  textSecondary: '#6B7280',\n  textMuted: '#9CA3AF',\n  textInverse: '#FFFFFF',\n  border: '#E5E7EB',\n  borderLight: '#F3F4F6',\n  error: '#EF4444',\n  success: '#10B981',\n  warning: '#F59E0B',\n  info: '#3B82F6',\n  notification: '#EF4444',\n  transparent: 'transparent',\n  overlay: 'rgba(0, 0, 0, 0.5)',\n  glass: 'rgba(0, 0, 0, 0.1)',\n  glassLight: 'rgba(0, 0, 0, 0.05)',\n  shadow: 'rgba(0, 0, 0, 0.1)',\n};\n\n// Legacy export for backward compatibility\nexport const Colors = DarkTheme;","import React from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n} from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { X, Users, Heart, MessageCircle, Share2, UserPlus, TrendingUp } from 'lucide-react-native';\nimport { LiveAnalytics } from '@/types/live';\nimport { Colors } from '@/constants/colors';\n\nexport default function LiveAnalyticsScreen() {\n  const { data } = useLocalSearchParams<{ data: string }>();\n  \n  let analytics: LiveAnalytics | null = null;\n  try {\n    analytics = data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Failed to parse analytics:', error);\n  }\n\n  if (!analytics) {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.errorText}>Analytics not available</Text>\n      </View>\n    );\n  }\n\n  const formatDuration = (ms: number) => {\n    const minutes = Math.floor(ms / 60000);\n    const seconds = Math.floor((ms % 60000) / 1000);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const formatWatchTime = (ms: number) => {\n    const minutes = Math.floor(ms / 60000);\n    return `${minutes}m`;\n  };\n\n  return (\n    <SafeAreaView style={styles.container} edges={['top']}>\n      <Stack.Screen options={{ headerShown: false }} />\n\n      <View style={styles.header}>\n        <Text style={styles.headerTitle}>Live Analytics</Text>\n        <TouchableOpacity\n          onPress={() => router.replace('/(tabs)')}\n          style={styles.closeButton}\n          testID=\"close-button\"\n        >\n          <X size={24} color={Colors.text} />\n        </TouchableOpacity>\n      </View>\n\n      <ScrollView\n        style={styles.content}\n        contentContainerStyle={styles.contentContainer}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.summaryCard}>\n          <Text style={styles.summaryTitle}>Great job! </Text>\n          <Text style={styles.summarySubtitle}>\n            Your live session has ended\n          </Text>\n          <View style={styles.durationContainer}>\n            <Text style={styles.durationLabel}>Duration</Text>\n            <Text style={styles.durationValue}>\n              {formatDuration(analytics.duration)}\n            </Text>\n          </View>\n        </View>\n\n        <View style={styles.statsGrid}>\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <Users size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.peakViewers}</Text>\n            <Text style={styles.statLabel}>Peak Viewers</Text>\n          </View>\n\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <Users size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.totalViews}</Text>\n            <Text style={styles.statLabel}>Total Views</Text>\n          </View>\n\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <Heart size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.likeCount}</Text>\n            <Text style={styles.statLabel}>Likes</Text>\n          </View>\n\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <MessageCircle size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.commentCount}</Text>\n            <Text style={styles.statLabel}>Comments</Text>\n          </View>\n\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <Share2 size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.shareCount}</Text>\n            <Text style={styles.statLabel}>Shares</Text>\n          </View>\n\n          <View style={styles.statCard}>\n            <View style={styles.statIconContainer}>\n              <UserPlus size={24} color={Colors.primary} />\n            </View>\n            <Text style={styles.statValue}>{analytics.newFollowers}</Text>\n            <Text style={styles.statLabel}>New Followers</Text>\n          </View>\n        </View>\n\n        <View style={styles.section}>\n          <View style={styles.sectionHeader}>\n            <TrendingUp size={20} color={Colors.text} />\n            <Text style={styles.sectionTitle}>Engagement</Text>\n          </View>\n          <View style={styles.engagementCard}>\n            <View style={styles.engagementRow}>\n              <Text style={styles.engagementLabel}>Engagement Rate</Text>\n              <Text style={styles.engagementValue}>\n                {(analytics.engagementRate * 100).toFixed(1)}%\n              </Text>\n            </View>\n            <View style={styles.engagementRow}>\n              <Text style={styles.engagementLabel}>Avg. Watch Time</Text>\n              <Text style={styles.engagementValue}>\n                {formatWatchTime(analytics.averageWatchTime)}\n              </Text>\n            </View>\n            <View style={styles.engagementRow}>\n              <Text style={styles.engagementLabel}>Unique Viewers</Text>\n              <Text style={styles.engagementValue}>\n                {analytics.uniqueViewers}\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.actions}>\n          <TouchableOpacity\n            style={styles.primaryButton}\n            onPress={() => router.replace('/(tabs)')}\n          >\n            <Text style={styles.primaryButtonText}>Done</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.secondaryButton}\n            onPress={() => console.log('Share analytics')}\n          >\n            <Share2 size={20} color={Colors.primary} />\n            <Text style={styles.secondaryButtonText}>Share Results</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  content: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n  },\n  summaryCard: {\n    backgroundColor: Colors.card,\n    borderRadius: 16,\n    padding: 24,\n    alignItems: 'center',\n    marginBottom: 24,\n  },\n  summaryTitle: {\n    fontSize: 28,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginBottom: 8,\n  },\n  summarySubtitle: {\n    fontSize: 16,\n    color: Colors.textSecondary,\n    marginBottom: 24,\n  },\n  durationContainer: {\n    alignItems: 'center',\n  },\n  durationLabel: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    marginBottom: 4,\n  },\n  durationValue: {\n    fontSize: 32,\n    fontWeight: '700' as const,\n    color: Colors.primary,\n  },\n  statsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n    marginBottom: 24,\n  },\n  statCard: {\n    flex: 1,\n    minWidth: '30%',\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    padding: 16,\n    alignItems: 'center',\n  },\n  statIconContainer: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: `${Colors.primary}20`,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 12,\n  },\n  statValue: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginBottom: 4,\n  },\n  statLabel: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n  },\n  section: {\n    marginBottom: 24,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 12,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  engagementCard: {\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    padding: 16,\n  },\n  engagementRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  engagementLabel: {\n    fontSize: 16,\n    color: Colors.text,\n  },\n  engagementValue: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: Colors.primary,\n  },\n  actions: {\n    gap: 12,\n    marginBottom: 24,\n  },\n  primaryButton: {\n    backgroundColor: Colors.primary,\n    borderRadius: 12,\n    padding: 16,\n    alignItems: 'center',\n  },\n  primaryButtonText: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n  secondaryButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    padding: 16,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  secondaryButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: Colors.primary,\n  },\n  errorText: {\n    fontSize: 16,\n    color: Colors.text,\n    textAlign: 'center',\n  },\n});\n","import * as Localization from 'expo-localization';\n\nexport type Region = 'EU' | 'US_CA' | 'ZA' | 'OTHER';\n\nexport interface RegionInfo {\n  region: Region;\n  countryCode: string;\n  countryName: string;\n}\n\nconst EU_COUNTRIES = [\n  'AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR',\n  'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL',\n  'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'GB', 'UK'\n];\n\nexport function detectRegion(): RegionInfo {\n  try {\n    const locales = Localization.getLocales();\n    const primaryLocale = locales[0];\n    const countryCode = primaryLocale?.regionCode?.toUpperCase() || 'US';\n\n    let region: Region = 'OTHER';\n    \n    if (EU_COUNTRIES.includes(countryCode)) {\n      region = 'EU';\n    } else if (countryCode === 'US' || countryCode === 'CA') {\n      region = 'US_CA';\n    } else if (countryCode === 'ZA') {\n      region = 'ZA';\n    }\n\n    console.log('[RegionDetection] Detected region:', { region, countryCode });\n\n    return {\n      region,\n      countryCode,\n      countryName: primaryLocale?.regionCode || 'Unknown',\n    };\n  } catch (error) {\n    console.error('[RegionDetection] Error detecting region:', error);\n    return {\n      region: 'OTHER',\n      countryCode: 'US',\n      countryName: 'Unknown',\n    };\n  }\n}\n\nexport function getRegionName(region: Region): string {\n  switch (region) {\n    case 'EU':\n      return 'European Union';\n    case 'US_CA':\n      return 'United States / Canada';\n    case 'ZA':\n      return 'South Africa';\n    default:\n      return 'International';\n  }\n}\n","import React, { useState, useRef } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Modal,\n  Share,\n  Alert,\n  Platform,\n  Dimensions,\n} from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { User } from '@/types';\nimport { X, Download, Copy, Share2 } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { BlurView } from 'expo-blur';\nimport QRCode from 'react-native-qrcode-svg';\nimport { Avatar } from '@/components/ui/Avatar';\nimport * as Clipboard from 'expo-clipboard';\nimport * as MediaLibrary from 'expo-media-library';\nimport { captureRef } from 'react-native-view-shot';\n\ninterface QRCodeShareModalProps {\n  visible: boolean;\n  onClose: () => void;\n  user: User;\n}\n\nconst { width } = Dimensions.get('window');\nconst QR_SIZE = Math.min(width * 0.6, 280);\n\nexport const QRCodeShareModal: React.FC<QRCodeShareModalProps> = ({\n  visible,\n  onClose,\n  user,\n}) => {\n  const [bgColor, setBgColor] = useState<'gradient' | 'white' | 'black'>('gradient');\n  const qrRef = useRef<View>(null);\n\n  const profileUrl = `https://vibesync.app/u/${user.username}`;\n\n  const backgroundColors = {\n    gradient: ['#3B82F6', '#06B6D4', '#10B981'],\n    white: ['#FFFFFF', '#FFFFFF'],\n    black: ['#000000', '#000000'],\n  };\n\n  const textColor = bgColor === 'white' ? '#000000' : Colors.text;\n  const qrBgColor = bgColor === 'white' ? '#FFFFFF' : '#000000';\n  const qrFgColor = bgColor === 'white' ? '#000000' : '#FFFFFF';\n\n  const handleCopyLink = async () => {\n    try {\n      await Clipboard.setStringAsync(profileUrl);\n      Alert.alert('Success', 'Profile link copied to clipboard!');\n      console.log('[QRCode] Profile link copied:', profileUrl);\n    } catch (error) {\n      console.error('[QRCode] Error copying link:', error);\n      Alert.alert('Error', 'Failed to copy link. Please try again.');\n    }\n  };\n\n  const handleShare = async () => {\n    try {\n      const result = await Share.share({\n        message: `Check out ${user.displayName}'s profile on VibeSync!\\n${profileUrl}`,\n        url: profileUrl,\n        title: `${user.displayName} on VibeSync`,\n      });\n\n      if (result.action === Share.sharedAction) {\n        console.log('[QRCode] Profile shared successfully');\n      }\n    } catch (error) {\n      console.error('[QRCode] Error sharing:', error);\n      Alert.alert('Error', 'Failed to share profile. Please try again.');\n    }\n  };\n\n  const handleDownload = async () => {\n    try {\n      if (Platform.OS === 'web') {\n        Alert.alert('Not Available', 'Download is not available on web. Please use the share or copy link options.');\n        return;\n      }\n\n      const { status } = await MediaLibrary.requestPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission Required', 'Please grant media library permissions to save QR code.');\n        return;\n      }\n\n      if (!qrRef.current) {\n        Alert.alert('Error', 'QR code not ready. Please try again.');\n        return;\n      }\n\n      const uri = await captureRef(qrRef, {\n        format: 'png',\n        quality: 1,\n      });\n\n      const asset = await MediaLibrary.createAssetAsync(uri);\n      await MediaLibrary.createAlbumAsync('VibeSync', asset, false);\n\n      Alert.alert('Success', 'QR code saved to your gallery!');\n      console.log('[QRCode] QR code saved to gallery');\n    } catch (error) {\n      console.error('[QRCode] Error downloading QR code:', error);\n      Alert.alert('Error', 'Failed to save QR code. Please try again.');\n    }\n  };\n\n  const toggleBackground = () => {\n    const colors: ('gradient' | 'white' | 'black')[] = ['gradient', 'white', 'black'];\n    const currentIndex = colors.indexOf(bgColor);\n    const nextIndex = (currentIndex + 1) % colors.length;\n    setBgColor(colors[nextIndex]);\n    console.log('[QRCode] Background changed to:', colors[nextIndex]);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <BlurView intensity={80} style={styles.modalOverlay}>\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <View style={styles.header}>\n              <Text style={styles.title}>Share Profile</Text>\n              <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                <X size={24} color={Colors.text} />\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.qrContainer} ref={qrRef} collapsable={false}>\n              <LinearGradient\n                colors={backgroundColors[bgColor] as [string, string, ...string[]]}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n                style={styles.qrBackground}\n              >\n                <View style={styles.qrContent}>\n                  <View style={styles.profileInfo}>\n                    <Avatar\n                      uri={user.profileImage}\n                      size={60}\n                      borderWidth={3}\n                      borderColor={textColor}\n                    />\n                    <Text style={[styles.displayName, { color: textColor }]}>\n                      {user.displayName}\n                    </Text>\n                    <Text style={[styles.username, { color: textColor, opacity: 0.7 }]}>\n                      @{user.username}\n                    </Text>\n                  </View>\n\n                  <View style={styles.qrCodeWrapper}>\n                    <QRCode\n                      value={profileUrl}\n                      size={QR_SIZE}\n                      backgroundColor={qrBgColor}\n                      color={qrFgColor}\n                      logo={user.profileImage ? { uri: user.profileImage } : undefined}\n                      logoSize={QR_SIZE * 0.2}\n                      logoBackgroundColor={qrBgColor}\n                      logoBorderRadius={QR_SIZE * 0.1}\n                    />\n                  </View>\n\n                  <Text style={[styles.scanText, { color: textColor, opacity: 0.8 }]}>\n                    Scan to view profile\n                  </Text>\n                  <Text style={[styles.brandText, { color: textColor, opacity: 0.6 }]}>\n                    VibeSync\n                  </Text>\n                </View>\n              </LinearGradient>\n            </View>\n\n            <TouchableOpacity\n              style={styles.bgToggleButton}\n              onPress={toggleBackground}\n            >\n              <Text style={styles.bgToggleText}>\n                {bgColor === 'gradient' ? 'Gradient' : bgColor === 'white' ? 'White' : 'Black'} Background\n              </Text>\n              <Text style={styles.bgToggleHint}>Tap to change</Text>\n            </TouchableOpacity>\n\n            <View style={styles.actionsContainer}>\n              <TouchableOpacity style={styles.actionButton} onPress={handleShare}>\n                <LinearGradient\n                  colors={['#3B82F6', '#2563EB']}\n                  start={{ x: 0, y: 0 }}\n                  end={{ x: 1, y: 0 }}\n                  style={styles.actionGradient}\n                >\n                  <Share2 size={20} color={Colors.text} />\n                  <Text style={styles.actionText}>Share</Text>\n                </LinearGradient>\n              </TouchableOpacity>\n\n              <TouchableOpacity style={styles.actionButton} onPress={handleCopyLink}>\n                <View style={styles.actionSecondary}>\n                  <Copy size={20} color={Colors.text} />\n                  <Text style={styles.actionText}>Copy Link</Text>\n                </View>\n              </TouchableOpacity>\n\n              {Platform.OS !== 'web' && (\n                <TouchableOpacity style={styles.actionButton} onPress={handleDownload}>\n                  <View style={styles.actionSecondary}>\n                    <Download size={20} color={Colors.text} />\n                    <Text style={styles.actionText}>Download</Text>\n                  </View>\n                </TouchableOpacity>\n              )}\n            </View>\n          </View>\n        </View>\n      </BlurView>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContainer: {\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalContent: {\n    backgroundColor: Colors.card,\n    borderRadius: 24,\n    padding: 24,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 24,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: Colors.text,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  qrContainer: {\n    borderRadius: 20,\n    overflow: 'hidden',\n    marginBottom: 16,\n  },\n  qrBackground: {\n    padding: 24,\n    alignItems: 'center',\n  },\n  qrContent: {\n    alignItems: 'center',\n  },\n  profileInfo: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  displayName: {\n    fontSize: 20,\n    fontWeight: '700',\n    marginTop: 12,\n  },\n  username: {\n    fontSize: 15,\n    marginTop: 4,\n  },\n  qrCodeWrapper: {\n    backgroundColor: '#FFFFFF',\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 16,\n  },\n  scanText: {\n    fontSize: 14,\n    fontWeight: '600',\n    marginBottom: 4,\n  },\n  brandText: {\n    fontSize: 12,\n    fontWeight: '700',\n    letterSpacing: 1,\n  },\n  bgToggleButton: {\n    alignItems: 'center',\n    paddingVertical: 12,\n    marginBottom: 16,\n  },\n  bgToggleText: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  bgToggleHint: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    marginTop: 2,\n  },\n  actionsContainer: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  actionButton: {\n    flex: 1,\n    borderRadius: 16,\n    overflow: 'hidden',\n  },\n  actionGradient: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 14,\n  },\n  actionSecondary: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 14,\n    backgroundColor: Colors.cardLight,\n    borderRadius: 16,\n  },\n  actionText: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, Alert, ScrollView } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { ArrowLeft, Eye, EyeOff, Check, X, LogOut } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { StatusBar } from 'expo-status-bar';\nimport { useAuth } from '@/hooks/auth-store';\n\ninterface PasswordRequirement {\n  label: string;\n  met: boolean;\n}\n\nexport default function ChangePasswordScreen() {\n  const { logout } = useAuth();\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [logoutAllDevices, setLogoutAllDevices] = useState(false);\n\n  const getPasswordStrength = (password: string): 'weak' | 'medium' | 'strong' => {\n    let strength = 0;\n    \n    if (password.length >= 8) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/[0-9]/.test(password)) strength++;\n    if (/[^A-Za-z0-9]/.test(password)) strength++;\n\n    if (strength <= 1) return 'weak';\n    if (strength <= 2) return 'medium';\n    return 'strong';\n  };\n\n  const getPasswordRequirements = (password: string): PasswordRequirement[] => {\n    return [\n      { label: 'At least 8 characters', met: password.length >= 8 },\n      { label: 'One uppercase letter', met: /[A-Z]/.test(password) },\n      { label: 'One number', met: /[0-9]/.test(password) },\n      { label: 'One special character (optional)', met: /[^A-Za-z0-9]/.test(password) },\n    ];\n  };\n\n  const strength = getPasswordStrength(newPassword);\n  const requirements = getPasswordRequirements(newPassword);\n  const isPasswordValid = requirements.slice(0, 3).every(req => req.met);\n\n  const getStrengthColor = () => {\n    switch (strength) {\n      case 'weak': return Colors.error;\n      case 'medium': return '#FFA500';\n      case 'strong': return Colors.success;\n      default: return Colors.border;\n    }\n  };\n\n  const getStrengthWidth = () => {\n    switch (strength) {\n      case 'weak': return '33%';\n      case 'medium': return '66%';\n      case 'strong': return '100%';\n      default: return '0%';\n    }\n  };\n\n  const handleChangePassword = async () => {\n    if (!currentPassword) {\n      setError('Please enter your current password');\n      return;\n    }\n\n    if (!isPasswordValid) {\n      setError('New password does not meet requirements');\n      return;\n    }\n\n    if (newPassword !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    if (currentPassword === newPassword) {\n      setError('New password must be different from current password');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      Alert.alert(\n        'Password Changed Successfully',\n        `Your password has been changed successfully.${logoutAllDevices ? ' You have been logged out from all devices.' : ''}`,\n        [\n          {\n            text: 'OK',\n            onPress: () => {\n              if (logoutAllDevices) {\n                logout();\n                router.replace('/auth');\n              } else {\n                router.back();\n              }\n            },\n          },\n        ]\n      );\n    } catch (err) {\n      setError('Failed to change password. Please try again.');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: Colors.background },\n          headerTintColor: Colors.text,\n          headerTitle: 'Change Password',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>\n        <View style={styles.content}>\n          <View style={styles.iconContainer}>\n            <View style={styles.iconCircle}>\n              <Text style={styles.iconText}></Text>\n            </View>\n          </View>\n\n          <Text style={styles.title}>Change Your Password</Text>\n          <Text style={styles.subtitle}>\n            Keep your account secure by using a strong password\n          </Text>\n\n          {error ? <Text style={styles.errorText}>{error}</Text> : null}\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.inputLabel}>Current Password</Text>\n            <View style={styles.inputWrapper}>\n              <TextInput\n                style={styles.input}\n                placeholder=\"Enter current password\"\n                placeholderTextColor={Colors.textSecondary}\n                value={currentPassword}\n                onChangeText={(text) => {\n                  setCurrentPassword(text);\n                  setError('');\n                }}\n                secureTextEntry={!showCurrentPassword}\n                autoCapitalize=\"none\"\n              />\n              <TouchableOpacity\n                style={styles.eyeIcon}\n                onPress={() => setShowCurrentPassword(!showCurrentPassword)}\n              >\n                {showCurrentPassword ? (\n                  <EyeOff size={20} color={Colors.textSecondary} />\n                ) : (\n                  <Eye size={20} color={Colors.textSecondary} />\n                )}\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.inputLabel}>New Password</Text>\n            <View style={styles.inputWrapper}>\n              <TextInput\n                style={styles.input}\n                placeholder=\"Enter new password\"\n                placeholderTextColor={Colors.textSecondary}\n                value={newPassword}\n                onChangeText={(text) => {\n                  setNewPassword(text);\n                  setError('');\n                }}\n                secureTextEntry={!showNewPassword}\n                autoCapitalize=\"none\"\n              />\n              <TouchableOpacity\n                style={styles.eyeIcon}\n                onPress={() => setShowNewPassword(!showNewPassword)}\n              >\n                {showNewPassword ? (\n                  <EyeOff size={20} color={Colors.textSecondary} />\n                ) : (\n                  <Eye size={20} color={Colors.textSecondary} />\n                )}\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {newPassword.length > 0 && (\n            <>\n              <View style={styles.strengthContainer}>\n                <View style={styles.strengthBarBackground}>\n                  <View\n                    style={[\n                      styles.strengthBarFill,\n                      { width: getStrengthWidth(), backgroundColor: getStrengthColor() },\n                    ]}\n                  />\n                </View>\n                <Text style={[styles.strengthText, { color: getStrengthColor() }]}>\n                  {strength.charAt(0).toUpperCase() + strength.slice(1)}\n                </Text>\n              </View>\n\n              <View style={styles.requirementsContainer}>\n                {requirements.map((req, index) => (\n                  <View key={index} style={styles.requirementItem}>\n                    {req.met ? (\n                      <Check size={16} color={Colors.success} />\n                    ) : (\n                      <X size={16} color={Colors.textSecondary} />\n                    )}\n                    <Text style={[\n                      styles.requirementText,\n                      req.met && styles.requirementTextMet,\n                    ]}>\n                      {req.label}\n                    </Text>\n                  </View>\n                ))}\n              </View>\n            </>\n          )}\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.inputLabel}>Confirm New Password</Text>\n            <View style={styles.inputWrapper}>\n              <TextInput\n                style={styles.input}\n                placeholder=\"Confirm new password\"\n                placeholderTextColor={Colors.textSecondary}\n                value={confirmPassword}\n                onChangeText={(text) => {\n                  setConfirmPassword(text);\n                  setError('');\n                }}\n                secureTextEntry={!showConfirmPassword}\n                autoCapitalize=\"none\"\n              />\n              <TouchableOpacity\n                style={styles.eyeIcon}\n                onPress={() => setShowConfirmPassword(!showConfirmPassword)}\n              >\n                {showConfirmPassword ? (\n                  <EyeOff size={20} color={Colors.textSecondary} />\n                ) : (\n                  <Eye size={20} color={Colors.textSecondary} />\n                )}\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          <TouchableOpacity\n            style={styles.logoutOption}\n            onPress={() => setLogoutAllDevices(!logoutAllDevices)}\n          >\n            <View style={styles.logoutOptionLeft}>\n              <LogOut size={20} color={Colors.text} />\n              <View style={styles.logoutOptionText}>\n                <Text style={styles.logoutOptionTitle}>Logout from all devices</Text>\n                <Text style={styles.logoutOptionSubtitle}>\n                  Sign out from all other devices after changing password\n                </Text>\n              </View>\n            </View>\n            <View style={[\n              styles.checkbox,\n              logoutAllDevices && styles.checkboxActive,\n            ]}>\n              {logoutAllDevices && <Check size={16} color={Colors.text} />}\n            </View>\n          </TouchableOpacity>\n\n          <Button\n            title=\"Change Password\"\n            onPress={handleChangePassword}\n            loading={isLoading}\n            disabled={isLoading || !currentPassword || !isPasswordValid || !confirmPassword}\n            style={styles.changeButton}\n          />\n\n          <View style={styles.infoBox}>\n            <Text style={styles.infoText}>\n               You will receive an email notification confirming your password change\n            </Text>\n          </View>\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  content: {\n    padding: 24,\n    paddingBottom: 40,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 24,\n  },\n  iconCircle: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconText: {\n    fontSize: 40,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold' as const,\n    color: Colors.text,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n    marginBottom: 32,\n    lineHeight: 20,\n  },\n  errorText: {\n    color: Colors.error,\n    marginBottom: 16,\n    fontSize: 14,\n  },\n  inputContainer: {\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.text,\n    marginBottom: 8,\n  },\n  inputWrapper: {\n    position: 'relative',\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    paddingRight: 48,\n    color: Colors.text,\n    fontSize: 16,\n  },\n  eyeIcon: {\n    position: 'absolute',\n    right: 16,\n    top: 18,\n  },\n  strengthContainer: {\n    marginBottom: 16,\n  },\n  strengthBarBackground: {\n    height: 4,\n    backgroundColor: Colors.border,\n    borderRadius: 2,\n    overflow: 'hidden',\n    marginBottom: 8,\n  },\n  strengthBarFill: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  strengthText: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    textAlign: 'right',\n  },\n  requirementsContainer: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 16,\n  },\n  requirementItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n  },\n  requirementText: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n  },\n  requirementTextMet: {\n    color: Colors.success,\n  },\n  logoutOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 24,\n  },\n  logoutOptionLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n    flex: 1,\n  },\n  logoutOptionText: {\n    flex: 1,\n  },\n  logoutOptionTitle: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.text,\n    marginBottom: 4,\n  },\n  logoutOptionSubtitle: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n    lineHeight: 16,\n  },\n  checkbox: {\n    width: 24,\n    height: 24,\n    borderRadius: 6,\n    borderWidth: 2,\n    borderColor: Colors.border,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  checkboxActive: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  changeButton: {\n    marginBottom: 16,\n  },\n  infoBox: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    borderLeftWidth: 4,\n    borderLeftColor: Colors.primary,\n  },\n  infoText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    lineHeight: 20,\n  },\n});\n","import React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { Check } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface VerifiedBadgeProps {\n  size?: number;\n  testID?: string;\n}\n\nexport const VerifiedBadge: React.FC<VerifiedBadgeProps> = ({\n  size = 16,\n  testID,\n}) => {\n  return (\n    <View\n      style={[\n        styles.badge,\n        {\n          width: size,\n          height: size,\n          borderRadius: size / 2,\n        },\n      ]}\n      testID={testID}\n    >\n      <Check size={size * 0.6} color={Colors.text} strokeWidth={3} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  badge: {\n    backgroundColor: Colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default VerifiedBadge;","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { ProfileView, VibeLike } from '@/types';\nimport { mockUsers } from '@/mocks/users';\n\nconst PROFILE_VIEWS_KEY = '@vibesync/profile_views';\nconst VIBE_LIKES_KEY = '@vibesync/vibe_likes';\nconst PROFILE_VIEWS_ENABLED_KEY = '@vibesync/profile_views_enabled';\nconst PROFILE_VIEWS_EXPIRY_DAYS = 30;\n\nconst generateMockProfileViews = (userId: string): ProfileView[] => {\n  const views: ProfileView[] = [];\n  const viewerIds = mockUsers.filter(u => u.id !== userId).slice(0, 8);\n  \n  viewerIds.forEach((viewer, index) => {\n    const hoursAgo = index * 3;\n    const timestamp = new Date(Date.now() - hoursAgo * 60 * 60 * 1000).toISOString();\n    \n    views.push({\n      id: `view_${userId}_${viewer.id}_${Date.now()}_${index}`,\n      profileOwnerId: userId,\n      viewerId: viewer.id,\n      viewerUsername: viewer.username,\n      viewerDisplayName: viewer.displayName,\n      viewerProfileImage: viewer.profileImage,\n      viewerIsVerified: viewer.isVerified,\n      timestamp,\n      deviceId: `device_${Math.random().toString(36).substr(2, 9)}`,\n      isPrivateView: Math.random() > 0.8,\n    });\n  });\n  \n  return views.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n};\n\nconst generateMockVibeLikes = (vibeId: string): VibeLike[] => {\n  const likes: VibeLike[] = [];\n  const likerIds = mockUsers.slice(0, Math.floor(Math.random() * 5) + 1);\n  \n  likerIds.forEach((liker, index) => {\n    const hoursAgo = index * 2;\n    const timestamp = new Date(Date.now() - hoursAgo * 60 * 60 * 1000).toISOString();\n    \n    likes.push({\n      id: `like_${vibeId}_${liker.id}_${Date.now()}_${index}`,\n      vibeId,\n      userId: liker.id,\n      username: liker.username,\n      displayName: liker.displayName,\n      profileImage: liker.profileImage,\n      isVerified: liker.isVerified,\n      timestamp,\n    });\n  });\n  \n  return likes.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n};\n\nexport const [ProfileViewsProvider, useProfileViews] = createContextHook(() => {\n  const [profileViews, setProfileViews] = useState<Record<string, ProfileView[]>>({});\n  const [vibeLikes, setVibeLikes] = useState<Record<string, VibeLike[]>>({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [profileViewsEnabled, setProfileViewsEnabled] = useState<Record<string, boolean>>({});\n  const [repeatVisitors, setRepeatVisitors] = useState<Record<string, Record<string, number>>>({});\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      const [viewsData, likesData, enabledData] = await Promise.all([\n        AsyncStorage.getItem(PROFILE_VIEWS_KEY),\n        AsyncStorage.getItem(VIBE_LIKES_KEY),\n        AsyncStorage.getItem(PROFILE_VIEWS_ENABLED_KEY),\n      ]);\n\n      if (viewsData) {\n        const views = JSON.parse(viewsData);\n        const cleanedViews = cleanExpiredViews(views);\n        setProfileViews(cleanedViews);\n        calculateRepeatVisitors(cleanedViews);\n      }\n      if (likesData) {\n        setVibeLikes(JSON.parse(likesData));\n      }\n      if (enabledData) {\n        setProfileViewsEnabled(JSON.parse(enabledData));\n      }\n    } catch (error) {\n      console.error('[ProfileViews] Error loading data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const cleanExpiredViews = (views: Record<string, ProfileView[]>): Record<string, ProfileView[]> => {\n    const now = Date.now();\n    const expiryTime = PROFILE_VIEWS_EXPIRY_DAYS * 24 * 60 * 60 * 1000;\n    const cleaned: Record<string, ProfileView[]> = {};\n\n    Object.keys(views).forEach(userId => {\n      cleaned[userId] = views[userId].filter(view => {\n        const viewTime = new Date(view.timestamp).getTime();\n        return now - viewTime <= expiryTime;\n      });\n    });\n\n    return cleaned;\n  };\n\n  const calculateRepeatVisitors = (views: Record<string, ProfileView[]>) => {\n    const repeats: Record<string, Record<string, number>> = {};\n\n    Object.keys(views).forEach(userId => {\n      repeats[userId] = {};\n      views[userId].forEach(view => {\n        if (!repeats[userId][view.viewerId]) {\n          repeats[userId][view.viewerId] = 0;\n        }\n        repeats[userId][view.viewerId]++;\n      });\n    });\n\n    setRepeatVisitors(repeats);\n  };\n\n  const saveData = async (\n    views: Record<string, ProfileView[]>,\n    likes: Record<string, VibeLike[]>,\n    enabled?: Record<string, boolean>\n  ) => {\n    try {\n      const promises = [\n        AsyncStorage.setItem(PROFILE_VIEWS_KEY, JSON.stringify(views)),\n        AsyncStorage.setItem(VIBE_LIKES_KEY, JSON.stringify(likes)),\n      ];\n\n      if (enabled) {\n        promises.push(AsyncStorage.setItem(PROFILE_VIEWS_ENABLED_KEY, JSON.stringify(enabled)));\n      }\n\n      await Promise.all(promises);\n    } catch (error) {\n      console.error('[ProfileViews] Error saving data:', error);\n    }\n  };\n\n  const trackProfileView = useCallback(async (profileOwnerId: string, viewerId: string) => {\n    if (profileOwnerId === viewerId) {\n      return;\n    }\n\n    const viewerEnabled = profileViewsEnabled[viewerId] !== false;\n    const ownerEnabled = profileViewsEnabled[profileOwnerId] !== false;\n\n    if (!viewerEnabled || !ownerEnabled) {\n      console.log(`[ProfileViews] View not tracked - viewer or owner has views disabled`);\n      return;\n    }\n\n    const viewer = mockUsers.find(u => u.id === viewerId);\n    if (!viewer) {\n      return;\n    }\n\n    const existingViews = profileViews[profileOwnerId] || [];\n    const recentView = existingViews.find(\n      v => v.viewerId === viewerId && \n      Date.now() - new Date(v.timestamp).getTime() < 60 * 60 * 1000\n    );\n\n    if (recentView) {\n      return;\n    }\n\n    const newView: ProfileView = {\n      id: `view_${profileOwnerId}_${viewerId}_${Date.now()}`,\n      profileOwnerId,\n      viewerId,\n      viewerUsername: viewer.username,\n      viewerDisplayName: viewer.displayName,\n      viewerProfileImage: viewer.profileImage,\n      viewerIsVerified: viewer.isVerified,\n      timestamp: new Date().toISOString(),\n      deviceId: `device_${Math.random().toString(36).substr(2, 9)}`,\n      isPrivateView: false,\n    };\n\n    const updatedViews = {\n      ...profileViews,\n      [profileOwnerId]: [newView, ...existingViews].slice(0, 100),\n    };\n\n    setProfileViews(updatedViews);\n    calculateRepeatVisitors(updatedViews);\n    await saveData(updatedViews, vibeLikes);\n    \n    console.log(`[ProfileViews] Tracked view: ${viewer.username} viewed ${profileOwnerId}`);\n  }, [profileViews, vibeLikes, profileViewsEnabled]);\n\n  const getProfileViews = useCallback((userId: string): ProfileView[] => {\n    const views = profileViews[userId];\n    if (!views || views.length === 0) {\n      return [];\n    }\n    return views;\n  }, [profileViews])\n\n  const getProfileViewsCount = useCallback((userId: string, timeRange: 'day' | 'week' | 'month' | 'all' = 'week'): number => {\n    const views = getProfileViews(userId);\n    const now = Date.now();\n    \n    const timeRanges = {\n      day: 24 * 60 * 60 * 1000,\n      week: 7 * 24 * 60 * 60 * 1000,\n      month: 30 * 24 * 60 * 60 * 1000,\n      all: Infinity,\n    };\n\n    return views.filter(v => {\n      const viewTime = new Date(v.timestamp).getTime();\n      return now - viewTime <= timeRanges[timeRange];\n    }).length;\n  }, [getProfileViews]);\n\n  const trackVibeLike = useCallback(async (vibeId: string, userId: string) => {\n    const user = mockUsers.find(u => u.id === userId);\n    if (!user) {\n      return;\n    }\n\n    const existingLikes = vibeLikes[vibeId] || [];\n    const alreadyLiked = existingLikes.find(l => l.userId === userId);\n\n    if (alreadyLiked) {\n      const updatedLikes = {\n        ...vibeLikes,\n        [vibeId]: existingLikes.filter(l => l.userId !== userId),\n      };\n      setVibeLikes(updatedLikes);\n      await saveData(profileViews, updatedLikes);\n      return;\n    }\n\n    const newLike: VibeLike = {\n      id: `like_${vibeId}_${userId}_${Date.now()}`,\n      vibeId,\n      userId,\n      username: user.username,\n      displayName: user.displayName,\n      profileImage: user.profileImage,\n      isVerified: user.isVerified,\n      timestamp: new Date().toISOString(),\n    };\n\n    const updatedLikes = {\n      ...vibeLikes,\n      [vibeId]: [newLike, ...existingLikes],\n    };\n\n    setVibeLikes(updatedLikes);\n    await saveData(profileViews, updatedLikes);\n    \n    console.log(`[ProfileViews] Tracked like: ${user.username} liked vibe ${vibeId}`);\n  }, [vibeLikes, profileViews]);\n\n  const getVibeLikes = useCallback((vibeId: string): VibeLike[] => {\n    const likes = vibeLikes[vibeId];\n    if (!likes || likes.length === 0) {\n      return [];\n    }\n    return likes;\n  }, [vibeLikes])\n\n  const getFriendsWhoLiked = useCallback((vibeId: string, friendIds: string[]): VibeLike[] => {\n    const likes = getVibeLikes(vibeId);\n    return likes.filter(like => friendIds.includes(like.userId));\n  }, [getVibeLikes]);\n\n  const toggleProfileViewsEnabled = useCallback(async (userId: string, enabled: boolean) => {\n    const updatedEnabled = {\n      ...profileViewsEnabled,\n      [userId]: enabled,\n    };\n\n    setProfileViewsEnabled(updatedEnabled);\n    await saveData(profileViews, vibeLikes, updatedEnabled);\n    \n    console.log(`[ProfileViews] Profile views ${enabled ? 'enabled' : 'disabled'} for user ${userId}`);\n  }, [profileViewsEnabled, profileViews, vibeLikes]);\n\n  const isProfileViewsEnabled = useCallback((userId: string): boolean => {\n    return profileViewsEnabled[userId] !== false;\n  }, [profileViewsEnabled]);\n\n  const getRepeatVisitorCount = useCallback((profileOwnerId: string, viewerId: string): number => {\n    return repeatVisitors[profileOwnerId]?.[viewerId] || 0;\n  }, [repeatVisitors]);\n\n  const getTopRepeatVisitors = useCallback((userId: string, limit: number = 5): Array<{ viewerId: string; count: number }> => {\n    const visitors = repeatVisitors[userId] || {};\n    return Object.entries(visitors)\n      .map(([viewerId, count]) => ({ viewerId, count }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, limit);\n  }, [repeatVisitors]);\n\n  const getNewVisitorsCount = useCallback((userId: string, timeRange: 'day' | 'week' = 'week'): number => {\n    const views = getProfileViews(userId);\n    const now = Date.now();\n    const timeRanges = {\n      day: 24 * 60 * 60 * 1000,\n      week: 7 * 24 * 60 * 60 * 1000,\n    };\n\n    return views.filter(v => {\n      const viewTime = new Date(v.timestamp).getTime();\n      return now - viewTime <= timeRanges[timeRange];\n    }).length;\n  }, [getProfileViews]);\n\n  return useMemo(() => ({\n    profileViews,\n    vibeLikes,\n    isLoading,\n    profileViewsEnabled,\n    trackProfileView,\n    getProfileViews,\n    getProfileViewsCount,\n    trackVibeLike,\n    getVibeLikes,\n    getFriendsWhoLiked,\n    toggleProfileViewsEnabled,\n    isProfileViewsEnabled,\n    getRepeatVisitorCount,\n    getTopRepeatVisitors,\n    getNewVisitorsCount,\n  }), [\n    profileViews,\n    vibeLikes,\n    isLoading,\n    profileViewsEnabled,\n    trackProfileView,\n    getProfileViews,\n    getProfileViewsCount,\n    trackVibeLike,\n    getVibeLikes,\n    getFriendsWhoLiked,\n    toggleProfileViewsEnabled,\n    isProfileViewsEnabled,\n    getRepeatVisitorCount,\n    getTopRepeatVisitors,\n    getNewVisitorsCount,\n  ]);\n});\n","import React, { useState, useMemo } from 'react';\nimport { StyleSheet, Text, View, ScrollView, TouchableOpacity, Platform } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Stack, router } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useProfileViews } from '@/hooks/profile-views-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { ArrowLeft, Eye, Clock, TrendingUp, Users, Calendar } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { ProfileView } from '@/types';\n\ntype TimeRange = 'day' | 'week' | 'month' | 'all';\ntype FilterType = 'all' | 'verified' | 'recent';\n\nexport default function ProfileViewsScreen() {\n  const { user, isAuthenticated } = useAuth();\n  const { getProfileViews, getProfileViewsCount } = useProfileViews();\n  const [timeRange, setTimeRange] = useState<TimeRange>('week');\n  const [filterType, setFilterType] = useState<FilterType>('all');\n  const insets = useSafeAreaInsets();\n\n  React.useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n    }\n  }, [isAuthenticated]);\n\n  const views = useMemo(() => {\n    if (!user) return [];\n    return getProfileViews(user.id);\n  }, [user, getProfileViews]);\n\n  const filteredViews = useMemo(() => {\n    let filtered = [...views];\n\n    const now = Date.now();\n    const timeRanges = {\n      day: 24 * 60 * 60 * 1000,\n      week: 7 * 24 * 60 * 60 * 1000,\n      month: 30 * 24 * 60 * 60 * 1000,\n      all: Infinity,\n    };\n\n    filtered = filtered.filter(v => {\n      const viewTime = new Date(v.timestamp).getTime();\n      return now - viewTime <= timeRanges[timeRange];\n    });\n\n    if (filterType === 'verified') {\n      filtered = filtered.filter(v => v.viewerIsVerified);\n    } else if (filterType === 'recent') {\n      const last24h = Date.now() - 24 * 60 * 60 * 1000;\n      filtered = filtered.filter(v => new Date(v.timestamp).getTime() > last24h);\n    }\n\n    return filtered.filter(v => !v.isPrivateView);\n  }, [views, timeRange, filterType]);\n\n  const stats = useMemo(() => {\n    if (!user) return { day: 0, week: 0, month: 0, all: 0 };\n    return {\n      day: getProfileViewsCount(user.id, 'day'),\n      week: getProfileViewsCount(user.id, 'week'),\n      month: getProfileViewsCount(user.id, 'month'),\n      all: views.length,\n    };\n  }, [user, getProfileViewsCount, views]);\n\n  const getTimeAgo = (timestamp: string): string => {\n    const now = Date.now();\n    const viewTime = new Date(timestamp).getTime();\n    const diff = now - viewTime;\n\n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (minutes < 1) return 'Just now';\n    if (minutes < 60) return `${minutes}m ago`;\n    if (hours < 24) return `${hours}h ago`;\n    if (days === 1) return 'Yesterday';\n    return `${days}d ago`;\n  };\n\n  const handleViewerPress = (viewerId: string) => {\n    router.push(`/user/${viewerId}`);\n  };\n\n  const renderViewItem = ({ item }: { item: ProfileView }) => (\n    <TouchableOpacity\n      style={styles.viewItem}\n      onPress={() => handleViewerPress(item.viewerId)}\n      activeOpacity={0.7}\n    >\n      <Avatar uri={item.viewerProfileImage} size={56} />\n      <View style={styles.viewInfo}>\n        <View style={styles.viewNameRow}>\n          <Text style={styles.viewName} numberOfLines={1}>\n            {item.viewerDisplayName}\n          </Text>\n          {item.viewerIsVerified && <VerifiedBadge size={16} />}\n        </View>\n        <Text style={styles.viewUsername} numberOfLines={1}>\n          @{item.viewerUsername}\n        </Text>\n        <View style={styles.timeContainer}>\n          <Clock size={12} color={Colors.textSecondary} />\n          <Text style={styles.timeText}>{getTimeAgo(item.timestamp)}</Text>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <View style={[styles.container, { paddingBottom: insets.bottom }]}>\n      <Stack.Screen\n        options={{\n          title: 'Profile Views',\n          headerStyle: { backgroundColor: Colors.background },\n          headerTitleStyle: { color: Colors.text, fontWeight: '700' as const },\n          headerTintColor: Colors.text,\n          headerLeft: () => (\n            <TouchableOpacity\n              onPress={() => router.back()}\n              style={styles.headerBackButton}\n            >\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <ScrollView\n        style={styles.scrollView}\n        showsVerticalScrollIndicator={false}\n        stickyHeaderIndices={[1]}\n      >\n        <View style={styles.statsSection}>\n          <LinearGradient\n            colors={['rgba(59, 130, 246, 0.15)', 'rgba(6, 182, 212, 0.15)']}\n            start={{ x: 0, y: 0 }}\n            end={{ x: 1, y: 1 }}\n            style={styles.statsGradient}\n          >\n            <View style={styles.statsGrid}>\n              <View style={styles.statCard}>\n                <View style={styles.statIconContainer}>\n                  <Calendar size={20} color={Colors.primary} />\n                </View>\n                <Text style={styles.statNumber}>{stats.day}</Text>\n                <Text style={styles.statLabel}>Today</Text>\n              </View>\n              <View style={styles.statCard}>\n                <View style={styles.statIconContainer}>\n                  <TrendingUp size={20} color={Colors.primary} />\n                </View>\n                <Text style={styles.statNumber}>{stats.week}</Text>\n                <Text style={styles.statLabel}>This Week</Text>\n              </View>\n              <View style={styles.statCard}>\n                <View style={styles.statIconContainer}>\n                  <Users size={20} color={Colors.primary} />\n                </View>\n                <Text style={styles.statNumber}>{stats.month}</Text>\n                <Text style={styles.statLabel}>This Month</Text>\n              </View>\n              <View style={styles.statCard}>\n                <View style={styles.statIconContainer}>\n                  <Eye size={20} color={Colors.primary} />\n                </View>\n                <Text style={styles.statNumber}>{stats.all}</Text>\n                <Text style={styles.statLabel}>All Time</Text>\n              </View>\n            </View>\n          </LinearGradient>\n        </View>\n\n        <View style={styles.filtersSection}>\n          <ScrollView\n            horizontal\n            showsHorizontalScrollIndicator={false}\n            contentContainerStyle={styles.filtersContainer}\n          >\n            <Text style={styles.filterLabel}>Time:</Text>\n            {(['day', 'week', 'month', 'all'] as TimeRange[]).map((range) => (\n              <TouchableOpacity\n                key={range}\n                style={[\n                  styles.filterChip,\n                  timeRange === range && styles.filterChipActive,\n                ]}\n                onPress={() => setTimeRange(range)}\n              >\n                <Text\n                  style={[\n                    styles.filterChipText,\n                    timeRange === range && styles.filterChipTextActive,\n                  ]}\n                >\n                  {range === 'day' ? 'Today' : range === 'week' ? 'Week' : range === 'month' ? 'Month' : 'All'}\n                </Text>\n              </TouchableOpacity>\n            ))}\n\n            <View style={styles.filterDivider} />\n\n            <Text style={styles.filterLabel}>Filter:</Text>\n            {(['all', 'verified', 'recent'] as FilterType[]).map((filter) => (\n              <TouchableOpacity\n                key={filter}\n                style={[\n                  styles.filterChip,\n                  filterType === filter && styles.filterChipActive,\n                ]}\n                onPress={() => setFilterType(filter)}\n              >\n                <Text\n                  style={[\n                    styles.filterChipText,\n                    filterType === filter && styles.filterChipTextActive,\n                  ]}\n                >\n                  {filter === 'all' ? 'All' : filter === 'verified' ? 'Verified' : 'Recent'}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n\n        <View style={styles.listSection}>\n          <View style={styles.listHeader}>\n            <Text style={styles.listTitle}>\n              {filteredViews.length} {filteredViews.length === 1 ? 'View' : 'Views'}\n            </Text>\n            <Text style={styles.listSubtitle}>\n              People who viewed your profile\n            </Text>\n          </View>\n\n          {filteredViews.length > 0 ? (\n            <View style={styles.viewsList}>\n              {filteredViews.map((view) => (\n                <View key={view.id}>\n                  {renderViewItem({ item: view })}\n                </View>\n              ))}\n            </View>\n          ) : (\n            <View style={styles.emptyContainer}>\n              <View style={styles.emptyIconContainer}>\n                <Eye size={48} color={Colors.textSecondary} />\n              </View>\n              <Text style={styles.emptyTitle}>No views yet</Text>\n              <Text style={styles.emptyText}>\n                {timeRange === 'day'\n                  ? 'No one has viewed your profile today'\n                  : timeRange === 'week'\n                  ? 'No one has viewed your profile this week'\n                  : timeRange === 'month'\n                  ? 'No one has viewed your profile this month'\n                  : 'No one has viewed your profile yet'}\n              </Text>\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  headerBackButton: {\n    marginLeft: 16,\n    padding: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  statsSection: {\n    padding: 20,\n  },\n  statsGradient: {\n    borderRadius: 20,\n    padding: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(59, 130, 246, 0.2)',\n  },\n  statsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n  },\n  statCard: {\n    flex: 1,\n    minWidth: '45%',\n    backgroundColor: Colors.card,\n    borderRadius: 16,\n    padding: 16,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  statIconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: 'rgba(59, 130, 246, 0.15)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  statNumber: {\n    color: Colors.text,\n    fontSize: 28,\n    fontWeight: '700' as const,\n    marginBottom: 4,\n  },\n  statLabel: {\n    color: Colors.textSecondary,\n    fontSize: 13,\n    fontWeight: '500' as const,\n  },\n  filtersSection: {\n    backgroundColor: Colors.background,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n    ...Platform.select({\n      ios: {\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n      },\n      android: {\n        elevation: 4,\n      },\n    }),\n  },\n  filtersContainer: {\n    paddingHorizontal: 20,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  filterLabel: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    fontWeight: '600' as const,\n    marginRight: 4,\n  },\n  filterChip: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  filterChipActive: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  filterChipText: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  filterChipTextActive: {\n    color: Colors.text,\n  },\n  filterDivider: {\n    width: 1,\n    height: 24,\n    backgroundColor: Colors.border,\n    marginHorizontal: 8,\n  },\n  listSection: {\n    flex: 1,\n    paddingTop: 20,\n  },\n  listHeader: {\n    paddingHorizontal: 20,\n    marginBottom: 16,\n  },\n  listTitle: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 4,\n  },\n  listSubtitle: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n  },\n  viewsList: {\n    paddingHorizontal: 20,\n    paddingBottom: 40,\n  },\n  viewItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 12,\n    gap: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  viewInfo: {\n    flex: 1,\n  },\n  viewNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    marginBottom: 4,\n  },\n  viewName: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600' as const,\n    flex: 1,\n  },\n  viewUsername: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginBottom: 4,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  timeText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n  },\n  emptyContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n    paddingHorizontal: 40,\n  },\n  emptyIconContainer: {\n    width: 96,\n    height: 96,\n    borderRadius: 48,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  emptyTitle: {\n    color: Colors.text,\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 8,\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 15,\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  ScrollView,\n  SafeAreaView,\n} from 'react-native';\nimport { Stack } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\nimport { ShareSheet } from '@/components/engagement/ShareSheet';\nimport { mockPosts } from '@/mocks/posts';\nimport { mockVibes } from '@/mocks/vibes';\nimport { Share2, Music, Video } from 'lucide-react-native';\n\nexport default function ShareDemoScreen() {\n  const { colors } = useTheme();\n  const [shareSheetVisible, setShareSheetVisible] = useState<boolean>(false);\n  const [selectedContent, setSelectedContent] = useState<any>(null);\n  const [contentType, setContentType] = useState<'post' | 'vibe' | 'song'>('post');\n\n  const handleSharePost = () => {\n    setSelectedContent(mockPosts[0]);\n    setContentType('post');\n    setShareSheetVisible(true);\n  };\n\n  const handleShareVibe = () => {\n    setSelectedContent(mockVibes[0]);\n    setContentType('vibe');\n    setShareSheetVisible(true);\n  };\n\n  const handleShareSong = () => {\n    setSelectedContent({\n      id: 'song-1',\n      title: 'Summer Nights',\n      artist: 'The Weeknd',\n      content: 'Summer Nights - The Weeknd',\n    });\n    setContentType('song');\n    setShareSheetVisible(true);\n  };\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          title: 'Share Demo',\n          headerStyle: {\n            backgroundColor: colors.card,\n          },\n          headerTintColor: colors.text,\n          headerShadowVisible: false,\n        }}\n      />\n\n      <ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={styles.content}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.section}>\n          <Text style={[styles.title, { color: colors.text }]}>\n            VibeSync Share Content Flow\n          </Text>\n          <Text style={[styles.description, { color: colors.textSecondary }]}>\n            Test the unique share sheet with VibeStreak indicators, multi-select, and Quick Vibe reactions.\n          </Text>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            Features\n          </Text>\n          <View style={styles.featureList}>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                VibeStreak flame badges for friends you&apos;ve interacted with in the last 7 days\n              </Text>\n            </View>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                Multi-select friends with glowing borders\n              </Text>\n            </View>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                Quick Vibe reactions (, , , ) for instant sharing\n              </Text>\n            </View>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                Content preview box showing thumbnail and caption\n              </Text>\n            </View>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                Search bar to quickly find friends\n              </Text>\n            </View>\n            <View style={styles.featureItem}>\n              <View style={[styles.featureBullet, { backgroundColor: colors.primary }]} />\n              <Text style={[styles.featureText, { color: colors.text }]}>\n                Horizontal scroll of frequent contacts at the top\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            Try It Out\n          </Text>\n\n          <TouchableOpacity\n            style={[styles.demoButton, { backgroundColor: colors.primary }]}\n            onPress={handleSharePost}\n            activeOpacity={0.8}\n          >\n            <Share2 size={24} color=\"#FFF\" />\n            <View style={styles.buttonTextContainer}>\n              <Text style={styles.buttonTitle}>Share a Post</Text>\n              <Text style={styles.buttonSubtitle}>\n                Share a text post with images\n              </Text>\n            </View>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.demoButton, { backgroundColor: '#FF6B35' }]}\n            onPress={handleShareVibe}\n            activeOpacity={0.8}\n          >\n            <Video size={24} color=\"#FFF\" />\n            <View style={styles.buttonTextContainer}>\n              <Text style={styles.buttonTitle}>Share a Vibe</Text>\n              <Text style={styles.buttonSubtitle}>\n                Share a short video reel\n              </Text>\n            </View>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.demoButton, { backgroundColor: '#10B981' }]}\n            onPress={handleShareSong}\n            activeOpacity={0.8}\n          >\n            <Music size={24} color=\"#FFF\" />\n            <View style={styles.buttonTextContainer}>\n              <Text style={styles.buttonTitle}>Share a Song</Text>\n              <Text style={styles.buttonSubtitle}>\n                Share a music track\n              </Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            How It Works\n          </Text>\n          <View style={styles.stepsList}>\n            <View style={styles.stepItem}>\n              <View style={[styles.stepNumber, { backgroundColor: colors.primary }]}>\n                <Text style={styles.stepNumberText}>1</Text>\n              </View>\n              <Text style={[styles.stepText, { color: colors.text }]}>\n                Tap any share button above to open the share sheet\n              </Text>\n            </View>\n            <View style={styles.stepItem}>\n              <View style={[styles.stepNumber, { backgroundColor: colors.primary }]}>\n                <Text style={styles.stepNumberText}>2</Text>\n              </View>\n              <Text style={[styles.stepText, { color: colors.text }]}>\n                Search or scroll to find friends (look for flame badges!)\n              </Text>\n            </View>\n            <View style={styles.stepItem}>\n              <View style={[styles.stepNumber, { backgroundColor: colors.primary }]}>\n                <Text style={styles.stepNumberText}>3</Text>\n              </View>\n              <Text style={[styles.stepText, { color: colors.text }]}>\n                Select multiple friends by tapping their avatars\n              </Text>\n            </View>\n            <View style={styles.stepItem}>\n              <View style={[styles.stepNumber, { backgroundColor: colors.primary }]}>\n                <Text style={styles.stepNumberText}>4</Text>\n              </View>\n              <Text style={[styles.stepText, { color: colors.text }]}>\n                Toggle Quick Vibe and pick a reaction, or write a custom message\n              </Text>\n            </View>\n            <View style={styles.stepItem}>\n              <View style={[styles.stepNumber, { backgroundColor: colors.primary }]}>\n                <Text style={styles.stepNumberText}>5</Text>\n              </View>\n              <Text style={[styles.stepText, { color: colors.text }]}>\n                Tap the send button to share with all selected friends\n              </Text>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      {selectedContent && (\n        <ShareSheet\n          visible={shareSheetVisible}\n          onClose={() => setShareSheetVisible(false)}\n          content={selectedContent}\n          contentType={contentType}\n        />\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  content: {\n    padding: 20,\n    paddingBottom: 40,\n  },\n  section: {\n    marginBottom: 32,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    marginBottom: 12,\n  },\n  description: {\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  sectionTitle: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginBottom: 16,\n  },\n  featureList: {\n    gap: 12,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    gap: 12,\n  },\n  featureBullet: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    marginTop: 6,\n  },\n  featureText: {\n    flex: 1,\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  demoButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 20,\n    borderRadius: 16,\n    marginBottom: 16,\n    gap: 16,\n  },\n  buttonTextContainer: {\n    flex: 1,\n  },\n  buttonTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n    color: '#FFF',\n    marginBottom: 4,\n  },\n  buttonSubtitle: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.8)',\n  },\n  stepsList: {\n    gap: 16,\n  },\n  stepItem: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    gap: 16,\n  },\n  stepNumber: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  stepNumberText: {\n    fontSize: 16,\n    fontWeight: '700',\n    color: '#FFF',\n  },\n  stepText: {\n    flex: 1,\n    fontSize: 16,\n    lineHeight: 24,\n    paddingTop: 4,\n  },\n});\n","import { Region } from '@/utils/region-detection';\n\nexport interface LegalContent {\n  privacyPolicy: string;\n  termsOfService: string;\n}\n\nexport function getLegalContent(region: Region): LegalContent {\n  switch (region) {\n    case 'EU':\n      return getEUContent();\n    case 'US_CA':\n      return getUSContent();\n    case 'ZA':\n      return getZAContent();\n    default:\n      return getDefaultContent();\n  }\n}\n\nfunction getEUContent(): LegalContent {\n  return {\n    privacyPolicy: `# Privacy Policy (GDPR - European Union)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync (\"we,\" \"our,\" or \"us\") is committed to protecting your privacy in accordance with the General Data Protection Regulation (GDPR). This Privacy Policy explains how we collect, use, disclose, and safeguard your information.\n\n## Legal Basis for Processing\n\nWe process your personal data based on:\n- **Consent**: You have given clear consent for specific purposes\n- **Contract**: Processing is necessary to fulfill our service agreement\n- **Legal Obligation**: Required by EU or member state law\n- **Legitimate Interests**: For our business operations, balanced against your rights\n\n## Information We Collect\n\n### Personal Information\n- Account Information: Username, email address, encrypted password, profile picture, bio\n- Profile Data: Display name, location, date of birth\n- Contact Information: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your explicit consent)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Your GDPR Rights\n\nYou have the right to:\n- **Access**: Request a copy of your personal data\n- **Rectification**: Correct inaccurate or incomplete data\n- **Erasure**: Request deletion of your data (\"right to be forgotten\")\n- **Restrict Processing**: Limit how we use your data\n- **Data Portability**: Receive your data in a machine-readable format\n- **Object**: Object to processing based on legitimate interests\n- **Withdraw Consent**: Withdraw consent at any time\n- **Lodge a Complaint**: File a complaint with your supervisory authority\n\nTo exercise these rights, contact us at privacy@vibesync.app or our Data Protection Officer at dpo@vibesync.app.\n\n## Data Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers (Data Processors)\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\nAll processors are bound by GDPR-compliant data processing agreements.\n\n### For Legal Reasons\n- To comply with EU laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## International Data Transfers\n\nYour data may be transferred outside the EU. We ensure adequate protection through:\n- EU Standard Contractual Clauses\n- Adequacy decisions by the European Commission\n- Other approved safeguards under GDPR\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n- Pseudonymization and anonymization where possible\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children's Privacy\n\nVibeSync is not intended for users under 16 years old in the EU. We do not knowingly collect information from children under 16. If we discover we have collected such information, we will delete it immediately.\n\n## Automated Decision-Making\n\nWe may use automated systems for:\n- Content recommendations\n- Spam and abuse detection\n- Ad targeting (if applicable)\n\nYou have the right to object to automated decision-making that has legal or significant effects.\n\n## Contact Information\n\n**Data Protection Officer**: dpo@vibesync.app  \n**Privacy Inquiries**: privacy@vibesync.app  \n**Address**: [Your EU Representative Address]\n\n## Supervisory Authority\n\nYou have the right to lodge a complaint with your local data protection authority.\n\n## Changes to This Policy\n\nWe will notify you of material changes via:\n- In-app notification\n- Email notification\n- Update to \"Last Updated\" date\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**`,\n\n    termsOfService: `# Terms of Service (European Union)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync (\"the App\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 16 years old to use VibeSync in the EU\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App's operation\n- Access others' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### \"AS IS\" Service\n- VibeSync is provided \"as is\" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 9. Limitation of Liability\n\nTo the extent permitted by EU law:\n- We are not liable for indirect, incidental, or consequential damages\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\nNothing in these Terms excludes or limits our liability for:\n- Death or personal injury caused by negligence\n- Fraud or fraudulent misrepresentation\n- Any liability that cannot be excluded under EU law\n\n## 10. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by EU law and the laws of [Your EU Country]\n- Disputes will be resolved in [Your EU Country] courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n### EU Online Dispute Resolution\n- EU consumers can access the ODR platform at: https://ec.europa.eu/consumers/odr\n\n## 11. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don't agree to changes, stop using the App\n\n## 12. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**Data Protection Officer**: dpo@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**`\n  };\n}\n\nfunction getUSContent(): LegalContent {\n  return {\n    privacyPolicy: `# Privacy Policy (CCPA - United States)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync (\"we,\" \"our,\" or \"us\") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application.\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your permission)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\n### For Legal Reasons\n- To comply with laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Your California Privacy Rights (CCPA)\n\nIf you are a California resident, you have the right to:\n\n### Right to Know\n- Request disclosure of personal information we collect, use, and share\n- Request specific pieces of personal information we hold about you\n\n### Right to Delete\n- Request deletion of your personal information\n- Exceptions apply for legal compliance and service provision\n\n### Right to Opt-Out\n- We do NOT sell your personal information\n- If we ever do, you can opt-out at any time\n\n### Right to Non-Discrimination\n- We will not discriminate against you for exercising your CCPA rights\n- Same service quality and pricing for all users\n\n### How to Exercise Your Rights\n- Email: privacy@vibesync.app\n- In-app: Settings > Privacy > Data Rights\n- We will respond within 45 days\n\n### Verification\n- We may request information to verify your identity\n- This protects your personal information from unauthorized access\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n\nHowever, no method of transmission over the internet is 100% secure.\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children's Privacy\n\nVibeSync is not intended for users under 13 years old. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## Do Not Track Signals\n\nWe do not currently respond to \"Do Not Track\" browser signals.\n\n## Changes to This Policy\n\nWe may update this Privacy Policy from time to time. We will notify you of significant changes via:\n- In-app notification\n- Email notification\n- Update to \"Last Updated\" date\n\nContinued use of VibeSync after changes constitutes acceptance.\n\n## Contact Us\n\n**Email**: privacy@vibesync.app  \n**Address**: [Your Company Address]  \n**Support**: In-app Help & Support section\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**`,\n\n    termsOfService: `# Terms of Service (United States)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync (\"the App\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App's operation\n- Access others' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement (DMCA)\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n- Counter-notification process available per DMCA\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### \"AS IS\" Service\n- VibeSync is provided \"as is\" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n### No Professional Advice\n- Content on VibeSync is not professional advice\n- Do not rely on user content for medical, legal, or financial decisions\n\n## 9. Limitation of Liability\n\nTo the maximum extent permitted by law:\n- We are not liable for indirect, incidental, or consequential damages\n- Our total liability is limited to $100 or the amount you paid us (if any)\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\n## 10. Indemnification\n\nYou agree to indemnify and hold us harmless from claims, damages, and expenses arising from:\n- Your use of VibeSync\n- Your content\n- Your violation of these Terms\n- Your violation of others' rights\n\n## 11. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by the laws of the State of [Your State]\n- Disputes will be resolved in [Your State] courts\n\n### Arbitration Agreement\n- Disputes will be resolved through binding arbitration\n- You waive the right to class action lawsuits\n- Arbitration is conducted under AAA rules\n- Small claims court option available\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n## 12. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don't agree to changes, stop using the App\n\n## 13. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**DMCA Agent**: dmca@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**`\n  };\n}\n\nfunction getZAContent(): LegalContent {\n  return {\n    privacyPolicy: `# Privacy Policy (POPIA - South Africa)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync (\"we,\" \"our,\" or \"us\") is committed to protecting your privacy in accordance with the Protection of Personal Information Act (POPIA). This Privacy Policy explains how we collect, use, disclose, and safeguard your information.\n\n## POPIA Compliance\n\nWe comply with POPIA's eight conditions for lawful processing:\n1. Accountability\n2. Processing limitation\n3. Purpose specification\n4. Further processing limitation\n5. Information quality\n6. Openness\n7. Security safeguards\n8. Data subject participation\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n- **South African ID Number**: Not collected\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your explicit consent)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## Purpose of Processing\n\nWe process your personal information for the following purposes:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Legal Basis for Processing\n\nWe process your information based on:\n- **Consent**: You have given explicit consent\n- **Contract**: Necessary to provide our services\n- **Legal Obligation**: Required by South African law\n- **Legitimate Interest**: For our business operations\n\n## Your POPIA Rights\n\nYou have the right to:\n- **Access**: Request a copy of your personal information\n- **Correction**: Update or correct your information\n- **Deletion**: Request deletion of your information\n- **Objection**: Object to processing of your information\n- **Restriction**: Request restriction of processing\n- **Data Portability**: Receive your data in a portable format\n- **Withdraw Consent**: Withdraw consent at any time\n\nTo exercise these rights, contact our Information Officer at info@vibesync.app.\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers (Operators)\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\nAll operators are bound by POPIA-compliant agreements.\n\n### For Legal Reasons\n- To comply with South African laws and regulations\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Cross-Border Data Transfers\n\nYour data may be transferred outside South Africa. We ensure adequate protection through:\n- Ensuring recipient countries have adequate data protection laws\n- Contractual agreements with data processors\n- Your explicit consent where required\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n- Integrity and confidentiality safeguards\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\nWe do not retain information longer than necessary for the purpose.\n\n## Children's Privacy\n\nVibeSync is not intended for users under 18 years old without parental consent. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## Direct Marketing\n\nWe may send you marketing communications with your consent. You can opt-out at any time by:\n- Clicking unsubscribe in emails\n- Adjusting notification settings in the app\n- Contacting us at privacy@vibesync.app\n\n## Information Officer\n\nOur Information Officer is responsible for POPIA compliance:\n\n**Name**: [Information Officer Name]  \n**Email**: info@vibesync.app  \n**Phone**: [Phone Number]  \n**Address**: [Physical Address]\n\n## Complaints\n\nIf you believe we have violated POPIA, you can:\n1. Contact our Information Officer\n2. Lodge a complaint with the Information Regulator:\n   - Website: https://www.justice.gov.za/inforeg/\n   - Email: inforeg@justice.gov.za\n   - Phone: 012 406 4818\n\n## Changes to This Policy\n\nWe will notify you of material changes via:\n- In-app notification\n- Email notification\n- Update to \"Last Updated\" date\n\n## Contact Us\n\n**Information Officer**: info@vibesync.app  \n**Privacy Inquiries**: privacy@vibesync.app  \n**Address**: [Your South African Address]\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**`,\n\n    termsOfService: `# Terms of Service (South Africa)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync (\"the App\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any South African laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App's operation\n- Access others' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by South African copyright and trademark laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy and POPIA Compliance\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information in accordance with POPIA. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Consumer Protection\n\nWe comply with the Consumer Protection Act (CPA). You have rights under the CPA including:\n- Right to fair and honest dealing\n- Right to information in plain language\n- Right to fair value and good quality\n- Right to safe products\n\n## 9. Disclaimers\n\n### \"AS IS\" Service\n- VibeSync is provided \"as is\" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 10. Limitation of Liability\n\nTo the extent permitted by South African law:\n- We are not liable for indirect, incidental, or consequential damages\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\nNothing in these Terms excludes or limits our liability for:\n- Death or personal injury caused by negligence\n- Fraud or fraudulent misrepresentation\n- Any liability that cannot be excluded under South African law\n\n## 11. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by the laws of South Africa\n- Disputes will be resolved in South African courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n### Alternative Dispute Resolution\n- Disputes may be referred to mediation or arbitration\n- AFSA (Arbitration Foundation of Southern Africa) rules apply\n\n## 12. Electronic Communications Act\n\nWe comply with the Electronic Communications and Transactions Act (ECTA). Electronic communications and signatures are valid and enforceable.\n\n## 13. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don't agree to changes, stop using the App\n\n## 14. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**Information Officer**: info@vibesync.app  \n**Address**: [Your South African Address]\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**`\n  };\n}\n\nfunction getDefaultContent(): LegalContent {\n  return {\n    privacyPolicy: `# Privacy Policy\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync (\"we,\" \"our,\" or \"us\") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application.\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your permission)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\n### For Legal Reasons\n- To comply with laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n\nHowever, no method of transmission over the internet is 100% secure.\n\n## Your Rights and Choices\n\nYou have the right to:\n- **Access**: Request a copy of your personal data\n- **Correction**: Update or correct your information\n- **Deletion**: Request deletion of your account and data\n- **Portability**: Export your data in a machine-readable format\n- **Opt-Out**: Disable notifications, location tracking, or contact syncing\n- **Restrict Processing**: Limit how we use your data\n\nTo exercise these rights, contact us at privacy@vibesync.app\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children's Privacy\n\nVibeSync is not intended for users under 13 years old. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## International Data Transfers\n\nYour information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers.\n\n## Changes to This Policy\n\nWe may update this Privacy Policy from time to time. We will notify you of significant changes via:\n- In-app notification\n- Email notification\n- Update to \"Last Updated\" date\n\nContinued use of VibeSync after changes constitutes acceptance.\n\n## Contact Us\n\n**Email**: privacy@vibesync.app  \n**Support**: In-app Help & Support section\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**`,\n\n    termsOfService: `# Terms of Service\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync (\"the App\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App's operation\n- Access others' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### \"AS IS\" Service\n- VibeSync is provided \"as is\" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 9. Limitation of Liability\n\nTo the maximum extent permitted by law:\n- We are not liable for indirect, incidental, or consequential damages\n- Our total liability is limited to $100 or the amount you paid us (if any)\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\n## 10. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by applicable law\n- Disputes will be resolved in appropriate courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n## 11. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don't agree to changes, stop using the App\n\n## 12. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**`\n  };\n}\n","import { useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { Notification } from '@/types';\n\ninterface NotificationState {\n  notifications: Notification[];\n  unreadCount: number;\n}\n\nexport const [NotificationProvider, useNotifications] = createContextHook(() => {\n  const [state, setState] = useState<NotificationState>({\n    notifications: [],\n    unreadCount: 0,\n  });\n\n  useEffect(() => {\n    loadNotifications();\n  }, []);\n\n\n\n  const loadNotifications = async () => {\n    try {\n      const stored = await AsyncStorage.getItem('notifications');\n      if (stored) {\n        const notifications: Notification[] = JSON.parse(stored);\n        const unreadCount = notifications.filter(n => !n.isRead).length;\n        setState(prev => ({ ...prev, notifications, unreadCount }));\n      }\n    } catch (error) {\n      console.error('Error loading notifications:', error);\n    }\n  };\n\n  const saveNotifications = async (notifications: Notification[]) => {\n    try {\n      await AsyncStorage.setItem('notifications', JSON.stringify(notifications));\n    } catch (error) {\n      console.error('Error saving notifications:', error);\n    }\n  };\n\n  const addNotification = (notification: Notification) => {\n    setState(prev => {\n      const newNotifications = [notification, ...prev.notifications];\n      const unreadCount = newNotifications.filter(n => !n.isRead).length;\n      saveNotifications(newNotifications);\n      return {\n        ...prev,\n        notifications: newNotifications,\n        unreadCount,\n      };\n    });\n  };\n\n  const markAsRead = (notificationId: string) => {\n    setState(prev => {\n      const updatedNotifications = prev.notifications.map(n =>\n        n.id === notificationId ? { ...n, isRead: true } : n\n      );\n      const unreadCount = updatedNotifications.filter(n => !n.isRead).length;\n      saveNotifications(updatedNotifications);\n      return {\n        ...prev,\n        notifications: updatedNotifications,\n        unreadCount,\n      };\n    });\n  };\n\n  const markAllAsRead = () => {\n    setState(prev => {\n      const updatedNotifications = prev.notifications.map(n => ({ ...n, isRead: true }));\n      saveNotifications(updatedNotifications);\n      return {\n        ...prev,\n        notifications: updatedNotifications,\n        unreadCount: 0,\n      };\n    });\n  };\n\n  const clearNotifications = () => {\n    setState(prev => ({ ...prev, notifications: [], unreadCount: 0 }));\n    AsyncStorage.removeItem('notifications');\n  };\n\n  const handleNotificationPress = (data: any) => {\n    console.log('Notification pressed with data:', data);\n    // Handle navigation based on notification type\n    if (data?.type === 'message') {\n      // Navigate to messages\n    } else if (data?.type === 'like') {\n      // Navigate to post\n    } else if (data?.type === 'follow') {\n      // Navigate to profile\n    }\n  };\n\n  const sendLocalNotification = async (title: string, body: string, data?: any) => {\n    console.log('Local notification:', { title, body, data });\n    addNotification({\n      id: Date.now().toString(),\n      title,\n      message: body,\n      type: 'general',\n      isRead: false,\n      createdAt: new Date().toISOString(),\n      userId: data?.userId || 'system',\n      actionData: data,\n    });\n  };\n\n  // Mock notifications for demo\n  const createMockNotifications = () => {\n    const mockNotifications: Notification[] = [\n      {\n        id: '1',\n        title: 'New Like',\n        message: 'John liked your post',\n        type: 'like',\n        isRead: false,\n        createdAt: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\n        userId: 'user1',\n        actionData: { postId: 'post1' },\n      },\n      {\n        id: '2',\n        title: 'New Message',\n        message: 'Sarah sent you a message',\n        type: 'message',\n        isRead: false,\n        createdAt: new Date(Date.now() - 1000 * 60 * 15).toISOString(),\n        userId: 'user2',\n        actionData: { conversationId: 'conv1' },\n      },\n      {\n        id: '3',\n        title: 'New Follower',\n        message: 'Mike started following you',\n        type: 'follow',\n        isRead: true,\n        createdAt: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n        userId: 'user3',\n        actionData: { userId: 'user3' },\n      },\n    ];\n\n    setState(prev => {\n      const unreadCount = mockNotifications.filter(n => !n.isRead).length;\n      return {\n        ...prev,\n        notifications: mockNotifications,\n        unreadCount,\n      };\n    });\n  };\n\n  return {\n    notifications: state.notifications,\n    unreadCount: state.unreadCount,\n    addNotification,\n    markAsRead,\n    markAllAsRead,\n    clearNotifications,\n    sendLocalNotification,\n    createMockNotifications,\n  };\n});","import { Conversation, Message, GroupChat } from '@/types/messaging';\n\nexport const mockMessages: Record<string, Message[]> = {\n  'conv-1': [\n    {\n      id: 'msg-1',\n      conversationId: 'conv-1',\n      senderId: 'user-6',\n      type: 'text',\n      content: 'Hey! How are you doing?',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 3600000),\n      updatedAt: new Date(Date.now() - 3600000),\n    },\n    {\n      id: 'msg-2',\n      conversationId: 'conv-1',\n      senderId: 'current-user',\n      type: 'text',\n      content: \"I'm great! Just finished working on some new vibes \",\n      status: 'seen',\n      reactions: [{ userId: 'user-6', emoji: '', createdAt: new Date(Date.now() - 3000000) }],\n      createdAt: new Date(Date.now() - 3000000),\n      updatedAt: new Date(Date.now() - 3000000),\n    },\n    {\n      id: 'msg-3',\n      conversationId: 'conv-1',\n      senderId: 'user-6',\n      type: 'text',\n      content: 'That sounds awesome! Can you share them?',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 2400000),\n      updatedAt: new Date(Date.now() - 2400000),\n    },\n    {\n      id: 'msg-4',\n      conversationId: 'conv-1',\n      senderId: 'current-user',\n      type: 'image',\n      content: 'Check this out!',\n      mediaUrl: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800',\n      thumbnailUrl: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200',\n      status: 'seen',\n      reactions: [{ userId: 'user-6', emoji: '', createdAt: new Date(Date.now() - 1800000) }],\n      createdAt: new Date(Date.now() - 1800000),\n      updatedAt: new Date(Date.now() - 1800000),\n    },\n    {\n      id: 'msg-5',\n      conversationId: 'conv-1',\n      senderId: 'user-6',\n      type: 'voice',\n      content: '',\n      mediaUrl: 'https://www2.cs.uic.edu/~i101/SoundFiles/BabyElephantWalk60.wav',\n      duration: 15,\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 900000),\n      updatedAt: new Date(Date.now() - 900000),\n    },\n  ],\n  'conv-2': [\n    {\n      id: 'msg-6',\n      conversationId: 'conv-2',\n      senderId: 'user-7',\n      type: 'text',\n      content: 'Are we still meeting tomorrow?',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 7200000),\n      updatedAt: new Date(Date.now() - 7200000),\n    },\n    {\n      id: 'msg-7',\n      conversationId: 'conv-2',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'Yes! 3pm at the usual spot',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 3600000),\n      updatedAt: new Date(Date.now() - 3600000),\n    },\n    {\n      id: 'msg-8',\n      conversationId: 'conv-2',\n      senderId: 'user-7',\n      type: 'image',\n      content: 'This place looks amazing!',\n      mediaUrl: 'https://images.unsplash.com/photo-1564507592333-c60657eea523?w=800',\n      thumbnailUrl: 'https://images.unsplash.com/photo-1564507592333-c60657eea523?w=200',\n      status: 'delivered',\n      reactions: [{ userId: 'current-user', emoji: '', createdAt: new Date(Date.now() - 1800000) }],\n      createdAt: new Date(Date.now() - 1800000),\n      updatedAt: new Date(Date.now() - 1800000),\n    },\n  ],\n  'conv-3': [\n    {\n      id: 'msg-9',\n      conversationId: 'conv-3',\n      senderId: 'user-9',\n      type: 'text',\n      content: '@everyone Meeting starts in 10 minutes!',\n      status: 'seen',\n      reactions: [\n        { userId: 'current-user', emoji: '', createdAt: new Date(Date.now() - 600000) },\n        { userId: 'user-11', emoji: '', createdAt: new Date(Date.now() - 580000) },\n      ],\n      createdAt: new Date(Date.now() - 600000),\n      updatedAt: new Date(Date.now() - 600000),\n    },\n    {\n      id: 'msg-10',\n      conversationId: 'conv-3',\n      senderId: 'user-11',\n      type: 'text',\n      content: 'On my way!',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 300000),\n      updatedAt: new Date(Date.now() - 300000),\n    },\n    {\n      id: 'msg-11',\n      conversationId: 'conv-3',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'Just joined!',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 120000),\n      updatedAt: new Date(Date.now() - 120000),\n    },\n  ],\n  'conv-4': [\n    {\n      id: 'msg-12',\n      conversationId: 'conv-4',\n      senderId: 'user-13',\n      type: 'text',\n      content: 'Your wellness tips have been life-changing! ',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 86400000),\n      updatedAt: new Date(Date.now() - 86400000),\n    },\n    {\n      id: 'msg-13',\n      conversationId: 'conv-4',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'Thank you so much! That means the world to me ',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 82800000),\n      updatedAt: new Date(Date.now() - 82800000),\n    },\n  ],\n  'conv-5': [\n    {\n      id: 'msg-14',\n      conversationId: 'conv-5',\n      senderId: 'user-14',\n      type: 'text',\n      content: 'Did you watch the game last night? ',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 43200000),\n      updatedAt: new Date(Date.now() - 43200000),\n    },\n    {\n      id: 'msg-15',\n      conversationId: 'conv-5',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'Yes! What a match! The final goal was incredible ',\n      status: 'seen',\n      reactions: [{ userId: 'user-14', emoji: '', createdAt: new Date(Date.now() - 39600000) }],\n      createdAt: new Date(Date.now() - 39600000),\n      updatedAt: new Date(Date.now() - 39600000),\n    },\n    {\n      id: 'msg-16',\n      conversationId: 'conv-5',\n      senderId: 'user-14',\n      type: 'voice',\n      content: '',\n      mediaUrl: 'https://www2.cs.uic.edu/~i101/SoundFiles/PinkPanther30.wav',\n      duration: 22,\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 36000000),\n      updatedAt: new Date(Date.now() - 36000000),\n    },\n  ],\n  'conv-6': [\n    {\n      id: 'msg-17',\n      conversationId: 'conv-6',\n      senderId: 'user-8',\n      type: 'text',\n      content: 'New beat is fire! ',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 21600000),\n      updatedAt: new Date(Date.now() - 21600000),\n    },\n    {\n      id: 'msg-18',\n      conversationId: 'conv-6',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'Thanks bro! Took me weeks to perfect it',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 18000000),\n      updatedAt: new Date(Date.now() - 18000000),\n    },\n  ],\n  'conv-7': [\n    {\n      id: 'msg-19',\n      conversationId: 'conv-7',\n      senderId: 'user-15',\n      type: 'image',\n      content: 'Look at this dish I made!',\n      mediaUrl: 'https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=800',\n      thumbnailUrl: 'https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=200',\n      status: 'seen',\n      reactions: [{ userId: 'current-user', emoji: '', createdAt: new Date(Date.now() - 14400000) }],\n      createdAt: new Date(Date.now() - 14400000),\n      updatedAt: new Date(Date.now() - 14400000),\n    },\n    {\n      id: 'msg-20',\n      conversationId: 'conv-7',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'That looks delicious! Recipe please? ',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 10800000),\n      updatedAt: new Date(Date.now() - 10800000),\n    },\n  ],\n  'conv-8': [\n    {\n      id: 'msg-21',\n      conversationId: 'conv-8',\n      senderId: 'user-12',\n      type: 'text',\n      content: 'Check out this new track!',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 432000000),\n      updatedAt: new Date(Date.now() - 432000000),\n    },\n    {\n      id: 'msg-22',\n      conversationId: 'conv-8',\n      senderId: 'user-10',\n      type: 'text',\n      content: 'Love it! Adding to my playlist ',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 428400000),\n      updatedAt: new Date(Date.now() - 428400000),\n    },\n    {\n      id: 'msg-23',\n      conversationId: 'conv-8',\n      senderId: 'current-user',\n      type: 'text',\n      content: 'This is amazing! Who\\'s the artist?',\n      status: 'seen',\n      reactions: [],\n      createdAt: new Date(Date.now() - 424800000),\n      updatedAt: new Date(Date.now() - 424800000),\n    },\n  ],\n};\n\nexport const mockConversations: Conversation[] = [\n  {\n    id: 'conv-1',\n    type: 'direct',\n    participants: ['current-user', 'user-6'],\n    lastMessage: mockMessages['conv-1'][mockMessages['conv-1'].length - 1],\n    unreadCount: 0,\n    isPinned: true,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 7),\n    updatedAt: new Date(Date.now() - 900000),\n  },\n  {\n    id: 'conv-2',\n    type: 'direct',\n    participants: ['current-user', 'user-7'],\n    lastMessage: mockMessages['conv-2'][mockMessages['conv-2'].length - 1],\n    unreadCount: 1,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 3),\n    updatedAt: new Date(Date.now() - 1800000),\n  },\n  {\n    id: 'conv-3',\n    type: 'group',\n    name: 'Fashion Squad',\n    image: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=200',\n    description: 'Fashion enthusiasts unite!',\n    participants: ['current-user', 'user-9', 'user-11', 'user-4'],\n    lastMessage: mockMessages['conv-3'][mockMessages['conv-3'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 30),\n    updatedAt: new Date(Date.now() - 120000),\n  },\n  {\n    id: 'conv-4',\n    type: 'direct',\n    participants: ['current-user', 'user-13'],\n    lastMessage: mockMessages['conv-4'][mockMessages['conv-4'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 5),\n    updatedAt: new Date(Date.now() - 82800000),\n  },\n  {\n    id: 'conv-5',\n    type: 'direct',\n    participants: ['current-user', 'user-14'],\n    lastMessage: mockMessages['conv-5'][mockMessages['conv-5'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 2),\n    updatedAt: new Date(Date.now() - 36000000),\n  },\n  {\n    id: 'conv-6',\n    type: 'direct',\n    participants: ['current-user', 'user-8'],\n    lastMessage: mockMessages['conv-6'][mockMessages['conv-6'].length - 1],\n    unreadCount: 1,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 4),\n    updatedAt: new Date(Date.now() - 18000000),\n  },\n  {\n    id: 'conv-7',\n    type: 'direct',\n    participants: ['current-user', 'user-15'],\n    lastMessage: mockMessages['conv-7'][mockMessages['conv-7'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 6),\n    updatedAt: new Date(Date.now() - 10800000),\n  },\n  {\n    id: 'conv-8',\n    type: 'group',\n    name: 'Music Lovers',\n    image: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200',\n    description: 'Share your favorite music',\n    participants: ['current-user', 'user-8', 'user-10', 'user-12'],\n    lastMessage: mockMessages['conv-8'][mockMessages['conv-8'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: true,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 45),\n    updatedAt: new Date(Date.now() - 424800000),\n  },\n  {\n    id: 'conv-9',\n    type: 'group',\n    name: 'Fitness Crew',\n    image: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=200',\n    description: 'Get fit together!',\n    participants: ['current-user', 'user-6', 'user-13', 'user-10'],\n    lastMessage: {\n      id: 'msg-24',\n      conversationId: 'conv-9',\n      senderId: 'user-6',\n      type: 'text',\n      content: 'Morning workout at 6am tomorrow! Who\\'s in? ',\n      status: 'seen',\n      reactions: [\n        { userId: 'current-user', emoji: '', createdAt: new Date(Date.now() - 172800000) },\n        { userId: 'user-13', emoji: '', createdAt: new Date(Date.now() - 172700000) },\n      ],\n      createdAt: new Date(Date.now() - 172800000),\n      updatedAt: new Date(Date.now() - 172800000),\n    },\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 20),\n    updatedAt: new Date(Date.now() - 172800000),\n  },\n  {\n    id: 'conv-10',\n    type: 'direct',\n    participants: ['current-user', 'user-2'],\n    lastMessage: {\n      id: 'msg-25',\n      conversationId: 'conv-10',\n      senderId: 'user-2',\n      type: 'text',\n      content: 'Hey, I love your content!',\n      status: 'delivered',\n      reactions: [],\n      createdAt: new Date(Date.now() - 86400000),\n      updatedAt: new Date(Date.now() - 86400000),\n    },\n    unreadCount: 1,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: true,\n    createdAt: new Date(Date.now() - 86400000),\n    updatedAt: new Date(Date.now() - 86400000),\n  },\n];\n\nexport const mockGroupChats: GroupChat[] = [\n  {\n    id: 'conv-3',\n    type: 'group',\n    name: 'Fashion Squad',\n    image: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=200',\n    description: 'Fashion enthusiasts unite!',\n    participants: ['current-user', 'user-9', 'user-11', 'user-4'],\n    members: [\n      { userId: 'current-user', role: 'admin', joinedAt: new Date(Date.now() - 86400000 * 30) },\n      { userId: 'user-9', role: 'admin', joinedAt: new Date(Date.now() - 86400000 * 30) },\n      { userId: 'user-11', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 25) },\n      { userId: 'user-4', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 20) },\n    ],\n    createdBy: 'current-user',\n    lastMessage: mockMessages['conv-3'][mockMessages['conv-3'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 30),\n    updatedAt: new Date(Date.now() - 120000),\n  },\n  {\n    id: 'conv-8',\n    type: 'group',\n    name: 'Music Lovers',\n    image: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200',\n    description: 'Share your favorite music',\n    participants: ['current-user', 'user-8', 'user-10', 'user-12'],\n    members: [\n      { userId: 'current-user', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 45) },\n      { userId: 'user-8', role: 'admin', joinedAt: new Date(Date.now() - 86400000 * 45) },\n      { userId: 'user-10', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 40) },\n      { userId: 'user-12', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 35) },\n    ],\n    createdBy: 'user-8',\n    lastMessage: mockMessages['conv-8'][mockMessages['conv-8'].length - 1],\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: true,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 45),\n    updatedAt: new Date(Date.now() - 424800000),\n  },\n  {\n    id: 'conv-9',\n    type: 'group',\n    name: 'Fitness Crew',\n    image: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=200',\n    description: 'Get fit together!',\n    participants: ['current-user', 'user-6', 'user-13', 'user-10'],\n    members: [\n      { userId: 'user-6', role: 'admin', joinedAt: new Date(Date.now() - 86400000 * 20) },\n      { userId: 'current-user', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 20) },\n      { userId: 'user-13', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 18) },\n      { userId: 'user-10', role: 'member', joinedAt: new Date(Date.now() - 86400000 * 15) },\n    ],\n    createdBy: 'user-6',\n    lastMessage: mockConversations.find(c => c.id === 'conv-9')?.lastMessage!,\n    unreadCount: 0,\n    isPinned: false,\n    isMuted: false,\n    isArchived: false,\n    isRequest: false,\n    createdAt: new Date(Date.now() - 86400000 * 20),\n    updatedAt: new Date(Date.now() - 172800000),\n  },\n];\n","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nimport { Message, Conversation, MessageDraft, TypingIndicator } from '@/types/messaging';\nimport { mockConversations, mockMessages } from '@/mocks/messages';\nimport { useAuth } from './auth-store';\n\ninterface DMState {\n  conversations: Conversation[];\n  messages: Record<string, Message[]>;\n  drafts: Record<string, MessageDraft>;\n  typingIndicators: TypingIndicator[];\n  selectedConversation: string | null;\n}\n\nexport const [DMProvider, useDM] = createContextHook(() => {\n  const { user } = useAuth();\n  \n  const [state, setState] = useState<DMState>({\n    conversations: [],\n    messages: {},\n    drafts: {},\n    typingIndicators: [],\n    selectedConversation: null,\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      const stored = await AsyncStorage.getItem('dm-data');\n      if (stored) {\n        const data = JSON.parse(stored);\n        setState(prev => ({\n          ...prev,\n          conversations: data.conversations || mockConversations,\n          messages: data.messages || mockMessages,\n        }));\n      } else {\n        setState(prev => ({\n          ...prev,\n          conversations: mockConversations,\n          messages: mockMessages,\n        }));\n      }\n    } catch (error) {\n      console.error('[DM] Error loading data:', error);\n      setState(prev => ({\n        ...prev,\n        conversations: mockConversations,\n        messages: mockMessages,\n      }));\n    }\n  };\n\n  const saveData = async (conversations: Conversation[], messages: Record<string, Message[]>) => {\n    try {\n      await AsyncStorage.setItem('dm-data', JSON.stringify({ conversations, messages }));\n    } catch (error) {\n      console.error('[DM] Error saving data:', error);\n    }\n  };\n\n  const updateMessageStatus = useCallback((messageId: string, status: Message['status']) => {\n    setState(prev => {\n      const updatedMessages = { ...prev.messages };\n      \n      Object.keys(updatedMessages).forEach(convId => {\n        updatedMessages[convId] = updatedMessages[convId].map(msg =>\n          msg.id === messageId ? { ...msg, status } : msg\n        );\n      });\n\n      return { ...prev, messages: updatedMessages };\n    });\n  }, []);\n\n  const sendMessage = useCallback((\n    conversationId: string,\n    content: string,\n    type: Message['type'] = 'text',\n    options?: {\n      mediaUrl?: string;\n      thumbnailUrl?: string;\n      duration?: number;\n      fileName?: string;\n      fileSize?: number;\n      replyTo?: string;\n    }\n  ) => {\n    if (!user) return;\n\n    const newMessage: Message = {\n      id: `msg-${Date.now()}`,\n      conversationId,\n      senderId: 'current-user',\n      type,\n      content,\n      mediaUrl: options?.mediaUrl,\n      thumbnailUrl: options?.thumbnailUrl,\n      duration: options?.duration,\n      fileName: options?.fileName,\n      fileSize: options?.fileSize,\n      replyTo: options?.replyTo,\n      status: 'sending',\n      reactions: [],\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    setState(prev => {\n      const conversationMessages = prev.messages[conversationId] || [];\n      const updatedMessages = {\n        ...prev.messages,\n        [conversationId]: [...conversationMessages, newMessage],\n      };\n\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return {\n            ...conv,\n            lastMessage: newMessage,\n            updatedAt: new Date(),\n          };\n        }\n        return conv;\n      });\n\n      saveData(updatedConversations, updatedMessages);\n\n      return {\n        ...prev,\n        conversations: updatedConversations,\n        messages: updatedMessages,\n        drafts: {\n          ...prev.drafts,\n          [conversationId]: { conversationId, text: '' },\n        },\n      };\n    });\n\n    setTimeout(() => {\n      updateMessageStatus(newMessage.id, 'sent');\n      setTimeout(() => updateMessageStatus(newMessage.id, 'delivered'), 1000);\n      setTimeout(() => updateMessageStatus(newMessage.id, 'seen'), 2000);\n    }, 500);\n  }, [user, updateMessageStatus]);\n\n  const addReaction = useCallback((messageId: string, conversationId: string, emoji: string) => {\n    if (!user) return;\n\n    setState(prev => {\n      const conversationMessages = prev.messages[conversationId] || [];\n      const updatedMessages = {\n        ...prev.messages,\n        [conversationId]: conversationMessages.map(msg => {\n          if (msg.id === messageId) {\n            const existingReaction = msg.reactions.find(r => r.userId === 'current-user');\n            if (existingReaction) {\n              return {\n                ...msg,\n                reactions: msg.reactions.filter(r => r.userId !== 'current-user'),\n              };\n            }\n            return {\n              ...msg,\n              reactions: [\n                ...msg.reactions,\n                { userId: 'current-user', emoji, createdAt: new Date() },\n              ],\n            };\n          }\n          return msg;\n        }),\n      };\n\n      return { ...prev, messages: updatedMessages };\n    });\n  }, [user]);\n\n  const deleteMessage = useCallback((messageId: string, conversationId: string, forEveryone: boolean = false) => {\n    setState(prev => {\n      const conversationMessages = prev.messages[conversationId] || [];\n      const updatedMessages = {\n        ...prev.messages,\n        [conversationId]: conversationMessages.map(msg => {\n          if (msg.id === messageId) {\n            if (forEveryone) {\n              return { ...msg, deletedForEveryone: true, content: 'This message was deleted' };\n            }\n            return { ...msg, deletedForMe: true };\n          }\n          return msg;\n        }),\n      };\n\n      return { ...prev, messages: updatedMessages };\n    });\n  }, []);\n\n  const markAsRead = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return { ...conv, unreadCount: 0 };\n        }\n        return conv;\n      });\n\n      return { ...prev, conversations: updatedConversations };\n    });\n  }, []);\n\n  const togglePin = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return { ...conv, isPinned: !conv.isPinned };\n        }\n        return conv;\n      });\n\n      saveData(updatedConversations, prev.messages);\n      return { ...prev, conversations: updatedConversations };\n    });\n  }, []);\n\n  const toggleMute = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return { ...conv, isMuted: !conv.isMuted };\n        }\n        return conv;\n      });\n\n      saveData(updatedConversations, prev.messages);\n      return { ...prev, conversations: updatedConversations };\n    });\n  }, []);\n\n  const archiveConversation = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return { ...conv, isArchived: true };\n        }\n        return conv;\n      });\n\n      saveData(updatedConversations, prev.messages);\n      return { ...prev, conversations: updatedConversations };\n    });\n  }, []);\n\n  const deleteConversation = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.filter(conv => conv.id !== conversationId);\n      const updatedMessages = { ...prev.messages };\n      delete updatedMessages[conversationId];\n\n      saveData(updatedConversations, updatedMessages);\n      return {\n        ...prev,\n        conversations: updatedConversations,\n        messages: updatedMessages,\n      };\n    });\n  }, []);\n\n  const acceptRequest = useCallback((conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.id === conversationId) {\n          return { ...conv, isRequest: false };\n        }\n        return conv;\n      });\n\n      saveData(updatedConversations, prev.messages);\n      return { ...prev, conversations: updatedConversations };\n    });\n  }, []);\n\n  const declineRequest = useCallback((conversationId: string) => {\n    deleteConversation(conversationId);\n  }, [deleteConversation]);\n\n  const saveDraft = useCallback((conversationId: string, text: string, replyTo?: string) => {\n    setState(prev => ({\n      ...prev,\n      drafts: {\n        ...prev.drafts,\n        [conversationId]: { conversationId, text, replyTo },\n      },\n    }));\n  }, []);\n\n  const setTyping = useCallback((conversationId: string, isTyping: boolean) => {\n    if (!user) return;\n\n    setState(prev => {\n      if (isTyping) {\n        const indicator: TypingIndicator = {\n          conversationId,\n          userId: 'current-user',\n          timestamp: new Date(),\n        };\n        return {\n          ...prev,\n          typingIndicators: [...prev.typingIndicators.filter(t => t.conversationId !== conversationId), indicator],\n        };\n      } else {\n        return {\n          ...prev,\n          typingIndicators: prev.typingIndicators.filter(t => t.conversationId !== conversationId),\n        };\n      }\n    });\n  }, [user]);\n\n  const selectConversation = useCallback((conversationId: string | null) => {\n    setState(prev => ({ ...prev, selectedConversation: conversationId }));\n    if (conversationId) {\n      markAsRead(conversationId);\n    }\n  }, [markAsRead]);\n\n  const getConversation = useCallback((conversationId: string) => {\n    return state.conversations.find(c => c.id === conversationId);\n  }, [state.conversations]);\n\n  const getMessages = useCallback((conversationId: string) => {\n    return state.messages[conversationId] || [];\n  }, [state.messages]);\n\n  const getDraft = useCallback((conversationId: string) => {\n    return state.drafts[conversationId];\n  }, [state.drafts]);\n\n  const getTypingUsers = useCallback((conversationId: string) => {\n    return state.typingIndicators\n      .filter(t => t.conversationId === conversationId && t.userId !== 'current-user')\n      .map(t => t.userId);\n  }, [state.typingIndicators]);\n\n  const getActiveConversations = useCallback(() => {\n    return state.conversations\n      .filter(c => !c.isArchived && !c.isRequest)\n      .sort((a, b) => {\n        if (a.isPinned && !b.isPinned) return -1;\n        if (!a.isPinned && b.isPinned) return 1;\n        return new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime();\n      });\n  }, [state.conversations]);\n\n  const getArchivedConversations = useCallback(() => {\n    return state.conversations.filter(c => c.isArchived);\n  }, [state.conversations]);\n\n  const getMessageRequests = useCallback(() => {\n    return state.conversations.filter(c => c.isRequest);\n  }, [state.conversations]);\n\n  const getTotalUnreadCount = useCallback(() => {\n    return state.conversations\n      .filter(c => !c.isArchived && !c.isRequest)\n      .reduce((sum, conv) => sum + conv.unreadCount, 0);\n  }, [state.conversations]);\n\n  return useMemo(() => ({\n    conversations: state.conversations,\n    messages: state.messages,\n    selectedConversation: state.selectedConversation,\n    sendMessage,\n    addReaction,\n    deleteMessage,\n    markAsRead,\n    togglePin,\n    toggleMute,\n    archiveConversation,\n    deleteConversation,\n    acceptRequest,\n    declineRequest,\n    saveDraft,\n    setTyping,\n    selectConversation,\n    getConversation,\n    getMessages,\n    getDraft,\n    getTypingUsers,\n    getActiveConversations,\n    getArchivedConversations,\n    getMessageRequests,\n    getTotalUnreadCount,\n  }), [\n    state,\n    sendMessage,\n    addReaction,\n    deleteMessage,\n    markAsRead,\n    togglePin,\n    toggleMute,\n    archiveConversation,\n    deleteConversation,\n    acceptRequest,\n    declineRequest,\n    saveDraft,\n    setTyping,\n    selectConversation,\n    getConversation,\n    getMessages,\n    getDraft,\n    getTypingUsers,\n    getActiveConversations,\n    getArchivedConversations,\n    getMessageRequests,\n    getTotalUnreadCount,\n  ]);\n});\n","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  ScrollView,\n  Switch,\n} from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { X, Users, UserCheck, Globe } from 'lucide-react-native';\nimport { useLiveStreaming } from '@/hooks/live-streaming-store';\nimport { LiveAudience } from '@/types/live';\nimport { Colors } from '@/constants/colors';\n\nconst colors = {\n  primary: Colors.primary,\n  background: {\n    primary: Colors.background,\n    secondary: Colors.backgroundSecondary,\n  },\n  text: {\n    primary: Colors.text,\n    secondary: Colors.textSecondary,\n  },\n  border: Colors.border,\n};\n\nexport default function LiveSetupScreen() {\n  const { startLive } = useLiveStreaming();\n  const [title, setTitle] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n  const [audience, setAudience] = useState<LiveAudience>('everyone');\n  const [commentsEnabled, setCommentsEnabled] = useState<boolean>(true);\n  const [shareToFeed, setShareToFeed] = useState<boolean>(true);\n  const [isStarting, setIsStarting] = useState<boolean>(false);\n\n  const audienceOptions: { value: LiveAudience; label: string; icon: typeof Globe; description: string }[] = [\n    {\n      value: 'everyone',\n      label: 'Everyone',\n      icon: Globe,\n      description: 'Anyone can watch your live',\n    },\n    {\n      value: 'followers',\n      label: 'Followers',\n      icon: Users,\n      description: 'Only your followers can watch',\n    },\n    {\n      value: 'close-friends',\n      label: 'Close Friends',\n      icon: UserCheck,\n      description: 'Only close friends can watch',\n    },\n  ];\n\n  const handleStartLive = async () => {\n    setIsStarting(true);\n    try {\n      const session = await startLive(\n        title || undefined,\n        description || undefined,\n        audience,\n        commentsEnabled,\n        shareToFeed\n      );\n      \n      router.replace(`/live/${session.id}`);\n    } catch (error) {\n      console.error('Failed to start live:', error);\n      setIsStarting(false);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container} edges={['top']}>\n      <Stack.Screen\n        options={{\n          headerShown: false,\n        }}\n      />\n\n      <View style={styles.header}>\n        <TouchableOpacity\n          onPress={() => router.back()}\n          style={styles.closeButton}\n          testID=\"close-button\"\n        >\n          <X size={24} color={colors.text.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerTitle}>Go Live</Text>\n        <View style={styles.placeholder} />\n      </View>\n\n      <ScrollView\n        style={styles.content}\n        contentContainerStyle={styles.contentContainer}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Title (Optional)</Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"What's your live about?\"\n            placeholderTextColor={colors.text.secondary}\n            value={title}\n            onChangeText={setTitle}\n            maxLength={100}\n            testID=\"title-input\"\n          />\n        </View>\n\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Description (Optional)</Text>\n          <TextInput\n            style={[styles.input, styles.textArea]}\n            placeholder=\"Tell viewers more about your live...\"\n            placeholderTextColor={colors.text.secondary}\n            value={description}\n            onChangeText={setDescription}\n            maxLength={500}\n            multiline\n            numberOfLines={4}\n            textAlignVertical=\"top\"\n            testID=\"description-input\"\n          />\n        </View>\n\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Who can watch</Text>\n          {audienceOptions.map((option) => {\n            const Icon = option.icon;\n            const isSelected = audience === option.value;\n\n            return (\n              <TouchableOpacity\n                key={option.value}\n                style={[\n                  styles.audienceOption,\n                  isSelected && styles.audienceOptionSelected,\n                ]}\n                onPress={() => setAudience(option.value)}\n                testID={`audience-${option.value}`}\n              >\n                <View style={styles.audienceIconContainer}>\n                  <Icon\n                    size={24}\n                    color={isSelected ? colors.primary : colors.text.secondary}\n                  />\n                </View>\n                <View style={styles.audienceTextContainer}>\n                  <Text\n                    style={[\n                      styles.audienceLabel,\n                      isSelected && styles.audienceLabelSelected,\n                    ]}\n                  >\n                    {option.label}\n                  </Text>\n                  <Text style={styles.audienceDescription}>\n                    {option.description}\n                  </Text>\n                </View>\n                <View\n                  style={[\n                    styles.radioOuter,\n                    isSelected && styles.radioOuterSelected,\n                  ]}\n                >\n                  {isSelected && <View style={styles.radioInner} />}\n                </View>\n              </TouchableOpacity>\n            );\n          })}\n        </View>\n\n        <View style={styles.section}>\n          <View style={styles.settingRow}>\n            <View style={styles.settingTextContainer}>\n              <Text style={styles.settingLabel}>Enable Comments</Text>\n              <Text style={styles.settingDescription}>\n                Let viewers comment during your live\n              </Text>\n            </View>\n            <Switch\n              value={commentsEnabled}\n              onValueChange={setCommentsEnabled}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.background.primary}\n              testID=\"comments-switch\"\n            />\n          </View>\n\n          <View style={styles.settingRow}>\n            <View style={styles.settingTextContainer}>\n              <Text style={styles.settingLabel}>Share to Feed</Text>\n              <Text style={styles.settingDescription}>\n                Post replay to your profile after live ends\n              </Text>\n            </View>\n            <Switch\n              value={shareToFeed}\n              onValueChange={setShareToFeed}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor={colors.background.primary}\n              testID=\"share-switch\"\n            />\n          </View>\n        </View>\n      </ScrollView>\n\n      <View style={styles.footer}>\n        <TouchableOpacity\n          style={[styles.startButton, isStarting && styles.startButtonDisabled]}\n          onPress={handleStartLive}\n          disabled={isStarting}\n          testID=\"start-live-button\"\n        >\n          <Text style={styles.startButtonText}>\n            {isStarting ? 'Starting...' : 'Start Live'}\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background.primary,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.border,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n    color: colors.text.primary,\n  },\n  placeholder: {\n    width: 40,\n  },\n  content: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n  },\n  section: {\n    marginBottom: 24,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: colors.text.primary,\n    marginBottom: 12,\n  },\n  input: {\n    backgroundColor: colors.background.secondary,\n    borderRadius: 12,\n    padding: 16,\n    fontSize: 16,\n    color: colors.text.primary,\n    borderWidth: 1,\n    borderColor: colors.border,\n  },\n  textArea: {\n    height: 100,\n    paddingTop: 16,\n  },\n  audienceOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: colors.background.secondary,\n    borderRadius: 12,\n    marginBottom: 12,\n    borderWidth: 2,\n    borderColor: 'transparent',\n  },\n  audienceOptionSelected: {\n    borderColor: colors.primary,\n    backgroundColor: `${colors.primary}10`,\n  },\n  audienceIconContainer: {\n    marginRight: 12,\n  },\n  audienceTextContainer: {\n    flex: 1,\n  },\n  audienceLabel: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: colors.text.primary,\n    marginBottom: 4,\n  },\n  audienceLabelSelected: {\n    color: colors.primary,\n  },\n  audienceDescription: {\n    fontSize: 14,\n    color: colors.text.secondary,\n  },\n  radioOuter: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: colors.border,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  radioOuterSelected: {\n    borderColor: colors.primary,\n  },\n  radioInner: {\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n    backgroundColor: colors.primary,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.border,\n  },\n  settingTextContainer: {\n    flex: 1,\n    marginRight: 16,\n  },\n  settingLabel: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: colors.text.primary,\n    marginBottom: 4,\n  },\n  settingDescription: {\n    fontSize: 14,\n    color: colors.text.secondary,\n  },\n  footer: {\n    padding: 16,\n    borderTopWidth: 1,\n    borderTopColor: colors.border,\n  },\n  startButton: {\n    backgroundColor: colors.primary,\n    borderRadius: 12,\n    padding: 16,\n    alignItems: 'center',\n  },\n  startButtonDisabled: {\n    opacity: 0.6,\n  },\n  startButtonText: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n});\n","import { useState, useCallback } from \"react\";\nimport createContextHook from \"@nkzw/create-context-hook\";\nimport { AdEngagement, AdPreferences } from \"@/types\";\n\nexport const [AdEngagementProvider, useAdEngagement] = createContextHook(() => {\n  const [engagements, setEngagements] = useState<AdEngagement[]>([]);\n  const [preferences, setPreferences] = useState<AdPreferences>({\n    userId: \"current-user\",\n    enabledCategories: [\"shopping\", \"fashion\", \"technology\", \"food\", \"entertainment\"],\n    disabledBrands: [],\n    personalizedAds: true,\n    dataSharing: true,\n  });\n\n  const trackEngagement = useCallback(\n    (\n      adId: string,\n      action: \"view\" | \"click\" | \"like\" | \"comment\" | \"share\" | \"save\" | \"hide\" | \"report\",\n      metadata?: any\n    ) => {\n      const engagement: AdEngagement = {\n        adId,\n        userId: \"current-user\",\n        action,\n        timestamp: new Date().toISOString(),\n        metadata,\n      };\n\n      setEngagements((prev) => [...prev, engagement]);\n\n      console.log(`[Ad Engagement] ${action} on ad ${adId}`, metadata);\n    },\n    []\n  );\n\n  const updatePreferences = useCallback((updates: Partial<AdPreferences>) => {\n    setPreferences((prev) => ({ ...prev, ...updates }));\n  }, []);\n\n  const disableBrand = useCallback((brandName: string) => {\n    setPreferences((prev) => ({\n      ...prev,\n      disabledBrands: [...prev.disabledBrands, brandName],\n    }));\n  }, []);\n\n  const enableBrand = useCallback((brandName: string) => {\n    setPreferences((prev) => ({\n      ...prev,\n      disabledBrands: prev.disabledBrands.filter((b) => b !== brandName),\n    }));\n  }, []);\n\n  const toggleCategory = useCallback((category: string) => {\n    setPreferences((prev) => {\n      const isEnabled = prev.enabledCategories.includes(category);\n      return {\n        ...prev,\n        enabledCategories: isEnabled\n          ? prev.enabledCategories.filter((c) => c !== category)\n          : [...prev.enabledCategories, category],\n      };\n    });\n  }, []);\n\n  const getEngagementStats = useCallback(\n    (adId: string) => {\n      const adEngagements = engagements.filter((e) => e.adId === adId);\n      return {\n        views: adEngagements.filter((e) => e.action === \"view\").length,\n        clicks: adEngagements.filter((e) => e.action === \"click\").length,\n        likes: adEngagements.filter((e) => e.action === \"like\").length,\n        comments: adEngagements.filter((e) => e.action === \"comment\").length,\n        shares: adEngagements.filter((e) => e.action === \"share\").length,\n        saves: adEngagements.filter((e) => e.action === \"save\").length,\n        hides: adEngagements.filter((e) => e.action === \"hide\").length,\n        reports: adEngagements.filter((e) => e.action === \"report\").length,\n      };\n    },\n    [engagements]\n  );\n\n  return {\n    engagements,\n    preferences,\n    trackEngagement,\n    updatePreferences,\n    disableBrand,\n    enableBrand,\n    toggleCategory,\n    getEngagementStats,\n  };\n});\n","import React from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Switch,\n} from \"react-native\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { router } from \"expo-router\";\nimport { ChevronLeft, Info } from \"lucide-react-native\";\nimport { useTheme } from \"@/hooks/theme-store\";\nimport { useAdEngagement } from \"@/hooks/ad-engagement-store\";\n\nconst AD_CATEGORIES = [\n  { id: \"shopping\", label: \"Shopping & Retail\", icon: \"\" },\n  { id: \"fashion\", label: \"Fashion & Beauty\", icon: \"\" },\n  { id: \"technology\", label: \"Technology & Gadgets\", icon: \"\" },\n  { id: \"food\", label: \"Food & Dining\", icon: \"\" },\n  { id: \"entertainment\", label: \"Entertainment & Media\", icon: \"\" },\n  { id: \"travel\", label: \"Travel & Tourism\", icon: \"\" },\n  { id: \"fitness\", label: \"Health & Fitness\", icon: \"\" },\n  { id: \"automotive\", label: \"Automotive\", icon: \"\" },\n  { id: \"finance\", label: \"Finance & Banking\", icon: \"\" },\n  { id: \"education\", label: \"Education & Learning\", icon: \"\" },\n];\n\nexport default function AdPreferencesScreen() {\n  const { colors } = useTheme();\n  const { preferences, updatePreferences, toggleCategory } = useAdEngagement();\n\n  const handleTogglePersonalizedAds = (value: boolean) => {\n    updatePreferences({ personalizedAds: value });\n  };\n\n  const handleToggleDataSharing = (value: boolean) => {\n    updatePreferences({ dataSharing: value });\n  };\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={[\"top\"]}>\n      <View style={[styles.header, { borderBottomColor: colors.border }]}>\n        <TouchableOpacity\n          style={styles.backButton}\n          onPress={() => router.back()}\n        >\n          <ChevronLeft size={24} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>\n          Ad Preferences\n        </Text>\n        <View style={styles.headerRight} />\n      </View>\n\n      <ScrollView\n        style={styles.content}\n        showsVerticalScrollIndicator={false}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <View style={[styles.section, { backgroundColor: colors.card }]}>\n          <View style={styles.sectionHeader}>\n            <Text style={[styles.sectionTitle, { color: colors.text }]}>\n              Personalization\n            </Text>\n            <Info size={18} color={colors.textSecondary} />\n          </View>\n          <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n            Control how ads are personalized for you based on your activity and interests.\n          </Text>\n\n          <View style={[styles.settingRow, { borderTopColor: colors.border }]}>\n            <View style={styles.settingInfo}>\n              <Text style={[styles.settingLabel, { color: colors.text }]}>\n                Personalized Ads\n              </Text>\n              <Text style={[styles.settingDescription, { color: colors.textSecondary }]}>\n                Show ads based on your interests and activity\n              </Text>\n            </View>\n            <Switch\n              value={preferences.personalizedAds}\n              onValueChange={handleTogglePersonalizedAds}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor=\"#fff\"\n            />\n          </View>\n\n          <View style={[styles.settingRow, { borderTopColor: colors.border }]}>\n            <View style={styles.settingInfo}>\n              <Text style={[styles.settingLabel, { color: colors.text }]}>\n                Data Sharing\n              </Text>\n              <Text style={[styles.settingDescription, { color: colors.textSecondary }]}>\n                Share anonymized data with advertisers\n              </Text>\n            </View>\n            <Switch\n              value={preferences.dataSharing}\n              onValueChange={handleToggleDataSharing}\n              trackColor={{ false: colors.border, true: colors.primary }}\n              thumbColor=\"#fff\"\n            />\n          </View>\n        </View>\n\n        <View style={[styles.section, { backgroundColor: colors.card }]}>\n          <View style={styles.sectionHeader}>\n            <Text style={[styles.sectionTitle, { color: colors.text }]}>\n              Ad Categories\n            </Text>\n          </View>\n          <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n            Choose which types of ads you want to see. Disabled categories will show fewer ads.\n          </Text>\n\n          {AD_CATEGORIES.map((category, index) => (\n            <View\n              key={category.id}\n              style={[\n                styles.categoryRow,\n                index > 0 && { borderTopColor: colors.border, borderTopWidth: 1 },\n              ]}\n            >\n              <View style={styles.categoryInfo}>\n                <Text style={styles.categoryIcon}>{category.icon}</Text>\n                <Text style={[styles.categoryLabel, { color: colors.text }]}>\n                  {category.label}\n                </Text>\n              </View>\n              <Switch\n                value={preferences.enabledCategories.includes(category.id)}\n                onValueChange={() => toggleCategory(category.id)}\n                trackColor={{ false: colors.border, true: colors.primary }}\n                thumbColor=\"#fff\"\n              />\n            </View>\n          ))}\n        </View>\n\n        <View style={[styles.infoBox, { backgroundColor: colors.card, borderColor: colors.border }]}>\n          <Info size={20} color={colors.primary} />\n          <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n            Your ad preferences help us show you more relevant content. You can change these settings at any time.\n          </Text>\n        </View>\n\n        <View style={[styles.section, { backgroundColor: colors.card }]}>\n          <Text style={[styles.sectionTitle, { color: colors.text }]}>\n            About Ads on VibeSync\n          </Text>\n          <Text style={[styles.aboutText, { color: colors.textSecondary }]}>\n            Ads help us keep VibeSync free for everyone. We work with trusted brands to show you relevant products and services.\n            {\"\\n\\n\"}\n            All ads are clearly labeled as &quot;Sponsored&quot; and you can always hide or report ads that don&apos;t interest you.\n            {\"\\n\\n\"}\n            Your privacy is important to us. We never sell your personal information to advertisers.\n          </Text>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  backButton: {\n    padding: 4,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: \"700\" as const,\n  },\n  headerRight: {\n    width: 32,\n  },\n  content: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: 40,\n  },\n  section: {\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 16,\n  },\n  sectionHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: 8,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: \"700\" as const,\n  },\n  sectionDescription: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 16,\n  },\n  settingRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: 12,\n    borderTopWidth: 1,\n  },\n  settingInfo: {\n    flex: 1,\n    marginRight: 16,\n  },\n  settingLabel: {\n    fontSize: 15,\n    fontWeight: \"600\" as const,\n    marginBottom: 4,\n  },\n  settingDescription: {\n    fontSize: 13,\n    lineHeight: 18,\n  },\n  categoryRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: 12,\n  },\n  categoryInfo: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    flex: 1,\n    marginRight: 16,\n  },\n  categoryIcon: {\n    fontSize: 24,\n    marginRight: 12,\n  },\n  categoryLabel: {\n    fontSize: 15,\n    fontWeight: \"500\" as const,\n  },\n  infoBox: {\n    flexDirection: \"row\",\n    padding: 16,\n    borderRadius: 12,\n    borderWidth: 1,\n    marginBottom: 16,\n    gap: 12,\n  },\n  infoText: {\n    flex: 1,\n    fontSize: 13,\n    lineHeight: 18,\n  },\n  aboutText: {\n    fontSize: 14,\n    lineHeight: 22,\n    marginTop: 8,\n  },\n});\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\nexport default function HomeScreen() {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>Hello World!</Text>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n});\n","import { User } from '@/types';\n\nexport const mockUsers: User[] = [\n  {\n    id: '1',\n    username: 'sarah_vibes',\n    displayName: 'Sarah Chen',\n    bio: 'Movie enthusiast  | Living my best life',\n    location: 'Los Angeles, CA',\n    profileImage: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 1240,\n    following: 356,\n    followersCount: 1240,\n    followingCount: 356,\n    posts: 42,\n    vibeScore: 9.2\n  },\n  {\n    id: '2',\n    username: 'mike_foodie',\n    displayName: 'Mike Rodriguez',\n    bio: 'Foodie & chef  | Sharing culinary adventures',\n    location: 'Miami, FL',\n    profileImage: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 890,\n    following: 412,\n    followersCount: 890,\n    followingCount: 412,\n    posts: 28,\n    vibeScore: 7.5\n  },\n  {\n    id: '3',\n    username: 'taylor_sync',\n    displayName: 'Taylor Kim',\n    bio: 'Tech enthusiast  | Building the future',\n    location: 'Seattle, WA',\n    profileImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 567,\n    following: 231,\n    followersCount: 567,\n    followingCount: 231,\n    posts: 15,\n    vibeScore: 6.8\n  },\n  {\n    id: '4',\n    username: 'emma_artist',\n    displayName: 'Emma Wilson',\n    bio: 'Digital artist  | Creating magic pixel by pixel',\n    location: 'New York, NY',\n    profileImage: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 1120,\n    following: 345,\n    followersCount: 1120,\n    followingCount: 345,\n    posts: 67,\n    vibeScore: 8.9\n  },\n  {\n    id: '5',\n    username: 'alexj',\n    displayName: 'Alex Johnson',\n    bio: 'Music lover |  Vibe curator |  Living life in sync',\n    location: 'San Francisco, CA',\n    profileImage: 'https://images.unsplash.com/photo-1603415526960-f7e0328c63b1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 1247,\n    following: 892,\n    followersCount: 1247,\n    followingCount: 892,\n    posts: 4,\n    vibeScore: 8.7\n  },\n  {\n    id: '6',\n    username: 'jamal_fitness',\n    displayName: 'Jamal Washington',\n    bio: 'Fitness coach  | Transforming lives one rep at a time',\n    location: 'Atlanta, GA',\n    profileImage: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 2340,\n    following: 567,\n    followersCount: 2340,\n    followingCount: 567,\n    posts: 89,\n    vibeScore: 9.5\n  },\n  {\n    id: '7',\n    username: 'priya_travels',\n    displayName: 'Priya Sharma',\n    bio: 'Travel blogger  | Exploring the world one city at a time',\n    location: 'Mumbai, India',\n    profileImage: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 3450,\n    following: 890,\n    followersCount: 3450,\n    followingCount: 890,\n    posts: 156,\n    vibeScore: 9.8\n  },\n  {\n    id: '8',\n    username: 'carlos_music',\n    displayName: 'Carlos Silva',\n    bio: 'Music producer  | Creating beats that move souls',\n    location: 'So Paulo, Brazil',\n    profileImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 1890,\n    following: 456,\n    followersCount: 1890,\n    followingCount: 456,\n    posts: 78,\n    vibeScore: 8.4\n  },\n  {\n    id: '9',\n    username: 'yuki_fashion',\n    displayName: 'Yuki Tanaka',\n    bio: 'Fashion designer  | Tokyo street style',\n    location: 'Tokyo, Japan',\n    profileImage: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 4560,\n    following: 1234,\n    followersCount: 4560,\n    followingCount: 1234,\n    posts: 234,\n    vibeScore: 9.6\n  },\n  {\n    id: '10',\n    username: 'marcus_tech',\n    displayName: 'Marcus Brown',\n    bio: 'Software engineer  | Building the future of tech',\n    location: 'Chicago, IL',\n    profileImage: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 987,\n    following: 345,\n    followersCount: 987,\n    followingCount: 345,\n    posts: 45,\n    vibeScore: 7.8\n  },\n  {\n    id: '11',\n    username: 'fatima_beauty',\n    displayName: 'Fatima Al-Rashid',\n    bio: 'Beauty influencer  | Makeup artist & skincare enthusiast',\n    location: 'Dubai, UAE',\n    profileImage: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 5670,\n    following: 1567,\n    followersCount: 5670,\n    followingCount: 1567,\n    posts: 345,\n    vibeScore: 9.7\n  },\n  {\n    id: '12',\n    username: 'liam_photo',\n    displayName: 'Liam O\\'Connor',\n    bio: 'Photographer  | Capturing moments that matter',\n    location: 'Dublin, Ireland',\n    profileImage: 'https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 2340,\n    following: 678,\n    followersCount: 2340,\n    followingCount: 678,\n    posts: 123,\n    vibeScore: 8.6\n  },\n  {\n    id: '13',\n    username: 'aisha_wellness',\n    displayName: 'Aisha Okonkwo',\n    bio: 'Wellness coach  | Mind, body, soul harmony',\n    location: 'Lagos, Nigeria',\n    profileImage: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 3890,\n    following: 1234,\n    followersCount: 3890,\n    followingCount: 1234,\n    posts: 189,\n    vibeScore: 9.3\n  },\n  {\n    id: '14',\n    username: 'diego_sports',\n    displayName: 'Diego Martinez',\n    bio: 'Sports journalist  | Covering the beautiful game',\n    location: 'Barcelona, Spain',\n    profileImage: 'https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1522778119026-d647f0596c20?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: true,\n    followers: 6780,\n    following: 2345,\n    followersCount: 6780,\n    followingCount: 2345,\n    posts: 456,\n    vibeScore: 9.4\n  },\n  {\n    id: '15',\n    username: 'mei_chef',\n    displayName: 'Mei Wong',\n    bio: 'Chef  | Authentic Asian cuisine',\n    location: 'Hong Kong',\n    profileImage: 'https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80',\n    coverImage: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    isVerified: false,\n    followers: 2890,\n    following: 890,\n    followersCount: 2890,\n    followingCount: 890,\n    posts: 167,\n    vibeScore: 8.9\n  }\n];\n\nexport const users = mockUsers.map(user => ({\n  ...user,\n  avatar: user.profileImage,\n  name: user.displayName,\n  verified: user.isVerified,\n  isFollowing: Math.random() > 0.5,\n}));\n","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Animated, Platform } from 'react-native';\nimport { Mic, Square, Play, Pause, Check, X } from 'lucide-react-native';\nimport { Audio } from 'expo-av';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface VoiceStatusRecorderProps {\n  onComplete: (voiceData: { uri: string; duration: number; waveform: number[] }) => void;\n  onCancel: () => void;\n  maxDuration?: number;\n}\n\nexport default function VoiceStatusRecorder({ \n  onComplete, \n  onCancel,\n  maxDuration = 60 \n}: VoiceStatusRecorderProps) {\n  const { colors } = useTheme();\n  const [isRecording, setIsRecording] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [recordingUri, setRecordingUri] = useState<string | null>(null);\n  const [waveform, setWaveform] = useState<number[]>([]);\n  \n  const recordingRef = useRef<Audio.Recording | null>(null);\n  const soundRef = useRef<Audio.Sound | null>(null);\n  const timerRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  \n  const pulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    setupAudio();\n    return () => {\n      cleanup();\n    };\n  }, []);\n\n  const startPulseAnimation = () => {\n    Animated.loop(\n      Animated.sequence([\n        Animated.timing(pulseAnim, {\n          toValue: 1.2,\n          duration: 800,\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseAnim, {\n          toValue: 1,\n          duration: 800,\n          useNativeDriver: true,\n        }),\n      ])\n    ).start();\n  };\n\n  const stopPulseAnimation = () => {\n    pulseAnim.setValue(1);\n  };\n\n  useEffect(() => {\n    if (isRecording && !isPaused) {\n      startPulseAnimation();\n    } else {\n      stopPulseAnimation();\n    }\n  }, [isRecording, isPaused]);\n\n  const setupAudio = async () => {\n    try {\n      if (Platform.OS !== 'web') {\n        await Audio.requestPermissionsAsync();\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true,\n        });\n      }\n    } catch (error) {\n      console.error('[VoiceStatusRecorder] Setup error:', error);\n    }\n  };\n\n  const cleanup = async () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    if (recordingRef.current) {\n      try {\n        const status = await recordingRef.current.getStatusAsync();\n        if (status.isRecording) {\n          await recordingRef.current.stopAndUnloadAsync();\n        } else if (status.canRecord && !status.isDoneRecording) {\n          await recordingRef.current.stopAndUnloadAsync();\n        }\n      } catch (e) {\n        const errorMessage = e instanceof Error ? e.message : String(e);\n        if (!errorMessage.includes('already been unloaded')) {\n          console.error('[VoiceStatusRecorder] Cleanup recording error:', e);\n        }\n      } finally {\n        recordingRef.current = null;\n      }\n    }\n    if (soundRef.current) {\n      try {\n        const status = await soundRef.current.getStatusAsync();\n        if (status.isLoaded) {\n          await soundRef.current.unloadAsync();\n        }\n      } catch (e) {\n        const errorMessage = e instanceof Error ? e.message : String(e);\n        if (!errorMessage.includes('already been unloaded')) {\n          console.error('[VoiceStatusRecorder] Cleanup sound error:', e);\n        }\n      } finally {\n        soundRef.current = null;\n      }\n    }\n    if (Platform.OS !== 'web') {\n      try {\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: false,\n        });\n      } catch (e) {\n        console.error('[VoiceStatusRecorder] Cleanup audio mode error:', e);\n      }\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      if (Platform.OS === 'web') {\n        console.log('[VoiceStatusRecorder] Web recording not fully supported');\n        return;\n      }\n\n      const recording = new Audio.Recording();\n      await recording.prepareToRecordAsync({\n        android: {\n          extension: '.m4a',\n          outputFormat: Audio.AndroidOutputFormat.MPEG_4,\n          audioEncoder: Audio.AndroidAudioEncoder.AAC,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n        },\n        ios: {\n          extension: '.m4a',\n          outputFormat: Audio.IOSOutputFormat.MPEG4AAC,\n          audioQuality: Audio.IOSAudioQuality.HIGH,\n          sampleRate: 44100,\n          numberOfChannels: 2,\n          bitRate: 128000,\n        },\n        web: {},\n      });\n\n      await recording.startAsync();\n      recordingRef.current = recording;\n      setIsRecording(true);\n      setDuration(0);\n      setWaveform([]);\n\n      timerRef.current = setInterval(() => {\n        setDuration(prev => {\n          const newDuration = prev + 0.1;\n          if (newDuration >= maxDuration) {\n            stopRecording();\n            return maxDuration;\n          }\n          return newDuration;\n        });\n\n        const randomAmplitude = Math.random() * 0.7 + 0.3;\n        setWaveform(prev => [...prev, randomAmplitude].slice(-50));\n      }, 100);\n\n      console.log('[VoiceStatusRecorder] Recording started');\n    } catch (error) {\n      console.error('[VoiceStatusRecorder] Start recording error:', error);\n    }\n  };\n\n  const stopRecording = async () => {\n    try {\n      if (!recordingRef.current) return;\n\n      await recordingRef.current.stopAndUnloadAsync();\n      const uri = recordingRef.current.getURI();\n      \n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n\n      setIsRecording(false);\n      setIsPaused(false);\n      setRecordingUri(uri);\n\n      console.log('[VoiceStatusRecorder] Recording stopped:', uri);\n    } catch (error) {\n      console.error('[VoiceStatusRecorder] Stop recording error:', error);\n    }\n  };\n\n  const playRecording = async () => {\n    try {\n      if (!recordingUri) return;\n\n      if (soundRef.current) {\n        await soundRef.current.unloadAsync();\n      }\n\n      const { sound } = await Audio.Sound.createAsync(\n        { uri: recordingUri },\n        { shouldPlay: true },\n        onPlaybackStatusUpdate\n      );\n\n      soundRef.current = sound;\n      setIsPlaying(true);\n      console.log('[VoiceStatusRecorder] Playback started');\n    } catch (error) {\n      console.error('[VoiceStatusRecorder] Playback error:', error);\n    }\n  };\n\n  const pausePlayback = async () => {\n    try {\n      if (soundRef.current) {\n        await soundRef.current.pauseAsync();\n        setIsPlaying(false);\n      }\n    } catch (error) {\n      console.error('[VoiceStatusRecorder] Pause error:', error);\n    }\n  };\n\n  const onPlaybackStatusUpdate = (status: any) => {\n    if (status.didJustFinish) {\n      setIsPlaying(false);\n    }\n  };\n\n  const handleComplete = () => {\n    if (recordingUri && duration > 0) {\n      onComplete({\n        uri: recordingUri,\n        duration: Math.floor(duration),\n        waveform,\n      });\n    }\n  };\n\n  const handleCancel = async () => {\n    await cleanup();\n    onCancel();\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleCancel} style={styles.headerButton}>\n          <X size={24} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.title, { color: colors.text }]}>Voice Status</Text>\n        <View style={styles.headerButton} />\n      </View>\n\n      <View style={styles.content}>\n        <View style={styles.waveformContainer}>\n          {waveform.length > 0 ? (\n            <View style={styles.waveform}>\n              {waveform.map((amplitude, index) => (\n                <View\n                  key={index}\n                  style={[\n                    styles.waveformBar,\n                    {\n                      height: amplitude * 100,\n                      backgroundColor: isRecording ? '#667eea' : colors.textSecondary,\n                    },\n                  ]}\n                />\n              ))}\n            </View>\n          ) : (\n            <View style={styles.placeholder}>\n              <Mic size={64} color={colors.textSecondary} />\n              <Text style={[styles.placeholderText, { color: colors.textSecondary }]}>\n                Tap to start recording\n              </Text>\n            </View>\n          )}\n        </View>\n\n        <View style={styles.timerContainer}>\n          <Text style={[styles.timer, { color: colors.text }]}>\n            {formatTime(duration)}\n          </Text>\n          <Text style={[styles.maxDuration, { color: colors.textSecondary }]}>\n            / {formatTime(maxDuration)}\n          </Text>\n        </View>\n\n        <View style={styles.controls}>\n          {!recordingUri ? (\n            <Animated.View style={{ transform: [{ scale: pulseAnim }] }}>\n              <TouchableOpacity\n                onPress={isRecording ? stopRecording : startRecording}\n                style={[\n                  styles.recordButton,\n                  { backgroundColor: isRecording ? '#FF6B6B' : '#667eea' },\n                ]}\n              >\n                {isRecording ? (\n                  <Square size={32} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n                ) : (\n                  <Mic size={32} color=\"#FFFFFF\" />\n                )}\n              </TouchableOpacity>\n            </Animated.View>\n          ) : (\n            <View style={styles.playbackControls}>\n              <TouchableOpacity\n                onPress={isPlaying ? pausePlayback : playRecording}\n                style={[styles.playButton, { backgroundColor: colors.card }]}\n              >\n                {isPlaying ? (\n                  <Pause size={24} color={colors.text} />\n                ) : (\n                  <Play size={24} color={colors.text} />\n                )}\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                onPress={handleComplete}\n                style={[styles.completeButton, { backgroundColor: '#4ECDC4' }]}\n              >\n                <Check size={28} color=\"#FFFFFF\" />\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'space-between' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: 'rgba(255,255,255,0.1)',\n  },\n  headerButton: {\n    width: 40,\n    height: 40,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  content: {\n    flex: 1,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    paddingHorizontal: 24,\n  },\n  waveformContainer: {\n    width: '100%',\n    height: 200,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    marginBottom: 40,\n  },\n  waveform: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    height: 150,\n    gap: 3,\n  },\n  waveformBar: {\n    width: 4,\n    borderRadius: 2,\n    minHeight: 4,\n  },\n  placeholder: {\n    alignItems: 'center' as const,\n    gap: 16,\n  },\n  placeholderText: {\n    fontSize: 16,\n  },\n  timerContainer: {\n    flexDirection: 'row' as const,\n    alignItems: 'baseline' as const,\n    marginBottom: 40,\n  },\n  timer: {\n    fontSize: 48,\n    fontWeight: '700' as const,\n  },\n  maxDuration: {\n    fontSize: 20,\n    marginLeft: 8,\n  },\n  controls: {\n    alignItems: 'center' as const,\n  },\n  recordButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  playbackControls: {\n    flexDirection: 'row' as const,\n    gap: 20,\n    alignItems: 'center' as const,\n  },\n  playButton: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  completeButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, TextInput, ScrollView } from 'react-native';\nimport { X, Check } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTheme } from '@/hooks/theme-store';\nimport { statusBackgrounds } from '@/mocks/statuses';\n\ninterface TextStatusCreatorProps {\n  onComplete: (textData: any) => void;\n  onCancel: () => void;\n}\n\nexport default function TextStatusCreator({ onComplete, onCancel }: TextStatusCreatorProps) {\n  const { colors } = useTheme();\n  const [text, setText] = useState('');\n  const [selectedBg, setSelectedBg] = useState(statusBackgrounds[0]);\n  const [textAlign, setTextAlign] = useState<'left' | 'center' | 'right'>('center');\n\n  const handleComplete = () => {\n    if (text.trim()) {\n      onComplete({\n        text: text.trim(),\n        backgroundColor: selectedBg.type === 'solid' ? selectedBg.colors[0] : undefined,\n        gradient: selectedBg.type === 'gradient' ? selectedBg.colors : undefined,\n        textAlign,\n        fontSize: 32,\n      });\n    }\n  };\n\n  const renderBackground = () => {\n    if (selectedBg.type === 'gradient') {\n      return (\n        <LinearGradient\n          colors={selectedBg.colors as any}\n          style={StyleSheet.absoluteFill}\n          start={{ x: 0, y: 0 }}\n          end={{ x: 1, y: 1 }}\n        />\n      );\n    }\n    return <View style={[StyleSheet.absoluteFill, { backgroundColor: selectedBg.colors[0] }]} />;\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.header, { backgroundColor: colors.card }]}>\n        <TouchableOpacity onPress={onCancel} style={styles.headerButton}>\n          <X size={24} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>Text Status</Text>\n        <TouchableOpacity \n          onPress={handleComplete} \n          style={styles.headerButton}\n          disabled={!text.trim()}\n        >\n          <Check size={24} color={text.trim() ? '#4ECDC4' : colors.textSecondary} />\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.preview}>\n        {renderBackground()}\n        <TextInput\n          style={[styles.textInput, { textAlign }]}\n          value={text}\n          onChangeText={setText}\n          placeholder=\"Type something...\"\n          placeholderTextColor=\"rgba(255,255,255,0.5)\"\n          multiline\n          maxLength={200}\n          autoFocus\n        />\n      </View>\n\n      <View style={[styles.controls, { backgroundColor: colors.card }]}>\n        <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n          <View style={styles.backgroundPicker}>\n            {statusBackgrounds.map((bg) => (\n              <TouchableOpacity\n                key={bg.id}\n                onPress={() => setSelectedBg(bg)}\n                style={[\n                  styles.bgOption,\n                  selectedBg.id === bg.id && styles.bgOptionSelected,\n                ]}\n              >\n                {bg.type === 'gradient' ? (\n                  <LinearGradient\n                    colors={bg.colors as any}\n                    style={styles.bgPreview}\n                    start={{ x: 0, y: 0 }}\n                    end={{ x: 1, y: 1 }}\n                  />\n                ) : (\n                  <View style={[styles.bgPreview, { backgroundColor: bg.colors[0] }]} />\n                )}\n              </TouchableOpacity>\n            ))}\n          </View>\n        </ScrollView>\n\n        <View style={styles.alignmentControls}>\n          {(['left', 'center', 'right'] as const).map((align) => (\n            <TouchableOpacity\n              key={align}\n              onPress={() => setTextAlign(align)}\n              style={[\n                styles.alignButton,\n                { backgroundColor: textAlign === align ? colors.primary : colors.background },\n              ]}\n            >\n              <Text style={[styles.alignText, { color: textAlign === align ? '#FFFFFF' : colors.text }]}>\n                {align[0].toUpperCase()}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'space-between' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  headerButton: {\n    width: 40,\n    height: 40,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  preview: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    padding: 24,\n  },\n  textInput: {\n    fontSize: 32,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n    width: '100%',\n    textShadowColor: 'rgba(0,0,0,0.3)',\n    textShadowOffset: { width: 0, height: 2 },\n    textShadowRadius: 4,\n  },\n  controls: {\n    padding: 16,\n    gap: 16,\n  },\n  backgroundPicker: {\n    flexDirection: 'row' as const,\n    gap: 12,\n    paddingVertical: 8,\n  },\n  bgOption: {\n    borderRadius: 12,\n    padding: 3,\n    borderWidth: 2,\n    borderColor: 'transparent',\n  },\n  bgOptionSelected: {\n    borderColor: '#FFFFFF',\n  },\n  bgPreview: {\n    width: 50,\n    height: 50,\n    borderRadius: 10,\n  },\n  alignmentControls: {\n    flexDirection: 'row' as const,\n    gap: 12,\n    justifyContent: 'center' as const,\n  },\n  alignButton: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  alignText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  TextInput,\n  Image,\n  ActivityIndicator,\n  Platform,\n  ScrollView,\n} from 'react-native';\nimport { X, Type, Smile, Sticker as StickerIcon, Sparkles, Check } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface MediaStatusCreatorProps {\n  mediaUri: string;\n  mediaType: 'photo' | 'video';\n  onComplete: (data: {\n    uri: string;\n    type: 'photo' | 'video';\n    caption?: string;\n    overlays?: TextOverlay[];\n  }) => void;\n  onCancel: () => void;\n}\n\ninterface TextOverlay {\n  id: string;\n  text: string;\n  position: { x: number; y: number };\n  color: string;\n  fontSize: number;\n  rotation: number;\n}\n\nconst COLORS = ['#FFFFFF', '#FF6B6B', '#4ECDC4', '#FFD93D', '#667eea', '#f093fb'];\nconst FONT_SIZES = [24, 32, 40, 48];\n\nexport default function MediaStatusCreator({\n  mediaUri,\n  mediaType,\n  onComplete,\n  onCancel,\n}: MediaStatusCreatorProps) {\n  const { colors } = useTheme();\n  const [caption, setCaption] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [overlays, setOverlays] = useState<TextOverlay[]>([]);\n  const [selectedOverlay, setSelectedOverlay] = useState<string | null>(null);\n  const [showTextEditor, setShowTextEditor] = useState(false);\n  const [editingText, setEditingText] = useState('');\n  const [selectedColor, setSelectedColor] = useState(COLORS[0]);\n  const [selectedFontSize, setSelectedFontSize] = useState(FONT_SIZES[1]);\n\n  const handlePost = async () => {\n    setIsProcessing(true);\n    try {\n      await onComplete({\n        uri: mediaUri,\n        type: mediaType,\n        caption: caption.trim() || undefined,\n        overlays: overlays.length > 0 ? overlays : undefined,\n      });\n    } catch (error) {\n      console.error('[MediaStatusCreator] Post error:', error);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const addTextOverlay = () => {\n    if (!editingText.trim()) return;\n\n    const newOverlay: TextOverlay = {\n      id: `overlay-${Date.now()}`,\n      text: editingText.trim(),\n      position: { x: 50, y: 50 },\n      color: selectedColor,\n      fontSize: selectedFontSize,\n      rotation: 0,\n    };\n\n    setOverlays([...overlays, newOverlay]);\n    setEditingText('');\n    setShowTextEditor(false);\n  };\n\n  const deleteOverlay = (id: string) => {\n    setOverlays(overlays.filter(o => o.id !== id));\n    setSelectedOverlay(null);\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={onCancel} style={styles.closeButton}>\n          <X size={28} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>\n          {mediaType === 'photo' ? 'Photo Status' : 'Video Status'}\n        </Text>\n        <TouchableOpacity\n          onPress={handlePost}\n          disabled={isProcessing}\n          style={[styles.postButton, { backgroundColor: '#667eea' }]}\n        >\n          {isProcessing ? (\n            <ActivityIndicator size=\"small\" color=\"#FFFFFF\" />\n          ) : (\n            <Text style={styles.postButtonText}>Post</Text>\n          )}\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.previewContainer}>\n        {mediaType === 'photo' ? (\n          <Image source={{ uri: mediaUri }} style={styles.mediaPreview} resizeMode=\"cover\" />\n        ) : (\n          <View style={[styles.mediaPreview, { backgroundColor: colors.card }]}>\n            <Text style={[styles.videoPlaceholder, { color: colors.textSecondary }]}>\n              Video Preview\n            </Text>\n          </View>\n        )}\n\n        {overlays.map((overlay) => (\n          <TouchableOpacity\n            key={overlay.id}\n            style={[\n              styles.textOverlay,\n              {\n                left: `${overlay.position.x}%`,\n                top: `${overlay.position.y}%`,\n                transform: [{ rotate: `${overlay.rotation}deg` }],\n              },\n            ]}\n            onPress={() => setSelectedOverlay(overlay.id)}\n            onLongPress={() => deleteOverlay(overlay.id)}\n          >\n            <Text\n              style={[\n                styles.overlayText,\n                {\n                  color: overlay.color,\n                  fontSize: overlay.fontSize,\n                  textShadowColor: 'rgba(0,0,0,0.5)',\n                  textShadowOffset: { width: 0, height: 2 },\n                  textShadowRadius: 4,\n                },\n              ]}\n            >\n              {overlay.text}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n\n      {!showTextEditor ? (\n        <>\n          <View style={styles.toolsContainer}>\n            <TouchableOpacity\n              style={[styles.toolButton, { backgroundColor: colors.card }]}\n              onPress={() => setShowTextEditor(true)}\n            >\n              <LinearGradient\n                colors={['#667eea', '#764ba2']}\n                style={styles.toolGradient}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n              >\n                <Type size={24} color=\"#FFFFFF\" />\n              </LinearGradient>\n              <Text style={[styles.toolLabel, { color: colors.text }]}>Text</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity style={[styles.toolButton, { backgroundColor: colors.card }]}>\n              <LinearGradient\n                colors={['#f093fb', '#f5576c']}\n                style={styles.toolGradient}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n              >\n                <Smile size={24} color=\"#FFFFFF\" />\n              </LinearGradient>\n              <Text style={[styles.toolLabel, { color: colors.text }]}>Emoji</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity style={[styles.toolButton, { backgroundColor: colors.card }]}>\n              <LinearGradient\n                colors={['#4facfe', '#00f2fe']}\n                style={styles.toolGradient}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n              >\n                <StickerIcon size={24} color=\"#FFFFFF\" />\n              </LinearGradient>\n              <Text style={[styles.toolLabel, { color: colors.text }]}>Sticker</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity style={[styles.toolButton, { backgroundColor: colors.card }]}>\n              <LinearGradient\n                colors={['#43e97b', '#38f9d7']}\n                style={styles.toolGradient}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 1 }}\n              >\n                <Sparkles size={24} color=\"#FFFFFF\" />\n              </LinearGradient>\n              <Text style={[styles.toolLabel, { color: colors.text }]}>Filter</Text>\n            </TouchableOpacity>\n          </View>\n\n          <View style={[styles.captionContainer, { backgroundColor: colors.card }]}>\n            <TextInput\n              style={[styles.captionInput, { color: colors.text }]}\n              placeholder=\"Add a caption...\"\n              placeholderTextColor={colors.textSecondary}\n              value={caption}\n              onChangeText={setCaption}\n              multiline\n              maxLength={200}\n            />\n            <Text style={[styles.charCount, { color: colors.textSecondary }]}>\n              {caption.length}/200\n            </Text>\n          </View>\n        </>\n      ) : (\n        <View style={[styles.textEditorContainer, { backgroundColor: colors.card }]}>\n          <View style={styles.textEditorHeader}>\n            <Text style={[styles.textEditorTitle, { color: colors.text }]}>Add Text</Text>\n            <TouchableOpacity onPress={() => setShowTextEditor(false)}>\n              <X size={24} color={colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <TextInput\n            style={[styles.textEditorInput, { color: colors.text, borderColor: colors.border }]}\n            placeholder=\"Type your text...\"\n            placeholderTextColor={colors.textSecondary}\n            value={editingText}\n            onChangeText={setEditingText}\n            multiline\n            maxLength={100}\n            autoFocus\n          />\n\n          <View style={styles.colorPicker}>\n            <Text style={[styles.pickerLabel, { color: colors.text }]}>Color</Text>\n            <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n              <View style={styles.colorOptions}>\n                {COLORS.map((color) => (\n                  <TouchableOpacity\n                    key={color}\n                    onPress={() => setSelectedColor(color)}\n                    style={[\n                      styles.colorOption,\n                      { backgroundColor: color },\n                      selectedColor === color && styles.colorOptionSelected,\n                    ]}\n                  >\n                    {selectedColor === color && <Check size={16} color=\"#000\" />}\n                  </TouchableOpacity>\n                ))}\n              </View>\n            </ScrollView>\n          </View>\n\n          <View style={styles.fontSizePicker}>\n            <Text style={[styles.pickerLabel, { color: colors.text }]}>Size</Text>\n            <View style={styles.fontSizeOptions}>\n              {FONT_SIZES.map((size) => (\n                <TouchableOpacity\n                  key={size}\n                  onPress={() => setSelectedFontSize(size)}\n                  style={[\n                    styles.fontSizeOption,\n                    { backgroundColor: selectedFontSize === size ? '#667eea' : colors.background },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.fontSizeText,\n                      { color: selectedFontSize === size ? '#FFFFFF' : colors.text },\n                    ]}\n                  >\n                    {size}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n          </View>\n\n          <TouchableOpacity\n            onPress={addTextOverlay}\n            disabled={!editingText.trim()}\n            style={[\n              styles.addTextButton,\n              {\n                backgroundColor: editingText.trim() ? '#4ECDC4' : colors.background,\n              },\n            ]}\n          >\n            <Text\n              style={[\n                styles.addTextButtonText,\n                { color: editingText.trim() ? '#FFFFFF' : colors.textSecondary },\n              ]}\n            >\n              Add Text\n            </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    justifyContent: 'space-between' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    paddingTop: Platform.OS === 'ios' ? 60 : 12,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  postButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n    borderRadius: 20,\n    minWidth: 70,\n    alignItems: 'center' as const,\n  },\n  postButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  previewContainer: {\n    flex: 1,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n    padding: 16,\n    position: 'relative' as const,\n  },\n  mediaPreview: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 16,\n    justifyContent: 'center' as const,\n    alignItems: 'center' as const,\n  },\n  videoPlaceholder: {\n    fontSize: 16,\n  },\n  textOverlay: {\n    position: 'absolute' as const,\n    padding: 8,\n  },\n  overlayText: {\n    fontWeight: '700' as const,\n  },\n  toolsContainer: {\n    flexDirection: 'row' as const,\n    justifyContent: 'space-around' as const,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  toolButton: {\n    alignItems: 'center' as const,\n    borderRadius: 12,\n    overflow: 'hidden' as const,\n  },\n  toolGradient: {\n    padding: 12,\n    borderRadius: 12,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  toolLabel: {\n    fontSize: 12,\n    marginTop: 6,\n    fontWeight: '500' as const,\n  },\n  captionContainer: {\n    margin: 16,\n    padding: 16,\n    borderRadius: 12,\n  },\n  captionInput: {\n    fontSize: 16,\n    minHeight: 60,\n    textAlignVertical: 'top' as const,\n  },\n  charCount: {\n    fontSize: 12,\n    textAlign: 'right' as const,\n    marginTop: 8,\n  },\n  textEditorContainer: {\n    padding: 20,\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    gap: 16,\n  },\n  textEditorHeader: {\n    flexDirection: 'row' as const,\n    justifyContent: 'space-between' as const,\n    alignItems: 'center' as const,\n  },\n  textEditorTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  textEditorInput: {\n    fontSize: 18,\n    minHeight: 80,\n    borderWidth: 1,\n    borderRadius: 12,\n    padding: 12,\n    textAlignVertical: 'top' as const,\n  },\n  colorPicker: {\n    gap: 12,\n  },\n  pickerLabel: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  colorOptions: {\n    flexDirection: 'row' as const,\n    gap: 12,\n  },\n  colorOption: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    borderWidth: 3,\n    borderColor: 'transparent',\n  },\n  colorOptionSelected: {\n    borderColor: '#667eea',\n  },\n  fontSizePicker: {\n    gap: 12,\n  },\n  fontSizeOptions: {\n    flexDirection: 'row' as const,\n    gap: 12,\n  },\n  fontSizeOption: {\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 12,\n  },\n  fontSizeText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  addTextButton: {\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center' as const,\n  },\n  addTextButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, Animated, TouchableOpacity } from 'react-native';\nimport { CheckCircle, XCircle, Loader, X } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTheme } from '@/hooks/theme-store';\nimport { StatusUploadProgress } from '@/types/status';\n\ninterface UploadProgressOverlayProps {\n  uploads: StatusUploadProgress[];\n  onDismiss?: (statusId: string) => void;\n  onRetry?: (statusId: string) => void;\n}\n\nexport default function UploadProgressOverlay({ \n  uploads, \n  onDismiss,\n  onRetry \n}: UploadProgressOverlayProps) {\n  const { colors } = useTheme();\n\n  if (uploads.length === 0) return null;\n\n  return (\n    <View style={styles.container} pointerEvents=\"box-none\">\n      {uploads.map((upload) => (\n        <UploadProgressCard\n          key={upload.statusId}\n          upload={upload}\n          onDismiss={onDismiss}\n          onRetry={onRetry}\n        />\n      ))}\n    </View>\n  );\n}\n\ninterface UploadProgressCardProps {\n  upload: StatusUploadProgress;\n  onDismiss?: (statusId: string) => void;\n  onRetry?: (statusId: string) => void;\n}\n\nfunction UploadProgressCard({ upload, onDismiss, onRetry }: UploadProgressCardProps) {\n  const { colors } = useTheme();\n  const progressAnim = useRef(new Animated.Value(0)).current;\n  const scaleAnim = useRef(new Animated.Value(0.8)).current;\n  const opacityAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.spring(scaleAnim, {\n        toValue: 1,\n        tension: 50,\n        friction: 7,\n        useNativeDriver: true,\n      }),\n      Animated.timing(opacityAnim, {\n        toValue: 1,\n        duration: 200,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  }, []);\n\n  useEffect(() => {\n    Animated.timing(progressAnim, {\n      toValue: upload.progress,\n      duration: 300,\n      useNativeDriver: false,\n    }).start();\n  }, [upload.progress]);\n\n  useEffect(() => {\n    if (upload.status === 'success') {\n      setTimeout(() => {\n        Animated.parallel([\n          Animated.timing(scaleAnim, {\n            toValue: 0.8,\n            duration: 200,\n            useNativeDriver: true,\n          }),\n          Animated.timing(opacityAnim, {\n            toValue: 0,\n            duration: 200,\n            useNativeDriver: true,\n          }),\n        ]).start(() => {\n          onDismiss?.(upload.statusId);\n        });\n      }, 2000);\n    }\n  }, [upload.status]);\n\n  const progressWidth = progressAnim.interpolate({\n    inputRange: [0, 100],\n    outputRange: ['0%', '100%'],\n  });\n\n  const getStatusIcon = () => {\n    switch (upload.status) {\n      case 'success':\n        return <CheckCircle size={24} color=\"#4ECDC4\" />;\n      case 'error':\n        return <XCircle size={24} color=\"#FF6B6B\" />;\n      case 'processing':\n        return <Loader size={24} color=\"#667eea\" />;\n      default:\n        return <Loader size={24} color=\"#667eea\" />;\n    }\n  };\n\n  const getStatusText = () => {\n    switch (upload.status) {\n      case 'uploading':\n        return `Uploading... ${upload.progress}%`;\n      case 'processing':\n        return 'Processing...';\n      case 'success':\n        return 'Status uploaded successfully!';\n      case 'error':\n        return upload.error || 'Upload failed';\n      default:\n        return 'Uploading...';\n    }\n  };\n\n  const getStatusColor = () => {\n    switch (upload.status) {\n      case 'success':\n        return '#4ECDC4';\n      case 'error':\n        return '#FF6B6B';\n      default:\n        return '#667eea';\n    }\n  };\n\n  return (\n    <Animated.View\n      style={[\n        styles.card,\n        { \n          backgroundColor: colors.card,\n          transform: [{ scale: scaleAnim }],\n          opacity: opacityAnim,\n        },\n      ]}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.iconContainer}>\n          {getStatusIcon()}\n        </View>\n\n        <View style={styles.textContainer}>\n          <Text style={[styles.statusText, { color: colors.text }]}>\n            {getStatusText()}\n          </Text>\n          \n          {upload.status === 'uploading' && (\n            <View style={[styles.progressBar, { backgroundColor: colors.background }]}>\n              <Animated.View\n                style={[\n                  styles.progressFill,\n                  { \n                    width: progressWidth,\n                    backgroundColor: getStatusColor(),\n                  },\n                ]}\n              />\n            </View>\n          )}\n\n          {upload.status === 'error' && onRetry && (\n            <TouchableOpacity\n              onPress={() => onRetry(upload.statusId)}\n              style={[styles.retryButton, { backgroundColor: '#667eea' }]}\n            >\n              <Text style={styles.retryText}>Retry</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n\n        {(upload.status === 'error' || upload.status === 'success') && onDismiss && (\n          <TouchableOpacity\n            onPress={() => onDismiss(upload.statusId)}\n            style={styles.closeButton}\n          >\n            <X size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n        )}\n      </View>\n\n      {upload.status === 'success' && (\n        <View style={styles.successOverlay}>\n          <LinearGradient\n            colors={['rgba(78, 205, 196, 0.1)', 'rgba(78, 205, 196, 0)']}\n            style={StyleSheet.absoluteFill}\n          />\n        </View>\n      )}\n    </Animated.View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute' as const,\n    top: 60,\n    left: 16,\n    right: 16,\n    zIndex: 1000,\n    gap: 12,\n  },\n  card: {\n    borderRadius: 16,\n    padding: 16,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.15,\n    shadowRadius: 12,\n    elevation: 8,\n    overflow: 'hidden' as const,\n  },\n  cardContent: {\n    flexDirection: 'row' as const,\n    alignItems: 'center' as const,\n    gap: 12,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n    backgroundColor: 'rgba(102, 126, 234, 0.1)',\n  },\n  textContainer: {\n    flex: 1,\n    gap: 8,\n  },\n  statusText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  progressBar: {\n    height: 4,\n    borderRadius: 2,\n    overflow: 'hidden' as const,\n  },\n  progressFill: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  retryButton: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    alignSelf: 'flex-start' as const,\n  },\n  retryText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  successOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    pointerEvents: 'none' as const,\n  },\n});\n","import * as FileSystem from 'expo-file-system';\nimport { manipulateAsync, SaveFormat } from 'expo-image-manipulator';\n\nexport interface UploadOptions {\n  onProgress?: (progress: number) => void;\n  maxRetries?: number;\n  timeout?: number;\n  compressionQuality?: number;\n}\n\nexport interface MediaUploadResult {\n  uri: string;\n  size: number;\n  width?: number;\n  height?: number;\n  duration?: number;\n}\n\nexport async function compressImage(\n  uri: string,\n  quality: number = 0.8\n): Promise<MediaUploadResult> {\n  try {\n    console.log('[MediaUpload] Compressing image:', uri);\n\n    const manipResult = await manipulateAsync(\n      uri,\n      [{ resize: { width: 1080 } }],\n      { compress: quality, format: SaveFormat.JPEG }\n    );\n\n    const fileInfo = await FileSystem.getInfoAsync(manipResult.uri);\n    \n    return {\n      uri: manipResult.uri,\n      size: (fileInfo as any).size || 0,\n      width: manipResult.width,\n      height: manipResult.height,\n    };\n  } catch (error) {\n    console.error('[MediaUpload] Image compression error:', error);\n    throw new Error('Failed to compress image');\n  }\n}\n\nexport async function uploadMedia(\n  uri: string,\n  type: 'photo' | 'video',\n  options: UploadOptions = {}\n): Promise<MediaUploadResult> {\n  const {\n    onProgress,\n    maxRetries = 3,\n    timeout = 30000,\n    compressionQuality = 0.8,\n  } = options;\n\n  let attempt = 0;\n  let lastError: Error | null = null;\n\n  while (attempt < maxRetries) {\n    try {\n      console.log(`[MediaUpload] Upload attempt ${attempt + 1}/${maxRetries}`);\n\n      let processedUri = uri;\n      let fileSize = 0;\n      let dimensions = {};\n\n      if (type === 'photo') {\n        const compressed = await compressImage(uri, compressionQuality);\n        processedUri = compressed.uri;\n        fileSize = compressed.size;\n        dimensions = { width: compressed.width, height: compressed.height };\n      } else {\n        const fileInfo = await FileSystem.getInfoAsync(uri);\n        fileSize = (fileInfo as any).size || 0;\n      }\n\n      const result = await simulateUpload(processedUri, fileSize, onProgress, timeout);\n\n      console.log('[MediaUpload] Upload successful:', result);\n      return { ...result, ...dimensions };\n    } catch (error) {\n      lastError = error as Error;\n      attempt++;\n      \n      if (attempt < maxRetries) {\n        const delay = Math.min(1000 * Math.pow(2, attempt), 5000);\n        console.log(`[MediaUpload] Retrying in ${delay}ms...`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n  }\n\n  throw lastError || new Error('Upload failed after maximum retries');\n}\n\nasync function simulateUpload(\n  uri: string,\n  fileSize: number,\n  onProgress?: (progress: number) => void,\n  timeout: number = 30000\n): Promise<MediaUploadResult> {\n  return new Promise((resolve, reject) => {\n    let progress = 0;\n    const chunkSize = 5;\n    let currentChunk = 0;\n\n    const timeoutId = setTimeout(() => {\n      clearInterval(intervalId);\n      reject(new Error('Upload timeout'));\n    }, timeout);\n\n    const intervalId = setInterval(() => {\n      currentChunk++;\n      progress = Math.min(currentChunk * chunkSize, 100);\n      \n      onProgress?.(progress);\n\n      if (progress >= 100) {\n        clearInterval(intervalId);\n        clearTimeout(timeoutId);\n        \n        setTimeout(() => {\n          resolve({\n            uri,\n            size: fileSize,\n          });\n        }, 500);\n      }\n    }, 150);\n  });\n}\n\nexport async function uploadVoiceNote(\n  uri: string,\n  duration: number,\n  options: UploadOptions = {}\n): Promise<MediaUploadResult> {\n  const { onProgress, maxRetries = 3, timeout = 20000 } = options;\n\n  let attempt = 0;\n  let lastError: Error | null = null;\n\n  while (attempt < maxRetries) {\n    try {\n      console.log(`[MediaUpload] Voice upload attempt ${attempt + 1}/${maxRetries}`);\n\n      const fileInfo = await FileSystem.getInfoAsync(uri);\n      const fileSize = (fileInfo as any).size || 0;\n\n      const result = await simulateUpload(uri, fileSize, onProgress, timeout);\n\n      console.log('[MediaUpload] Voice upload successful:', result);\n      return { ...result, duration };\n    } catch (error) {\n      lastError = error as Error;\n      attempt++;\n      \n      if (attempt < maxRetries) {\n        const delay = Math.min(1000 * Math.pow(2, attempt), 5000);\n        console.log(`[MediaUpload] Retrying in ${delay}ms...`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n  }\n\n  throw lastError || new Error('Voice upload failed after maximum retries');\n}\n\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n  \n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  \n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];\n}\n\nexport function validateMediaFile(\n  uri: string,\n  type: 'photo' | 'video' | 'voice',\n  maxSize: number = 50 * 1024 * 1024\n): Promise<boolean> {\n  return new Promise(async (resolve) => {\n    try {\n      const fileInfo = await FileSystem.getInfoAsync(uri);\n      const fileSize = (fileInfo as any).size || 0;\n\n      if (fileSize > maxSize) {\n        console.warn('[MediaUpload] File too large:', formatFileSize(fileSize));\n        resolve(false);\n        return;\n      }\n\n      resolve(true);\n    } catch (error) {\n      console.error('[MediaUpload] Validation error:', error);\n      resolve(false);\n    }\n  });\n}\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ScrollView, Platform, Alert } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Camera, Image as ImageIcon, Type, Mic } from 'lucide-react-native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useStatus } from '@/hooks/status-store';\nimport VoiceStatusRecorder from '@/components/status/VoiceStatusRecorder';\nimport TextStatusCreator from '@/components/status/TextStatusCreator';\nimport MediaStatusCreator from '@/components/status/MediaStatusCreator';\nimport UploadProgressOverlay from '@/components/status/UploadProgressOverlay';\nimport { uploadMedia, uploadVoiceNote, validateMediaFile } from '@/utils/media-upload';\n\ntype CreationType = 'photo' | 'video' | 'text' | 'voice' | null;\n\ninterface MediaData {\n  uri: string;\n  type: 'photo' | 'video';\n}\n\nexport default function CreateStatusScreen() {\n  const { colors } = useTheme();\n  const { uploadStatus, uploadProgress } = useStatus();\n  const [creationType, setCreationType] = useState<CreationType>(null);\n  const [mediaData, setMediaData] = useState<MediaData | null>(null);\n  const [retryData, setRetryData] = useState<any>(null);\n\n  const pickImage = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission Required', 'Permission to access media library is required!');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [9, 16],\n        quality: 0.8,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const uri = result.assets[0].uri;\n        const isValid = await validateMediaFile(uri, 'photo');\n        \n        if (!isValid) {\n          Alert.alert('File Too Large', 'Please select a smaller image (max 50MB)');\n          return;\n        }\n\n        setMediaData({ uri, type: 'photo' });\n        setCreationType('photo');\n      }\n    } catch (error) {\n      console.error('[CreateStatus] Pick image error:', error);\n      Alert.alert('Error', 'Failed to pick image');\n    }\n  };\n\n  const pickVideo = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission Required', 'Permission to access media library is required!');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Videos,\n        allowsEditing: true,\n        quality: 0.8,\n        videoMaxDuration: 60,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const uri = result.assets[0].uri;\n        const isValid = await validateMediaFile(uri, 'video');\n        \n        if (!isValid) {\n          Alert.alert('File Too Large', 'Please select a smaller video (max 50MB)');\n          return;\n        }\n\n        setMediaData({ uri, type: 'video' });\n        setCreationType('video');\n      }\n    } catch (error) {\n      console.error('[CreateStatus] Pick video error:', error);\n      Alert.alert('Error', 'Failed to pick video');\n    }\n  };\n\n  const takePhoto = async () => {\n    try {\n      if (Platform.OS === 'web') {\n        pickImage();\n        return;\n      }\n\n      const { status } = await ImagePicker.requestCameraPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission Required', 'Permission to access camera is required!');\n        return;\n      }\n\n      const result = await ImagePicker.launchCameraAsync({\n        allowsEditing: true,\n        aspect: [9, 16],\n        quality: 0.8,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const uri = result.assets[0].uri;\n        setMediaData({ uri, type: 'photo' });\n        setCreationType('photo');\n      }\n    } catch (error) {\n      console.error('[CreateStatus] Take photo error:', error);\n      Alert.alert('Error', 'Failed to take photo');\n    }\n  };\n\n  const handleVoiceComplete = async (voiceData: { uri: string; duration: number; waveform: number[] }) => {\n    try {\n      const uploadResult = await uploadVoiceNote(voiceData.uri, voiceData.duration, {\n        onProgress: (progress) => {\n          console.log('[CreateStatus] Voice upload progress:', progress);\n        },\n      });\n\n      await uploadStatus('voice', {\n        uri: uploadResult.uri,\n        duration: voiceData.duration,\n        waveform: voiceData.waveform,\n        gradient: ['#667eea', '#764ba2'],\n      });\n\n      setCreationType(null);\n      router.back();\n    } catch (error) {\n      console.error('[CreateStatus] Voice upload error:', error);\n      Alert.alert('Upload Failed', 'Failed to upload voice status. Please try again.');\n      setRetryData({ type: 'voice', data: voiceData });\n    }\n  };\n\n  const handleTextComplete = async (textData: any) => {\n    try {\n      await uploadStatus('text', textData);\n      setCreationType(null);\n      router.back();\n    } catch (error) {\n      console.error('[CreateStatus] Text upload error:', error);\n      Alert.alert('Upload Failed', 'Failed to upload text status. Please try again.');\n      setRetryData({ type: 'text', data: textData });\n    }\n  };\n\n  const handleMediaComplete = async (mediaCompleteData: any) => {\n    try {\n      const uploadResult = await uploadMedia(mediaCompleteData.uri, mediaCompleteData.type, {\n        onProgress: (progress) => {\n          console.log('[CreateStatus] Media upload progress:', progress);\n        },\n        compressionQuality: 0.8,\n      });\n\n      const type = mediaCompleteData.type === 'video' ? 'video' : 'photo';\n      await uploadStatus(type, uploadResult.uri, {\n        caption: mediaCompleteData.caption,\n        overlays: mediaCompleteData.overlays,\n      });\n\n      setCreationType(null);\n      setMediaData(null);\n      router.back();\n    } catch (error) {\n      console.error('[CreateStatus] Media upload error:', error);\n      Alert.alert('Upload Failed', 'Failed to upload status. Please try again.');\n      setRetryData({ type: mediaCompleteData.type, data: mediaCompleteData });\n    }\n  };\n\n  const handleRetry = async (statusId: string) => {\n    if (!retryData) return;\n\n    try {\n      if (retryData.type === 'voice') {\n        await handleVoiceComplete(retryData.data);\n      } else if (retryData.type === 'text') {\n        await handleTextComplete(retryData.data);\n      } else {\n        await handleMediaComplete(retryData.data);\n      }\n      setRetryData(null);\n    } catch (error) {\n      console.error('[CreateStatus] Retry error:', error);\n    }\n  };\n\n  const handleDismissProgress = (statusId: string) => {\n    console.log('[CreateStatus] Dismissing progress:', statusId);\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: true,\n          title: 'Create Status',\n          headerStyle: { backgroundColor: colors.card },\n          headerTintColor: colors.text,\n        }}\n      />\n\n      <UploadProgressOverlay\n        uploads={uploadProgress}\n        onDismiss={handleDismissProgress}\n        onRetry={handleRetry}\n      />\n\n      <ScrollView contentContainerStyle={styles.content}>\n        <Text style={[styles.title, { color: colors.text }]}>\n          Share your moment\n        </Text>\n        <Text style={[styles.subtitle, { color: colors.textSecondary }]}>\n          Choose how you want to express yourself\n        </Text>\n\n        <View style={styles.optionsGrid}>\n          <TouchableOpacity\n            style={[styles.optionCard, { backgroundColor: colors.card }]}\n            onPress={takePhoto}\n          >\n            <View style={[styles.iconContainer, { backgroundColor: '#667eea' }]}>\n              <Camera size={32} color=\"#FFFFFF\" />\n            </View>\n            <Text style={[styles.optionTitle, { color: colors.text }]}>Camera</Text>\n            <Text style={[styles.optionDesc, { color: colors.textSecondary }]}>\n              Take a photo\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.optionCard, { backgroundColor: colors.card }]}\n            onPress={pickImage}\n          >\n            <View style={[styles.iconContainer, { backgroundColor: '#f093fb' }]}>\n              <ImageIcon size={32} color=\"#FFFFFF\" />\n            </View>\n            <Text style={[styles.optionTitle, { color: colors.text }]}>Photo</Text>\n            <Text style={[styles.optionDesc, { color: colors.textSecondary }]}>\n              From gallery\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.optionCard, { backgroundColor: colors.card }]}\n            onPress={() => setCreationType('text')}\n          >\n            <View style={[styles.iconContainer, { backgroundColor: '#4facfe' }]}>\n              <Type size={32} color=\"#FFFFFF\" />\n            </View>\n            <Text style={[styles.optionTitle, { color: colors.text }]}>Text</Text>\n            <Text style={[styles.optionDesc, { color: colors.textSecondary }]}>\n              Write something\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.optionCard, { backgroundColor: colors.card }]}\n            onPress={() => setCreationType('voice')}\n          >\n            <View style={[styles.iconContainer, { backgroundColor: '#43e97b' }]}>\n              <Mic size={32} color=\"#FFFFFF\" />\n            </View>\n            <Text style={[styles.optionTitle, { color: colors.text }]}>Voice</Text>\n            <Text style={[styles.optionDesc, { color: colors.textSecondary }]}>\n              Record audio\n            </Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.infoBox}>\n          <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n            Your status will be visible for 24 hours and can be viewed by your friends\n          </Text>\n        </View>\n      </ScrollView>\n\n      <Modal\n        visible={creationType === 'voice'}\n        animationType=\"slide\"\n        presentationStyle=\"fullScreen\"\n      >\n        {creationType === 'voice' && (\n          <VoiceStatusRecorder\n            onComplete={handleVoiceComplete}\n            onCancel={() => setCreationType(null)}\n          />\n        )}\n      </Modal>\n\n      <Modal\n        visible={creationType === 'text'}\n        animationType=\"slide\"\n        presentationStyle=\"fullScreen\"\n      >\n        {creationType === 'text' && (\n          <TextStatusCreator\n            onComplete={handleTextComplete}\n            onCancel={() => setCreationType(null)}\n          />\n        )}\n      </Modal>\n\n      <Modal\n        visible={(creationType === 'photo' || creationType === 'video') && mediaData !== null}\n        animationType=\"slide\"\n        presentationStyle=\"fullScreen\"\n      >\n        {mediaData && (\n          <MediaStatusCreator\n            mediaUri={mediaData.uri}\n            mediaType={mediaData.type}\n            onComplete={handleMediaComplete}\n            onCancel={() => {\n              setCreationType(null);\n              setMediaData(null);\n            }}\n          />\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    padding: 20,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700' as const,\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    marginBottom: 32,\n  },\n  optionsGrid: {\n    flexDirection: 'row' as const,\n    flexWrap: 'wrap' as const,\n    gap: 16,\n    marginBottom: 24,\n  },\n  optionCard: {\n    width: '47%',\n    padding: 20,\n    borderRadius: 16,\n    alignItems: 'center' as const,\n    gap: 12,\n  },\n  iconContainer: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n    alignItems: 'center' as const,\n    justifyContent: 'center' as const,\n  },\n  optionTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  optionDesc: {\n    fontSize: 14,\n    textAlign: 'center' as const,\n  },\n  infoBox: {\n    padding: 16,\n    borderRadius: 12,\n    backgroundColor: 'rgba(102, 126, 234, 0.1)',\n  },\n  infoText: {\n    fontSize: 14,\n    textAlign: 'center' as const,\n    lineHeight: 20,\n  },\n});\n","import React from 'react';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\ninterface HomeIconProps {\n  size?: number;\n  color?: string;\n  filled?: boolean;\n}\n\nexport const HomeIcon: React.FC<HomeIconProps> = ({ \n  size = 24, \n  color = '#000', \n  filled = false \n}) => {\n  if (filled) {\n    return (\n      <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n        <Path\n          d=\"M12 2.5L2 10.5V21.5C2 22.05 2.45 22.5 3 22.5H9V15.5H15V22.5H21C21.55 22.5 22 22.05 22 21.5V10.5L12 2.5Z\"\n          fill={color}\n        />\n        <Circle cx=\"12\" cy=\"12\" r=\"1.5\" fill=\"#fff\" opacity=\"0.3\" />\n      </Svg>\n    );\n  }\n\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Path\n        d=\"M12 3L3 10.5V21C3 21.55 3.45 22 4 22H9V15H15V22H20C20.55 22 21 21.55 21 21V10.5L12 3Z\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <Path\n        d=\"M9 22V15H15V22\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\ninterface DiscoverIconProps {\n  size?: number;\n  color?: string;\n  filled?: boolean;\n}\n\nexport const DiscoverIcon: React.FC<DiscoverIconProps> = ({ \n  size = 24, \n  color = '#000', \n  filled = false \n}) => {\n  if (filled) {\n    return (\n      <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n        <Circle cx=\"11\" cy=\"11\" r=\"8\" fill={color} />\n        <Path\n          d=\"M21 21L16.65 16.65\"\n          stroke={color}\n          strokeWidth=\"2.5\"\n          strokeLinecap=\"round\"\n        />\n        <Circle cx=\"11\" cy=\"11\" r=\"3\" fill=\"#fff\" opacity=\"0.3\" />\n      </Svg>\n    );\n  }\n\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Circle \n        cx=\"11\" \n        cy=\"11\" \n        r=\"7\" \n        stroke={color} \n        strokeWidth=\"2\"\n      />\n      <Path\n        d=\"M21 21L16.65 16.65\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      <Circle \n        cx=\"11\" \n        cy=\"11\" \n        r=\"2\" \n        stroke={color} \n        strokeWidth=\"1.5\"\n        opacity=\"0.5\"\n      />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\ninterface ProfileIconProps {\n  size?: number;\n  color?: string;\n  filled?: boolean;\n}\n\nexport const ProfileIcon: React.FC<ProfileIconProps> = ({ \n  size = 24, \n  color = '#000', \n  filled = false \n}) => {\n  if (filled) {\n    return (\n      <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n        <Circle cx=\"12\" cy=\"8\" r=\"4\" fill={color} />\n        <Path\n          d=\"M4 20C4 16.6863 6.68629 14 10 14H14C17.3137 14 20 16.6863 20 20V22H4V20Z\"\n          fill={color}\n        />\n        <Circle cx=\"12\" cy=\"8\" r=\"1.5\" fill=\"#fff\" opacity=\"0.3\" />\n      </Svg>\n    );\n  }\n\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Circle \n        cx=\"12\" \n        cy=\"8\" \n        r=\"3.5\" \n        stroke={color} \n        strokeWidth=\"2\"\n      />\n      <Path\n        d=\"M4.5 20C4.5 17.2386 6.73858 15 9.5 15H14.5C17.2614 15 19.5 17.2386 19.5 20V21.5\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport Svg, { Path, Circle, G } from 'react-native-svg';\n\ninterface VibezIconNewProps {\n  size?: number;\n  color?: string;\n  filled?: boolean;\n}\n\nexport const VibezIconNew: React.FC<VibezIconNewProps> = ({ \n  size = 24, \n  color = '#000', \n  filled = false \n}) => {\n  if (filled) {\n    return (\n      <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n        <G>\n          <Path\n            d=\"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z\"\n            fill={color}\n          />\n          <Circle cx=\"12\" cy=\"12\" r=\"3\" fill=\"#fff\" opacity=\"0.2\" />\n          <Path\n            d=\"M12 8L13 10.5L15.5 11L13 12L12 14.5L11 12L8.5 11L11 10.5L12 8Z\"\n            fill=\"#fff\"\n            opacity=\"0.4\"\n          />\n        </G>\n      </Svg>\n    );\n  }\n\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Path\n        d=\"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <Circle \n        cx=\"12\" \n        cy=\"12\" \n        r=\"2\" \n        stroke={color} \n        strokeWidth=\"1.5\"\n        opacity=\"0.5\"\n      />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport Svg, { Path, Circle, G } from 'react-native-svg';\n\ninterface SpillsIconNewProps {\n  size?: number;\n  color?: string;\n  filled?: boolean;\n}\n\nexport const SpillsIconNew: React.FC<SpillsIconNewProps> = ({ \n  size = 24, \n  color = '#000', \n  filled = false \n}) => {\n  if (filled) {\n    return (\n      <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n        <G>\n          <Circle cx=\"12\" cy=\"8\" r=\"6\" fill={color} />\n          <Path\n            d=\"M12 14C12 14 8 15 8 18C8 20 9.5 22 12 22C14.5 22 16 20 16 18C16 15 12 14 12 14Z\"\n            fill={color}\n          />\n          <Circle cx=\"12\" cy=\"8\" r=\"2.5\" fill=\"#fff\" opacity=\"0.4\" />\n          <Path\n            d=\"M8 17L10 16L12 17L14 16L16 17\"\n            stroke=\"#fff\"\n            strokeWidth=\"1.5\"\n            strokeLinecap=\"round\"\n            opacity=\"0.5\"\n          />\n        </G>\n      </Svg>\n    );\n  }\n\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <G>\n        <Circle \n          cx=\"12\" \n          cy=\"8\" \n          r=\"5.5\" \n          stroke={color}\n          strokeWidth=\"2\"\n        />\n        <Path\n          d=\"M12 13.5C12 13.5 8.5 14.5 8.5 17.5C8.5 19.5 10 21.5 12 21.5C14 21.5 15.5 19.5 15.5 17.5C15.5 14.5 12 13.5 12 13.5Z\"\n          stroke={color}\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        <Path\n          d=\"M8.5 16.5L10.5 15.5L12 16.5L13.5 15.5L15.5 16.5\"\n          stroke={color}\n          strokeWidth=\"1.5\"\n          strokeLinecap=\"round\"\n          opacity=\"0.7\"\n        />\n      </G>\n    </Svg>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, Animated } from 'react-native';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface AnimatedLogoProps {\n  size?: 'small' | 'medium' | 'large';\n}\n\nexport function AnimatedLogo({ size = 'medium' }: AnimatedLogoProps) {\n  const { colors } = useTheme();\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n  const floatAnim = useRef(new Animated.Value(0)).current;\n  const innerPulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    // Aqua pulse animation\n    const pulseAnimation = Animated.loop(\n      Animated.sequence([\n        Animated.timing(pulseAnim, {\n          toValue: 1.1,\n          duration: 2000,\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseAnim, {\n          toValue: 1,\n          duration: 2000,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n\n    // Float animation\n    const floatAnimation = Animated.loop(\n      Animated.sequence([\n        Animated.timing(floatAnim, {\n          toValue: 1,\n          duration: 3000,\n          useNativeDriver: true,\n        }),\n        Animated.timing(floatAnim, {\n          toValue: 0,\n          duration: 3000,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n\n    // Inner pulse animation\n    const innerPulseAnimation = Animated.loop(\n      Animated.sequence([\n        Animated.timing(innerPulseAnim, {\n          toValue: 1.2,\n          duration: 1500,\n          useNativeDriver: true,\n        }),\n        Animated.timing(innerPulseAnim, {\n          toValue: 1,\n          duration: 1500,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n\n    pulseAnimation.start();\n    floatAnimation.start();\n    innerPulseAnimation.start();\n\n    return () => {\n      pulseAnimation.stop();\n      floatAnimation.stop();\n      innerPulseAnimation.stop();\n    };\n  }, []);\n\n  const floatTranslate = floatAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: [0, -3],\n  });\n\n  const sizeStyles = {\n    small: { fontSize: 16, iconSize: 20 },\n    medium: { fontSize: 20, iconSize: 24 },\n    large: { fontSize: 28, iconSize: 32 },\n  };\n\n  const currentSize = sizeStyles[size];\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.logoContainer}>\n        {/* Main gradient background */}\n        <Animated.View\n          style={[\n            styles.mainGradient,\n            {\n              width: currentSize.iconSize + 12,\n              height: currentSize.iconSize + 12,\n              borderRadius: (currentSize.iconSize + 12) * 0.3,\n              transform: [{ scale: pulseAnim }],\n            },\n          ]}\n        />\n        \n        {/* Floating overlay */}\n        <Animated.View\n          style={[\n            styles.floatingOverlay,\n            {\n              width: currentSize.iconSize + 12,\n              height: currentSize.iconSize + 12,\n              borderRadius: (currentSize.iconSize + 12) * 0.3,\n              transform: [{ translateY: floatTranslate }],\n            },\n          ]}\n        />\n        \n        {/* Inner white circle with gradient dot */}\n        <View style={[\n          styles.innerCircle,\n          {\n            width: currentSize.iconSize * 0.5,\n            height: currentSize.iconSize * 0.5,\n            borderRadius: currentSize.iconSize * 0.25,\n          }\n        ]}>\n          <Animated.View\n            style={[\n              styles.innerDot,\n              {\n                width: currentSize.iconSize * 0.25,\n                height: currentSize.iconSize * 0.25,\n                borderRadius: currentSize.iconSize * 0.125,\n                transform: [{ scale: innerPulseAnim }],\n              },\n            ]}\n          />\n        </View>\n      </View>\n      \n      <View style={styles.textContainer}>\n        <Text style={[styles.logoText, { fontSize: currentSize.fontSize, color: '#00CED1' }]}>VibeSync</Text>\n        <Text style={[styles.logoSubtext, { fontSize: currentSize.fontSize * 0.5, color: colors.textSecondary }]}>\n          Connect & Experience\n        </Text>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  logoContainer: {\n    position: 'relative',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  mainGradient: {\n    position: 'absolute',\n    backgroundColor: '#00CED1', // Aqua color\n    shadowColor: '#00CED1',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  floatingOverlay: {\n    position: 'absolute',\n    backgroundColor: '#40E0D0', // Lighter aqua\n    opacity: 0.8,\n  },\n  innerCircle: {\n    backgroundColor: '#FFFFFF',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 2,\n  },\n  innerDot: {\n    backgroundColor: '#3B82F6',\n  },\n  textContainer: {\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n  },\n  logoText: {\n    fontWeight: 'bold',\n    letterSpacing: 0.5,\n  },\n  logoSubtext: {\n    fontWeight: '500',\n    marginTop: -2,\n  },\n});","import React from 'react';\nimport Svg, { Rect, Polygon } from 'react-native-svg';\n\ninterface VibezIconProps {\n  size?: number;\n  color?: string;\n}\n\nexport const VibezIcon: React.FC<VibezIconProps> = ({ size = 24, color = '#fff' }) => {\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Rect x=\"3\" y=\"3\" width=\"18\" height=\"5\" fill={color} rx=\"1\" />\n      <Polygon points=\"9,3 12,8 15,3\" fill=\"#000\" opacity=\"0.3\" />\n      \n      <Rect x=\"3\" y=\"9\" width=\"18\" height=\"12\" stroke={color} strokeWidth=\"2\" rx=\"2\" fill=\"none\" />\n      \n      <Polygon points=\"10,12 16,15 10,18\" fill={color} />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\ninterface CreativeStudioIconProps {\n  size?: number;\n  color?: string;\n}\n\nexport const CreativeStudioIcon: React.FC<CreativeStudioIconProps> = ({ size = 24, color = '#fff' }) => {\n  return (\n    <Svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\">\n      <Path d=\"M4 20 L20 4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <Path d=\"M14 10 L20 16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\n\n      <Circle cx=\"6\" cy=\"6\" r=\"1.5\" fill={color} />\n      <Circle cx=\"18\" cy=\"8\" r=\"1.2\" fill={color} />\n      <Circle cx=\"10\" cy=\"18\" r=\"1\" fill={color} />\n    </Svg>\n  );\n};\n","import React from 'react';\nimport { View, TouchableOpacity, StyleSheet, Platform, Animated } from 'react-native';\nimport { BlurView } from 'expo-blur';\nimport { Home, Search, User } from 'lucide-react-native';\nimport { VibezIcon } from '@/components/ui/VibezIcon';\nimport { CreativeStudioIcon } from '@/components/ui/CreativeStudioIcon';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\ninterface LiquidTabBarProps {\n  state: any;\n  descriptors: any;\n  navigation: any;\n}\n\nconst TabIcon = ({ name, focused, color, size }: { name: string; focused: boolean; color: string; size: number }) => {\n  const iconProps = { size, color };\n  \n  switch (name) {\n    case 'index':\n      return <Home {...iconProps} />;\n    case 'discover':\n      return <Search {...iconProps} />;\n    case 'vibez':\n      return <VibezIcon {...iconProps} />;\n    case 'create':\n      return <CreativeStudioIcon {...iconProps} />;\n    case 'profile':\n      return <User {...iconProps} />;\n    default:\n      return <Home {...iconProps} />;\n  }\n};\n\nexport const LiquidTabBar: React.FC<LiquidTabBarProps> = ({ state, descriptors, navigation }) => {\n  const { colors, isDark } = useTheme();\n  const insets = useSafeAreaInsets();\n  \n  const animatedValue = React.useRef(new Animated.Value(state.index)).current;\n  \n  React.useEffect(() => {\n    Animated.spring(animatedValue, {\n      toValue: state.index,\n      useNativeDriver: false,\n      tension: 100,\n      friction: 8,\n    }).start();\n  }, [state.index, animatedValue]);\n\n  const tabWidth = 100 / state.routes.length;\n  \n  const indicatorTranslateX = animatedValue.interpolate({\n    inputRange: state.routes.map((_: any, i: number) => i),\n    outputRange: state.routes.map((_: any, i: number) => i * (100 / state.routes.length)),\n  });\n\n  if (Platform.OS === 'web') {\n    return (\n      <View style={[styles.container, { \n        backgroundColor: colors.glass,\n        paddingBottom: insets.bottom,\n        borderTopColor: colors.border,\n      }]}>\n        <View style={styles.backdrop} />\n        <View \n          style={[\n            styles.indicator,\n            {\n              backgroundColor: colors.primary,\n              width: `${tabWidth}%`,\n            }\n          ]} \n        />\n        <View style={styles.tabContainer}>\n          {state.routes.map((route: any, index: number) => {\n            const { options } = descriptors[route.key];\n            const isFocused = state.index === index;\n\n            const onPress = () => {\n              const event = navigation.emit({\n                type: 'tabPress',\n                target: route.key,\n                canPreventDefault: true,\n              });\n\n              if (!isFocused && !event.defaultPrevented) {\n                navigation.navigate(route.name);\n              }\n            };\n\n            return (\n              <TouchableOpacity\n                key={route.key}\n                accessibilityRole=\"button\"\n                accessibilityState={isFocused ? { selected: true } : {}}\n                accessibilityLabel={options.tabBarAccessibilityLabel}\n                testID={options.tabBarTestID}\n                onPress={onPress}\n                style={styles.tab}\n              >\n                <View style={[styles.tabContent, isFocused && { backgroundColor: colors.glassLight }]}>\n                  <TabIcon \n                    name={route.name} \n                    focused={isFocused} \n                    color={isFocused ? colors.primary : colors.textSecondary} \n                    size={24} \n                  />\n                </View>\n              </TouchableOpacity>\n            );\n          })}\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <BlurView \n      intensity={isDark ? 80 : 60}\n      tint={isDark ? 'dark' : 'light'}\n      style={[styles.container, { paddingBottom: insets.bottom }]}\n    >\n      <Animated.View \n        style={[\n          styles.indicator,\n          {\n            backgroundColor: colors.primary,\n            width: `${tabWidth}%`,\n            transform: [{ translateX: indicatorTranslateX }],\n          }\n        ]} \n      />\n      <View style={styles.tabContainer}>\n        {state.routes.map((route: any, index: number) => {\n          const { options } = descriptors[route.key];\n          const isFocused = state.index === index;\n\n          const onPress = () => {\n            const event = navigation.emit({\n              type: 'tabPress',\n              target: route.key,\n              canPreventDefault: true,\n            });\n\n            if (!isFocused && !event.defaultPrevented) {\n              navigation.navigate(route.name);\n            }\n          };\n\n          return (\n            <TouchableOpacity\n              key={route.key}\n              accessibilityRole=\"button\"\n              accessibilityState={isFocused ? { selected: true } : {}}\n              accessibilityLabel={options.tabBarAccessibilityLabel}\n              testID={options.tabBarTestID}\n              onPress={onPress}\n              style={styles.tab}\n            >\n              <Animated.View style={[styles.tabContent, isFocused && { backgroundColor: colors.glassLight }]}>\n                <TabIcon \n                  name={route.name} \n                  focused={isFocused} \n                  color={isFocused ? colors.primary : colors.textSecondary} \n                  size={24} \n                />\n              </Animated.View>\n            </TouchableOpacity>\n          );\n        })}\n      </View>\n    </BlurView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    borderTopWidth: Platform.OS === 'web' ? 1 : 0,\n  },\n  backdrop: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  tabContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n  },\n  tab: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 50,\n  },\n  tabContent: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  indicator: {\n    position: 'absolute',\n    top: 0,\n    height: 3,\n    borderRadius: 2,\n  },\n});","import { Tabs, router } from \"expo-router\";\nimport React, { useCallback } from \"react\";\nimport { View, Text, StyleSheet, TouchableOpacity, InteractionManager } from \"react-native\";\nimport { Bell, MessageCircle } from \"lucide-react-native\";\nimport { HomeIcon } from '@/components/ui/icons/HomeIcon';\nimport { DiscoverIcon } from '@/components/ui/icons/DiscoverIcon';\nimport { ProfileIcon } from '@/components/ui/icons/ProfileIcon';\nimport { VibezIconNew } from '@/components/ui/icons/VibezIconNew';\nimport { SpillsIconNew } from '@/components/ui/icons/SpillsIconNew';\nimport { AnimatedLogo } from '@/components/ui/AnimatedLogo';\nimport { useNotifications } from '@/hooks/notification-store';\nimport { useMessaging } from '@/hooks/messaging-store';\n\nimport { LiquidTabBar } from '@/components/ui/LiquidTabBar';\nimport { useTheme } from '@/hooks/theme-store';\n\nexport default function TabLayout() {\n  const { colors } = useTheme();\n  const { unreadCount: notificationCount } = useNotifications();\n  const { unreadCount: messageCount } = useMessaging();\n\n  const handleNotificationPress = useCallback(() => {\n    InteractionManager.runAfterInteractions(() => {\n      router.push('/notifications');\n    });\n  }, []);\n\n  const handleMessagePress = useCallback(() => {\n    InteractionManager.runAfterInteractions(() => {\n      router.push('/inbox');\n    });\n  }, []);\n\n\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Tabs\n        tabBar={(props) => <LiquidTabBar {...props} />}\n        screenOptions={{\n          tabBarActiveTintColor: colors.primary,\n          tabBarInactiveTintColor: colors.textSecondary,\n          headerStyle: { backgroundColor: colors.background },\n          headerTitleStyle: { color: colors.text },\n          headerTintColor: colors.text,\n          tabBarShowLabel: false,\n        }}\n      >\n      <Tabs.Screen\n        name=\"index\"\n        options={{\n          title: \"VibeSync\",\n          tabBarLabel: \"Home\",\n          tabBarIcon: ({ color, size, focused }) => (\n            <HomeIcon size={size} color={color} filled={focused} />\n          ),\n          headerTitle: () => (\n            <AnimatedLogo size=\"small\" />\n          ),\n          headerRight: () => (\n            <View style={styles.headerRight}>\n              <TouchableOpacity \n                style={styles.notificationButton}\n                onPress={handleNotificationPress}\n              >\n                <Bell size={22} color={colors.text} />\n                {notificationCount > 0 && (\n                  <View style={[styles.notificationBadge, { backgroundColor: colors.error }]}>\n                    <Text style={[styles.notificationCount, { color: colors.textInverse }]}>\n                      {notificationCount > 99 ? '99+' : notificationCount}\n                    </Text>\n                  </View>\n                )}\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.messageButton}\n                onPress={handleMessagePress}\n              >\n                <MessageCircle size={22} color={colors.text} />\n                {messageCount > 0 && (\n                  <View style={[styles.messageBadge, { backgroundColor: colors.error }]}>\n                    <Text style={[styles.messageCount, { color: colors.textInverse }]}>\n                      {messageCount > 99 ? '99+' : messageCount}\n                    </Text>\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n          ),\n        }}\n      />\n      <Tabs.Screen\n        name=\"discover\"\n        options={{\n          title: \"Discover\",\n          tabBarLabel: \"Discover\",\n          tabBarIcon: ({ color, size, focused }) => (\n            <DiscoverIcon size={size} color={color} filled={focused} />\n          ),\n        }}\n      />\n      <Tabs.Screen\n        name=\"vibez\"\n        options={{\n          title: \"Vibez\",\n          tabBarLabel: \"Vibez\",\n          tabBarIcon: ({ color, size, focused }) => (\n            <VibezIconNew size={size} color={color} filled={focused} />\n          ),\n          headerShown: false,\n        }}\n      />\n      <Tabs.Screen\n        name=\"spills\"\n        options={{\n          title: \"Spills\",\n          tabBarLabel: \"Spills\",\n          headerShown: false,\n          tabBarIcon: ({ color, size, focused }) => (\n            <SpillsIconNew size={size} color={color} filled={focused} />\n          ),\n        }}\n      />\n      <Tabs.Screen\n        name=\"profile\"\n        options={{\n          title: \"Profile\",\n          tabBarLabel: \"Profile\",\n          tabBarIcon: ({ color, size, focused }) => (\n            <ProfileIcon size={size} color={color} filled={focused} />\n          ),\n        }}\n      />\n      </Tabs>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  headerRight: {\n    flexDirection: 'row',\n    marginRight: 16,\n    alignItems: 'center',\n  },\n\n  notificationButton: {\n    position: 'relative',\n    marginRight: 16,\n  },\n  notificationBadge: {\n    position: 'absolute',\n    top: -5,\n    right: -5,\n    borderRadius: 10,\n    width: 18,\n    height: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  notificationCount: {\n    fontSize: 10,\n    fontWeight: 'bold' as const,\n  },\n  messageButton: {\n    position: 'relative',\n  },\n  messageBadge: {\n    position: 'absolute',\n    top: -5,\n    right: -5,\n    borderRadius: 10,\n    width: 18,\n    height: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageCount: {\n    fontSize: 10,\n    fontWeight: 'bold' as const,\n  },\n  createButton: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});","import { TrendingTopic, TrendingPost } from '@/types';\nimport { mockPosts } from './posts';\n\nexport const mockTrendingTopics: TrendingTopic[] = [\n  {\n    id: '1',\n    title: 'Amapiano Festival 2025',\n    category: 'events',\n    posts: 45200,\n    engagement: 892000,\n    location: 'Johannesburg',\n    hashtag: '#AmaPiano2025',\n    description: 'The biggest Amapiano festival of the year is happening this weekend in Johannesburg',\n    trendingScore: 95.8,\n    velocity: 12.5,\n    recencyScore: 98.2,\n    status: 'breaking',\n    relatedEventId: 'event_1',\n    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '2',\n    title: 'New Drake Album',\n    category: 'music',\n    posts: 128500,\n    engagement: 2450000,\n    location: 'Global',\n    hashtag: '#ForAllTheDogs',\n    description: 'Drake just dropped a surprise album and fans are going wild',\n    trendingScore: 98.5,\n    velocity: 18.9,\n    recencyScore: 99.5,\n    status: 'peaking',\n    relatedMusicId: 'album_drake_2025',\n    createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 2 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '3',\n    title: 'Viral Dance Challenge',\n    category: 'content',\n    posts: 67800,\n    engagement: 1230000,\n    location: 'Global',\n    hashtag: '#VibeChallenge',\n    description: 'Everyone is doing the new vibe dance challenge',\n    trendingScore: 89.3,\n    velocity: 15.2,\n    recencyScore: 92.1,\n    status: 'peaking',\n    createdAt: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 10 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '4',\n    title: 'Cape Town Food Festival',\n    category: 'events',\n    posts: 8900,\n    engagement: 125000,\n    location: 'Cape Town',\n    hashtag: '#CTFoodFest',\n    description: 'Local food festival showcasing the best of Cape Town cuisine',\n    trendingScore: 72.4,\n    velocity: 8.3,\n    recencyScore: 85.6,\n    status: 'stable',\n    relatedEventId: 'event_2',\n    createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '5',\n    title: 'Tyla World Tour',\n    category: 'music',\n    posts: 34200,\n    engagement: 567000,\n    location: 'South Africa',\n    hashtag: '#TylaWorldTour',\n    description: 'Tyla announces world tour dates, SA fans excited',\n    trendingScore: 84.7,\n    velocity: 11.8,\n    recencyScore: 88.9,\n    status: 'peaking',\n    relatedMusicId: 'artist_tyla',\n    relatedEventId: 'tour_tyla_2025',\n    createdAt: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 15 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '6',\n    title: 'Sunset Sessions',\n    category: 'content',\n    posts: 12400,\n    engagement: 189000,\n    location: 'Durban',\n    hashtag: '#SunsetVibes',\n    description: 'Beautiful sunset content from Durban beaches',\n    trendingScore: 68.2,\n    velocity: 6.4,\n    recencyScore: 75.3,\n    status: 'stable',\n    createdAt: new Date(Date.now() - 18 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 45 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '7',\n    title: 'Bitcoin Hits New High',\n    category: 'global',\n    posts: 89300,\n    engagement: 1890000,\n    location: 'Global',\n    hashtag: '#Bitcoin',\n    description: 'Cryptocurrency market surges as Bitcoin reaches all-time high',\n    trendingScore: 91.5,\n    velocity: 14.7,\n    recencyScore: 94.8,\n    status: 'peaking',\n    createdAt: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 8 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '8',\n    title: 'Local Coffee Shop Opening',\n    category: 'local',\n    posts: 2300,\n    engagement: 34000,\n    location: 'Pretoria',\n    hashtag: '#NewCoffeeSpot',\n    description: 'New artisan coffee shop opens in Pretoria with amazing vibes',\n    trendingScore: 58.9,\n    velocity: 4.2,\n    recencyScore: 68.7,\n    status: 'stable',\n    createdAt: new Date(Date.now() - 36 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 60 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '9',\n    title: 'Summer Music Festival',\n    category: 'events',\n    posts: 18700,\n    engagement: 298000,\n    location: 'Port Elizabeth',\n    hashtag: '#SummerFest2025',\n    description: 'Three-day summer music festival lineup announced',\n    trendingScore: 76.3,\n    velocity: 9.1,\n    recencyScore: 82.4,\n    status: 'stable',\n    relatedEventId: 'event_3',\n    createdAt: new Date(Date.now() - 48 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 90 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '10',\n    title: 'Viral Recipe Trend',\n    category: 'content',\n    posts: 23400,\n    engagement: 412000,\n    location: 'Global',\n    hashtag: '#FoodVibes',\n    description: 'New cooking trend taking over social media',\n    trendingScore: 79.8,\n    velocity: 10.3,\n    recencyScore: 86.5,\n    status: 'peaking',\n    createdAt: new Date(Date.now() - 20 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 25 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '11',\n    title: 'Burna Boy New Single',\n    category: 'music',\n    posts: 56700,\n    engagement: 1120000,\n    location: 'Global',\n    hashtag: '#BurnaBoy',\n    description: 'Burna Boy drops surprise single ahead of album release',\n    trendingScore: 93.2,\n    velocity: 16.8,\n    recencyScore: 96.4,\n    status: 'breaking',\n    relatedMusicId: 'single_burna_2025',\n    createdAt: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 3 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '12',\n    title: 'AI Art Challenge',\n    category: 'content',\n    posts: 34500,\n    engagement: 678000,\n    location: 'Global',\n    hashtag: '#AIArtChallenge',\n    description: 'Artists creating stunning AI-generated artwork',\n    trendingScore: 87.6,\n    velocity: 13.2,\n    recencyScore: 90.8,\n    status: 'peaking',\n    createdAt: new Date(Date.now() - 10 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 12 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '13',\n    title: 'Local Street Market',\n    category: 'local',\n    posts: 4200,\n    engagement: 67000,\n    location: 'Johannesburg',\n    hashtag: '#JHBMarket',\n    description: 'Weekend street market with local vendors and live music',\n    trendingScore: 65.4,\n    velocity: 7.8,\n    recencyScore: 72.3,\n    status: 'stable',\n    createdAt: new Date(Date.now() - 28 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 50 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '14',\n    title: 'Tech Conference 2025',\n    category: 'events',\n    posts: 15600,\n    engagement: 234000,\n    location: 'Cape Town',\n    hashtag: '#TechCPT',\n    description: 'Annual tech conference featuring AI and blockchain talks',\n    trendingScore: 74.9,\n    velocity: 8.9,\n    recencyScore: 81.2,\n    status: 'stable',\n    relatedEventId: 'event_tech_2025',\n    createdAt: new Date(Date.now() - 40 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 70 * 60 * 1000).toISOString(),\n  },\n  {\n    id: '15',\n    title: 'Fitness Transformation',\n    category: 'content',\n    posts: 28900,\n    engagement: 456000,\n    location: 'Global',\n    hashtag: '#FitnessVibes',\n    description: 'Inspiring fitness transformation stories and workout tips',\n    trendingScore: 81.3,\n    velocity: 11.4,\n    recencyScore: 87.6,\n    status: 'peaking',\n    createdAt: new Date(Date.now() - 15 * 60 * 60 * 1000).toISOString(),\n    lastUpdated: new Date(Date.now() - 20 * 60 * 1000).toISOString(),\n  },\n];\n\nexport const mockTrendingPosts: TrendingPost[] = mockPosts.map((post, index) => {\n  const baseScore = 100 - index * 5;\n  const velocity = Math.random() * 20;\n  const categories: ('for_you' | 'global' | 'local' | 'music' | 'content' | 'events')[] = [\n    'for_you',\n    'global',\n    'local',\n    'music',\n    'content',\n    'events',\n  ];\n  \n  return {\n    ...post,\n    trendingScore: baseScore + Math.random() * 10,\n    trendingRank: index + 1,\n    trendingCategory: categories[index % categories.length],\n    velocity,\n  };\n});\n","import { useState, useEffect, useMemo, useCallback } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport {\n  TrendingTopic,\n  TrendingPost,\n  TrendingWeights,\n  TrendingFilters,\n  Post,\n} from '@/types';\nimport { mockTrendingTopics } from '@/mocks/trending';\nimport { mockPosts } from '@/mocks/posts';\n\nconst DEFAULT_WEIGHTS: TrendingWeights = {\n  engagement: 0.4,\n  hashtag: 0.25,\n  mentions: 0.15,\n  recency: 0.15,\n  events: 0.05,\n};\n\nconst calculateTrendingScore = (\n  post: Post,\n  weights: TrendingWeights = DEFAULT_WEIGHTS\n): number => {\n  const now = Date.now();\n  const postTime = new Date(post.timestamp).getTime();\n  const ageInHours = (now - postTime) / (1000 * 60 * 60);\n  \n  const engagementScore = (post.likes + post.comments * 2 + post.shares * 3) / 100;\n  \n  const hashtagCount = (post.content.match(/#\\w+/g) || []).length;\n  const hashtagScore = Math.min(hashtagCount * 10, 50);\n  \n  const mentionCount = (post.content.match(/@\\w+/g) || []).length;\n  const mentionScore = Math.min(mentionCount * 5, 30);\n  \n  const recencyScore = Math.max(0, 100 - ageInHours * 2);\n  \n  const eventScore = post.isBoosted ? 50 : 0;\n  \n  const totalScore =\n    engagementScore * weights.engagement +\n    hashtagScore * weights.hashtag +\n    mentionScore * weights.mentions +\n    recencyScore * weights.recency +\n    eventScore * weights.events;\n  \n  return Math.min(100, totalScore);\n};\n\nconst calculateVelocity = (post: Post): number => {\n  const now = Date.now();\n  const postTime = new Date(post.timestamp).getTime();\n  const ageInMinutes = (now - postTime) / (1000 * 60);\n  \n  if (ageInMinutes < 1) return 0;\n  \n  const totalEngagement = post.likes + post.comments + post.shares;\n  const velocity = totalEngagement / ageInMinutes;\n  \n  return velocity;\n};\n\nexport const [TrendingProvider, useTrending] = createContextHook(() => {\n  const [topics, setTopics] = useState<TrendingTopic[]>(mockTrendingTopics);\n  const [filters, setFilters] = useState<TrendingFilters>({\n    category: 'for_you',\n    timeRange: '24h',\n  });\n  const [weights] = useState<TrendingWeights>(DEFAULT_WEIGHTS);\n  const [lastRefresh, setLastRefresh] = useState<Date>(new Date());\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(false);\n  const [newTrendsCount, setNewTrendsCount] = useState<number>(0);\n  const [hasNewTrends, setHasNewTrends] = useState<boolean>(false);\n  const [pendingTopics, setPendingTopics] = useState<TrendingTopic[]>([]);\n\n  const calculatePostTrendingData = useCallback(\n    (post: Post): TrendingPost => {\n      const trendingScore = calculateTrendingScore(post, weights);\n      const velocity = calculateVelocity(post);\n      \n      let category: TrendingPost['trendingCategory'] = 'for_you';\n      if (post.content.includes('#music') || post.content.includes('')) {\n        category = 'music';\n      } else if (post.content.includes('#event') || post.isBoosted) {\n        category = 'events';\n      } else if (post.video || post.image) {\n        category = 'content';\n      } else if (post.views > 10000) {\n        category = 'global';\n      }\n      \n      return {\n        ...post,\n        trendingScore,\n        trendingRank: 0,\n        trendingCategory: category,\n        velocity,\n      };\n    },\n    [weights]\n  );\n\n  const trendingPosts = useMemo(() => {\n    const postsWithTrending = mockPosts.map(calculatePostTrendingData);\n    \n    let filtered = postsWithTrending;\n    \n    if (filters.category && filters.category !== 'for_you') {\n      filtered = filtered.filter(\n        (post) => post.trendingCategory === filters.category\n      );\n    }\n    \n    if (filters.timeRange) {\n      const now = Date.now();\n      const timeRanges: Record<string, number> = {\n        '1h': 1 * 60 * 60 * 1000,\n        '6h': 6 * 60 * 60 * 1000,\n        '24h': 24 * 60 * 60 * 1000,\n        '7d': 7 * 24 * 60 * 60 * 1000,\n      };\n      \n      const maxAge = timeRanges[filters.timeRange] || timeRanges['24h'];\n      \n      filtered = filtered.filter((post) => {\n        const postTime = new Date(post.timestamp).getTime();\n        return now - postTime <= maxAge;\n      });\n    }\n    \n    const sorted = filtered.sort((a, b) => b.trendingScore - a.trendingScore);\n    \n    return sorted.map((post, index) => ({\n      ...post,\n      trendingRank: index + 1,\n    }));\n  }, [filters, calculatePostTrendingData]);\n\n  const filteredTopics = useMemo(() => {\n    let filtered = topics;\n    \n    if (filters.category) {\n      if (filters.category === 'for_you') {\n        filtered = topics;\n      } else {\n        filtered = topics.filter((topic) => topic.category === filters.category);\n      }\n    }\n    \n    if (filters.location) {\n      filtered = filtered.filter(\n        (topic) =>\n          topic.location === filters.location ||\n          topic.location === 'Global' ||\n          topic.location === 'Worldwide'\n      );\n    }\n    \n    return filtered.sort((a, b) => b.trendingScore - a.trendingScore);\n  }, [topics, filters]);\n\n  const getTopicsByCategory = useCallback(\n    (category: TrendingFilters['category']) => {\n      if (!category || category === 'for_you') {\n        return topics.sort((a, b) => b.trendingScore - a.trendingScore);\n      }\n      \n      return topics\n        .filter((topic) => topic.category === category)\n        .sort((a, b) => b.trendingScore - a.trendingScore);\n    },\n    [topics]\n  );\n\n  const getPostsByCategory = useCallback(\n    (category: TrendingFilters['category']) => {\n      if (!category || category === 'for_you') {\n        return trendingPosts;\n      }\n      \n      return trendingPosts.filter((post) => post.trendingCategory === category);\n    },\n    [trendingPosts]\n  );\n\n  const generateNewTrends = useCallback((): TrendingTopic[] => {\n    const newTrends: TrendingTopic[] = [];\n    const numNewTrends = Math.floor(Math.random() * 3) + 1;\n\n    const categories: TrendingTopic['category'][] = ['music', 'content', 'events', 'local', 'global'];\n    const statuses: TrendingTopic['status'][] = ['breaking', 'peaking'];\n    const locations = ['Johannesburg', 'Cape Town', 'Durban', 'Pretoria', 'Global'];\n\n    for (let i = 0; i < numNewTrends; i++) {\n      const category = categories[Math.floor(Math.random() * categories.length)];\n      const status = statuses[Math.floor(Math.random() * statuses.length)];\n      const location = locations[Math.floor(Math.random() * locations.length)];\n      \n      const newTrend: TrendingTopic = {\n        id: `trend_${Date.now()}_${i}`,\n        title: `New Trending Topic ${Date.now()}`,\n        category,\n        posts: Math.floor(Math.random() * 50000) + 10000,\n        engagement: Math.floor(Math.random() * 500000) + 100000,\n        location,\n        hashtag: `#Trend${Date.now()}`,\n        description: 'Fresh trending topic just emerged',\n        trendingScore: Math.random() * 20 + 80,\n        velocity: Math.random() * 10 + 10,\n        recencyScore: Math.random() * 10 + 90,\n        status,\n        createdAt: new Date().toISOString(),\n        lastUpdated: new Date().toISOString(),\n      };\n\n      newTrends.push(newTrend);\n    }\n\n    return newTrends;\n  }, []);\n\n  const checkForNewTrends = useCallback(async () => {\n    console.log(' Auto-checking for new trends...');\n    \n    const updatedTopics = topics.map((topic) => {\n      const velocityChange = (Math.random() - 0.5) * 5;\n      const newVelocity = Math.max(0, topic.velocity + velocityChange);\n      const scoreChange = (Math.random() - 0.5) * 3;\n      const newScore = Math.max(0, Math.min(100, topic.trendingScore + scoreChange));\n      \n      let newStatus = topic.status;\n      if (newVelocity > 15 && newScore > 90) {\n        newStatus = 'breaking';\n      } else if (newVelocity > 10 && newScore > 80) {\n        newStatus = 'peaking';\n      } else if (newVelocity < 5) {\n        newStatus = 'fading';\n      } else {\n        newStatus = 'stable';\n      }\n\n      return {\n        ...topic,\n        lastUpdated: new Date().toISOString(),\n        trendingScore: newScore,\n        velocity: newVelocity,\n        status: newStatus,\n      };\n    });\n\n    const newTrends = generateNewTrends();\n    \n    if (newTrends.length > 0) {\n      console.log(` Found ${newTrends.length} new trending topics`);\n      setPendingTopics(prev => [...newTrends, ...prev]);\n      setNewTrendsCount(prev => prev + newTrends.length);\n      setHasNewTrends(true);\n    }\n\n    setTopics(updatedTopics);\n  }, [topics, generateNewTrends]);\n\n  const refreshTrending = useCallback(async (showLoading: boolean = true) => {\n    if (showLoading) {\n      setIsRefreshing(true);\n    }\n    \n    console.log(' Refreshing trending topics...');\n    \n    await new Promise((resolve) => setTimeout(resolve, 800));\n    \n    const updatedTopics = topics.map((topic) => {\n      const velocityChange = (Math.random() - 0.5) * 5;\n      const newVelocity = Math.max(0, topic.velocity + velocityChange);\n      const scoreChange = (Math.random() - 0.5) * 3;\n      const newScore = Math.max(0, Math.min(100, topic.trendingScore + scoreChange));\n      \n      let newStatus = topic.status;\n      if (newVelocity > 15 && newScore > 90) {\n        newStatus = 'breaking';\n      } else if (newVelocity > 10 && newScore > 80) {\n        newStatus = 'peaking';\n      } else if (newVelocity < 5) {\n        newStatus = 'fading';\n      } else {\n        newStatus = 'stable';\n      }\n\n      return {\n        ...topic,\n        lastUpdated: new Date().toISOString(),\n        trendingScore: newScore,\n        velocity: newVelocity,\n        status: newStatus,\n      };\n    });\n    \n    const allTopics = [...pendingTopics, ...updatedTopics];\n    const sortedTopics = allTopics.sort((a, b) => b.trendingScore - a.trendingScore);\n    \n    setTopics(sortedTopics);\n    setPendingTopics([]);\n    setNewTrendsCount(0);\n    setHasNewTrends(false);\n    setLastRefresh(new Date());\n    \n    if (showLoading) {\n      setIsRefreshing(false);\n    }\n    \n    console.log(' Trending refreshed successfully');\n  }, [topics, pendingTopics]);\n\n  const loadNewTrends = useCallback(async () => {\n    console.log(` Loading ${pendingTopics.length} new trends...`);\n    \n    const allTopics = [...pendingTopics, ...topics];\n    const sortedTopics = allTopics.sort((a, b) => b.trendingScore - a.trendingScore);\n    \n    setTopics(sortedTopics);\n    setPendingTopics([]);\n    setNewTrendsCount(0);\n    setHasNewTrends(false);\n    setLastRefresh(new Date());\n  }, [pendingTopics, topics]);\n\n  const updateFilters = useCallback((newFilters: Partial<TrendingFilters>) => {\n    setFilters((prev) => ({ ...prev, ...newFilters }));\n  }, []);\n\n  const getBreakingTopics = useCallback(() => {\n    return topics\n      .filter((topic) => topic.status === 'breaking')\n      .sort((a, b) => b.velocity - a.velocity)\n      .slice(0, 5);\n  }, [topics]);\n\n  const getPeakingTopics = useCallback(() => {\n    return topics\n      .filter((topic) => topic.status === 'peaking')\n      .sort((a, b) => b.trendingScore - a.trendingScore)\n      .slice(0, 10);\n  }, [topics]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      checkForNewTrends();\n    }, 60000);\n    \n    return () => clearInterval(interval);\n  }, [checkForNewTrends]);\n\n  return useMemo(\n    () => ({\n      topics: filteredTopics,\n      trendingTopics: filteredTopics,\n      trendingPosts,\n      filters,\n      weights,\n      lastRefresh,\n      isRefreshing,\n      newTrendsCount,\n      hasNewTrends,\n      updateFilters,\n      refreshTrending,\n      loadNewTrends,\n      getTopicsByCategory,\n      getPostsByCategory,\n      getBreakingTopics,\n      getPeakingTopics,\n    }),\n    [\n      filteredTopics,\n      trendingPosts,\n      filters,\n      weights,\n      lastRefresh,\n      isRefreshing,\n      newTrendsCount,\n      hasNewTrends,\n      updateFilters,\n      refreshTrending,\n      loadNewTrends,\n      getTopicsByCategory,\n      getPostsByCategory,\n      getBreakingTopics,\n      getPeakingTopics,\n    ]\n  );\n});\n","import React, { useEffect, useRef } from 'react';\nimport { View, StyleSheet, Animated } from 'react-native';\nimport { Flame } from 'lucide-react-native';\n\ninterface HeatMeterProps {\n  velocity: number;\n  status: 'breaking' | 'peaking' | 'stable' | 'fading';\n}\n\nexport const HeatMeter: React.FC<HeatMeterProps> = ({ velocity, status }) => {\n  const flameAnim = useRef(new Animated.Value(0)).current;\n  const scaleAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    if (status === 'breaking' || status === 'peaking') {\n      Animated.loop(\n        Animated.sequence([\n          Animated.timing(flameAnim, {\n            toValue: 1,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n          Animated.timing(flameAnim, {\n            toValue: 0,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n        ])\n      ).start();\n\n      Animated.loop(\n        Animated.sequence([\n          Animated.timing(scaleAnim, {\n            toValue: 1.2,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n          Animated.timing(scaleAnim, {\n            toValue: 1,\n            duration: 600,\n            useNativeDriver: true,\n          }),\n        ])\n      ).start();\n    }\n  }, [status, flameAnim, scaleAnim]);\n\n  const getHeatLevel = () => {\n    if (velocity > 15) return 3;\n    if (velocity > 10) return 2;\n    if (velocity > 5) return 1;\n    return 0;\n  };\n\n  const getFlameColor = () => {\n    switch (status) {\n      case 'breaking':\n        return '#FF4444';\n      case 'peaking':\n        return '#FFA500';\n      case 'stable':\n        return '#4ECDC4';\n      case 'fading':\n        return '#888888';\n    }\n  };\n\n  const heatLevel = getHeatLevel();\n  const flameColor = getFlameColor();\n\n  const opacity = flameAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: [0.6, 1],\n  });\n\n  return (\n    <View style={styles.container}>\n      {[...Array(3)].map((_, index) => (\n        <View\n          key={index}\n          style={[\n            styles.bar,\n            {\n              backgroundColor:\n                index < heatLevel ? flameColor : 'rgba(136, 136, 136, 0.2)',\n            },\n          ]}\n        />\n      ))}\n      {(status === 'breaking' || status === 'peaking') && (\n        <Animated.View\n          style={[\n            styles.flameContainer,\n            {\n              opacity,\n              transform: [{ scale: scaleAnim }],\n            },\n          ]}\n        >\n          <Flame size={12} color={flameColor} fill={flameColor} />\n        </Animated.View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    gap: 2,\n    height: 16,\n    position: 'relative',\n  },\n  bar: {\n    width: 3,\n    borderRadius: 2,\n  },\n  flameContainer: {\n    position: 'absolute',\n    right: -16,\n    top: -2,\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Animated } from 'react-native';\nimport { TrendingTopic } from '@/types';\nimport { TrendingUp, Music, Video, Calendar, MapPin, Globe } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { HeatMeter } from './HeatMeter';\n\ninterface TrendCardProps {\n  topic: TrendingTopic;\n  onPress: (topic: TrendingTopic) => void;\n}\n\nconst getCategoryIcon = (category: TrendingTopic['category']) => {\n  switch (category) {\n    case 'music':\n      return Music;\n    case 'content':\n      return Video;\n    case 'events':\n      return Calendar;\n    case 'local':\n      return MapPin;\n    case 'global':\n      return Globe;\n    default:\n      return TrendingUp;\n  }\n};\n\nconst getCategoryColor = (category: TrendingTopic['category']) => {\n  switch (category) {\n    case 'music':\n      return '#FF6B9D';\n    case 'content':\n      return '#C77DFF';\n    case 'events':\n      return '#FFA500';\n    case 'local':\n      return '#4ECDC4';\n    case 'global':\n      return '#3B82F6';\n    default:\n      return Colors.primary;\n  }\n};\n\nconst getStatusBadge = (status: TrendingTopic['status']) => {\n  switch (status) {\n    case 'breaking':\n      return { text: ' Breaking', color: '#FF4444' };\n    case 'peaking':\n      return { text: ' Peaking', color: '#FFA500' };\n    case 'fading':\n      return { text: ' Fading', color: '#888' };\n    case 'stable':\n      return { text: ' Stable', color: '#4ECDC4' };\n  }\n};\n\nconst formatNumber = (num: number): string => {\n  if (num >= 1000000) {\n    return `${(num / 1000000).toFixed(1)}M`;\n  }\n  if (num >= 1000) {\n    return `${(num / 1000).toFixed(1)}K`;\n  }\n  return num.toString();\n};\n\nexport const TrendCard: React.FC<TrendCardProps> = ({ topic, onPress }) => {\n  const CategoryIcon = getCategoryIcon(topic.category);\n  const categoryColor = getCategoryColor(topic.category);\n  const statusBadge = getStatusBadge(topic.status);\n  \n  const slideAnim = useRef(new Animated.Value(50)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const borderAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.spring(slideAnim, {\n        toValue: 0,\n        tension: 50,\n        friction: 8,\n        useNativeDriver: true,\n      }),\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 400,\n        useNativeDriver: true,\n      }),\n    ]).start();\n\n    if (topic.status === 'breaking') {\n      Animated.loop(\n        Animated.sequence([\n          Animated.timing(borderAnim, {\n            toValue: 1,\n            duration: 1000,\n            useNativeDriver: false,\n          }),\n          Animated.timing(borderAnim, {\n            toValue: 0,\n            duration: 1000,\n            useNativeDriver: false,\n          }),\n        ])\n      ).start();\n    }\n  }, [slideAnim, fadeAnim, borderAnim, topic.status]);\n\n  const borderColor = borderAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: [Colors.border, '#FF4444'],\n  });\n\n  return (\n    <Animated.View\n      style={[\n        {\n          opacity: fadeAnim,\n          transform: [{ translateY: slideAnim }],\n        },\n      ]}\n    >\n      <TouchableOpacity\n        style={[\n          styles.container,\n          topic.status === 'breaking' && {\n            borderColor: borderColor as any,\n            borderWidth: 2,\n          },\n        ]}\n        onPress={() => onPress(topic)}\n        activeOpacity={0.7}\n      >\n        <View style={styles.header}>\n          <View style={[styles.iconContainer, { backgroundColor: categoryColor + '20' }]}>\n            <CategoryIcon size={20} color={categoryColor} />\n          </View>\n          <View style={styles.headerRight}>\n            <View style={[styles.statusBadge, { backgroundColor: statusBadge.color + '20' }]}>\n              <Text style={[styles.statusText, { color: statusBadge.color }]}>\n                {statusBadge.text}\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.content}>\n          <Text style={styles.title} numberOfLines={2}>\n            {topic.title}\n          </Text>\n          {topic.hashtag && (\n            <Text style={[styles.hashtag, { color: categoryColor }]}>\n              {topic.hashtag}\n            </Text>\n          )}\n          {topic.description && (\n            <Text style={styles.description} numberOfLines={2}>\n              {topic.description}\n            </Text>\n          )}\n        </View>\n\n        <View style={styles.footer}>\n          <View style={styles.stats}>\n            <Text style={styles.statText}>\n              {formatNumber(topic.posts)} posts\n            </Text>\n            <Text style={styles.separator}></Text>\n            <Text style={styles.statText}>\n              +{topic.velocity.toFixed(1)}% velocity\n            </Text>\n          </View>\n          <View style={styles.rightFooter}>\n            <HeatMeter velocity={topic.velocity} status={topic.status} />\n            {topic.location && (\n              <View style={styles.location}>\n                <MapPin size={12} color={Colors.textSecondary} />\n                <Text style={styles.locationText}>{topic.location}</Text>\n              </View>\n            )}\n          </View>\n        </View>\n\n        <View style={styles.scoreBar}>\n          <View\n            style={[\n              styles.scoreBarFill,\n              {\n                width: `${topic.trendingScore}%`,\n                backgroundColor: categoryColor,\n              },\n            ]}\n          />\n        </View>\n      </TouchableOpacity>\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.card,\n    borderRadius: 16,\n    padding: 16,\n    marginBottom: 12,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  headerRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statusBadge: {\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  statusText: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  content: {\n    marginBottom: 12,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginBottom: 6,\n  },\n  hashtag: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    marginBottom: 6,\n  },\n  description: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    lineHeight: 20,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  rightFooter: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  stats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statText: {\n    fontSize: 13,\n    color: Colors.textSecondary,\n    fontWeight: '500' as const,\n  },\n  separator: {\n    marginHorizontal: 8,\n    color: Colors.textSecondary,\n  },\n  location: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  locationText: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n  },\n  scoreBar: {\n    height: 3,\n    backgroundColor: Colors.border,\n    borderRadius: 2,\n    overflow: 'hidden',\n  },\n  scoreBarFill: {\n    height: '100%',\n    borderRadius: 2,\n  },\n});\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';\nimport { TrendingFilters } from '@/types';\nimport { Sparkles, Globe, MapPin, Music, Video, Calendar } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface CategoryTabsProps {\n  activeCategory: TrendingFilters['category'];\n  onCategoryChange: (category: TrendingFilters['category']) => void;\n}\n\ntype CategoryConfig = {\n  id: TrendingFilters['category'];\n  label: string;\n  icon: React.ComponentType<{ size: number; color: string }>;\n};\n\nconst categories: CategoryConfig[] = [\n  { id: 'for_you', label: 'For You', icon: Sparkles },\n  { id: 'global', label: 'Global', icon: Globe },\n  { id: 'local', label: 'Local', icon: MapPin },\n  { id: 'music', label: 'Music', icon: Music },\n  { id: 'content', label: 'Content', icon: Video },\n  { id: 'events', label: 'Events', icon: Calendar },\n];\n\nexport const CategoryTabs: React.FC<CategoryTabsProps> = ({\n  activeCategory,\n  onCategoryChange,\n}) => {\n  return (\n    <View style={styles.container}>\n      <ScrollView\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.scrollContent}\n      >\n        {categories.map((category) => {\n          const isActive = activeCategory === category.id;\n          const Icon = category.icon;\n\n          return (\n            <TouchableOpacity\n              key={category.id}\n              style={[styles.tab, isActive && styles.tabActive]}\n              onPress={() => onCategoryChange(category.id)}\n              activeOpacity={0.7}\n            >\n              <Icon\n                size={18}\n                color={isActive ? Colors.primary : Colors.textSecondary}\n              />\n              <Text\n                style={[\n                  styles.tabText,\n                  isActive && styles.tabTextActive,\n                ]}\n              >\n                {category.label}\n              </Text>\n            </TouchableOpacity>\n          );\n        })}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.background,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  scrollContent: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    gap: 8,\n  },\n  tab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: Colors.card,\n    borderWidth: 1,\n    borderColor: Colors.border,\n    gap: 6,\n  },\n  tabActive: {\n    backgroundColor: Colors.primary + '15',\n    borderColor: Colors.primary,\n  },\n  tabText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.textSecondary,\n  },\n  tabTextActive: {\n    color: Colors.primary,\n  },\n});\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';\nimport { TrendingTopic } from '@/types';\nimport { Flame } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface BreakingBannerProps {\n  topics: TrendingTopic[];\n  onTopicPress: (topic: TrendingTopic) => void;\n}\n\nexport const BreakingBanner: React.FC<BreakingBannerProps> = ({\n  topics,\n  onTopicPress,\n}) => {\n  if (topics.length === 0) return null;\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <Flame size={16} color=\"#FF4444\" />\n        <Text style={styles.headerText}>Breaking Now</Text>\n      </View>\n      <ScrollView\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.scrollContent}\n      >\n        {topics.map((topic) => (\n          <TouchableOpacity\n            key={topic.id}\n            style={styles.card}\n            onPress={() => onTopicPress(topic)}\n            activeOpacity={0.7}\n          >\n            <Text style={styles.title} numberOfLines={2}>\n              {topic.title}\n            </Text>\n            {topic.hashtag && (\n              <Text style={styles.hashtag} numberOfLines={1}>\n                {topic.hashtag}\n              </Text>\n            )}\n            <View style={styles.stats}>\n              <Text style={styles.statText}>\n                {(topic.posts / 1000).toFixed(1)}K posts\n              </Text>\n              <Text style={styles.velocity}>\n                +{topic.velocity.toFixed(0)}%\n              </Text>\n            </View>\n          </TouchableOpacity>\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.background,\n    paddingVertical: 12,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    marginBottom: 12,\n    gap: 6,\n  },\n  headerText: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n    color: '#FF4444',\n  },\n  scrollContent: {\n    paddingHorizontal: 16,\n    gap: 12,\n  },\n  card: {\n    width: 200,\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    padding: 12,\n    borderWidth: 2,\n    borderColor: '#FF4444',\n  },\n  title: {\n    fontSize: 15,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginBottom: 6,\n  },\n  hashtag: {\n    fontSize: 13,\n    fontWeight: '600' as const,\n    color: Colors.primary,\n    marginBottom: 8,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  statText: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n  },\n  velocity: {\n    fontSize: 12,\n    fontWeight: '700' as const,\n    color: '#FF4444',\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Animated,\n  Platform,\n} from 'react-native';\nimport { Zap } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface NewTrendsButtonProps {\n  count: number;\n  onPress: () => void;\n  visible: boolean;\n}\n\nexport const NewTrendsButton: React.FC<NewTrendsButtonProps> = ({\n  count,\n  onPress,\n  visible,\n}) => {\n  const slideAnim = useRef(new Animated.Value(-100)).current;\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n  const glowAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    if (visible) {\n      Animated.parallel([\n        Animated.spring(slideAnim, {\n          toValue: 0,\n          tension: 50,\n          friction: 7,\n          useNativeDriver: true,\n        }),\n        Animated.loop(\n          Animated.sequence([\n            Animated.timing(pulseAnim, {\n              toValue: 1.1,\n              duration: 800,\n              useNativeDriver: true,\n            }),\n            Animated.timing(pulseAnim, {\n              toValue: 1,\n              duration: 800,\n              useNativeDriver: true,\n            }),\n          ])\n        ),\n        Animated.loop(\n          Animated.sequence([\n            Animated.timing(glowAnim, {\n              toValue: 1,\n              duration: 1000,\n              useNativeDriver: false,\n            }),\n            Animated.timing(glowAnim, {\n              toValue: 0,\n              duration: 1000,\n              useNativeDriver: false,\n            }),\n          ])\n        ),\n      ]).start();\n    } else {\n      Animated.spring(slideAnim, {\n        toValue: -100,\n        tension: 50,\n        friction: 7,\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [visible, slideAnim, pulseAnim, glowAnim]);\n\n  if (!visible) return null;\n\n  const glowColor = glowAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['rgba(255, 107, 157, 0.3)', 'rgba(255, 107, 157, 0.8)'],\n  });\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          transform: [{ translateY: slideAnim }, { scale: pulseAnim }],\n        },\n      ]}\n    >\n      <TouchableOpacity\n        style={styles.button}\n        onPress={onPress}\n        activeOpacity={0.8}\n      >\n        <Animated.View\n          style={[\n            styles.glow,\n            {\n              backgroundColor: glowColor,\n            },\n          ]}\n        />\n        <View style={styles.content}>\n          <View style={styles.iconContainer}>\n            <Zap size={18} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n          </View>\n          <Text style={styles.text}>\n            {count} New Trend{count !== 1 ? 's' : ''}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    top: 16,\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    zIndex: 1000,\n    ...Platform.select({\n      ios: {\n        shadowColor: '#FF6B9D',\n        shadowOffset: { width: 0, height: 4 },\n        shadowOpacity: 0.4,\n        shadowRadius: 8,\n      },\n      android: {\n        elevation: 8,\n      },\n    }),\n  },\n  button: {\n    position: 'relative',\n    overflow: 'hidden',\n    borderRadius: 24,\n  },\n  glow: {\n    position: 'absolute',\n    top: -10,\n    left: -10,\n    right: -10,\n    bottom: -10,\n    borderRadius: 34,\n  },\n  content: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: Colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 24,\n    gap: 8,\n  },\n  iconContainer: {\n    width: 24,\n    height: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 15,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  FlatList,\n} from 'react-native';\nimport { MapPin, ChevronDown, Globe } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\n\ninterface LocationToggleProps {\n  currentLocation: string;\n  onLocationChange: (location: string) => void;\n}\n\nconst LOCATIONS = [\n  { id: 'global', name: 'Global', icon: Globe },\n  { id: 'johannesburg', name: 'Johannesburg', icon: MapPin },\n  { id: 'cape-town', name: 'Cape Town', icon: MapPin },\n  { id: 'durban', name: 'Durban', icon: MapPin },\n  { id: 'pretoria', name: 'Pretoria', icon: MapPin },\n  { id: 'port-elizabeth', name: 'Port Elizabeth', icon: MapPin },\n];\n\nexport const LocationToggle: React.FC<LocationToggleProps> = ({\n  currentLocation,\n  onLocationChange,\n}) => {\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const currentLocationData = LOCATIONS.find(\n    (loc) => loc.id === currentLocation\n  ) || LOCATIONS[0];\n\n  const handleLocationSelect = (locationId: string) => {\n    onLocationChange(locationId);\n    setModalVisible(false);\n  };\n\n  return (\n    <>\n      <TouchableOpacity\n        style={styles.toggle}\n        onPress={() => setModalVisible(true)}\n        activeOpacity={0.7}\n      >\n        <View style={styles.toggleContent}>\n          <currentLocationData.icon size={16} color={Colors.primary} />\n          <Text style={styles.toggleText}>{currentLocationData.name}</Text>\n          <ChevronDown size={16} color={Colors.textSecondary} />\n        </View>\n      </TouchableOpacity>\n\n      <Modal\n        visible={modalVisible}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <TouchableOpacity\n          style={styles.modalOverlay}\n          activeOpacity={1}\n          onPress={() => setModalVisible(false)}\n        >\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Select Location</Text>\n            </View>\n            <FlatList\n              data={LOCATIONS}\n              keyExtractor={(item) => item.id}\n              renderItem={({ item }) => {\n                const Icon = item.icon;\n                const isSelected = item.id === currentLocation;\n                return (\n                  <TouchableOpacity\n                    style={[\n                      styles.locationItem,\n                      isSelected && styles.locationItemSelected,\n                    ]}\n                    onPress={() => handleLocationSelect(item.id)}\n                  >\n                    <Icon\n                      size={20}\n                      color={isSelected ? Colors.primary : Colors.text}\n                    />\n                    <Text\n                      style={[\n                        styles.locationText,\n                        isSelected && styles.locationTextSelected,\n                      ]}\n                    >\n                      {item.name}\n                    </Text>\n                    {isSelected && (\n                      <View style={styles.selectedIndicator} />\n                    )}\n                  </TouchableOpacity>\n                );\n              }}\n            />\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  toggle: {\n    backgroundColor: Colors.card,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  toggleContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  toggleText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: Colors.text,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: Colors.card,\n    borderRadius: 16,\n    width: '100%',\n    maxWidth: 400,\n    maxHeight: '70%',\n    overflow: 'hidden',\n  },\n  modalHeader: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  locationItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    gap: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  locationItemSelected: {\n    backgroundColor: Colors.primary + '10',\n  },\n  locationText: {\n    flex: 1,\n    fontSize: 16,\n    color: Colors.text,\n    fontWeight: '500' as const,\n  },\n  locationTextSelected: {\n    color: Colors.primary,\n    fontWeight: '600' as const,\n  },\n  selectedIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: Colors.primary,\n  },\n});\n","import React, { useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  RefreshControl,\n  TouchableOpacity,\n  Animated,\n} from 'react-native';\nimport { Stack, useRouter } from 'expo-router';\nimport { useTrending } from '@/hooks/trending-store';\nimport { TrendCard } from '@/components/trending/TrendCard';\nimport { CategoryTabs } from '@/components/trending/CategoryTabs';\nimport { BreakingBanner } from '@/components/trending/BreakingBanner';\nimport { NewTrendsButton } from '@/components/trending/NewTrendsButton';\nimport { LocationToggle } from '@/components/trending/LocationToggle';\nimport { TrendingTopic, TrendingFilters } from '@/types';\nimport { Colors } from '@/constants/colors';\nimport { Clock, TrendingUp } from 'lucide-react-native';\n\nexport default function TrendingScreen() {\n  const router = useRouter();\n  const {\n    topics,\n    filters,\n    updateFilters,\n    refreshTrending,\n    loadNewTrends,\n    isRefreshing,\n    newTrendsCount,\n    hasNewTrends,\n    getBreakingTopics,\n    lastRefresh,\n  } = useTrending();\n\n  const breakingTopics = getBreakingTopics();\n  const listRef = useRef<FlatList>(null);\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    if (hasNewTrends) {\n      Animated.sequence([\n        Animated.timing(pulseAnim, {\n          toValue: 1.05,\n          duration: 200,\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseAnim, {\n          toValue: 1,\n          duration: 200,\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }, [hasNewTrends, pulseAnim]);\n\n  const handleLoadNewTrends = async () => {\n    await loadNewTrends();\n    listRef.current?.scrollToOffset({ offset: 0, animated: true });\n  };\n\n  const handleLocationChange = (location: string) => {\n    console.log('Location changed:', location);\n    updateFilters({ location });\n  };\n\n  const handleCategoryChange = (category: TrendingFilters['category']) => {\n    console.log('Category changed:', category);\n    updateFilters({ category });\n  };\n\n  const handleTopicPress = (topic: TrendingTopic) => {\n    console.log('Topic pressed:', topic.title);\n    router.push(`/hashtag/${encodeURIComponent(topic.hashtag || topic.title)}`);\n  };\n\n  const formatLastRefresh = () => {\n    const now = new Date();\n    const diff = Math.floor((now.getTime() - lastRefresh.getTime()) / 1000);\n    \n    if (diff < 60) return 'Just now';\n    if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;\n    return `${Math.floor(diff / 3600)}h ago`;\n  };\n\n  const renderHeader = () => (\n    <View>\n      <View style={styles.headerInfo}>\n        <View style={styles.headerLeft}>\n          <TrendingUp size={20} color={Colors.primary} />\n          <Text style={styles.headerTitle}>Trending Topics</Text>\n        </View>\n        <LocationToggle\n          currentLocation={filters.location || 'global'}\n          onLocationChange={handleLocationChange}\n        />\n      </View>\n      \n      <View style={styles.subHeader}>\n        <View style={styles.lastRefresh}>\n          <Clock size={14} color={Colors.textSecondary} />\n          <Text style={styles.lastRefreshText}>{formatLastRefresh()}</Text>\n        </View>\n      </View>\n\n      {breakingTopics.length > 0 && (\n        <BreakingBanner topics={breakingTopics} onTopicPress={handleTopicPress} />\n      )}\n\n      <View style={styles.statsContainer}>\n        <View style={styles.statCard}>\n          <Text style={styles.statValue}>{topics.length}</Text>\n          <Text style={styles.statLabel}>Active Topics</Text>\n        </View>\n        <View style={styles.statCard}>\n          <Text style={styles.statValue}>{breakingTopics.length}</Text>\n          <Text style={styles.statLabel}>Breaking</Text>\n        </View>\n        <View style={styles.statCard}>\n          <Text style={styles.statValue}>\n            {topics.filter((t) => t.status === 'peaking').length}\n          </Text>\n          <Text style={styles.statLabel}>Peaking</Text>\n        </View>\n      </View>\n\n      <Text style={styles.sectionTitle}>\n        {filters.category === 'for_you'\n          ? 'Personalized For You'\n          : `${filters.category?.charAt(0).toUpperCase()}${filters.category?.slice(1)} Trends`}\n      </Text>\n    </View>\n  );\n\n  const renderEmptyState = () => (\n    <View style={styles.emptyState}>\n      <TrendingUp size={64} color={Colors.textSecondary} />\n      <Text style={styles.emptyTitle}>No Trending Topics</Text>\n      <Text style={styles.emptyDescription}>\n        Check back later for trending content in this category\n      </Text>\n      <TouchableOpacity\n        style={styles.refreshButton}\n        onPress={() => refreshTrending(true)}\n      >\n        <Text style={styles.refreshButtonText}>Refresh</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen\n        options={{\n          title: 'Trending',\n          headerStyle: {\n            backgroundColor: Colors.background,\n          },\n          headerTintColor: Colors.text,\n          headerShadowVisible: false,\n        }}\n      />\n\n      <CategoryTabs\n        activeCategory={filters.category || 'for_you'}\n        onCategoryChange={handleCategoryChange}\n      />\n\n      <View style={styles.listContainer}>\n        <NewTrendsButton\n          count={newTrendsCount}\n          onPress={handleLoadNewTrends}\n          visible={hasNewTrends}\n        />\n\n        <FlatList\n          ref={listRef}\n          data={topics}\n          keyExtractor={(item) => item.id}\n          renderItem={({ item }) => (\n            <TrendCard topic={item} onPress={handleTopicPress} />\n          )}\n          ListHeaderComponent={renderHeader}\n          ListEmptyComponent={renderEmptyState}\n          contentContainerStyle={styles.listContent}\n          showsVerticalScrollIndicator={false}\n          refreshControl={\n            <RefreshControl\n              refreshing={isRefreshing}\n              onRefresh={() => refreshTrending(true)}\n              tintColor={Colors.primary}\n              colors={[Colors.primary]}\n            />\n          }\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  listContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  listContent: {\n    padding: 16,\n    paddingTop: 0,\n  },\n  headerInfo: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 16,\n    paddingBottom: 8,\n  },\n  subHeader: {\n    paddingBottom: 16,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n  },\n  lastRefresh: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  lastRefreshText: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 20,\n  },\n  statCard: {\n    flex: 1,\n    backgroundColor: Colors.card,\n    borderRadius: 12,\n    padding: 16,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: Colors.border,\n  },\n  statValue: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    color: Colors.primary,\n    marginBottom: 4,\n  },\n  statLabel: {\n    fontSize: 12,\n    color: Colors.textSecondary,\n    fontWeight: '500' as const,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginBottom: 16,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 60,\n  },\n  emptyTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    color: Colors.text,\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  emptyDescription: {\n    fontSize: 14,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n    marginBottom: 24,\n  },\n  refreshButton: {\n    backgroundColor: Colors.primary,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 24,\n  },\n  refreshButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, ScrollView, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { ArrowLeft, FileText, Globe } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { detectRegion, getRegionName, type RegionInfo } from '@/utils/region-detection';\nimport { getLegalContent } from '@/constants/legal-content';\n\nexport default function TermsOfServiceScreen() {\n  const { colors } = useTheme();\n  const insets = useSafeAreaInsets();\n  const [regionInfo, setRegionInfo] = useState<RegionInfo | null>(null);\n  const [content, setContent] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadContent = async () => {\n      try {\n        setLoading(true);\n        const detected = detectRegion();\n        setRegionInfo(detected);\n        \n        const legalContent = getLegalContent(detected.region);\n        setContent(legalContent.termsOfService);\n      } catch (error) {\n        console.error('[TermsOfService] Error loading content:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadContent();\n  }, []);\n\n  const renderMarkdown = (text: string) => {\n    const lines = text.split('\\n');\n    const elements: JSX.Element[] = [];\n    \n    lines.forEach((line, index) => {\n      if (line.startsWith('# ')) {\n        elements.push(\n          <Text key={index} style={[styles.h1, { color: colors.text }]}>\n            {line.replace('# ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('## ')) {\n        elements.push(\n          <Text key={index} style={[styles.h2, { color: colors.text }]}>\n            {line.replace('## ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('### ')) {\n        elements.push(\n          <Text key={index} style={[styles.h3, { color: colors.text }]}>\n            {line.replace('### ', '')}\n          </Text>\n        );\n      } else if (line.startsWith('- ')) {\n        elements.push(\n          <View key={index} style={styles.bulletContainer}>\n            <Text style={[styles.bullet, { color: colors.textSecondary }]}></Text>\n            <Text style={[styles.bulletText, { color: colors.textSecondary }]}>\n              {line.replace('- ', '')}\n            </Text>\n          </View>\n        );\n      } else if (line.startsWith('**') && line.endsWith('**')) {\n        elements.push(\n          <Text key={index} style={[styles.bold, { color: colors.text }]}>\n            {line.replace(/\\*\\*/g, '')}\n          </Text>\n        );\n      } else if (line.trim() === '---') {\n        elements.push(\n          <View key={index} style={[styles.divider, { backgroundColor: colors.border }]} />\n        );\n      } else if (line.trim() !== '') {\n        elements.push(\n          <Text key={index} style={[styles.paragraph, { color: colors.textSecondary }]}>\n            {line}\n          </Text>\n        );\n      } else {\n        elements.push(<View key={index} style={styles.spacing} />);\n      }\n    });\n    \n    return elements;\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: colors.background },\n          headerTintColor: colors.text,\n          headerTitle: 'Terms of Service',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={colors.primary} />\n          <Text style={[styles.loadingText, { color: colors.textSecondary }]}>\n            Loading terms of service...\n          </Text>\n        </View>\n      ) : (\n        <>\n          {regionInfo && (\n            <View style={[styles.regionBanner, { backgroundColor: colors.glass }]}>\n              <Globe size={16} color={colors.primary} />\n              <Text style={[styles.regionText, { color: colors.textSecondary }]}>\n                Showing {getRegionName(regionInfo.region)} version\n              </Text>\n            </View>\n          )}\n\n          <ScrollView\n            style={styles.scrollView}\n            contentContainerStyle={[\n              styles.content,\n              { paddingBottom: insets.bottom + 40 }\n            ]}\n            showsVerticalScrollIndicator={false}\n          >\n            <View style={[styles.header, { backgroundColor: colors.glass }]}>\n              <FileText size={32} color={colors.primary} />\n              <Text style={[styles.headerTitle, { color: colors.text }]}>\n                Terms of Service\n              </Text>\n              <Text style={[styles.headerSubtitle, { color: colors.textSecondary }]}>\n                Please read these terms carefully before using VibeSync\n              </Text>\n            </View>\n\n            <View style={[styles.contentCard, { backgroundColor: colors.card }]}>\n              {renderMarkdown(content)}\n            </View>\n          </ScrollView>\n        </>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 16,\n  },\n  loadingText: {\n    fontSize: 14,\n  },\n  regionBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    gap: 8,\n  },\n  regionText: {\n    fontSize: 12,\n    fontWeight: '500' as const,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  content: {\n    padding: 16,\n  },\n  header: {\n    alignItems: 'center',\n    padding: 24,\n    borderRadius: 16,\n    marginBottom: 16,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginTop: 12,\n    textAlign: 'center',\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    marginTop: 8,\n    textAlign: 'center',\n  },\n  contentCard: {\n    borderRadius: 16,\n    padding: 20,\n  },\n  h1: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    marginTop: 24,\n    marginBottom: 12,\n  },\n  h2: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  h3: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginTop: 16,\n    marginBottom: 8,\n  },\n  paragraph: {\n    fontSize: 14,\n    lineHeight: 22,\n    marginBottom: 8,\n  },\n  bulletContainer: {\n    flexDirection: 'row',\n    marginBottom: 6,\n    paddingLeft: 8,\n  },\n  bullet: {\n    fontSize: 14,\n    marginRight: 8,\n    marginTop: 2,\n  },\n  bulletText: {\n    flex: 1,\n    fontSize: 14,\n    lineHeight: 22,\n  },\n  bold: {\n    fontSize: 14,\n    fontWeight: '700' as const,\n    marginBottom: 8,\n  },\n  divider: {\n    height: 1,\n    marginVertical: 16,\n  },\n  spacing: {\n    height: 8,\n  },\n});\n","import React, { useState, useRef } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  FlatList,\n  TouchableOpacity,\n  Animated,\n  PanResponder,\n  StatusBar,\n  Modal,\n  Pressable,\n} from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useDM } from '@/hooks/dm-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { ChevronDown, Camera, Send, ArrowLeft, Menu, Settings } from 'lucide-react-native';\nimport { Conversation } from '@/types/messaging';\nimport { mockUsers } from '@/mocks/users';\n\nexport default function DMInboxScreen() {\n  const { colors, isDark } = useTheme();\n  const {\n    getActiveConversations,\n    getTotalUnreadCount,\n    selectConversation,\n    toggleMute,\n    deleteConversation,\n    markAsRead,\n  } = useDM();\n\n  const [showAccountSwitcher, setShowAccountSwitcher] = useState(false);\n  const conversations = getActiveConversations();\n  const totalUnread = getTotalUnreadCount();\n\n  const formatTime = (date: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n\n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return `${days}d ago`;\n  };\n\n  const handleConversationPress = (conversation: Conversation) => {\n    selectConversation(conversation.id);\n    router.push(`/chat/${conversation.id}`);\n  };\n\n  const getOtherUser = (conversation: Conversation) => {\n    const otherUserId = conversation.participants.find(id => id !== 'current-user');\n    return mockUsers.find(u => u.id === otherUserId) || mockUsers[0];\n  };\n\n  const isUserActive = (userId: string) => {\n    return ['user-2', 'user-3', 'user-8'].includes(userId);\n  };\n\n  const getConversationName = (conversation: Conversation) => {\n    if (conversation.type === 'group') {\n      return conversation.name || 'Group Chat';\n    }\n    const user = getOtherUser(conversation);\n    return user.displayName;\n  };\n\n  const getConversationImage = (conversation: Conversation) => {\n    if (conversation.type === 'group') {\n      return conversation.image;\n    }\n    const user = getOtherUser(conversation);\n    return user.profileImage;\n  };\n\n  const getLastMessageText = (conversation: Conversation) => {\n    if (!conversation.lastMessage) return 'Tap to chat';\n\n    const msg = conversation.lastMessage;\n    const isMe = msg.senderId === 'current-user';\n\n    if (msg.deletedForEveryone) return 'This message was deleted';\n\n    switch (msg.type) {\n      case 'image':\n        return isMe ? 'Sent a photo' : 'Sent a photo';\n      case 'video':\n        return isMe ? 'Sent a video' : 'Sent a video';\n      case 'voice':\n        return isMe ? 'Sent a voice message' : 'Sent a voice message';\n      default:\n        return msg.content;\n    }\n  };\n\n  const renderConversation = ({ item }: { item: Conversation }) => {\n    const otherUser = getOtherUser(item);\n    const isActive = isUserActive(otherUser.id);\n\n    return (\n      <SwipeableRow\n        conversationId={item.id}\n        onMute={() => toggleMute(item.id)}\n        onDelete={() => deleteConversation(item.id)}\n        onMarkUnread={() => markAsRead(item.id)}\n      >\n        <TouchableOpacity\n          style={styles.conversationItem}\n          onPress={() => handleConversationPress(item)}\n          activeOpacity={0.7}\n        >\n          <View style={styles.avatarContainer}>\n            <Avatar uri={getConversationImage(item)} size={56} />\n            {isActive && <View style={styles.activeDot} />}\n          </View>\n\n          <View style={styles.conversationContent}>\n            <View style={styles.conversationHeader}>\n              <Text style={[styles.userName, { color: colors.text }]} numberOfLines={1}>\n                {getConversationName(item)}\n              </Text>\n              {item.lastMessage && (\n                <Text style={[styles.timestamp, { color: colors.textSecondary }]}>\n                  {formatTime(new Date(item.lastMessage.createdAt))}\n                </Text>\n              )}\n            </View>\n\n            <View style={styles.messagePreview}>\n              <Text\n                style={[\n                  styles.lastMessage,\n                  { color: colors.textSecondary },\n                  item.unreadCount > 0 && { fontWeight: '600', color: colors.text },\n                ]}\n                numberOfLines={1}\n              >\n                {isActive && item.unreadCount === 0 ? 'Active now' : getLastMessageText(item)}\n              </Text>\n              {isActive && item.unreadCount === 0 && <View style={styles.activeIndicator} />}\n            </View>\n          </View>\n\n          <TouchableOpacity\n            style={styles.cameraButton}\n            onPress={(e) => {\n              e.stopPropagation();\n              router.push('/status/create');\n            }}\n          >\n            <Camera size={24} color={colors.textSecondary} strokeWidth={1.5} />\n          </TouchableOpacity>\n        </TouchableOpacity>\n      </SwipeableRow>\n    );\n  };\n\n  const insets = useSafeAreaInsets();\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <StatusBar barStyle={isDark ? \"light-content\" : \"dark-content\"} backgroundColor={colors.background} />\n      <Stack.Screen options={{ headerShown: false }} />\n\n      <View style={[styles.safeArea, { paddingTop: insets.top }]}>\n        <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n          <TouchableOpacity\n            style={styles.usernameContainer}\n            onPress={() => setShowAccountSwitcher(true)}\n            activeOpacity={0.7}\n          >\n            <Text style={[styles.username, { color: colors.text }]}>itumeleng_jay</Text>\n            <ChevronDown size={18} color={colors.text} strokeWidth={2} />\n          </TouchableOpacity>\n\n          <View style={styles.headerActions}>\n            <TouchableOpacity\n              style={styles.headerIconButton}\n              onPress={() => router.push('/messages-settings')}\n              activeOpacity={0.7}\n            >\n              <Settings size={24} color={colors.text} strokeWidth={2} />\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={styles.messageIconButton}\n              onPress={() => router.push('/inbox')}\n              activeOpacity={0.7}\n            >\n              <Send size={24} color={colors.text} strokeWidth={2} />\n              {totalUnread > 0 && <View style={styles.unreadBadge} />}\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        <FlatList\n          data={conversations}\n          keyExtractor={(item) => item.id}\n          renderItem={renderConversation}\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={styles.listContainer}\n        />\n\n        <View style={[styles.bottomNav, { paddingBottom: insets.bottom + 8, backgroundColor: colors.background, borderTopColor: colors.border }]}>\n          <TouchableOpacity\n            style={styles.bottomNavButton}\n            onPress={() => router.back()}\n            activeOpacity={0.7}\n          >\n            <ArrowLeft size={26} color={colors.text} strokeWidth={2} />\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.bottomNavButton}\n            onPress={() => router.push('/settings')}\n            activeOpacity={0.7}\n          >\n            <Menu size={26} color={colors.text} strokeWidth={2} />\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      <Modal\n        visible={showAccountSwitcher}\n        animationType=\"fade\"\n        transparent\n        onRequestClose={() => setShowAccountSwitcher(false)}\n      >\n        <Pressable style={styles.modalOverlay} onPress={() => setShowAccountSwitcher(false)}>\n          <Pressable style={[styles.accountSwitcherModal, { backgroundColor: colors.card }]} onPress={(e) => e.stopPropagation()}>\n            <View style={[styles.accountSwitcherHeader, { borderBottomColor: colors.border }]}>\n              <Text style={[styles.accountSwitcherTitle, { color: colors.text }]}>Switch Account</Text>\n            </View>\n            <TouchableOpacity\n              style={[styles.accountOption, { borderBottomColor: colors.border }]}\n              onPress={() => setShowAccountSwitcher(false)}\n            >\n              <Avatar uri={mockUsers[0].profileImage} size={40} />\n              <View style={styles.accountInfo}>\n                <Text style={[styles.accountName, { color: colors.text }]}>itumeleng_jay</Text>\n                <Text style={[styles.accountStatus, { color: colors.textSecondary }]}>Current account</Text>\n              </View>\n              <View style={[styles.checkmark, { borderColor: colors.text }]} />\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.accountOption, { borderBottomColor: colors.border }]}\n              onPress={() => setShowAccountSwitcher(false)}\n            >\n              <Avatar uri={mockUsers[1].profileImage} size={40} />\n              <View style={styles.accountInfo}>\n                <Text style={[styles.accountName, { color: colors.text }]}>vibesync_official</Text>\n                <Text style={[styles.accountStatus, { color: colors.textSecondary }]}>Switch to this account</Text>\n              </View>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={styles.addAccountButton}\n              onPress={() => setShowAccountSwitcher(false)}\n            >\n              <Text style={[styles.addAccountText, { color: colors.primary }]}>Add Account</Text>\n            </TouchableOpacity>\n          </Pressable>\n        </Pressable>\n      </Modal>\n    </View>\n  );\n}\n\ninterface SwipeableRowProps {\n  children: React.ReactNode;\n  conversationId: string;\n  onMute: () => void;\n  onDelete: () => void;\n  onMarkUnread: () => void;\n}\n\nfunction SwipeableRow({ children, conversationId, onMute, onDelete, onMarkUnread }: SwipeableRowProps) {\n  const { colors } = useTheme();\n  const translateX = useRef(new Animated.Value(0)).current;\n\n  const panResponder = useRef(\n    PanResponder.create({\n      onMoveShouldSetPanResponder: (_, gestureState) => {\n        return Math.abs(gestureState.dx) > 10;\n      },\n      onPanResponderGrant: () => {\n      },\n      onPanResponderMove: (_, gestureState) => {\n        if (gestureState.dx < 0) {\n          translateX.setValue(Math.max(gestureState.dx, -160));\n        } else if (gestureState.dx > 0) {\n          translateX.setValue(Math.min(gestureState.dx, 80));\n        }\n      },\n      onPanResponderRelease: (_, gestureState) => {\n        if (gestureState.dx < -80) {\n          Animated.spring(translateX, {\n            toValue: -160,\n            useNativeDriver: true,\n          }).start();\n        } else if (gestureState.dx > 40) {\n          Animated.spring(translateX, {\n            toValue: 80,\n            useNativeDriver: true,\n          }).start();\n        } else {\n          Animated.spring(translateX, {\n            toValue: 0,\n            useNativeDriver: true,\n          }).start();\n        }\n      },\n    })\n  ).current;\n\n  const handleMute = () => {\n    onMute();\n    Animated.spring(translateX, {\n      toValue: 0,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  const handleDelete = () => {\n    onDelete();\n    Animated.spring(translateX, {\n      toValue: 0,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  const handleMarkUnread = () => {\n    onMarkUnread();\n    Animated.spring(translateX, {\n      toValue: 0,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  return (\n    <View style={styles.swipeableContainer}>\n      <View style={styles.leftActions}>\n        <TouchableOpacity style={[styles.markUnreadButton, { backgroundColor: colors.primary }]} onPress={handleMarkUnread}>\n          <Text style={[styles.actionText, { color: colors.textInverse }]}>Unread</Text>\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.rightActions}>\n        <TouchableOpacity style={[styles.muteButton, { backgroundColor: colors.textSecondary }]} onPress={handleMute}>\n          <Text style={[styles.actionText, { color: colors.textInverse }]}>Mute</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={[styles.deleteButton, { backgroundColor: colors.error }]} onPress={handleDelete}>\n          <Text style={[styles.actionText, { color: colors.textInverse }]}>Delete</Text>\n        </TouchableOpacity>\n      </View>\n\n      <Animated.View\n        style={[\n          styles.swipeableContent,\n          {\n            transform: [{ translateX }],\n            backgroundColor: colors.background,\n          },\n        ]}\n        {...panResponder.panHandlers}\n      >\n        {children}\n      </Animated.View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  safeArea: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n  },\n  usernameContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  username: {\n    fontSize: 22,\n    fontWeight: '700' as const,\n    letterSpacing: 0.2,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  headerIconButton: {\n    padding: 4,\n  },\n  messageIconButton: {\n    padding: 4,\n    position: 'relative',\n  },\n  unreadBadge: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#FF3B30',\n    position: 'absolute',\n    top: 2,\n    right: 2,\n  },\n  listContainer: {\n    paddingBottom: 20,\n  },\n  swipeableContainer: {\n    position: 'relative',\n  },\n  leftActions: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rightActions: {\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  markUnreadButton: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 80,\n    height: '100%',\n  },\n  muteButton: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 80,\n    height: '100%',\n  },\n  deleteButton: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 80,\n    height: '100%',\n  },\n  actionText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  swipeableContent: {\n  },\n  conversationItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  avatarContainer: {\n    position: 'relative',\n    marginRight: 14,\n  },\n  activeDot: {\n    position: 'absolute',\n    bottom: 2,\n    right: 2,\n    width: 14,\n    height: 14,\n    borderRadius: 7,\n    backgroundColor: '#44b700',\n    borderWidth: 2.5,\n  },\n  conversationContent: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 5,\n  },\n  userName: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    flex: 1,\n  },\n  timestamp: {\n    fontSize: 13,\n    marginLeft: 8,\n    fontWeight: '400' as const,\n  },\n  messagePreview: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  lastMessage: {\n    fontSize: 14,\n    flex: 1,\n    fontWeight: '400' as const,\n  },\n  unreadMessage: {\n    fontWeight: '600' as const,\n  },\n  activeIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#44b700',\n  },\n  cameraButton: {\n    padding: 6,\n    marginLeft: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  accountSwitcherModal: {\n    borderRadius: 16,\n    width: '85%',\n    maxWidth: 400,\n    overflow: 'hidden',\n  },\n  accountSwitcherHeader: {\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  accountSwitcherTitle: {\n    fontSize: 18,\n    fontWeight: 'bold' as const,\n    textAlign: 'center',\n  },\n  accountOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 14,\n    paddingHorizontal: 20,\n    borderBottomWidth: 1,\n  },\n  accountInfo: {\n    flex: 1,\n    marginLeft: 12,\n  },\n  accountName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  accountStatus: {\n    fontSize: 13,\n  },\n  checkmark: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    backgroundColor: '#0A84FF',\n    borderWidth: 2,\n  },\n  addAccountButton: {\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    alignItems: 'center',\n  },\n  addAccountText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  bottomNav: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingTop: 12,\n    borderTopWidth: 0.5,\n  },\n  bottomNavButton: {\n    padding: 8,\n  },\n});\n","import { StatusBar } from \"expo-status-bar\";\nimport { Platform, StyleSheet, Text, View } from \"react-native\";\n\nexport default function ModalScreen() {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Modal</Text>\n      <View style={styles.separator} />\n      <Text>This is an example modal. You can edit it in app/modal.tsx.</Text>\n\n      {/* Use a light status bar on iOS to account for the black space above the modal */}\n      <StatusBar style={Platform.OS === \"ios\" ? \"light\" : \"auto\"} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: \"80%\",\n  },\n});\n","import React from 'react';\nimport { StyleSheet, Modal, View, TouchableOpacity, Dimensions } from 'react-native';\nimport { Image } from 'expo-image';\nimport { X } from 'lucide-react-native';\nimport { BlurView } from 'expo-blur';\n\nconst { width: SCREEN_WIDTH, height: SCREEN_HEIGHT } = Dimensions.get('window');\n\ninterface ProfilePictureViewerProps {\n  visible: boolean;\n  imageUri: string;\n  onClose: () => void;\n}\n\nexport function ProfilePictureViewer({ visible, imageUri, onClose }: ProfilePictureViewerProps) {\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n      statusBarTranslucent\n    >\n      <View style={styles.container}>\n        <BlurView intensity={100} tint=\"dark\" style={StyleSheet.absoluteFill}>\n          <TouchableOpacity \n            style={styles.backdrop} \n            activeOpacity={1} \n            onPress={onClose}\n          />\n        </BlurView>\n\n        <View style={styles.content}>\n          <Image\n            source={{ uri: imageUri }}\n            style={styles.image}\n            contentFit=\"contain\"\n            transition={300}\n          />\n        </View>\n\n        <TouchableOpacity style={styles.closeButton} onPress={onClose}>\n          <View style={styles.closeButtonInner}>\n            <X size={24} color=\"#FFFFFF\" />\n          </View>\n        </TouchableOpacity>\n      </View>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.95)',\n  },\n  backdrop: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  content: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  image: {\n    width: SCREEN_WIDTH,\n    height: SCREEN_HEIGHT * 0.8,\n  },\n  closeButton: {\n    position: 'absolute',\n    top: 50,\n    right: 20,\n    zIndex: 10,\n  },\n  closeButtonInner: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, TextInput, Alert } from 'react-native';\nimport { Image } from 'expo-image';\nimport * as ImagePicker from 'expo-image-picker';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Colors } from '@/constants/colors';\nimport { User } from '@/types';\nimport { Settings, Camera, Edit2, Check, X, Share2, UserPen } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { BlurView } from 'expo-blur';\nimport { useAuth } from '@/hooks/auth-store';\nimport { QRCodeShareModal } from '@/components/profile/QRCodeShareModal';\nimport { ProfilePictureViewer } from '@/components/profile/ProfilePictureViewer';\n\ninterface ProfileHeaderProps {\n  user: User;\n  isCurrentUser?: boolean;\n  onEditProfile: () => void;\n  onFollowPress: () => void;\n  onShareProfile: () => void;\n  onSettingsPress: () => void;\n  onChangeCoverPhoto: () => void;\n  onChangeProfilePhoto: () => void;\n  testID?: string;\n}\n\nexport const ProfileHeader: React.FC<ProfileHeaderProps> = ({\n  user,\n  isCurrentUser = false,\n  onEditProfile,\n  onFollowPress,\n  onShareProfile,\n  onSettingsPress,\n  onChangeCoverPhoto,\n  onChangeProfilePhoto,\n  testID,\n}) => {\n  const { updateProfileImage, updateCoverImage, updateBio } = useAuth();\n  const [isEditingBio, setIsEditingBio] = useState(false);\n  const [bioText, setBioText] = useState(user.bio || '');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [showProfilePictureViewer, setShowProfilePictureViewer] = useState(false);\n\n  const getVibeLabel = (score: number): string => {\n    if (score >= 9) return ' Elite Vibes';\n    if (score >= 7) return ' Vibing Strong';\n    if (score >= 4) return ' Growing Vibes';\n    return ' Low Vibes';\n  };\n\n  const handlePickCoverImage = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission needed', 'Please grant camera roll permissions to change cover photo');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ['images'],\n        allowsEditing: true,\n        aspect: [16, 9],\n        quality: 0.8,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const imageUri = result.assets[0].uri;\n        const success = await updateCoverImage(imageUri);\n        if (success) {\n          Alert.alert('Success', 'Cover photo updated successfully');\n          console.log('Cover photo updated successfully');\n        } else {\n          Alert.alert('Error', 'Failed to update cover photo. Please try again.');\n        }\n        if (onChangeCoverPhoto) {\n          onChangeCoverPhoto();\n        }\n      }\n    } catch (error) {\n      console.error('Error picking cover image:', error);\n      Alert.alert('Error', 'An error occurred while updating cover photo. Please try again.');\n    }\n  };\n\n  const handlePickProfileImage = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission needed', 'Please grant camera roll permissions to change profile picture');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ['images'],\n        allowsEditing: true,\n        aspect: [1, 1],\n        quality: 0.8,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        const imageUri = result.assets[0].uri;\n        const success = await updateProfileImage(imageUri);\n        if (success) {\n          Alert.alert('Success', 'Profile picture updated successfully');\n          console.log('Profile photo updated successfully');\n        } else {\n          Alert.alert('Error', 'Failed to update profile picture. Please try again.');\n        }\n        if (onChangeProfilePhoto) {\n          onChangeProfilePhoto();\n        }\n      }\n    } catch (error) {\n      console.error('Error picking profile image:', error);\n      Alert.alert('Error', 'An error occurred while updating profile picture. Please try again.');\n    }\n  };\n\n  const handleSaveBio = async () => {\n    const success = await updateBio(bioText);\n    if (success) {\n      console.log('Bio saved successfully:', bioText);\n      setIsEditingBio(false);\n    } else {\n      Alert.alert('Error', 'Failed to save bio. Please try again.');\n    }\n  };\n\n  const handleCancelBio = () => {\n    setBioText(user.bio || '');\n    setIsEditingBio(false);\n  };\n\n  const handleShareProfile = () => {\n    setShowQRModal(true);\n    console.log('[ProfileHeader] Opening QR code share modal');\n  };\n\n\n\n  return (\n    <View style={styles.container} testID={testID}>\n      <View style={styles.coverContainer}>\n        {user.coverImage ? (\n          <Image\n            source={{ uri: user.coverImage }}\n            style={styles.coverImage}\n            contentFit=\"cover\"\n          />\n        ) : (\n          <LinearGradient\n            colors={['#3B82F6', '#06B6D4', '#10B981']}\n            start={{ x: 0, y: 0 }}\n            end={{ x: 1, y: 1 }}\n            style={styles.coverPlaceholder}\n          />\n        )}\n        \n        {isCurrentUser && (\n          <View style={styles.coverActions}>\n            <TouchableOpacity\n              style={styles.coverEditButton}\n              onPress={handlePickCoverImage}\n            >\n              <BlurView intensity={80} style={styles.blurButton}>\n                <Camera size={18} color={Colors.text} />\n              </BlurView>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={styles.settingsButton}\n              onPress={onSettingsPress}\n            >\n              <BlurView intensity={80} style={styles.blurButton}>\n                <Settings size={18} color={Colors.text} />\n              </BlurView>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n      \n      <View style={styles.profileInfo}>\n        <View style={styles.avatarContainer}>\n          <TouchableOpacity \n            onPress={() => {\n              if (isCurrentUser) {\n                handlePickProfileImage();\n              } else {\n                setShowProfilePictureViewer(true);\n              }\n            }}\n            onLongPress={() => {\n              if (user.profileImage) {\n                setShowProfilePictureViewer(true);\n              }\n            }}\n          >\n            <View style={styles.avatarWrapper}>\n              <Avatar\n                uri={user.profileImage}\n                size={100}\n                borderWidth={4}\n                borderColor={Colors.background}\n              />\n              {isCurrentUser && (\n                <View style={styles.avatarEditButton}>\n                  <Camera size={16} color={Colors.text} />\n                </View>\n              )}\n            </View>\n          </TouchableOpacity>\n        </View>\n        \n        <View style={styles.nameContainer}>\n          <View style={styles.nameRow}>\n            <Text style={styles.displayName}>{user.displayName}</Text>\n            {user.isVerified && <VerifiedBadge size={20} />}\n          </View>\n          <Text style={styles.username}>@{user.username}</Text>\n          \n          {isEditingBio ? (\n            <View style={styles.bioEditContainer}>\n              <TextInput\n                style={styles.bioInput}\n                value={bioText}\n                onChangeText={setBioText}\n                placeholder=\"Add a bio (max 150 characters)\"\n                placeholderTextColor={Colors.textSecondary}\n                maxLength={150}\n                multiline\n                autoFocus\n              />\n              <View style={styles.bioEditActions}>\n                <TouchableOpacity onPress={handleCancelBio} style={styles.bioActionButton}>\n                  <X size={18} color={Colors.error} />\n                  <Text style={styles.bioActionText}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity onPress={handleSaveBio} style={[styles.bioActionButton, styles.bioSaveButton]}>\n                  <Check size={18} color={Colors.success} />\n                  <Text style={[styles.bioActionText, styles.bioSaveText]}>Save</Text>\n                </TouchableOpacity>\n              </View>\n              <Text style={styles.bioCharCount}>{bioText.length}/150</Text>\n            </View>\n          ) : (\n            <TouchableOpacity \n              onPress={() => isCurrentUser && setIsEditingBio(true)}\n              disabled={!isCurrentUser}\n            >\n              <View style={styles.bioContainer}>\n                <Text style={styles.bio}>{bioText || (isCurrentUser ? 'Tap to add bio' : 'No bio yet')}</Text>\n                {isCurrentUser && <Edit2 size={14} color={Colors.textSecondary} style={styles.bioEditIcon} />}\n              </View>\n            </TouchableOpacity>\n          )}\n          \n          {user.vibeScore !== undefined && (\n            <View style={styles.vibeScoreContainer}>\n              <LinearGradient\n                colors={['#3B82F6', '#06B6D4']}\n                start={{ x: 0, y: 0 }}\n                end={{ x: 1, y: 0 }}\n                style={styles.vibeScoreGradient}\n              >\n                <Text style={styles.vibeScore}>{user.vibeScore.toFixed(1)}/10</Text>\n              </LinearGradient>\n              <Text style={styles.vibeStatus}>{getVibeLabel(user.vibeScore)}</Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.statsContainer}>\n          <View style={styles.statItem}>\n            <Text style={styles.statValue}>{user.posts}</Text>\n            <Text style={styles.statLabel}>posts</Text>\n          </View>\n          <View style={styles.statItem}>\n            <Text style={styles.statValue}>{user.followers}</Text>\n            <Text style={styles.statLabel}>followers</Text>\n          </View>\n          <View style={styles.statItem}>\n            <Text style={styles.statValue}>{user.following}</Text>\n            <Text style={styles.statLabel}>following</Text>\n          </View>\n        </View>\n        \n        <View style={styles.actionsContainer}>\n          {isCurrentUser ? (\n            <>\n              <TouchableOpacity style={styles.primaryActionButton} onPress={onEditProfile}>\n                <LinearGradient\n                  colors={['#3B82F6', '#2563EB']}\n                  start={{ x: 0, y: 0 }}\n                  end={{ x: 1, y: 0 }}\n                  style={styles.gradientButton}\n                >\n                  <UserPen size={18} color=\"#FFFFFF\" style={{ marginRight: 6 }} />\n                  <Text style={styles.primaryActionText}>Edit Profile</Text>\n                </LinearGradient>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.secondaryActionButton} onPress={handleShareProfile}>\n                <BlurView intensity={60} style={styles.blurActionButton}>\n                  <Share2 size={18} color={Colors.text} />\n                  <Text style={styles.secondaryActionText}>Share</Text>\n                </BlurView>\n              </TouchableOpacity>\n            </>\n          ) : (\n            <>\n              <TouchableOpacity style={styles.primaryActionButton} onPress={onFollowPress}>\n                <LinearGradient\n                  colors={['#3B82F6', '#2563EB']}\n                  start={{ x: 0, y: 0 }}\n                  end={{ x: 1, y: 0 }}\n                  style={styles.gradientButton}\n                >\n                  <Text style={styles.primaryActionText}>Follow</Text>\n                </LinearGradient>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.secondaryActionButton} onPress={handleShareProfile}>\n                <BlurView intensity={60} style={styles.blurActionButton}>\n                  <Share2 size={18} color={Colors.text} />\n                  <Text style={styles.secondaryActionText}>Share Profile</Text>\n                </BlurView>\n              </TouchableOpacity>\n            </>\n          )}\n        </View>\n      </View>\n\n      <QRCodeShareModal\n        visible={showQRModal}\n        onClose={() => setShowQRModal(false)}\n        user={user}\n      />\n\n      {user.profileImage && (\n        <ProfilePictureViewer\n          visible={showProfilePictureViewer}\n          imageUri={user.profileImage}\n          onClose={() => setShowProfilePictureViewer(false)}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.background,\n  },\n  coverContainer: {\n    height: 200,\n    position: 'relative',\n  },\n  coverImage: {\n    width: '100%',\n    height: '100%',\n  },\n  coverPlaceholder: {\n    width: '100%',\n    height: '100%',\n  },\n  coverActions: {\n    position: 'absolute',\n    right: 16,\n    top: 16,\n    flexDirection: 'row',\n    gap: 8,\n  },\n  coverEditButton: {\n    borderRadius: 20,\n    overflow: 'hidden',\n  },\n  blurButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 10,\n    borderRadius: 20,\n  },\n  settingsButton: {\n    borderRadius: 20,\n    overflow: 'hidden',\n  },\n  profileInfo: {\n    paddingHorizontal: 20,\n  },\n  avatarContainer: {\n    position: 'relative',\n    marginTop: -50,\n    marginBottom: 16,\n  },\n  avatarWrapper: {\n    position: 'relative',\n  },\n  avatarEditButton: {\n    position: 'absolute',\n    right: 0,\n    bottom: 0,\n    backgroundColor: Colors.primary,\n    borderRadius: 14,\n    width: 28,\n    height: 28,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: Colors.background,\n  },\n  nameContainer: {\n    marginBottom: 16,\n  },\n  nameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 4,\n  },\n  displayName: {\n    color: Colors.text,\n    fontWeight: '700',\n    fontSize: 24,\n  },\n  username: {\n    color: Colors.textSecondary,\n    fontSize: 15,\n    marginBottom: 8,\n  },\n  bioContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    marginTop: 4,\n  },\n  bio: {\n    color: Colors.text,\n    fontSize: 15,\n    lineHeight: 22,\n    flex: 1,\n  },\n  bioEditIcon: {\n    marginLeft: 4,\n  },\n  bioEditContainer: {\n    marginTop: 8,\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 12,\n  },\n  bioInput: {\n    color: Colors.text,\n    fontSize: 15,\n    lineHeight: 22,\n    minHeight: 60,\n    textAlignVertical: 'top',\n  },\n  bioEditActions: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    gap: 12,\n    marginTop: 8,\n  },\n  bioActionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderRadius: 8,\n  },\n  bioSaveButton: {\n    backgroundColor: Colors.glass,\n  },\n  bioActionText: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  bioSaveText: {\n    color: Colors.success,\n  },\n  bioCharCount: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    textAlign: 'right',\n    marginTop: 4,\n  },\n  vibeScoreContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginTop: 12,\n  },\n  vibeScoreGradient: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  vibeScore: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '700',\n  },\n  vibeStatus: {\n    color: Colors.text,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n    paddingVertical: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: Colors.border,\n  },\n  statItem: {\n    alignItems: 'center',\n  },\n  statValue: {\n    color: Colors.text,\n    fontWeight: '700',\n    fontSize: 20,\n  },\n  statLabel: {\n    color: Colors.textSecondary,\n    fontSize: 13,\n    marginTop: 4,\n    textTransform: 'capitalize',\n  },\n  actionsContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 20,\n  },\n  primaryActionButton: {\n    flex: 1,\n    borderRadius: 24,\n    overflow: 'hidden',\n  },\n  gradientButton: {\n    paddingVertical: 14,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  primaryActionText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '700',\n  },\n  secondaryActionButton: {\n    flex: 1,\n    borderRadius: 24,\n    overflow: 'hidden',\n  },\n  blurActionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 14,\n  },\n  secondaryActionText: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n});","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nconst PINNED_POSTS_KEY = 'pinned_posts';\nconst MAX_PINNED_POSTS = 3;\n\nexport const [PinnedPostsProvider, usePinnedPosts] = createContextHook(() => {\n  const [pinnedPosts, setPinnedPosts] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    loadPinnedPosts();\n  }, []);\n\n  const loadPinnedPosts = async () => {\n    try {\n      const stored = await AsyncStorage.getItem(PINNED_POSTS_KEY);\n      if (stored) {\n        setPinnedPosts(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('Error loading pinned posts:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const savePinnedPosts = useCallback(async (posts: string[]) => {\n    try {\n      await AsyncStorage.setItem(PINNED_POSTS_KEY, JSON.stringify(posts));\n      setPinnedPosts(posts);\n    } catch (error) {\n      console.error('Error saving pinned posts:', error);\n    }\n  }, []);\n\n  const pinPost = useCallback(async (postId: string): Promise<boolean> => {\n    if (pinnedPosts.includes(postId)) {\n      console.log('Post already pinned');\n      return false;\n    }\n\n    if (pinnedPosts.length >= MAX_PINNED_POSTS) {\n      console.log(`Maximum ${MAX_PINNED_POSTS} posts can be pinned`);\n      return false;\n    }\n\n    const updated = [postId, ...pinnedPosts];\n    await savePinnedPosts(updated);\n    return true;\n  }, [pinnedPosts, savePinnedPosts]);\n\n  const unpinPost = useCallback(async (postId: string): Promise<boolean> => {\n    if (!pinnedPosts.includes(postId)) {\n      console.log('Post is not pinned');\n      return false;\n    }\n\n    const updated = pinnedPosts.filter(id => id !== postId);\n    await savePinnedPosts(updated);\n    return true;\n  }, [pinnedPosts, savePinnedPosts]);\n\n  const togglePinPost = useCallback(async (postId: string): Promise<boolean> => {\n    if (pinnedPosts.includes(postId)) {\n      return await unpinPost(postId);\n    } else {\n      return await pinPost(postId);\n    }\n  }, [pinnedPosts, pinPost, unpinPost]);\n\n  const isPostPinned = useCallback((postId: string): boolean => {\n    return pinnedPosts.includes(postId);\n  }, [pinnedPosts]);\n\n  const canPinMore = useCallback((): boolean => {\n    return pinnedPosts.length < MAX_PINNED_POSTS;\n  }, [pinnedPosts]);\n\n  return useMemo(() => ({\n    pinnedPosts,\n    isLoading,\n    pinPost,\n    unpinPost,\n    togglePinPost,\n    isPostPinned,\n    canPinMore,\n    maxPinnedPosts: MAX_PINNED_POSTS,\n  }), [pinnedPosts, isLoading, pinPost, unpinPost, togglePinPost, isPostPinned, canPinMore]);\n});\n","import React, { useMemo } from 'react';\nimport { StyleSheet, View, FlatList, Text, TouchableOpacity, Alert } from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { ProfileHeader } from '@/components/profile/ProfileHeader';\nimport { PostCard } from '@/components/home/PostCard';\nimport { mockPosts } from '@/mocks/posts';\nimport { useAuth } from '@/hooks/auth-store';\nimport { usePinnedPosts } from '@/hooks/pinned-posts-store';\nimport { router } from 'expo-router';\nimport { Pin, PinOff } from 'lucide-react-native';\nimport { Post } from '@/types';\n\nexport default function ProfileScreen() {\n  const { user, isAuthenticated } = useAuth();\n  const { togglePinPost, isPostPinned, canPinMore, maxPinnedPosts } = usePinnedPosts();\n  const [userPosts, setUserPosts] = React.useState(mockPosts);\n\n  React.useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n    }\n  }, [isAuthenticated]);\n\n  const handleEditProfile = () => {\n    console.log('Edit profile pressed');\n    router.push('/edit-profile');\n  };\n\n  const handleFollowPress = () => {\n    console.log('Follow pressed');\n  };\n\n  const handleShareProfile = () => {\n    console.log('Share profile pressed');\n  };\n\n  const handleSettingsPress = () => {\n    router.push('/settings');\n  };\n\n  const handleChangeCoverPhoto = () => {\n    console.log('[Profile] Cover photo change completed');\n  };\n\n  const handleChangeProfilePhoto = () => {\n    console.log('[Profile] Profile photo change completed');\n  };\n\n  const handleLikePress = (postId: string) => {\n    console.log('Like pressed for post:', postId);\n  };\n\n  const handleCommentPress = (postId: string) => {\n    console.log('Comment pressed for post:', postId);\n  };\n\n  const handleSharePress = (postId: string) => {\n    console.log('Share pressed for post:', postId);\n  };\n\n  const handleSavePress = (postId: string) => {\n    console.log('Save pressed for post:', postId);\n  };\n\n  const handlePinPress = async (postId: string) => {\n    const isPinned = isPostPinned(postId);\n    \n    if (!isPinned && !canPinMore()) {\n      Alert.alert(\n        'Pin Limit Reached',\n        `You can only pin up to ${maxPinnedPosts} posts on your profile.`,\n        [{ text: 'OK' }]\n      );\n      return;\n    }\n\n    const success = await togglePinPost(postId);\n    if (success) {\n      Alert.alert(\n        'Success',\n        isPinned ? 'Post unpinned from profile' : 'Post pinned to profile',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  const handleUserPress = (userId: string) => {\n    console.log('User pressed:', userId);\n    router.push(`/user/${userId}`);\n  };\n\n  const sortedPosts = useMemo(() => {\n    const pinned: Post[] = [];\n    const regular: Post[] = [];\n\n    userPosts.forEach(post => {\n      if (isPostPinned(post.id)) {\n        pinned.push(post);\n      } else {\n        regular.push(post);\n      }\n    });\n\n    return [...pinned, ...regular];\n  }, [userPosts, isPostPinned]);\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={sortedPosts}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item, index }) => {\n          const isPinned = isPostPinned(item.id);\n          const prevItem = index > 0 ? sortedPosts[index - 1] : null;\n          const showSeparator = prevItem && isPostPinned(prevItem.id) && !isPinned;\n\n          return (\n            <View>\n              {isPinned && (\n                <View style={styles.pinnedBadge}>\n                  <Pin size={14} color={Colors.primary} />\n                  <Text style={styles.pinnedText}>Pinned Post</Text>\n                </View>\n              )}\n              {showSeparator && <View style={styles.pinnedSeparator} />}\n              <PostCard\n                post={item}\n                onLikePress={handleLikePress}\n                onCommentPress={handleCommentPress}\n                onSharePress={handleSharePress}\n                onSavePress={handleSavePress}\n                onUserPress={handleUserPress}\n              />\n              <TouchableOpacity\n                style={styles.pinButton}\n                onPress={() => handlePinPress(item.id)}\n              >\n                {isPinned ? (\n                  <PinOff size={18} color={Colors.primary} />\n                ) : (\n                  <Pin size={18} color={Colors.textSecondary} />\n                )}\n              </TouchableOpacity>\n            </View>\n          );\n        }}\n        ListHeaderComponent={() => (\n          <ProfileHeader\n            user={user}\n            isCurrentUser={true}\n            onEditProfile={handleEditProfile}\n            onFollowPress={handleFollowPress}\n            onShareProfile={handleShareProfile}\n            onSettingsPress={handleSettingsPress}\n            onChangeCoverPhoto={handleChangeCoverPhoto}\n            onChangeProfilePhoto={handleChangeProfilePhoto}\n          />\n        )}\n        ListEmptyComponent={() => (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>No posts yet</Text>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  emptyContainer: {\n    padding: 24,\n    alignItems: 'center',\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n  },\n  pinnedBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    paddingHorizontal: 16,\n    paddingTop: 12,\n    paddingBottom: 8,\n  },\n  pinnedText: {\n    color: Colors.primary,\n    fontSize: 13,\n    fontWeight: '600',\n  },\n  pinnedSeparator: {\n    height: 8,\n    backgroundColor: Colors.cardLight,\n    marginVertical: 8,\n  },\n  pinButton: {\n    position: 'absolute',\n    top: 12,\n    right: 48,\n    padding: 8,\n    zIndex: 10,\n  },\n});","import { Spill, SpillParticipant, ScheduledSpill } from '@/types/spill';\n\nconst mockSpillParticipants: SpillParticipant[] = [\n  {\n    id: '1',\n    name: 'Sarah Chen',\n    username: 'sarah_vibes',\n    avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\n    isVerified: true,\n    isSpeaking: true,\n    isMuted: false,\n    role: 'host',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 15),\n  },\n  {\n    id: '6',\n    name: 'Jamal Washington',\n    username: 'jamal_fitness',\n    avatar: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150',\n    isVerified: true,\n    isSpeaking: false,\n    isMuted: false,\n    role: 'cohost',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 14),\n  },\n  {\n    id: '7',\n    name: 'Priya Sharma',\n    username: 'priya_travels',\n    avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150',\n    isVerified: true,\n    isSpeaking: true,\n    isMuted: false,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 10),\n  },\n  {\n    id: '8',\n    name: 'Carlos Silva',\n    username: 'carlos_music',\n    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150',\n    isVerified: false,\n    isSpeaking: false,\n    isMuted: true,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 8),\n  },\n  {\n    id: '9',\n    name: 'Yuki Tanaka',\n    username: 'yuki_fashion',\n    avatar: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150',\n    isVerified: true,\n    isSpeaking: true,\n    isMuted: false,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 12),\n  },\n  {\n    id: '11',\n    name: 'Fatima Al-Rashid',\n    username: 'fatima_beauty',\n    avatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150',\n    isVerified: true,\n    isSpeaking: false,\n    isMuted: false,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 9),\n  },\n  {\n    id: '13',\n    name: 'Aisha Okonkwo',\n    username: 'aisha_wellness',\n    avatar: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150',\n    isVerified: true,\n    isSpeaking: true,\n    isMuted: false,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 11),\n  },\n  {\n    id: '14',\n    name: 'Diego Martinez',\n    username: 'diego_sports',\n    avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?w=150',\n    isVerified: true,\n    isSpeaking: false,\n    isMuted: false,\n    role: 'speaker',\n    joinedAt: new Date(Date.now() - 1000 * 60 * 7),\n  },\n];\n\nexport const mockSpills: Spill[] = [\n  {\n    id: 'spill-1',\n    topicId: 'trend-1',\n    topicName: 'AI is taking over the world',\n    topicType: 'name',\n    hostId: '1',\n    hostName: 'Sarah Chen',\n    hostUsername: 'sarah_vibes',\n    hostAvatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\n    cohosts: [mockSpillParticipants[1]],\n    listenerCount: 1200,\n    startedAt: new Date(Date.now() - 1000 * 60 * 15),\n    isLive: true,\n    participants: [mockSpillParticipants[0], mockSpillParticipants[1], mockSpillParticipants[2]],\n    reactions: [],\n    comments: [\n      {\n        id: 'comment-1',\n        userId: 'user-5',\n        username: 'TechFan',\n        text: 'ChatGPT is changing everything! ',\n        timestamp: new Date(Date.now() - 1000 * 60 * 2),\n      },\n      {\n        id: 'comment-2',\n        userId: 'user-6',\n        username: 'FutureThinker',\n        text: 'But what about job security? ',\n        timestamp: new Date(Date.now() - 1000 * 60 * 1),\n      },\n    ],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-2',\n    topicId: 'trend-2',\n    topicName: 'Is remote work still worth it?',\n    topicType: 'name',\n    hostId: '7',\n    hostName: 'Priya Sharma',\n    hostUsername: 'priya_travels',\n    hostAvatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150',\n    cohosts: [],\n    listenerCount: 900,\n    startedAt: new Date(Date.now() - 1000 * 60 * 8),\n    isLive: true,\n    participants: [mockSpillParticipants[2], mockSpillParticipants[3]],\n    reactions: [],\n    comments: [\n      {\n        id: 'comment-3',\n        userId: 'user-7',\n        username: 'WorkFromHome',\n        text: 'Never going back to the office! ',\n        timestamp: new Date(Date.now() - 1000 * 30),\n      },\n    ],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-3',\n    topicId: 'trend-3',\n    topicName: 'Love languages decoded',\n    topicType: 'name',\n    hostId: '13',\n    hostName: 'Aisha Okonkwo',\n    hostUsername: 'aisha_wellness',\n    hostAvatar: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150',\n    cohosts: [],\n    listenerCount: 850,\n    startedAt: new Date(Date.now() - 1000 * 60 * 20),\n    isLive: true,\n    participants: [mockSpillParticipants[6], mockSpillParticipants[4]],\n    reactions: [],\n    comments: [],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-4',\n    topicId: 'trend-4',\n    topicName: 'Fashion trends 2025',\n    topicType: 'name',\n    hostId: '9',\n    hostName: 'Yuki Tanaka',\n    hostUsername: 'yuki_fashion',\n    hostAvatar: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150',\n    cohosts: [mockSpillParticipants[5]],\n    listenerCount: 810,\n    startedAt: new Date(Date.now() - 1000 * 60 * 12),\n    isLive: true,\n    participants: [mockSpillParticipants[4], mockSpillParticipants[5]],\n    reactions: [],\n    comments: [],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-5',\n    topicId: 'trend-5',\n    topicName: 'Gym vs Home workouts',\n    topicType: 'name',\n    hostId: '6',\n    hostName: 'Jamal Washington',\n    hostUsername: 'jamal_fitness',\n    hostAvatar: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150',\n    cohosts: [],\n    listenerCount: 780,\n    startedAt: new Date(Date.now() - 1000 * 60 * 25),\n    isLive: true,\n    participants: [mockSpillParticipants[1], mockSpillParticipants[6]],\n    reactions: [],\n    comments: [],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-6',\n    topicId: 'trend-6',\n    topicName: 'Music production secrets',\n    topicType: 'name',\n    hostId: '8',\n    hostName: 'Carlos Silva',\n    hostUsername: 'carlos_music',\n    hostAvatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150',\n    cohosts: [],\n    listenerCount: 650,\n    startedAt: new Date(Date.now() - 1000 * 60 * 30),\n    isLive: true,\n    participants: [mockSpillParticipants[3]],\n    reactions: [],\n    comments: [],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-7',\n    topicId: 'trend-7',\n    topicName: 'Football tactics breakdown',\n    topicType: 'name',\n    hostId: '14',\n    hostName: 'Diego Martinez',\n    hostUsername: 'diego_sports',\n    hostAvatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?w=150',\n    cohosts: [],\n    listenerCount: 1450,\n    startedAt: new Date(Date.now() - 1000 * 60 * 18),\n    isLive: true,\n    participants: [mockSpillParticipants[7]],\n    reactions: [],\n    comments: [\n      {\n        id: 'comment-4',\n        userId: 'user-8',\n        username: 'SoccerFan',\n        text: 'Best analysis ever! ',\n        timestamp: new Date(Date.now() - 1000 * 45),\n      },\n    ],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n  {\n    id: 'spill-8',\n    topicId: 'trend-8',\n    topicName: 'Beauty industry secrets',\n    topicType: 'name',\n    hostId: '11',\n    hostName: 'Fatima Al-Rashid',\n    hostUsername: 'fatima_beauty',\n    hostAvatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150',\n    cohosts: [mockSpillParticipants[4]],\n    listenerCount: 1120,\n    startedAt: new Date(Date.now() - 1000 * 60 * 22),\n    isLive: true,\n    participants: [mockSpillParticipants[5], mockSpillParticipants[4]],\n    reactions: [],\n    comments: [\n      {\n        id: 'comment-5',\n        userId: 'user-9',\n        username: 'BeautyLover',\n        text: 'Taking notes! ',\n        timestamp: new Date(Date.now() - 1000 * 60),\n      },\n    ],\n    recordingEnabled: true,\n    allowRequests: true,\n  },\n];\n\nexport const mockScheduledSpills: ScheduledSpill[] = [\n  {\n    id: 'scheduled-1',\n    topicId: 'trend-9',\n    topicName: 'Mental health in tech',\n    hostId: '1',\n    hostName: 'Sarah Chen',\n    scheduledFor: new Date(Date.now() + 1000 * 60 * 60 * 2),\n    reminderSet: true,\n  },\n  {\n    id: 'scheduled-2',\n    topicId: 'trend-10',\n    topicName: 'Startup funding strategies',\n    hostId: '7',\n    hostName: 'Priya Sharma',\n    scheduledFor: new Date(Date.now() + 1000 * 60 * 60 * 24),\n    reminderSet: false,\n  },\n  {\n    id: 'scheduled-3',\n    topicId: 'trend-11',\n    topicName: 'Dating in 2025',\n    hostId: '13',\n    hostName: 'Aisha Okonkwo',\n    scheduledFor: new Date(Date.now() + 1000 * 60 * 60 * 48),\n    reminderSet: false,\n  },\n  {\n    id: 'scheduled-4',\n    topicId: 'trend-12',\n    topicName: 'Sustainable fashion movement',\n    hostId: '9',\n    hostName: 'Yuki Tanaka',\n    scheduledFor: new Date(Date.now() + 1000 * 60 * 60 * 36),\n    reminderSet: true,\n  },\n  {\n    id: 'scheduled-5',\n    topicId: 'trend-13',\n    topicName: 'Fitness myths debunked',\n    hostId: '6',\n    hostName: 'Jamal Washington',\n    scheduledFor: new Date(Date.now() + 1000 * 60 * 60 * 12),\n    reminderSet: true,\n  },\n];\n","import createContextHook from '@nkzw/create-context-hook';\nimport { useState, useCallback, useEffect } from 'react';\nimport { Spill, SpillReaction, SpillComment, ScheduledSpill } from '@/types/spill';\nimport { mockSpills, mockScheduledSpills } from '@/mocks/spills';\n\nexport const [SpillProvider, useSpill] = createContextHook(() => {\n  const [activeSpills, setActiveSpills] = useState<Spill[]>(mockSpills);\n  const [currentSpill, setCurrentSpill] = useState<Spill | null>(null);\n  const [scheduledSpills, setScheduledSpills] = useState<ScheduledSpill[]>(mockScheduledSpills);\n  const [isInSpill, setIsInSpill] = useState<boolean>(false);\n  const [isMuted, setIsMuted] = useState<boolean>(true);\n  const [hasRequestedMic, setHasRequestedMic] = useState<boolean>(false);\n\n  const joinSpill = useCallback((spillId: string) => {\n    console.log('[Spill] Joining spill:', spillId);\n    setActiveSpills(prev => {\n      const spill = prev.find(s => s.id === spillId);\n      if (spill) {\n        setCurrentSpill(spill);\n        setIsInSpill(true);\n        setIsMuted(true);\n        setHasRequestedMic(false);\n      }\n      return prev.map(s => \n        s.id === spillId \n          ? { ...s, listenerCount: s.listenerCount + 1 }\n          : s\n      );\n    });\n  }, []);\n\n  const leaveSpill = useCallback(() => {\n    console.log('[Spill] Leaving spill');\n    setCurrentSpill(prev => {\n      if (prev) {\n        setActiveSpills(prevSpills => prevSpills.map(s => \n          s.id === prev.id \n            ? { ...s, listenerCount: Math.max(0, s.listenerCount - 1) }\n            : s\n        ));\n      }\n      return null;\n    });\n    setIsInSpill(false);\n    setIsMuted(true);\n    setHasRequestedMic(false);\n  }, []);\n\n  const toggleMute = useCallback(() => {\n    setIsMuted(prev => {\n      console.log('[Spill] Toggled mute:', !prev);\n      return !prev;\n    });\n  }, []);\n\n  const requestMic = useCallback(() => {\n    setHasRequestedMic(true);\n    console.log('[Spill] Requested mic access');\n  }, []);\n\n  const sendReaction = useCallback((emoji: string) => {\n    const reaction: SpillReaction = {\n      id: `reaction-${Date.now()}`,\n      userId: 'current-user',\n      emoji,\n      timestamp: new Date(),\n    };\n\n    setCurrentSpill(prev => {\n      if (!prev) return null;\n      console.log('[Spill] Sent reaction:', emoji);\n      return {\n        ...prev,\n        reactions: [...prev.reactions, reaction],\n      };\n    });\n  }, []);\n\n  const sendComment = useCallback((text: string) => {\n    const comment: SpillComment = {\n      id: `comment-${Date.now()}`,\n      userId: 'current-user',\n      username: 'You',\n      text,\n      timestamp: new Date(),\n    };\n\n    setCurrentSpill(prev => {\n      if (!prev) return null;\n      console.log('[Spill] Sent comment:', text);\n      return {\n        ...prev,\n        comments: [...prev.comments, comment],\n      };\n    });\n  }, []);\n\n  const startSpill = useCallback((topicId: string, topicName: string, topicType: 'hashtag' | 'name') => {\n    console.log('[Spill] Starting new spill:', topicName);\n\n    const newSpill: Spill = {\n      id: `spill-${Date.now()}`,\n      topicId,\n      topicName,\n      topicType,\n      hostId: 'current-user',\n      hostName: 'You',\n      hostUsername: 'you',\n      hostAvatar: 'https://i.pravatar.cc/150?img=50',\n      cohosts: [],\n      listenerCount: 0,\n      startedAt: new Date(),\n      isLive: true,\n      participants: [],\n      reactions: [],\n      comments: [],\n      recordingEnabled: true,\n      allowRequests: true,\n    };\n\n    setActiveSpills(prev => [newSpill, ...prev]);\n    setCurrentSpill(newSpill);\n    setIsInSpill(true);\n    setIsMuted(false);\n\n    return newSpill;\n  }, []);\n\n  const endSpill = useCallback(() => {\n    setCurrentSpill(prev => {\n      if (!prev) return null;\n      \n      console.log('[Spill] Ending spill:', prev.id);\n      \n      setActiveSpills(prevSpills => prevSpills.map(s => \n        s.id === prev.id \n          ? { ...s, isLive: false }\n          : s\n      ));\n      \n      return null;\n    });\n    \n    setIsInSpill(false);\n    setIsMuted(true);\n  }, []);\n\n  const scheduleSpill = useCallback((topicId: string, topicName: string, scheduledFor: Date) => {\n    const scheduled: ScheduledSpill = {\n      id: `scheduled-${Date.now()}`,\n      topicId,\n      topicName,\n      hostId: 'current-user',\n      hostName: 'You',\n      scheduledFor,\n      reminderSet: false,\n    };\n\n    setScheduledSpills(prev => [...prev, scheduled]);\n    console.log('[Spill] Scheduled spill:', topicName, 'for', scheduledFor);\n  }, []);\n\n  const setReminder = useCallback((scheduledSpillId: string) => {\n    setScheduledSpills(prev => prev.map(s => \n      s.id === scheduledSpillId \n        ? { ...s, reminderSet: true }\n        : s\n    ));\n    console.log('[Spill] Set reminder for scheduled spill:', scheduledSpillId);\n  }, []);\n\n  const getSuggestedSpills = useCallback(() => {\n    return activeSpills.filter(s => s.isLive).slice(0, 5);\n  }, [activeSpills]);\n\n  const getSpillsByTopic = useCallback((topicId: string) => {\n    return activeSpills.filter(s => s.topicId === topicId && s.isLive);\n  }, [activeSpills]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setActiveSpills(prev => prev.map(spill => ({\n        ...spill,\n        listenerCount: Math.max(0, spill.listenerCount + Math.floor(Math.random() * 10) - 5),\n      })));\n    }, 10000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return {\n    activeSpills,\n    currentSpill,\n    scheduledSpills,\n    isInSpill,\n    isMuted,\n    hasRequestedMic,\n    joinSpill,\n    leaveSpill,\n    toggleMute,\n    requestMic,\n    sendReaction,\n    sendComment,\n    startSpill,\n    endSpill,\n    scheduleSpill,\n    setReminder,\n    getSuggestedSpills,\n    getSpillsByTopic,\n  };\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, View, TouchableOpacity, Text, Animated, Platform } from 'react-native';\nimport { Play, Pause } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Audio } from 'expo-av';\n\ninterface VoicePlayerProps {\n  url: string;\n  duration: number;\n  waveform?: number[];\n  size?: 'small' | 'medium' | 'large';\n  testID?: string;\n}\n\nexport const VoicePlayer: React.FC<VoicePlayerProps> = ({\n  url,\n  duration,\n  waveform,\n  size = 'medium',\n  testID,\n}) => {\n  const { colors } = useTheme();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [sound, setSound] = useState<Audio.Sound | null>(null);\n  const progressAnim = useRef(new Animated.Value(0)).current;\n\n  const sizeConfig = {\n    small: { button: 32, waveHeight: 24, fontSize: 10 },\n    medium: { button: 40, waveHeight: 32, fontSize: 12 },\n    large: { button: 48, waveHeight: 40, fontSize: 14 },\n  };\n\n  const config = sizeConfig[size];\n\n  useEffect(() => {\n    return () => {\n      if (sound && Platform.OS !== 'web') {\n        sound.unloadAsync().catch(console.error);\n      }\n    };\n  }, [sound]);\n\n  const formatTime = (seconds: number): string => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const handlePlayPause = async () => {\n    if (Platform.OS === 'web') {\n      return;\n    }\n    try {\n      if (!sound) {\n        await Audio.setAudioModeAsync({\n          playsInSilentModeIOS: true,\n          staysActiveInBackground: false,\n        });\n\n        const { sound: newSound } = await Audio.Sound.createAsync(\n          { uri: url },\n          { shouldPlay: true },\n          onPlaybackStatusUpdate\n        );\n        setSound(newSound);\n        setIsPlaying(true);\n      } else {\n        const status = await sound.getStatusAsync();\n        if (status.isLoaded) {\n          if (isPlaying) {\n            await sound.pauseAsync();\n            setIsPlaying(false);\n          } else {\n            await sound.playAsync();\n            setIsPlaying(true);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error playing audio:', error);\n    }\n  };\n\n  const onPlaybackStatusUpdate = (status: any) => {\n    if (status.isLoaded) {\n      setCurrentTime(status.positionMillis / 1000);\n      const progress = status.positionMillis / (duration * 1000);\n      progressAnim.setValue(progress);\n\n      if (status.didJustFinish) {\n        setIsPlaying(false);\n        setCurrentTime(0);\n        progressAnim.setValue(0);\n      }\n    }\n  };\n\n  const generateWaveform = () => {\n    if (waveform && waveform.length > 0) {\n      return waveform;\n    }\n    return Array.from({ length: 30 }, () => Math.random() * 0.5 + 0.3);\n  };\n\n  const waveformData = generateWaveform();\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.card }]} testID={testID}>\n      <TouchableOpacity\n        style={[\n          styles.playButton,\n          {\n            backgroundColor: colors.primary,\n            width: config.button,\n            height: config.button,\n            borderRadius: config.button / 2,\n          },\n        ]}\n        onPress={handlePlayPause}\n      >\n        {isPlaying ? (\n          <Pause size={config.button * 0.5} color={colors.textInverse} fill={colors.textInverse} />\n        ) : (\n          <Play size={config.button * 0.5} color={colors.textInverse} fill={colors.textInverse} />\n        )}\n      </TouchableOpacity>\n\n      <View style={styles.waveformContainer}>\n        <View style={[styles.waveform, { height: config.waveHeight }]}>\n          {waveformData.map((height, index) => {\n            const progress = currentTime / duration;\n            const isPassed = index / waveformData.length < progress;\n            return (\n              <View\n                key={index}\n                style={[\n                  styles.waveformBar,\n                  {\n                    height: `${height * 100}%`,\n                    backgroundColor: isPassed ? colors.primary : colors.border,\n                  },\n                ]}\n              />\n            );\n          })}\n        </View>\n        <Text style={[styles.timeText, { color: colors.textSecondary, fontSize: config.fontSize }]}>\n          {formatTime(isPlaying ? currentTime : duration)}\n        </Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 20,\n    gap: 12,\n  },\n  playButton: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  waveformContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  waveform: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 2,\n  },\n  waveformBar: {\n    flex: 1,\n    borderRadius: 2,\n  },\n  timeText: {\n    fontWeight: '600' as const,\n    minWidth: 35,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { ArrowLeft, Mail, Smartphone } from 'lucide-react-native';\nimport { Colors } from '@/constants/colors';\nimport { Button } from '@/components/ui/Button';\nimport { StatusBar } from 'expo-status-bar';\n\ntype RecoveryMethod = 'email' | 'phone';\n\nexport default function ForgotPasswordScreen() {\n  const [method, setMethod] = useState<RecoveryMethod>('email');\n  const [emailOrPhone, setEmailOrPhone] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSendCode = async () => {\n    if (!emailOrPhone) {\n      setError(`Please enter your ${method === 'email' ? 'email' : 'phone number'}`);\n      return;\n    }\n\n    if (method === 'email' && !emailOrPhone.includes('@')) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    if (method === 'phone' && !/^\\+?[\\d\\s-()]+$/.test(emailOrPhone)) {\n      setError('Please enter a valid phone number');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const { emailQueue } = await import('@/utils/email-service');\n      const { emailTemplates } = await import('@/utils/email-templates');\n      \n      if (method === 'email') {\n        const resetCode = Math.floor(100000 + Math.random() * 900000).toString();\n        const resetLink = `https://vibesync.com/reset-password?code=${resetCode}`;\n        \n        await emailQueue.enqueue(\n          'password_reset',\n          { type: 'password_reset' },\n          {\n            email: emailOrPhone,\n            username: emailOrPhone.split('@')[0],\n            reset_link: resetLink,\n            expiry: '10 minutes',\n          }\n        );\n        \n        console.log('[Password Reset] Email sent to:', emailOrPhone);\n        console.log('[Password Reset] Reset code:', resetCode);\n      }\n      \n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      router.push({\n        pathname: '/verify-reset-code',\n        params: { \n          method, \n          contact: emailOrPhone,\n        },\n      });\n    } catch (err) {\n      setError('Failed to send verification code. Please try again.');\n      console.error('[Password Reset Error]', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <Stack.Screen\n        options={{\n          headerShown: true,\n          headerStyle: { backgroundColor: Colors.background },\n          headerTintColor: Colors.text,\n          headerTitle: 'Forgot Password',\n          headerLeft: () => (\n            <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <View style={styles.content}>\n        <View style={styles.iconContainer}>\n          <View style={styles.iconCircle}>\n            <Text style={styles.iconText}></Text>\n          </View>\n        </View>\n\n        <Text style={styles.title}>Reset Your Password</Text>\n        <Text style={styles.subtitle}>\n          {`Choose how you'd like to receive your verification code`}\n        </Text>\n\n        <View style={styles.methodSelector}>\n          <TouchableOpacity\n            style={[\n              styles.methodButton,\n              method === 'email' && styles.methodButtonActive,\n            ]}\n            onPress={() => {\n              setMethod('email');\n              setEmailOrPhone('');\n              setError('');\n            }}\n          >\n            <Mail size={20} color={method === 'email' ? Colors.text : Colors.textSecondary} />\n            <Text style={[\n              styles.methodButtonText,\n              method === 'email' && styles.methodButtonTextActive,\n            ]}>\n              Email\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[\n              styles.methodButton,\n              method === 'phone' && styles.methodButtonActive,\n            ]}\n            onPress={() => {\n              setMethod('phone');\n              setEmailOrPhone('');\n              setError('');\n            }}\n          >\n            <Smartphone size={20} color={method === 'phone' ? Colors.text : Colors.textSecondary} />\n            <Text style={[\n              styles.methodButtonText,\n              method === 'phone' && styles.methodButtonTextActive,\n            ]}>\n              Phone\n            </Text>\n          </TouchableOpacity>\n        </View>\n\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n\n        <TextInput\n          style={styles.input}\n          placeholder={method === 'email' ? 'Enter your email' : 'Enter your phone number'}\n          placeholderTextColor={Colors.textSecondary}\n          value={emailOrPhone}\n          onChangeText={(text) => {\n            setEmailOrPhone(text);\n            setError('');\n          }}\n          keyboardType={method === 'email' ? 'email-address' : 'phone-pad'}\n          autoCapitalize=\"none\"\n          autoCorrect={false}\n        />\n\n        <Button\n          title=\"Send Verification Code\"\n          onPress={handleSendCode}\n          loading={isLoading}\n          disabled={isLoading}\n          style={styles.sendButton}\n        />\n\n        <View style={styles.infoBox}>\n          <Text style={styles.infoText}>\n            {method === 'email' \n              ? ` We'll send a verification link that expires in 10 minutes`\n              : ` We'll send a 6-digit code that expires in 5 minutes`\n            }\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  backButton: {\n    padding: 8,\n    marginLeft: 8,\n  },\n  content: {\n    flex: 1,\n    padding: 24,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 24,\n  },\n  iconCircle: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconText: {\n    fontSize: 40,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold' as const,\n    color: Colors.text,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 16,\n    color: Colors.textSecondary,\n    textAlign: 'center',\n    marginBottom: 32,\n    lineHeight: 22,\n  },\n  methodSelector: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 24,\n  },\n  methodButton: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    padding: 16,\n    borderRadius: 12,\n    backgroundColor: Colors.cardLight,\n    borderWidth: 2,\n    borderColor: 'transparent',\n  },\n  methodButtonActive: {\n    backgroundColor: Colors.primary,\n    borderColor: Colors.primary,\n  },\n  methodButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    color: Colors.textSecondary,\n  },\n  methodButtonTextActive: {\n    color: Colors.text,\n  },\n  errorText: {\n    color: Colors.error,\n    marginBottom: 16,\n    fontSize: 14,\n  },\n  input: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 24,\n    color: Colors.text,\n    fontSize: 16,\n  },\n  sendButton: {\n    marginBottom: 24,\n  },\n  infoBox: {\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    padding: 16,\n    borderLeftWidth: 4,\n    borderLeftColor: Colors.primary,\n  },\n  infoText: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    lineHeight: 20,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  ScrollView,\n  Dimensions,\n  Alert,\n  Modal,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { Image } from 'expo-image';\nimport * as ImagePicker from 'expo-image-picker';\nimport {\n  ArrowLeft,\n  Download,\n  Video,\n  Scissors,\n  Volume2,\n  VolumeX,\n  Play,\n  Pause,\n  SkipBack,\n  SkipForward,\n  Type,\n  Sparkles,\n  Music,\n  Mic,\n  Sliders,\n  Smile,\n  Image as ImageIcon,\n  Square,\n  Wand2,\n  Undo,\n  Redo,\n  Save,\n  Layers,\n} from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Button } from '@/components/ui/Button';\nimport { useStudio } from '@/hooks/studio-store';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\ntype ToolCategory = 'filters' | 'adjust' | 'effects' | 'text' | 'stickers' | 'overlays' | 'frames' | 'transitions' | 'audio' | 'trim';\n\ninterface Tool {\n  id: ToolCategory;\n  name: string;\n  icon: React.ComponentType<any>;\n}\n\nconst TOOLS: Tool[] = [\n  { id: 'filters', name: 'Filters', icon: Sparkles },\n  { id: 'adjust', name: 'Adjust', icon: Sliders },\n  { id: 'effects', name: 'Effects', icon: Wand2 },\n  { id: 'text', name: 'Text', icon: Type },\n  { id: 'stickers', name: 'Stickers', icon: Smile },\n  { id: 'overlays', name: 'Overlays', icon: ImageIcon },\n  { id: 'frames', name: 'Frames', icon: Square },\n  { id: 'transitions', name: 'Transitions', icon: Layers },\n  { id: 'audio', name: 'Audio', icon: Music },\n  { id: 'trim', name: 'Trim', icon: Scissors },\n];\n\nconst FILTERS = [\n  { id: 'none', name: 'Original', preview: '#000' },\n  { id: 'cinematic', name: 'Cinematic', preview: '#1a4d6d' },\n  { id: 'vintage', name: 'Vintage', preview: '#8b7355' },\n  { id: 'noir', name: 'Noir', preview: '#2a2a2a' },\n  { id: 'warm', name: 'Warm', preview: '#ff8c42' },\n  { id: 'cool', name: 'Cool', preview: '#4a90e2' },\n  { id: 'neon', name: 'Neon', preview: '#ff00ff' },\n  { id: 'pastel', name: 'Pastel', preview: '#ffd1dc' },\n];\n\nconst EFFECTS = [\n  { id: 'glitch', name: 'Glitch' },\n  { id: 'vhs', name: 'VHS' },\n  { id: 'sparkle', name: 'Sparkle' },\n  { id: 'neon-glow', name: 'Neon Glow' },\n  { id: 'blur', name: 'Blur' },\n  { id: 'bokeh', name: 'Bokeh' },\n  { id: 'lens-flare', name: 'Lens Flare' },\n  { id: 'light-leak', name: 'Light Leak' },\n];\n\nconst TRANSITIONS = [\n  { id: 'fade', name: 'Fade' },\n  { id: 'dissolve', name: 'Dissolve' },\n  { id: 'wipe', name: 'Wipe' },\n  { id: 'slide', name: 'Slide' },\n  { id: 'zoom', name: 'Zoom' },\n  { id: 'glitch', name: 'Glitch' },\n];\n\nexport default function VideoEditorScreen() {\n  const { colors } = useTheme();\n  const params = useLocalSearchParams();\n  const { currentProject, updateProject, createProject } = useStudio();\n  \n  const [videoUri, setVideoUri] = useState<string | null>(\n    (params.mediaUri as string) || currentProject?.mediaUri || null\n  );\n  const [activeTool, setActiveTool] = useState<ToolCategory | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(100);\n  const [selectedFilter, setSelectedFilter] = useState('none');\n  const [brightness, setBrightness] = useState(0);\n  const [contrast, setContrast] = useState(0);\n  const [saturation, setSaturation] = useState(0);\n  const [showExportModal, setShowExportModal] = useState(false);\n\n  const pickVideo = async () => {\n    try {\n      const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission needed', 'Please grant camera roll permissions.');\n        return;\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Videos,\n        allowsEditing: false,\n        quality: 1,\n      });\n\n      if (!result.canceled && result.assets[0]) {\n        setVideoUri(result.assets[0].uri);\n        setDuration(result.assets[0].duration || 100);\n        \n        if (!currentProject) {\n          createProject('video', 'New Video Project', '9:16', '1080p', 30, result.assets[0].uri);\n        }\n      }\n    } catch (error) {\n      console.error('Error picking video:', error);\n      Alert.alert('Error', 'Failed to pick video.');\n    }\n  };\n\n  const handleExport = () => {\n    setShowExportModal(true);\n  };\n\n  const exportVideo = (resolution: string) => {\n    setShowExportModal(false);\n    Alert.alert('Export Started', `Exporting video in ${resolution}...`);\n  };\n\n  const renderToolPanel = () => {\n    if (!activeTool) return null;\n\n    switch (activeTool) {\n      case 'filters':\n        return (\n          <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.toolContent}>\n            {FILTERS.map((filter) => (\n              <TouchableOpacity\n                key={filter.id}\n                style={[\n                  styles.filterItem,\n                  selectedFilter === filter.id && { borderColor: colors.primary, borderWidth: 2 }\n                ]}\n                onPress={() => setSelectedFilter(filter.id)}\n              >\n                <View style={[styles.filterPreview, { backgroundColor: filter.preview }]} />\n                <Text style={[styles.filterName, { color: colors.text }]}>{filter.name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        );\n\n      case 'adjust':\n        return (\n          <ScrollView style={styles.toolContent}>\n            <View style={styles.adjustmentItem}>\n              <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Brightness</Text>\n              <View style={styles.sliderContainer}>\n                <Text style={[styles.sliderValue, { color: colors.textSecondary }]}>{brightness}</Text>\n              </View>\n            </View>\n            <View style={styles.adjustmentItem}>\n              <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Contrast</Text>\n              <View style={styles.sliderContainer}>\n                <Text style={[styles.sliderValue, { color: colors.textSecondary }]}>{contrast}</Text>\n              </View>\n            </View>\n            <View style={styles.adjustmentItem}>\n              <Text style={[styles.adjustmentLabel, { color: colors.text }]}>Saturation</Text>\n              <View style={styles.sliderContainer}>\n                <Text style={[styles.sliderValue, { color: colors.textSecondary }]}>{saturation}</Text>\n              </View>\n            </View>\n          </ScrollView>\n        );\n\n      case 'effects':\n        return (\n          <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.toolContent}>\n            {EFFECTS.map((effect) => (\n              <TouchableOpacity\n                key={effect.id}\n                style={[styles.effectItem, { backgroundColor: colors.card }]}\n                onPress={() => Alert.alert('Effect', `Applied ${effect.name}`)}\n              >\n                <Wand2 size={24} color={colors.primary} />\n                <Text style={[styles.effectName, { color: colors.text }]}>{effect.name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        );\n\n      case 'text':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Text', 'Text editor coming soon')}\n            >\n              <Type size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Text Layer</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'stickers':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Sticker', 'Sticker library coming soon')}\n            >\n              <Smile size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Sticker</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'overlays':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Overlay', 'Overlay library coming soon')}\n            >\n              <ImageIcon size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Overlay</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'frames':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Frame', 'Frame library coming soon')}\n            >\n              <Square size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Frame</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'transitions':\n        return (\n          <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.toolContent}>\n            {TRANSITIONS.map((transition) => (\n              <TouchableOpacity\n                key={transition.id}\n                style={[styles.transitionItem, { backgroundColor: colors.card }]}\n                onPress={() => Alert.alert('Transition', `Applied ${transition.name}`)}\n              >\n                <Layers size={24} color={colors.primary} />\n                <Text style={[styles.transitionName, { color: colors.text }]}>{transition.name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        );\n\n      case 'audio':\n        return (\n          <View style={styles.toolContent}>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.primary }]}\n              onPress={() => Alert.alert('Add Audio', 'Audio library coming soon')}\n            >\n              <Music size={20} color={colors.textInverse} />\n              <Text style={[styles.addButtonText, { color: colors.textInverse }]}>Add Music</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.addButton, { backgroundColor: colors.card, marginTop: 8 }]}\n              onPress={() => Alert.alert('Record', 'Voice recording coming soon')}\n            >\n              <Mic size={20} color={colors.text} />\n              <Text style={[styles.addButtonText, { color: colors.text }]}>Record Voiceover</Text>\n            </TouchableOpacity>\n          </View>\n        );\n\n      case 'trim':\n        return (\n          <View style={styles.toolContent}>\n            <View style={[styles.trimTimeline, { backgroundColor: colors.border }]}>\n              <View style={[styles.trimHandle, { backgroundColor: colors.primary }]} />\n              <View style={[styles.trimHandle, { backgroundColor: colors.primary, right: 0 }]} />\n            </View>\n            <Text style={[styles.trimInfo, { color: colors.textSecondary }]}>\n              Drag handles to trim video\n            </Text>\n          </View>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={['top']}>\n      <Stack.Screen options={{ headerShown: false }} />\n      \n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n        <TouchableOpacity onPress={() => router.back()} style={styles.headerButton}>\n          <ArrowLeft size={24} color={colors.text} />\n        </TouchableOpacity>\n        <View style={styles.headerActions}>\n          <TouchableOpacity style={styles.headerButton}>\n            <Undo size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.headerButton}>\n            <Redo size={20} color={colors.textSecondary} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.headerButton}>\n            <Save size={20} color={colors.text} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            onPress={() => {\n              Alert.alert(\n                'Post Video',\n                'Post this edited video to your feed?',\n                [\n                  { text: 'Cancel', style: 'cancel' },\n                  { \n                    text: 'Post', \n                    onPress: () => {\n                      Alert.alert('Success', 'Video posted to your feed!');\n                      router.back();\n                    }\n                  },\n                ]\n              );\n            }} \n            style={[styles.headerButton, { backgroundColor: colors.primary, paddingHorizontal: 12, borderRadius: 8 }]}\n          >\n            <Text style={{ color: colors.textInverse, fontWeight: '600' as const, fontSize: 14 }}>Post</Text>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={handleExport} style={styles.headerButton}>\n            <Download size={20} color={colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {!videoUri ? (\n        <View style={styles.emptyState}>\n          <Video size={64} color={colors.textSecondary} />\n          <Text style={[styles.emptyStateTitle, { color: colors.text }]}>No Video Selected</Text>\n          <Button title=\"Choose Video\" onPress={pickVideo} style={styles.emptyStateButton} />\n        </View>\n      ) : (\n        <>\n          <View style={styles.canvas}>\n            <View style={[styles.videoPreview, { backgroundColor: colors.card }]}>\n              <Image\n                source={{ uri: videoUri }}\n                style={styles.videoImage}\n                contentFit=\"contain\"\n              />\n              <TouchableOpacity\n                style={[styles.playOverlay, { backgroundColor: `${colors.background}80` }]}\n                onPress={() => setIsPlaying(!isPlaying)}\n              >\n                {isPlaying ? (\n                  <Pause size={40} color={colors.text} />\n                ) : (\n                  <Play size={40} color={colors.text} />\n                )}\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          <View style={[styles.timeline, { backgroundColor: colors.card }]}>\n            <View style={styles.timelineHeader}>\n              <Text style={[styles.timelineTime, { color: colors.text }]}>\n                {Math.floor(currentTime / 60)}:{(currentTime % 60).toString().padStart(2, '0')}\n              </Text>\n              <View style={styles.playbackControls}>\n                <TouchableOpacity style={styles.playbackButton}>\n                  <SkipBack size={16} color={colors.text} />\n                </TouchableOpacity>\n                <TouchableOpacity style={styles.playbackButton} onPress={() => setIsPlaying(!isPlaying)}>\n                  {isPlaying ? <Pause size={16} color={colors.text} /> : <Play size={16} color={colors.text} />}\n                </TouchableOpacity>\n                <TouchableOpacity style={styles.playbackButton}>\n                  <SkipForward size={16} color={colors.text} />\n                </TouchableOpacity>\n              </View>\n              <TouchableOpacity onPress={() => setIsMuted(!isMuted)}>\n                {isMuted ? <VolumeX size={16} color={colors.text} /> : <Volume2 size={16} color={colors.text} />}\n              </TouchableOpacity>\n            </View>\n            <View style={[styles.timelineTrack, { backgroundColor: colors.border }]}>\n              <View style={[styles.timelineProgress, { backgroundColor: colors.primary, width: '30%' }]} />\n              <View style={[styles.timelinePlayhead, { backgroundColor: colors.primary, left: '30%' }]} />\n            </View>\n          </View>\n\n          <View style={[styles.toolbar, { backgroundColor: colors.card }]}>\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.toolbarContent}>\n              {TOOLS.map((tool) => {\n                const IconComponent = tool.icon;\n                return (\n                  <TouchableOpacity\n                    key={tool.id}\n                    style={[\n                      styles.toolButton,\n                      activeTool === tool.id && { backgroundColor: colors.primary }\n                    ]}\n                    onPress={() => setActiveTool(activeTool === tool.id ? null : tool.id)}\n                  >\n                    <IconComponent\n                      size={20}\n                      color={activeTool === tool.id ? colors.textInverse : colors.text}\n                    />\n                    <Text\n                      style={[\n                        styles.toolButtonText,\n                        { color: activeTool === tool.id ? colors.textInverse : colors.text }\n                      ]}\n                    >\n                      {tool.name}\n                    </Text>\n                  </TouchableOpacity>\n                );\n              })}\n            </ScrollView>\n          </View>\n\n          {activeTool && (\n            <View style={[styles.toolPanel, { backgroundColor: colors.card }]}>\n              {renderToolPanel()}\n            </View>\n          )}\n        </>\n      )}\n\n      <Modal visible={showExportModal} transparent animationType=\"slide\">\n        <View style={styles.modalOverlay}>\n          <View style={[styles.modalContent, { backgroundColor: colors.card }]}>\n            <Text style={[styles.modalTitle, { color: colors.text }]}>Export Video</Text>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportVideo('720p')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>720p HD</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportVideo('1080p')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>1080p Full HD</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.exportOption, { backgroundColor: colors.background }]}\n              onPress={() => exportVideo('4K')}\n            >\n              <Text style={[styles.exportOptionText, { color: colors.text }]}>4K Ultra HD</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.modalCancel, { backgroundColor: colors.background }]}\n              onPress={() => setShowExportModal(false)}\n            >\n              <Text style={[styles.modalCancelText, { color: colors.textSecondary }]}>Cancel</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  headerButton: {\n    padding: 8,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 16,\n  },\n  emptyStateTitle: {\n    fontSize: 20,\n    fontWeight: '600' as const,\n  },\n  emptyStateButton: {\n    marginTop: 16,\n  },\n  canvas: {\n    flex: 1,\n    padding: 16,\n  },\n  videoPreview: {\n    flex: 1,\n    borderRadius: 12,\n    overflow: 'hidden',\n    position: 'relative',\n  },\n  videoImage: {\n    width: '100%',\n    height: '100%',\n  },\n  playOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  timeline: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  timelineHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 12,\n  },\n  timelineTime: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  playbackControls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n  },\n  playbackButton: {\n    padding: 4,\n  },\n  timelineTrack: {\n    height: 4,\n    borderRadius: 2,\n    position: 'relative',\n  },\n  timelineProgress: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  timelinePlayhead: {\n    position: 'absolute',\n    top: -4,\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n    marginLeft: -6,\n  },\n  toolbar: {\n    paddingVertical: 12,\n  },\n  toolbarContent: {\n    paddingHorizontal: 16,\n    gap: 8,\n  },\n  toolButton: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    gap: 4,\n  },\n  toolButtonText: {\n    fontSize: 10,\n    fontWeight: '600' as const,\n  },\n  toolPanel: {\n    height: 180,\n    borderTopWidth: 1,\n    borderTopColor: '#333',\n  },\n  toolContent: {\n    padding: 16,\n  },\n  filterItem: {\n    alignItems: 'center',\n    marginRight: 16,\n    borderRadius: 8,\n    padding: 4,\n  },\n  filterPreview: {\n    width: 60,\n    height: 60,\n    borderRadius: 8,\n    marginBottom: 4,\n  },\n  filterName: {\n    fontSize: 12,\n  },\n  adjustmentItem: {\n    marginBottom: 16,\n  },\n  adjustmentLabel: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n    marginBottom: 8,\n  },\n  sliderContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  sliderValue: {\n    fontSize: 12,\n  },\n  effectItem: {\n    alignItems: 'center',\n    padding: 12,\n    borderRadius: 8,\n    marginRight: 12,\n    minWidth: 80,\n  },\n  effectName: {\n    fontSize: 12,\n    marginTop: 4,\n  },\n  transitionItem: {\n    alignItems: 'center',\n    padding: 12,\n    borderRadius: 8,\n    marginRight: 12,\n    minWidth: 80,\n  },\n  transitionName: {\n    fontSize: 12,\n    marginTop: 4,\n  },\n  addButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderRadius: 12,\n    gap: 8,\n  },\n  addButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  trimTimeline: {\n    height: 60,\n    borderRadius: 8,\n    position: 'relative',\n    marginBottom: 8,\n  },\n  trimHandle: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    width: 4,\n    left: 0,\n  },\n  trimInfo: {\n    fontSize: 12,\n    textAlign: 'center',\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'flex-end',\n  },\n  modalContent: {\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 24,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 20,\n  },\n  exportOption: {\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  exportOptionText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    textAlign: 'center',\n  },\n  modalCancel: {\n    padding: 16,\n    borderRadius: 12,\n    marginTop: 8,\n  },\n  modalCancelText: {\n    fontSize: 16,\n    textAlign: 'center',\n  },\n});\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, TextInput } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { Button } from '@/components/ui/Button';\nimport { ArrowLeft, Search, X } from 'lucide-react-native';\nimport { mockUsers } from '@/mocks/users';\nimport { User } from '@/types';\n\nexport default function FollowersScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { isAuthenticated, user: currentUser } = useAuth();\n  const [followers, setFollowers] = useState<User[]>([]);\n  const [filteredFollowers, setFilteredFollowers] = useState<User[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [followingStatus, setFollowingStatus] = useState<Record<string, boolean>>({});\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n\n    const mockFollowers = mockUsers.filter(u => u.id !== id);\n    setFollowers(mockFollowers);\n    setFilteredFollowers(mockFollowers);\n\n    const initialStatus: Record<string, boolean> = {};\n    mockFollowers.forEach(user => {\n      initialStatus[user.id] = Math.random() > 0.5;\n    });\n    setFollowingStatus(initialStatus);\n  }, [id, isAuthenticated]);\n\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setFilteredFollowers(followers);\n    } else {\n      const filtered = followers.filter(user =>\n        user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        user.displayName.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n      setFilteredFollowers(filtered);\n    }\n  }, [searchQuery, followers]);\n\n  const handleFollowToggle = (userId: string) => {\n    setFollowingStatus(prev => ({\n      ...prev,\n      [userId]: !prev[userId]\n    }));\n  };\n\n  const handleUserPress = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  const renderFollower = ({ item }: { item: User }) => {\n    const isFollowing = followingStatus[item.id];\n    const isSelf = currentUser?.id === item.id;\n    \n    const mutualFollowers = mockUsers.slice(0, Math.floor(Math.random() * 3) + 1);\n    const mutualCount = mutualFollowers.length;\n\n    return (\n      <TouchableOpacity\n        style={styles.followerItem}\n        onPress={() => handleUserPress(item.id)}\n      >\n        <Avatar uri={item.profileImage} size={48} />\n        <View style={styles.followerInfo}>\n          <View style={styles.followerNameRow}>\n            <Text style={styles.followerDisplayName}>{item.displayName}</Text>\n            {item.isVerified && <VerifiedBadge size={16} />}\n          </View>\n          <Text style={styles.followerUsername}>@{item.username}</Text>\n          {mutualCount > 0 && (\n            <Text style={styles.mutualText}>\n              Followed by {mutualFollowers[0].username}\n              {mutualCount > 1 && ` & ${mutualCount - 1} other${mutualCount > 2 ? 's' : ''}`}\n            </Text>\n          )}\n        </View>\n        {!isSelf && (\n          <Button\n            title={isFollowing ? 'Following' : 'Follow'}\n            onPress={() => handleFollowToggle(item.id)}\n            style={[\n              styles.followButton,\n              isFollowing && styles.followingButton\n            ]}\n            textStyle={[\n              styles.followButtonText,\n              isFollowing && styles.followingButtonText\n            ]}\n          />\n        )}\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Stack.Screen\n        options={{\n          title: 'Followers',\n          headerStyle: { backgroundColor: Colors.background },\n          headerTitleStyle: { color: Colors.text },\n          headerTintColor: Colors.text,\n          headerLeft: () => (\n            <TouchableOpacity\n              onPress={() => router.back()}\n              style={styles.headerBackButton}\n            >\n              <ArrowLeft size={24} color={Colors.text} />\n            </TouchableOpacity>\n          ),\n        }}\n      />\n\n      <View style={styles.searchContainer}>\n        <View style={styles.searchInputContainer}>\n          <Search size={20} color={Colors.textSecondary} />\n          <TextInput\n            style={styles.searchInput}\n            placeholder=\"Search followers...\"\n            placeholderTextColor={Colors.textSecondary}\n            value={searchQuery}\n            onChangeText={setSearchQuery}\n          />\n          {searchQuery.length > 0 && (\n            <TouchableOpacity onPress={() => setSearchQuery('')}>\n              <X size={20} color={Colors.textSecondary} />\n            </TouchableOpacity>\n          )}\n        </View>\n      </View>\n\n      <FlatList\n        data={filteredFollowers}\n        keyExtractor={(item) => item.id}\n        renderItem={renderFollower}\n        contentContainerStyle={styles.listContent}\n        showsVerticalScrollIndicator={false}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>\n              {searchQuery ? 'No followers found' : 'No followers yet'}\n            </Text>\n          </View>\n        }\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  headerBackButton: {\n    marginLeft: 16,\n  },\n  searchContainer: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.border,\n  },\n  searchInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: Colors.cardLight,\n    borderRadius: 12,\n    paddingHorizontal: 12,\n    height: 44,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    color: Colors.text,\n  },\n  listContent: {\n    paddingVertical: 8,\n  },\n  followerItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  followerInfo: {\n    flex: 1,\n    marginLeft: 12,\n  },\n  followerNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    marginBottom: 2,\n  },\n  followerDisplayName: {\n    color: Colors.text,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  followerUsername: {\n    color: Colors.textSecondary,\n    fontSize: 14,\n    marginBottom: 2,\n  },\n  mutualText: {\n    color: Colors.textSecondary,\n    fontSize: 12,\n    marginTop: 2,\n  },\n  followButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n    minWidth: 100,\n  },\n  followingButton: {\n    backgroundColor: Colors.cardLight,\n  },\n  followButtonText: {\n    fontSize: 14,\n  },\n  followingButtonText: {\n    color: Colors.text,\n  },\n  emptyContainer: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  emptyText: {\n    color: Colors.textSecondary,\n    fontSize: 16,\n  },\n});\n","import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Platform } from 'react-native';\n\nexport class SecurityUtils {\n  private static readonly ENCRYPTION_KEY = 'vibesync_secure_key_v1';\n  \n  static async encryptData(data: string): Promise<string> {\n    try {\n      const utf8Bytes = new TextEncoder().encode(data);\n      const hexString = Array.from(utf8Bytes)\n        .map(byte => byte.toString(16).padStart(2, '0'))\n        .join('');\n      return hexString;\n    } catch (error) {\n      console.error('Encryption error:', error);\n      return data;\n    }\n  }\n\n  static async decryptData(encryptedData: string): Promise<string> {\n    try {\n      if (!encryptedData || encryptedData.trim() === '') {\n        return '';\n      }\n\n      const hexString = encryptedData;\n      const bytes = new Uint8Array(hexString.length / 2);\n      for (let i = 0; i < bytes.length; i++) {\n        bytes[i] = parseInt(hexString.substr(i * 2, 2), 16);\n      }\n      return new TextDecoder('utf-8').decode(bytes);\n    } catch (error) {\n      console.error('Decryption error:', error);\n      return encryptedData;\n    }\n  }\n\n  static async secureStore(key: string, value: string): Promise<void> {\n    try {\n      const encrypted = await this.encryptData(value);\n      await AsyncStorage.setItem(`secure_${key}`, encrypted);\n    } catch (error) {\n      console.error('Secure store error:', error);\n      throw error;\n    }\n  }\n\n  static async secureRetrieve(key: string): Promise<string | null> {\n    try {\n      const encrypted = await AsyncStorage.getItem(`secure_${key}`);\n      if (!encrypted) return null;\n      return await this.decryptData(encrypted);\n    } catch (error) {\n      console.error('Secure retrieve error:', error);\n      return null;\n    }\n  }\n\n  static async secureRemove(key: string): Promise<void> {\n    try {\n      await AsyncStorage.removeItem(`secure_${key}`);\n    } catch (error) {\n      console.error('Secure remove error:', error);\n    }\n  }\n\n  static sanitizeInput(input: string): string {\n    return input\n      .replace(/[<>]/g, '')\n      .replace(/javascript:/gi, '')\n      .replace(/on\\w+=/gi, '')\n      .trim();\n  }\n\n  static validateEmail(email: string): boolean {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  }\n\n  static validatePassword(password: string): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n    \n    if (password.length < 8) {\n      errors.push('Password must be at least 8 characters');\n    }\n    if (!/[A-Z]/.test(password)) {\n      errors.push('Password must contain at least one uppercase letter');\n    }\n    if (!/[a-z]/.test(password)) {\n      errors.push('Password must contain at least one lowercase letter');\n    }\n    if (!/[0-9]/.test(password)) {\n      errors.push('Password must contain at least one number');\n    }\n    if (!/[!@#$%^&*]/.test(password)) {\n      errors.push('Password must contain at least one special character');\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors,\n    };\n  }\n\n  static generateSecureToken(): string {\n    const array = new Uint8Array(32);\n    if (Platform.OS === 'web' && typeof crypto !== 'undefined') {\n      crypto.getRandomValues(array);\n    } else {\n      for (let i = 0; i < array.length; i++) {\n        array[i] = Math.floor(Math.random() * 256);\n      }\n    }\n    return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');\n  }\n\n  static hashData(data: string): string {\n    let hash = 0;\n    for (let i = 0; i < data.length; i++) {\n      const char = data.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash;\n    }\n    return hash.toString(36);\n  }\n\n  static isTokenExpired(expiryTime: number): boolean {\n    return Date.now() >= expiryTime;\n  }\n\n  static getTokenExpiryTime(durationMs: number = 3600000): number {\n    return Date.now() + durationMs;\n  }\n}\n\nexport class RateLimiter {\n  private attempts: Map<string, { count: number; resetTime: number }> = new Map();\n  private readonly maxAttempts: number;\n  private readonly windowMs: number;\n\n  constructor(maxAttempts: number = 5, windowMs: number = 60000) {\n    this.maxAttempts = maxAttempts;\n    this.windowMs = windowMs;\n  }\n\n  canAttempt(key: string): boolean {\n    const now = Date.now();\n    const record = this.attempts.get(key);\n\n    if (!record || now > record.resetTime) {\n      this.attempts.set(key, { count: 1, resetTime: now + this.windowMs });\n      return true;\n    }\n\n    if (record.count >= this.maxAttempts) {\n      return false;\n    }\n\n    record.count++;\n    return true;\n  }\n\n  getRemainingAttempts(key: string): number {\n    const record = this.attempts.get(key);\n    if (!record || Date.now() > record.resetTime) {\n      return this.maxAttempts;\n    }\n    return Math.max(0, this.maxAttempts - record.count);\n  }\n\n  reset(key: string): void {\n    this.attempts.delete(key);\n  }\n}\n","import React from 'react';\nimport { StyleSheet, View, Text, TouchableOpacity, TextInput } from 'react-native';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { VoicePlayer } from '@/components/ui/VoicePlayer';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Comment } from '@/types';\nimport { Heart, MessageCircle, ChevronDown, ChevronUp, Send, Flame } from 'lucide-react-native';\n\ninterface ThreadedCommentItemProps {\n  comment: Comment;\n  postAuthorId: string;\n  onLike?: (commentId: string) => void;\n  onReply?: (commentId: string) => void;\n  onUserPress?: (userId: string) => void;\n  depth?: number;\n  isExpanded?: boolean;\n  onToggleExpand?: () => void;\n  replyingTo?: string | null;\n  replyText?: string;\n  onReplyTextChange?: (text: string) => void;\n  onSubmitReply?: (commentId: string) => void;\n  onCancelReply?: () => void;\n}\n\nconst MAX_DEPTH = 2;\n\nconst formatNumber = (num: number): string => {\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  }\n  if (num >= 1000) {\n    return (num / 1000).toFixed(1).replace(/\\.0$/, '') + 'K';\n  }\n  return num.toString();\n};\n\nexport const ThreadedCommentItem: React.FC<ThreadedCommentItemProps> = ({\n  comment,\n  postAuthorId,\n  onLike,\n  onReply,\n  onUserPress,\n  depth = 0,\n  isExpanded = false,\n  onToggleExpand,\n  replyingTo,\n  replyText,\n  onReplyTextChange,\n  onSubmitReply,\n  onCancelReply,\n}) => {\n  const { colors } = useTheme();\n  const { user } = useAuth();\n  const isPostAuthor = comment.userId === postAuthorId;\n  const isCurrentUserPostAuthor = user?.id === postAuthorId;\n  const hasReplies = comment.replies && comment.replies.length > 0;\n  const canNest = depth < MAX_DEPTH;\n\n  const indentWidth = depth * 40;\n\n  return (\n    <View style={[styles.container, { marginLeft: indentWidth }]}>\n      <View\n        style={[\n          styles.commentWrapper,\n          { borderBottomColor: colors.border },\n          isPostAuthor && { borderLeftColor: colors.primary, borderLeftWidth: 2 },\n        ]}\n      >\n        <TouchableOpacity onPress={() => onUserPress?.(comment.userId)}>\n          <Avatar uri={comment.profileImage} size={depth > 0 ? 32 : 36} />\n        </TouchableOpacity>\n\n        <View style={styles.content}>\n          <View style={styles.header}>\n            <TouchableOpacity style={styles.userInfo} onPress={() => onUserPress?.(comment.userId)}>\n              <Text style={[styles.username, { color: colors.text }]}>\n                {comment.userDisplayName}\n              </Text>\n              {comment.isVerified && <VerifiedBadge size={12} />}\n              {isPostAuthor && (\n                <View style={[styles.authorBadge, { backgroundColor: colors.primary }]}>\n                  <Text style={styles.authorText}>Author</Text>\n                </View>\n              )}\n            </TouchableOpacity>\n            <Text style={[styles.timestamp, { color: colors.textSecondary }]}>\n              {comment.timestamp}\n            </Text>\n          </View>\n\n          {comment.content && (\n            <Text style={[styles.commentText, { color: colors.text }]}>{comment.content}</Text>\n          )}\n\n          {comment.voiceNote && (\n            <View style={styles.voiceContainer}>\n              <VoicePlayer\n                url={comment.voiceNote.url}\n                duration={comment.voiceNote.duration}\n                waveform={comment.voiceNote.waveform}\n                size=\"small\"\n              />\n            </View>\n          )}\n\n          {comment.isAuthorLiked && (\n            <View style={styles.authorInteraction}>\n              <Flame size={14} color={colors.primary} fill={colors.primary} />\n              <Text style={[styles.authorInteractionText, { color: colors.primary }]}>\n                Liked by Author\n              </Text>\n            </View>\n          )}\n\n          <View style={styles.actions}>\n            <TouchableOpacity style={styles.actionButton} onPress={() => onLike?.(comment.id)}>\n              <Heart\n                size={16}\n                color={comment.isLiked ? colors.error : colors.textSecondary}\n                fill={comment.isLiked ? colors.error : 'transparent'}\n              />\n              {comment.likes > 0 && (\n                <Text style={[styles.actionText, { color: colors.textSecondary }]}>\n                  {formatNumber(comment.likes)}\n                </Text>\n              )}\n            </TouchableOpacity>\n\n            {canNest && (\n              <TouchableOpacity style={styles.actionButton} onPress={() => onReply?.(comment.id)}>\n                <MessageCircle size={16} color={colors.textSecondary} />\n                <Text style={[styles.actionText, { color: colors.textSecondary }]}>Reply</Text>\n              </TouchableOpacity>\n            )}\n\n            {hasReplies && (\n              <TouchableOpacity style={styles.actionButton} onPress={onToggleExpand}>\n                {isExpanded ? (\n                  <ChevronUp size={16} color={colors.primary} />\n                ) : (\n                  <ChevronDown size={16} color={colors.primary} />\n                )}\n                <Text style={[styles.actionText, { color: colors.primary }]}>\n                  {comment.replies?.length} {comment.replies?.length === 1 ? 'reply' : 'replies'}\n                </Text>\n              </TouchableOpacity>\n            )}\n          </View>\n\n          {replyingTo === comment.id && (\n            <View style={[styles.replyInputContainer, { backgroundColor: colors.background }]}>\n              <Avatar uri={user?.profileImage} size={28} />\n              <TextInput\n                value={replyText}\n                onChangeText={onReplyTextChange}\n                placeholder={`Reply to ${comment.userDisplayName}...`}\n                placeholderTextColor={colors.textSecondary}\n                style={[styles.replyInput, { color: colors.text, borderColor: colors.border }]}\n                multiline\n                maxLength={300}\n                autoFocus\n              />\n              <TouchableOpacity\n                style={[styles.replyButton, { backgroundColor: colors.primary }]}\n                onPress={() => onSubmitReply?.(comment.id)}\n                disabled={!replyText?.trim()}\n              >\n                <Send size={14} color=\"#FFFFFF\" />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.cancelButton} onPress={onCancelReply}>\n                <Text style={[styles.cancelText, { color: colors.textSecondary }]}>Cancel</Text>\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n      </View>\n\n      {isExpanded && hasReplies && (\n        <View style={styles.repliesContainer}>\n          {comment.replies?.map((reply) => (\n            <ThreadedCommentItem\n              key={reply.id}\n              comment={reply}\n              postAuthorId={postAuthorId}\n              onLike={onLike}\n              onReply={onReply}\n              onUserPress={onUserPress}\n              depth={depth + 1}\n              isExpanded={false}\n              replyingTo={replyingTo}\n              replyText={replyText}\n              onReplyTextChange={onReplyTextChange}\n              onSubmitReply={onSubmitReply}\n              onCancelReply={onCancelReply}\n            />\n          ))}\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n  },\n  commentWrapper: {\n    flexDirection: 'row',\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    gap: 12,\n    borderBottomWidth: 1,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 4,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n  },\n  username: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  authorBadge: {\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    borderRadius: 4,\n  },\n  authorText: {\n    fontSize: 10,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n  timestamp: {\n    fontSize: 12,\n  },\n  commentText: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 8,\n  },\n  voiceContainer: {\n    marginBottom: 8,\n  },\n  authorInteraction: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    marginBottom: 8,\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n    alignSelf: 'flex-start',\n    borderRadius: 12,\n    backgroundColor: 'rgba(255, 107, 0, 0.1)',\n  },\n  authorInteractionText: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n  },\n  actions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n    marginTop: 4,\n  },\n  actionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  actionText: {\n    fontSize: 12,\n    fontWeight: '500' as const,\n  },\n  repliesContainer: {\n    marginTop: 0,\n  },\n  replyInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginTop: 12,\n    padding: 8,\n    borderRadius: 12,\n  },\n  replyInput: {\n    flex: 1,\n    fontSize: 13,\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderWidth: 1,\n    borderRadius: 16,\n    maxHeight: 60,\n  },\n  replyButton: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  cancelButton: {\n    paddingHorizontal: 8,\n  },\n  cancelText: {\n    fontSize: 12,\n    fontWeight: '500' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, View, Text, TouchableOpacity, FlatList, TextInput, Alert } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Comment } from '@/types';\nimport { ThreadedCommentItem } from './ThreadedCommentItem';\nimport { Send, Mic, X } from 'lucide-react-native';\nimport { VoiceNoteRecorder } from '@/components/ui/VoiceNoteRecorder';\nimport { VoiceNotePlayer } from '@/components/ui/VoiceNotePlayer';\n\ninterface ThreadedCommentSectionProps {\n  comments: Comment[];\n  postAuthorId: string;\n  onCommentLike: (commentId: string) => void;\n  onCommentReply: (commentId: string, content: string, isVoice?: boolean, voiceData?: any) => void;\n  onUserPress: (userId: string) => void;\n  onPostComment: (content: string, isVoice?: boolean, voiceData?: any) => void;\n}\n\nexport const ThreadedCommentSection: React.FC<ThreadedCommentSectionProps> = ({\n  comments,\n  postAuthorId,\n  onCommentLike,\n  onCommentReply,\n  onUserPress,\n  onPostComment,\n}) => {\n  const { colors } = useTheme();\n  const { user } = useAuth();\n  const insets = useSafeAreaInsets();\n  const [commentText, setCommentText] = useState('');\n  const [replyingTo, setReplyingTo] = useState<string | null>(null);\n  const [replyText, setReplyText] = useState('');\n  const [isRecordingVoice, setIsRecordingVoice] = useState(false);\n  const [voiceNoteUri, setVoiceNoteUri] = useState<string | null>(null);\n  const [voiceNoteDuration, setVoiceNoteDuration] = useState(0);\n  const [voiceNoteWaveform, setVoiceNoteWaveform] = useState<number[]>([]);\n  const [expandedThreads, setExpandedThreads] = useState<Set<string>>(new Set());\n\n  const isPostAuthor = user?.id === postAuthorId;\n\n  const handleVoiceRecordingComplete = (uri: string, duration: number, waveform: number[]) => {\n    setVoiceNoteUri(uri);\n    setVoiceNoteDuration(duration);\n    setVoiceNoteWaveform(waveform);\n    setIsRecordingVoice(false);\n  };\n\n  const handleCancelVoiceRecording = () => {\n    setIsRecordingVoice(false);\n    setVoiceNoteUri(null);\n    setVoiceNoteDuration(0);\n    setVoiceNoteWaveform([]);\n  };\n\n  const handlePostComment = () => {\n    if (!commentText.trim() && !voiceNoteUri) return;\n\n    if (voiceNoteUri) {\n      onPostComment('', true, {\n        url: voiceNoteUri,\n        duration: voiceNoteDuration,\n        waveform: voiceNoteWaveform,\n      });\n    } else {\n      onPostComment(commentText, false);\n    }\n\n    setCommentText('');\n    setVoiceNoteUri(null);\n    setVoiceNoteDuration(0);\n    setVoiceNoteWaveform([]);\n  };\n\n  const handleReply = (commentId: string) => {\n    if (!replyText.trim()) return;\n    onCommentReply(commentId, replyText);\n    setReplyText('');\n    setReplyingTo(null);\n  };\n\n  const toggleThread = (commentId: string) => {\n    const newExpanded = new Set(expandedThreads);\n    if (newExpanded.has(commentId)) {\n      newExpanded.delete(commentId);\n    } else {\n      newExpanded.add(commentId);\n    }\n    setExpandedThreads(newExpanded);\n  };\n\n  const renderComment = ({ item }: { item: Comment }) => (\n    <ThreadedCommentItem\n      comment={item}\n      postAuthorId={postAuthorId}\n      onLike={onCommentLike}\n      onReply={(commentId) => setReplyingTo(commentId)}\n      onUserPress={onUserPress}\n      isExpanded={expandedThreads.has(item.id)}\n      onToggleExpand={() => toggleThread(item.id)}\n      depth={0}\n      replyingTo={replyingTo}\n      replyText={replyText}\n      onReplyTextChange={setReplyText}\n      onSubmitReply={handleReply}\n      onCancelReply={() => setReplyingTo(null)}\n    />\n  );\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={comments}\n        keyExtractor={(item) => item.id}\n        renderItem={renderComment}\n        showsVerticalScrollIndicator={false}\n        contentContainerStyle={styles.listContent}\n        ListEmptyComponent={\n          <View style={styles.emptyState}>\n            <Text style={[styles.emptyText, { color: colors.text }]}>No comments yet</Text>\n            <Text style={[styles.emptySubtext, { color: colors.textSecondary }]}>\n              Be the first to comment!\n            </Text>\n          </View>\n        }\n      />\n\n      {isRecordingVoice ? (\n        <View style={[styles.voiceRecorderContainer, { backgroundColor: colors.card, borderTopColor: colors.border, paddingBottom: insets.bottom }]}>\n          <VoiceNoteRecorder\n            maxDuration={30}\n            onRecordingComplete={handleVoiceRecordingComplete}\n            onCancel={handleCancelVoiceRecording}\n          />\n        </View>\n      ) : (\n        <View style={[styles.inputContainer, { backgroundColor: colors.card, borderTopColor: colors.border, paddingBottom: Math.max(insets.bottom, 16) }]}>\n          <Avatar uri={user?.profileImage} size={36} style={styles.inputAvatar} />\n          \n          {voiceNoteUri ? (\n            <View style={styles.voicePreviewContainer}>\n              <VoiceNotePlayer\n                uri={voiceNoteUri}\n                duration={voiceNoteDuration}\n                waveform={voiceNoteWaveform}\n                size=\"small\"\n              />\n              <TouchableOpacity\n                style={[styles.removeVoiceButton, { backgroundColor: colors.error }]}\n                onPress={handleCancelVoiceRecording}\n              >\n                <X size={16} color=\"#FFFFFF\" />\n              </TouchableOpacity>\n            </View>\n          ) : (\n            <TextInput\n              value={commentText}\n              onChangeText={setCommentText}\n              placeholder=\"Add a comment...\"\n              placeholderTextColor={colors.textSecondary}\n              multiline\n              maxLength={500}\n              style={[styles.input, { backgroundColor: colors.background, color: colors.text }]}\n            />\n          )}\n\n          {isPostAuthor && !voiceNoteUri && (\n            <TouchableOpacity\n              style={[styles.voiceButton, { backgroundColor: colors.primary + '20' }]}\n              onPress={() => setIsRecordingVoice(true)}\n            >\n              <Mic size={20} color={colors.primary} />\n            </TouchableOpacity>\n          )}\n\n          <TouchableOpacity\n            style={[\n              styles.sendButton,\n              { backgroundColor: colors.primary },\n              (!commentText.trim() && !voiceNoteUri) && styles.sendButtonDisabled,\n            ]}\n            onPress={handlePostComment}\n            disabled={!commentText.trim() && !voiceNoteUri}\n          >\n            <Send size={18} color=\"#FFFFFF\" />\n          </TouchableOpacity>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingBottom: 20,\n  },\n  emptyState: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  emptySubtext: {\n    fontSize: 14,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    padding: 16,\n    borderTopWidth: 1,\n    gap: 8,\n  },\n  inputAvatar: {\n    marginBottom: 4,\n  },\n  input: {\n    flex: 1,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 14,\n    maxHeight: 80,\n  },\n  voiceButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButtonDisabled: {\n    opacity: 0.5,\n  },\n  voiceRecorderContainer: {\n    padding: 16,\n    borderTopWidth: 1,\n  },\n  voicePreviewContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  removeVoiceButton: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import React from 'react';\nimport { Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { router } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\n\ninterface HashtagTextProps {\n  text: string;\n  style?: any;\n  onUserPress?: (username: string) => void;\n  onHashtagPress?: (hashtag: string) => void;\n}\n\nexport const HashtagText: React.FC<HashtagTextProps> = ({\n  text,\n  style,\n  onUserPress,\n  onHashtagPress,\n}) => {\n  const { colors } = useTheme();\n\n  const parseTextWithLinks = (inputText: string) => {\n    const parts: React.ReactNode[] = [];\n    const regex = /(#\\w+|@\\w+)/g;\n    let lastIndex = 0;\n    let match: RegExpExecArray | null;\n\n    while ((match = regex.exec(inputText)) !== null) {\n      if (match.index > lastIndex) {\n        parts.push(\n          <Text key={`text-${lastIndex}`} style={[styles.normalText, { color: colors.text }, style]}>\n            {inputText.slice(lastIndex, match.index)}\n          </Text>\n        );\n      }\n\n      const isHashtag = match[0].startsWith('#');\n      const isUsername = match[0].startsWith('@');\n\n      parts.push(\n        <TouchableOpacity\n          key={`link-${match.index}`}\n          onPress={() => {\n            if (match && isHashtag) {\n              const hashtag = match[0].slice(1);\n              if (onHashtagPress) {\n                onHashtagPress(hashtag);\n              } else {\n                router.push(`/hashtag/${hashtag}`);\n              }\n            } else if (match && isUsername) {\n              const username = match[0].slice(1);\n              if (onUserPress) {\n                onUserPress(username);\n              } else {\n                router.push(`/user/${username}`);\n              }\n            }\n          }}\n        >\n          <Text\n            style={[\n              styles.linkText,\n              {\n                color: isHashtag ? '#1DA1F2' : colors.primary,\n              },\n              style,\n            ]}\n          >\n            {match[0]}\n          </Text>\n        </TouchableOpacity>\n      );\n\n      lastIndex = regex.lastIndex;\n    }\n\n    if (lastIndex < inputText.length) {\n      parts.push(\n        <Text key={`text-${lastIndex}`} style={[styles.normalText, { color: colors.text }, style]}>\n          {inputText.slice(lastIndex)}\n        </Text>\n      );\n    }\n\n    return parts.length > 0 ? parts : [\n      <Text key=\"full-text\" style={[styles.normalText, { color: colors.text }, style]}>\n        {inputText}\n      </Text>\n    ];\n  };\n\n  return <Text style={styles.container}>{parseTextWithLinks(text)}</Text>;\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  normalText: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  linkText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontWeight: '600',\n  },\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, FlatList, Alert, ScrollView } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { useAuth } from '@/hooks/auth-store';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { VerifiedBadge } from '@/components/ui/VerifiedBadge';\nimport { ThreadedCommentSection } from '@/components/post/ThreadedCommentSection';\nimport { ArrowLeft, Send, Mic, Heart, MessageCircle, Repeat2, Share2 } from 'lucide-react-native';\nimport { mockPosts } from '@/mocks/posts';\nimport { mockComments } from '@/mocks/comments';\nimport { Post, Comment } from '@/types';\nimport { HashtagText } from '@/components/hashtag/HashtagText';\nimport MentionInput from '@/components/tagging/MentionInput';\n\nexport default function PostDetailScreen() {\n  const { id, scrollToComments } = useLocalSearchParams<{ id: string; scrollToComments?: string }>();\n  const commentsRef = useRef<ScrollView>(null);\n  const { isAuthenticated, user } = useAuth();\n  const { colors } = useTheme();\n  const [post, setPost] = useState<Post | null>(null);\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [commentText, setCommentText] = useState('');\n  const [isPosting, setIsPosting] = useState(false);\n  const [isRecordingVoice, setIsRecordingVoice] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [isReposted, setIsReposted] = useState(false);\n  const [likesCount, setLikesCount] = useState(0);\n  const [repostsCount, setRepostsCount] = useState(0);\n  const [showInteractions, setShowInteractions] = useState<'likes' | 'reposts' | null>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    const foundPost = mockPosts.find(p => p.id === id);\n    if (foundPost) {\n      setPost(foundPost);\n      const postComments = mockComments.filter(c => c.postId === id);\n      setComments(postComments);\n      setLikesCount(foundPost.likes);\n      setRepostsCount(foundPost.shares);\n      \n      if (scrollToComments === 'true') {\n        setTimeout(() => {\n          commentsRef.current?.scrollToEnd({ animated: true });\n        }, 300);\n      }\n    }\n  }, [id, isAuthenticated, scrollToComments]);\n\n  const handlePostComment = async () => {\n    if (!commentText.trim() || !user) return;\n    \n    setIsPosting(true);\n    try {\n      const newComment: Comment = {\n        id: Date.now().toString(),\n        postId: id || '',\n        userId: user.id,\n        username: user.username,\n        userDisplayName: user.displayName,\n        profileImage: user.profileImage,\n        isVerified: user.isVerified,\n        content: commentText,\n        timestamp: 'Just now',\n        likes: 0,\n        isLiked: false,\n      };\n      \n      setComments(prev => [newComment, ...prev]);\n      setCommentText('');\n      Alert.alert('Success', 'Comment posted!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to post comment');\n    } finally {\n      setIsPosting(false);\n    }\n  };\n\n  const handleVoiceRecord = () => {\n    setIsRecordingVoice(!isRecordingVoice);\n    console.log('Voice recording:', !isRecordingVoice);\n  };\n\n  const handleLikePress = () => {\n    setIsLiked(!isLiked);\n    setLikesCount(prev => isLiked ? prev - 1 : prev + 1);\n  };\n\n  const handleRepostPress = () => {\n    setIsReposted(!isReposted);\n    setRepostsCount(prev => isReposted ? prev - 1 : prev + 1);\n    Alert.alert('Success', isReposted ? 'Repost removed' : 'Post reposted!');\n  };\n\n  const handleSharePress = () => {\n    Alert.alert('Share', 'Share functionality');\n  };\n\n\n\n  const handleCommentLike = (commentId: string) => {\n    setComments(prev => prev.map(comment => \n      comment.id === commentId \n        ? { \n            ...comment, \n            isLiked: !comment.isLiked,\n            likes: comment.isLiked ? comment.likes - 1 : comment.likes + 1\n          }\n        : comment\n    ));\n  };\n\n  const handleCommentReply = (commentId: string, content: string, isVoice?: boolean, voiceData?: any) => {\n    if (!user) return;\n    \n    const newReply: Comment = {\n      id: Date.now().toString(),\n      postId: id || '',\n      userId: user.id,\n      username: user.username,\n      userDisplayName: user.displayName,\n      profileImage: user.profileImage,\n      isVerified: user.isVerified,\n      content: isVoice ? '' : content,\n      voiceNote: isVoice ? voiceData : undefined,\n      timestamp: 'Just now',\n      likes: 0,\n      isLiked: false,\n    };\n    \n    setComments(prev => prev.map(comment => {\n      if (comment.id === commentId) {\n        return {\n          ...comment,\n          replies: [...(comment.replies || []), newReply],\n        };\n      }\n      return comment;\n    }));\n  };\n\n  const handleUserPress = (userId: string) => {\n    router.push(`/user/${userId}`);\n  };\n\n  const handlePostCommentWithVoice = (content: string, isVoice?: boolean, voiceData?: any) => {\n    if (!user) return;\n    \n    const newComment: Comment = {\n      id: Date.now().toString(),\n      postId: id || '',\n      userId: user.id,\n      username: user.username,\n      userDisplayName: user.displayName,\n      profileImage: user.profileImage,\n      isVerified: user.isVerified,\n      content: isVoice ? '' : content,\n      voiceNote: isVoice ? voiceData : undefined,\n      timestamp: 'Just now',\n      likes: 0,\n      isLiked: false,\n    };\n    \n    setComments(prev => [newComment, ...prev]);\n    Alert.alert('Success', isVoice ? 'Voice comment posted!' : 'Comment posted!');\n  };\n\n  if (!post) {\n    return (\n      <View style={[styles.errorContainer, { backgroundColor: colors.background }]}>\n        <Text style={[styles.errorText, { color: colors.text }]}>Post not found</Text>\n        <TouchableOpacity onPress={() => router.back()} style={[styles.backButton, { backgroundColor: colors.primary }]}>\n          <Text style={[styles.backButtonText, { color: colors.textInverse }]}>Go Back</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen \n        options={{ \n          title: 'Post',\n          headerStyle: { backgroundColor: colors.background },\n          headerTitleStyle: { color: colors.text },\n          headerTintColor: colors.text,\n          headerLeft: () => (\n            <TouchableOpacity \n              onPress={() => router.back()}\n              style={styles.headerBackButton}\n            >\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }} \n      />\n      \n      <View style={styles.headerContainer}>\n            <View style={[styles.postHeader, { borderBottomColor: colors.border }]}>\n              <TouchableOpacity\n                style={styles.userInfo}\n                onPress={() => handleUserPress(post.userId)}\n              >\n                <Avatar uri={post.profileImage} size={48} />\n                <View style={styles.nameContainer}>\n                  <View style={styles.nameRow}>\n                    <Text style={[styles.displayName, { color: colors.text }]}>{post.username}</Text>\n                    {post.isVerified && <VerifiedBadge size={16} />}\n                  </View>\n                  <Text style={[styles.username, { color: colors.textSecondary }]}>@{post.username}</Text>\n                </View>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.postContent}>\n              <HashtagText text={post.content} style={[styles.contentText, { color: colors.text }]} />\n              <Text style={[styles.timestamp, { color: colors.textSecondary }]}>{post.timestamp}</Text>\n            </View>\n\n            <View style={[styles.statsContainer, { borderTopColor: colors.border, borderBottomColor: colors.border }]}>\n              <TouchableOpacity onPress={() => setShowInteractions('likes')} style={styles.statItem}>\n                <Text style={[styles.statNumber, { color: colors.text }]}>{likesCount}</Text>\n                <Text style={[styles.statLabel, { color: colors.textSecondary }]}>Likes</Text>\n              </TouchableOpacity>\n              <TouchableOpacity onPress={() => setShowInteractions('reposts')} style={styles.statItem}>\n                <Text style={[styles.statNumber, { color: colors.text }]}>{repostsCount}</Text>\n                <Text style={[styles.statLabel, { color: colors.textSecondary }]}>Reposts</Text>\n              </TouchableOpacity>\n              <View style={styles.statItem}>\n                <Text style={[styles.statNumber, { color: colors.text }]}>{post.views}</Text>\n                <Text style={[styles.statLabel, { color: colors.textSecondary }]}>Views</Text>\n              </View>\n            </View>\n\n            <View style={[styles.actionsContainer, { borderBottomColor: colors.border }]}>\n              <TouchableOpacity style={styles.actionButton} onPress={handleLikePress}>\n                <Heart size={22} color={isLiked ? colors.error : colors.textSecondary} fill={isLiked ? colors.error : 'transparent'} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.actionButton} onPress={() => {}}>\n                <MessageCircle size={22} color={colors.textSecondary} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.actionButton} onPress={handleRepostPress}>\n                <Repeat2 size={22} color={isReposted ? colors.success : colors.textSecondary} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.actionButton} onPress={handleSharePress}>\n                <Share2 size={22} color={colors.textSecondary} />\n              </TouchableOpacity>\n            </View>\n\n            <View style={[styles.commentsHeader, { borderTopColor: colors.border }]}>\n              <Text style={[styles.commentsTitle, { color: colors.text }]}>Comments ({comments.length})</Text>\n            </View>\n      </View>\n\n      <ThreadedCommentSection\n        comments={comments}\n        postAuthorId={post.userId}\n        onCommentLike={handleCommentLike}\n        onCommentReply={handleCommentReply}\n        onUserPress={handleUserPress}\n        onPostComment={handlePostCommentWithVoice}\n      />\n\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    marginBottom: 20,\n  },\n  backButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  headerBackButton: {\n    marginLeft: 16,\n  },\n  postHeader: {\n    padding: 16,\n    borderBottomWidth: 1,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  nameContainer: {\n    marginLeft: 12,\n  },\n  nameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  displayName: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n  username: {\n    fontSize: 14,\n    marginTop: 2,\n  },\n  postContent: {\n    padding: 16,\n  },\n  contentText: {\n    fontSize: 16,\n    lineHeight: 24,\n    marginBottom: 12,\n  },\n  timestamp: {\n    fontSize: 14,\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    gap: 24,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  statNumber: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n  statLabel: {\n    fontSize: 14,\n  },\n  actionsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  actionButton: {\n    padding: 8,\n  },\n  headerContainer: {\n    backgroundColor: 'transparent',\n  },\n  commentsHeader: {\n    padding: 16,\n    borderTopWidth: 1,\n  },\n  commentsTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n\n});","import React, { useState, useMemo } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView, TextInput, RefreshControl } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { Stack, router } from 'expo-router';\nimport { Flame, Users, Clock, Search as SearchIcon, Plus, TrendingUp } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useSpill } from '@/hooks/spill-store';\nimport { Spill } from '@/types/spill';\n\nexport default function SpillsScreen() {\n  const { colors } = useTheme();\n  const insets = useSafeAreaInsets();\n  const { activeSpills, scheduledSpills, joinSpill } = useSpill();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedFilter, setSelectedFilter] = useState<'trending' | 'new' | 'scheduled'>('trending');\n\n  const onRefresh = async () => {\n    setRefreshing(true);\n    setTimeout(() => setRefreshing(false), 1000);\n  };\n\n  const filteredSpills = useMemo(() => {\n    let spills = activeSpills.filter(s => s.isLive);\n\n    if (searchQuery) {\n      spills = spills.filter(s => \n        s.topicName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        s.hostName.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n\n    if (selectedFilter === 'trending') {\n      return spills.sort((a, b) => b.listenerCount - a.listenerCount);\n    } else if (selectedFilter === 'new') {\n      return spills.sort((a, b) => b.startedAt.getTime() - a.startedAt.getTime());\n    }\n\n    return spills;\n  }, [activeSpills, searchQuery, selectedFilter]);\n\n  const handleJoinSpill = (spillId: string) => {\n    joinSpill(spillId);\n    router.push(`/spill/${spillId}`);\n  };\n\n  const handleStartSpill = () => {\n    router.push('/spill/start');\n  };\n\n  const formatListenerCount = (count: number): string => {\n    if (count >= 1000) {\n      return `${(count / 1000).toFixed(1)}K`;\n    }\n    return count.toString();\n  };\n\n  const getTimeAgo = (date: Date): string => {\n    const seconds = Math.floor((Date.now() - date.getTime()) / 1000);\n    if (seconds < 60) return `${seconds}s ago`;\n    const minutes = Math.floor(seconds / 60);\n    if (minutes < 60) return `${minutes}m ago`;\n    const hours = Math.floor(minutes / 60);\n    return `${hours}h ago`;\n  };\n\n  const renderSpillCard = (spill: Spill) => {\n    const isHot = spill.listenerCount > 1000;\n\n    return (\n      <TouchableOpacity\n        key={spill.id}\n        style={[styles.spillCard, { backgroundColor: colors.card }]}\n        onPress={() => handleJoinSpill(spill.id)}\n        activeOpacity={0.8}\n      >\n        <View style={styles.spillHeader}>\n          <View style={styles.spillTitleRow}>\n            {isHot && (\n              <View style={[styles.hotBadge, { backgroundColor: colors.error }]}>\n                <Flame size={12} color=\"#FFFFFF\" />\n              </View>\n            )}\n            <Text style={[styles.spillTopic, { color: colors.text }]} numberOfLines={1}>\n              {spill.topicName}\n            </Text>\n          </View>\n          <View style={[styles.liveIndicator, { backgroundColor: colors.error }]}>\n            <View style={styles.livePulse} />\n            <Text style={styles.liveText}>LIVE</Text>\n          </View>\n        </View>\n\n        <View style={styles.spillInfo}>\n          <View style={styles.hostInfo}>\n            <View style={[styles.hostAvatar, { backgroundColor: colors.border }]}>\n              <Text style={[styles.hostInitial, { color: colors.text }]}>\n                {spill.hostName[0].toUpperCase()}\n              </Text>\n            </View>\n            <View style={styles.hostDetails}>\n              <Text style={[styles.hostName, { color: colors.text }]} numberOfLines={1}>\n                {spill.hostName}\n              </Text>\n              <Text style={[styles.spillTime, { color: colors.textSecondary }]}>\n                Started {getTimeAgo(spill.startedAt)}\n              </Text>\n            </View>\n          </View>\n\n          <View style={styles.spillStats}>\n            <View style={styles.statItem}>\n              <Users size={16} color={colors.textSecondary} />\n              <Text style={[styles.statText, { color: colors.text }]}>\n                {formatListenerCount(spill.listenerCount)}\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        {spill.cohosts.length > 0 && (\n          <View style={styles.cohostsRow}>\n            <Text style={[styles.cohostsLabel, { color: colors.textSecondary }]}>\n              with {spill.cohosts.map(c => c.name).join(', ')}\n            </Text>\n          </View>\n        )}\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen\n        options={{\n          headerShown: false,\n        }}\n      />\n\n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border, paddingTop: insets.top + 16 }]}>\n        <View style={styles.headerTop}>\n          <Text style={[styles.headerTitle, { color: colors.text }]}>Spills</Text>\n          <TouchableOpacity \n            style={[styles.startButton, { backgroundColor: colors.primary }]}\n            onPress={handleStartSpill}\n          >\n            <Plus size={20} color=\"#FFFFFF\" />\n            <Text style={styles.startButtonText}>Start</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={[styles.searchBar, { backgroundColor: colors.card }]}>\n          <SearchIcon size={18} color={colors.textSecondary} />\n          <TextInput\n            style={[styles.searchInput, { color: colors.text }]}\n            placeholder=\"Search spills...\"\n            placeholderTextColor={colors.textSecondary}\n            value={searchQuery}\n            onChangeText={setSearchQuery}\n          />\n        </View>\n\n        <View style={styles.filterRow}>\n          <TouchableOpacity\n            style={[\n              styles.filterButton,\n              selectedFilter === 'trending' && { backgroundColor: colors.primary }\n            ]}\n            onPress={() => setSelectedFilter('trending')}\n          >\n            <TrendingUp size={16} color={selectedFilter === 'trending' ? '#FFFFFF' : colors.textSecondary} />\n            <Text style={[\n              styles.filterText,\n              { color: selectedFilter === 'trending' ? '#FFFFFF' : colors.textSecondary }\n            ]}>\n              Trending\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[\n              styles.filterButton,\n              selectedFilter === 'new' && { backgroundColor: colors.primary }\n            ]}\n            onPress={() => setSelectedFilter('new')}\n          >\n            <Flame size={16} color={selectedFilter === 'new' ? '#FFFFFF' : colors.textSecondary} />\n            <Text style={[\n              styles.filterText,\n              { color: selectedFilter === 'new' ? '#FFFFFF' : colors.textSecondary }\n            ]}>\n              New\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[\n              styles.filterButton,\n              selectedFilter === 'scheduled' && { backgroundColor: colors.primary }\n            ]}\n            onPress={() => setSelectedFilter('scheduled')}\n          >\n            <Clock size={16} color={selectedFilter === 'scheduled' ? '#FFFFFF' : colors.textSecondary} />\n            <Text style={[\n              styles.filterText,\n              { color: selectedFilter === 'scheduled' ? '#FFFFFF' : colors.textSecondary }\n            ]}>\n              Scheduled\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      <ScrollView\n        style={styles.content}\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} tintColor={colors.primary} />\n        }\n      >\n        {selectedFilter === 'scheduled' ? (\n          <View style={styles.section}>\n            <Text style={[styles.sectionTitle, { color: colors.text }]}>Upcoming Spills</Text>\n            {scheduledSpills.length === 0 ? (\n              <View style={styles.emptyState}>\n                <Clock size={48} color={colors.textSecondary} />\n                <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n                  No scheduled spills yet\n                </Text>\n              </View>\n            ) : (\n              scheduledSpills.map((scheduled) => (\n                <View\n                  key={scheduled.id}\n                  style={[styles.scheduledCard, { backgroundColor: colors.card }]}\n                >\n                  <View style={styles.scheduledHeader}>\n                    <Text style={[styles.scheduledTopic, { color: colors.text }]}>\n                      {scheduled.topicName}\n                    </Text>\n                    <View style={[styles.scheduledBadge, { backgroundColor: colors.primary + '20' }]}>\n                      <Clock size={12} color={colors.primary} />\n                      <Text style={[styles.scheduledBadgeText, { color: colors.primary }]}>\n                        Scheduled\n                      </Text>\n                    </View>\n                  </View>\n                  <Text style={[styles.scheduledHost, { color: colors.textSecondary }]}>\n                    Hosted by {scheduled.hostName}\n                  </Text>\n                  <Text style={[styles.scheduledTime, { color: colors.text }]}>\n                    {scheduled.scheduledFor.toLocaleString()}\n                  </Text>\n                </View>\n              ))\n            )}\n          </View>\n        ) : (\n          <View style={styles.section}>\n            {filteredSpills.length === 0 ? (\n              <View style={styles.emptyState}>\n                <Users size={48} color={colors.textSecondary} />\n                <Text style={[styles.emptyText, { color: colors.textSecondary }]}>\n                  {searchQuery ? 'No spills found' : 'No live spills right now'}\n                </Text>\n                <Text style={[styles.emptySubtext, { color: colors.textSecondary }]}>\n                  {searchQuery ? 'Try a different search' : 'Be the first to start one!'}\n                </Text>\n              </View>\n            ) : (\n              filteredSpills.map(renderSpillCard)\n            )}\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    paddingHorizontal: 20,\n    paddingBottom: 16,\n    borderBottomWidth: 1,\n  },\n  headerTop: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n  },\n  headerTitle: {\n    fontSize: 28,\n    fontWeight: '700' as const,\n  },\n  startButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    gap: 6,\n  },\n  startButtonText: {\n    color: '#FFFFFF',\n    fontSize: 15,\n    fontWeight: '600' as const,\n  },\n  searchBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 12,\n    marginBottom: 16,\n    gap: 10,\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 15,\n  },\n  filterRow: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  filterButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 14,\n    paddingVertical: 8,\n    borderRadius: 20,\n    gap: 6,\n  },\n  filterText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  content: {\n    flex: 1,\n  },\n  section: {\n    padding: 20,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: '700' as const,\n    marginBottom: 16,\n  },\n  spillCard: {\n    padding: 16,\n    borderRadius: 16,\n    marginBottom: 12,\n  },\n  spillHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 12,\n  },\n  spillTitleRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    gap: 8,\n  },\n  hotBadge: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  spillTopic: {\n    fontSize: 18,\n    fontWeight: '700' as const,\n    flex: 1,\n  },\n  liveIndicator: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    gap: 6,\n  },\n  livePulse: {\n    width: 6,\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: '#FFFFFF',\n  },\n  liveText: {\n    color: '#FFFFFF',\n    fontSize: 11,\n    fontWeight: '700' as const,\n  },\n  spillInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  hostInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    gap: 10,\n  },\n  hostAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hostInitial: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  hostDetails: {\n    flex: 1,\n  },\n  hostName: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    marginBottom: 2,\n  },\n  spillTime: {\n    fontSize: 13,\n  },\n  spillStats: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  statText: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n  },\n  cohostsRow: {\n    marginTop: 8,\n    paddingTop: 8,\n    borderTopWidth: 1,\n    borderTopColor: 'rgba(255,255,255,0.1)',\n  },\n  cohostsLabel: {\n    fontSize: 13,\n    fontStyle: 'italic' as const,\n  },\n  scheduledCard: {\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n  },\n  scheduledHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  scheduledTopic: {\n    fontSize: 17,\n    fontWeight: '700' as const,\n    flex: 1,\n  },\n  scheduledBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    gap: 4,\n  },\n  scheduledBadgeText: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  scheduledHost: {\n    fontSize: 14,\n    marginBottom: 4,\n  },\n  scheduledTime: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n  },\n  emptyState: {\n    alignItems: 'center',\n    paddingVertical: 60,\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginTop: 16,\n  },\n  emptySubtext: {\n    fontSize: 14,\n    marginTop: 4,\n  },\n});\n","import React, { useEffect } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Alert, SectionList } from 'react-native';\nimport { Stack, router } from 'expo-router';\nimport { Colors } from '@/constants/colors';\nimport { useNotifications } from '@/hooks/notification-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Button } from '@/components/ui/Button';\nimport { Heart, MessageCircle, UserPlus, Radio, Trash2, ArrowLeft } from 'lucide-react-native';\nimport { Notification } from '@/types';\nimport { useTheme } from '@/hooks/theme-store';\n\ntype NotificationSection = {\n  title: string;\n  data: Notification[];\n};\n\nexport default function NotificationsScreen() {\n  const { isAuthenticated } = useAuth();\n  const { colors } = useTheme();\n  const { \n    notifications, \n    unreadCount, \n    markAsRead, \n    markAllAsRead, \n    clearNotifications,\n    createMockNotifications \n  } = useNotifications();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    // Create mock notifications if none exist\n    if (notifications.length === 0) {\n      createMockNotifications();\n    }\n  }, [isAuthenticated, notifications.length, createMockNotifications]);\n\n  const groupNotificationsByTime = (): NotificationSection[] => {\n    const now = new Date();\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n    const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n\n    const last7Days: Notification[] = [];\n    const last30Days: Notification[] = [];\n\n    notifications.forEach(notification => {\n      const notifDate = new Date(notification.createdAt);\n      if (notifDate >= sevenDaysAgo) {\n        last7Days.push(notification);\n      } else if (notifDate >= thirtyDaysAgo) {\n        last30Days.push(notification);\n      }\n    });\n\n    const sections: NotificationSection[] = [];\n    if (last7Days.length > 0) {\n      sections.push({ title: 'Last 7 days', data: last7Days });\n    }\n    if (last30Days.length > 0) {\n      sections.push({ title: 'Last 30 days', data: last30Days });\n    }\n\n    return sections;\n  };\n\n  const handleNotificationPress = (notification: Notification) => {\n    if (!notification.isRead) {\n      markAsRead(notification.id);\n    }\n\n    // Navigate based on notification type\n    switch (notification.type) {\n      case 'message':\n        router.push('/messages');\n        break;\n      case 'like':\n      case 'comment':\n        if (notification.actionData?.postId) {\n          router.push(`/post/${notification.actionData.postId}`);\n        }\n        break;\n      case 'follow':\n        if (notification.actionData?.userId) {\n          router.push(`/user/${notification.actionData.userId}`);\n        }\n        break;\n      case 'live':\n        router.push('/(tabs)/sync');\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleClearAll = () => {\n    Alert.alert(\n      'Clear All Notifications',\n      'Are you sure you want to clear all notifications?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { \n          text: 'Clear', \n          style: 'destructive',\n          onPress: clearNotifications \n        },\n      ]\n    );\n  };\n\n  const formatTime = (timestamp: string) => {\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diff = now.getTime() - time.getTime();\n    \n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    const weeks = Math.floor(days / 7);\n    \n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return `${weeks}w`;\n  };\n\n  const getNotificationText = (notification: Notification) => {\n    switch (notification.type) {\n      case 'follow':\n        return 'started following you.';\n      case 'like':\n        return 'liked your post.';\n      case 'comment':\n        return 'commented on your post.';\n      case 'message':\n        return 'sent you a message.';\n      default:\n        return notification.message;\n    }\n  };\n\n  const renderNotification = ({ item }: { item: Notification }) => {\n    const isFollowNotification = item.type === 'follow';\n    \n    return (\n      <TouchableOpacity\n        style={styles.notificationItem}\n        onPress={() => handleNotificationPress(item)}\n        activeOpacity={0.7}\n      >\n        <Avatar\n          uri={item.actionData?.userAvatar || 'https://i.pravatar.cc/150?img=1'}\n          size={44}\n        />\n        \n        <View style={styles.notificationContent}>\n          <Text style={[styles.notificationText, { color: colors.text }]}>\n            <Text style={styles.notificationUsername}>{item.title}</Text>\n            {' '}\n            <Text style={{ color: colors.textSecondary }}>{getNotificationText(item)}</Text>\n            {' '}\n            <Text style={{ color: colors.textSecondary }}>{formatTime(item.createdAt)}</Text>\n          </Text>\n        </View>\n        \n        {isFollowNotification && (\n          <Button\n            title=\"Follow\"\n            onPress={() => console.log('Follow user')}\n            style={styles.followButton}\n            textStyle={styles.followButtonText}\n          />\n        )}\n        \n        {!item.isRead && <View style={[styles.unreadDot, { backgroundColor: colors.primary }]} />}\n      </TouchableOpacity>\n    );\n  };\n\n  const sections = groupNotificationsByTime();\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Stack.Screen \n        options={{ \n          headerShown: true,\n          title: 'Notifications',\n          headerStyle: { backgroundColor: colors.background },\n          headerTitleStyle: { \n            color: colors.text,\n            fontSize: 22,\n            fontWeight: 'bold' as const,\n          },\n          headerTintColor: colors.text,\n          headerLeft: () => (\n            <TouchableOpacity \n              onPress={() => router.push('/(tabs)')}\n              style={styles.backButton}\n            >\n              <ArrowLeft size={24} color={colors.text} />\n            </TouchableOpacity>\n          ),\n        }} \n      />\n      \n      {notifications.length === 0 ? (\n        <View style={styles.emptyContainer}>\n          <View style={[styles.emptyIconContainer, { backgroundColor: colors.card }]}>\n            <Heart size={48} color={colors.textSecondary} />\n          </View>\n          <Text style={[styles.emptyTitle, { color: colors.text }]}>No notifications yet</Text>\n          <Text style={[styles.emptyMessage, { color: colors.textSecondary }]}>\n            When someone likes or comments on your posts, you'll see them here.\n          </Text>\n        </View>\n      ) : (\n        <SectionList\n          sections={sections}\n          keyExtractor={(item) => item.id}\n          renderItem={renderNotification}\n          renderSectionHeader={({ section: { title } }) => (\n            <View style={[styles.sectionHeader, { backgroundColor: colors.background }]}>\n              <Text style={[styles.sectionTitle, { color: colors.text }]}>{title}</Text>\n            </View>\n          )}\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={styles.listContainer}\n          stickySectionHeadersEnabled={false}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  backButton: {\n    marginLeft: 16,\n    padding: 8,\n  },\n  listContainer: {\n    paddingBottom: 20,\n  },\n  sectionHeader: {\n    paddingHorizontal: 16,\n    paddingTop: 20,\n    paddingBottom: 8,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: '700' as const,\n  },\n  notificationItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    gap: 12,\n  },\n  notificationContent: {\n    flex: 1,\n  },\n  notificationText: {\n    fontSize: 14,\n    lineHeight: 18,\n  },\n  notificationUsername: {\n    fontWeight: '600' as const,\n  },\n  followButton: {\n    paddingHorizontal: 24,\n    paddingVertical: 8,\n    minHeight: 32,\n  },\n  followButtonText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  unreadDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 40,\n  },\n  emptyIconContainer: {\n    width: 96,\n    height: 96,\n    borderRadius: 48,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  emptyTitle: {\n    fontSize: 22,\n    fontWeight: '700' as const,\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  emptyMessage: {\n    fontSize: 14,\n    textAlign: 'center',\n    lineHeight: 20,\n  },\n});","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, TextInput, ScrollView, Alert } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Stack, router } from 'expo-router';\nimport { X, Hash, Users, Clock, Mic } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useSpill } from '@/hooks/spill-store';\n\nexport default function StartSpillScreen() {\n  const { colors } = useTheme();\n  const { startSpill } = useSpill();\n  const [topicName, setTopicName] = useState('');\n  const [topicType, setTopicType] = useState<'hashtag' | 'name'>('name');\n\n  const handleStartSpill = () => {\n    if (!topicName.trim()) {\n      Alert.alert('Error', 'Please enter a topic name');\n      return;\n    }\n\n    const spill = startSpill(\n      `topic-${Date.now()}`,\n      topicType === 'hashtag' ? `#${topicName.replace('#', '')}` : topicName,\n      topicType\n    );\n\n    router.replace(`/spill/${spill.id}`);\n  };\n\n  return (\n    <SafeAreaView style={[styles.container, { backgroundColor: colors.background }]} edges={['top']}>\n      <Stack.Screen\n        options={{\n          headerShown: false,\n        }}\n      />\n\n      <View style={[styles.header, { borderBottomColor: colors.border }]}>\n        <TouchableOpacity onPress={() => router.back()} style={styles.closeButton}>\n          <X size={24} color={colors.text} />\n        </TouchableOpacity>\n        <Text style={[styles.headerTitle, { color: colors.text }]}>Start a Spill</Text>\n        <View style={styles.placeholder} />\n      </View>\n\n      <ScrollView style={styles.content}>\n        <View style={styles.section}>\n          <View style={[styles.iconContainer, { backgroundColor: colors.primary + '20' }]}>\n            <Mic size={32} color={colors.primary} />\n          </View>\n          <Text style={[styles.title, { color: colors.text }]}>\n            Start a live audio conversation\n          </Text>\n          <Text style={[styles.subtitle, { color: colors.textSecondary }]}>\n            Share your thoughts, debate topics, or just chat with your community in real-time\n          </Text>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={[styles.label, { color: colors.text }]}>Topic Type</Text>\n          <View style={styles.typeRow}>\n            <TouchableOpacity\n              style={[\n                styles.typeButton,\n                { backgroundColor: colors.card },\n                topicType === 'name' && { backgroundColor: colors.primary }\n              ]}\n              onPress={() => setTopicType('name')}\n            >\n              <Users size={20} color={topicType === 'name' ? '#FFFFFF' : colors.textSecondary} />\n              <Text style={[\n                styles.typeText,\n                { color: topicType === 'name' ? '#FFFFFF' : colors.textSecondary }\n              ]}>\n                General Topic\n              </Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={[\n                styles.typeButton,\n                { backgroundColor: colors.card },\n                topicType === 'hashtag' && { backgroundColor: colors.primary }\n              ]}\n              onPress={() => setTopicType('hashtag')}\n            >\n              <Hash size={20} color={topicType === 'hashtag' ? '#FFFFFF' : colors.textSecondary} />\n              <Text style={[\n                styles.typeText,\n                { color: topicType === 'hashtag' ? '#FFFFFF' : colors.textSecondary }\n              ]}>\n                Hashtag\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={[styles.label, { color: colors.text }]}>Topic Name</Text>\n          <TextInput\n            style={[styles.input, { backgroundColor: colors.card, color: colors.text, borderColor: colors.border }]}\n            placeholder={topicType === 'hashtag' ? 'Enter hashtag (without #)' : 'What do you want to talk about?'}\n            placeholderTextColor={colors.textSecondary}\n            value={topicName}\n            onChangeText={setTopicName}\n            autoFocus\n            maxLength={60}\n          />\n          <Text style={[styles.charCount, { color: colors.textSecondary }]}>\n            {topicName.length}/60\n          </Text>\n        </View>\n\n        <View style={styles.section}>\n          <View style={[styles.infoCard, { backgroundColor: colors.card }]}>\n            <Clock size={20} color={colors.primary} />\n            <View style={styles.infoContent}>\n              <Text style={[styles.infoTitle, { color: colors.text }]}>\n                Your spill will start immediately\n              </Text>\n              <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n                You can invite co-hosts and speakers once the spill is live\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <TouchableOpacity\n          style={[styles.startButton, { backgroundColor: colors.primary }]}\n          onPress={handleStartSpill}\n        >\n          <Mic size={20} color=\"#FFFFFF\" />\n          <Text style={styles.startButtonText}>Start Spill</Text>\n        </TouchableOpacity>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  placeholder: {\n    width: 32,\n  },\n  content: {\n    flex: 1,\n  },\n  section: {\n    padding: 20,\n  },\n  iconContainer: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n    marginBottom: 16,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700' as const,\n    textAlign: 'center',\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 15,\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 12,\n  },\n  typeRow: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  typeButton: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 16,\n    borderRadius: 12,\n    gap: 8,\n  },\n  typeText: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n  },\n  input: {\n    paddingHorizontal: 16,\n    paddingVertical: 14,\n    borderRadius: 12,\n    fontSize: 16,\n    borderWidth: 1,\n  },\n  charCount: {\n    fontSize: 13,\n    textAlign: 'right',\n    marginTop: 8,\n  },\n  infoCard: {\n    flexDirection: 'row',\n    padding: 16,\n    borderRadius: 12,\n    gap: 12,\n  },\n  infoContent: {\n    flex: 1,\n  },\n  infoTitle: {\n    fontSize: 15,\n    fontWeight: '600' as const,\n    marginBottom: 4,\n  },\n  infoText: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  startButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginHorizontal: 20,\n    marginBottom: 20,\n    paddingVertical: 16,\n    borderRadius: 12,\n    gap: 8,\n  },\n  startButtonText: {\n    color: '#FFFFFF',\n    fontSize: 17,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Modal, Pressable, ScrollView, Switch, Platform } from 'react-native';\nimport { Lock, Image as ImageIcon, Video, Mic, RotateCcw, X } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { BlurView } from 'expo-blur';\n\ninterface ViewOnceComposerProps {\n  visible: boolean;\n  onClose: () => void;\n  onSend: (options: ViewOnceOptions) => void;\n}\n\nexport interface ViewOnceOptions {\n  type: 'image' | 'video' | 'voice';\n  allowReplay: boolean;\n  maxReplays: number;\n}\n\nexport function ViewOnceComposer({ visible, onClose, onSend }: ViewOnceComposerProps) {\n  const { colors, isDark } = useTheme();\n  const [selectedType, setSelectedType] = useState<'image' | 'video' | 'voice'>('image');\n  const [allowReplay, setAllowReplay] = useState(false);\n  const [maxReplays, setMaxReplays] = useState(1);\n\n  const handleSend = () => {\n    onSend({\n      type: selectedType,\n      allowReplay,\n      maxReplays: allowReplay ? maxReplays : 0,\n    });\n    onClose();\n  };\n\n  const mediaTypes = [\n    { type: 'image' as const, icon: ImageIcon, label: 'Photo', emoji: '' },\n    { type: 'video' as const, icon: Video, label: 'Video', emoji: '' },\n    { type: 'voice' as const, icon: Mic, label: 'Voice', emoji: '' },\n  ];\n\n  const replayOptions = [1, 2, 3];\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <Pressable style={styles.overlay} onPress={onClose}>\n        <Pressable style={styles.modalContainer} onPress={(e) => e.stopPropagation()}>\n          {Platform.OS === 'web' ? (\n            <View style={[styles.content, { backgroundColor: colors.card }]}>\n              <View style={[styles.header, { borderBottomColor: colors.border }]}>\n                <View style={[styles.lockBadge, { backgroundColor: colors.primary }]}>\n                  <Lock size={16} color={colors.text} />\n                </View>\n                <Text style={[styles.title, { color: colors.text }]}>Send View Once</Text>\n                <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                  <X size={24} color={colors.textSecondary} />\n                </TouchableOpacity>\n              </View>\n\n              <ScrollView style={styles.body} showsVerticalScrollIndicator={false}>\n                <Text style={[styles.sectionTitle, { color: colors.text }]}>Select Media Type</Text>\n                <View style={styles.mediaTypeGrid}>\n                  {mediaTypes.map((media) => {\n                    const Icon = media.icon;\n                    const isSelected = selectedType === media.type;\n                    return (\n                      <TouchableOpacity\n                        key={media.type}\n                        style={[\n                          styles.mediaTypeCard,\n                          { backgroundColor: colors.cardLight },\n                          isSelected && { \n                            backgroundColor: colors.primary,\n                            borderColor: colors.primary,\n                            borderWidth: 2,\n                          }\n                        ]}\n                        onPress={() => setSelectedType(media.type)}\n                      >\n                        <Text style={styles.mediaEmoji}>{media.emoji}</Text>\n                        <Icon \n                          size={24} \n                          color={isSelected ? colors.text : colors.textSecondary} \n                        />\n                        <Text style={[\n                          styles.mediaLabel,\n                          { color: isSelected ? colors.text : colors.textSecondary }\n                        ]}>\n                          {media.label}\n                        </Text>\n                      </TouchableOpacity>\n                    );\n                  })}\n                </View>\n\n                <View style={[styles.divider, { backgroundColor: colors.border }]} />\n\n                <View style={styles.replaySection}>\n                  <View style={styles.replaySectionHeader}>\n                    <View style={styles.replayIconContainer}>\n                      <RotateCcw size={18} color={colors.primary} />\n                    </View>\n                    <View style={{ flex: 1 }}>\n                      <Text style={[styles.sectionTitle, { color: colors.text, marginBottom: 2 }]}>\n                        Allow Replay\n                      </Text>\n                      <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n                        Let recipient view the message multiple times\n                      </Text>\n                    </View>\n                    <Switch\n                      value={allowReplay}\n                      onValueChange={setAllowReplay}\n                      trackColor={{ false: colors.border, true: colors.primary }}\n                      thumbColor={colors.text}\n                    />\n                  </View>\n\n                  {allowReplay && (\n                    <View style={styles.replayOptionsContainer}>\n                      <Text style={[styles.replayOptionsLabel, { color: colors.textSecondary }]}>\n                        Maximum replays\n                      </Text>\n                      <View style={styles.replayOptionsGrid}>\n                        {replayOptions.map((count) => (\n                          <TouchableOpacity\n                            key={count}\n                            style={[\n                              styles.replayOption,\n                              { backgroundColor: colors.cardLight },\n                              maxReplays === count && { \n                                backgroundColor: colors.primary,\n                                borderColor: colors.primary,\n                                borderWidth: 2,\n                              }\n                            ]}\n                            onPress={() => setMaxReplays(count)}\n                          >\n                            <Text style={[\n                              styles.replayOptionText,\n                              { color: maxReplays === count ? colors.text : colors.textSecondary }\n                            ]}>\n                              {count}x\n                            </Text>\n                          </TouchableOpacity>\n                        ))}\n                      </View>\n                    </View>\n                  )}\n                </View>\n\n                <View style={[styles.infoBox, { backgroundColor: colors.glass }]}>\n                  <Lock size={16} color={colors.primary} />\n                  <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n                    {allowReplay \n                      ? `Recipient can view this ${maxReplays} time${maxReplays > 1 ? 's' : ''}, then it will be deleted`\n                      : 'Message will be deleted after one view'}\n                  </Text>\n                </View>\n              </ScrollView>\n\n              <View style={[styles.footer, { borderTopColor: colors.border }]}>\n                <TouchableOpacity\n                  style={[styles.cancelButton, { backgroundColor: colors.cardLight }]}\n                  onPress={onClose}\n                >\n                  <Text style={[styles.cancelButtonText, { color: colors.text }]}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[styles.sendButton, { backgroundColor: colors.primary }]}\n                  onPress={handleSend}\n                >\n                  <Lock size={18} color={colors.text} />\n                  <Text style={[styles.sendButtonText, { color: colors.text }]}>Continue</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          ) : (\n            <BlurView intensity={isDark ? 80 : 40} tint={isDark ? 'dark' : 'light'} style={styles.content}>\n              <View style={[styles.header, { borderBottomColor: colors.border }]}>\n                <View style={[styles.lockBadge, { backgroundColor: colors.primary }]}>\n                  <Lock size={16} color={colors.text} />\n                </View>\n                <Text style={[styles.title, { color: colors.text }]}>Send View Once</Text>\n                <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                  <X size={24} color={colors.textSecondary} />\n                </TouchableOpacity>\n              </View>\n\n              <ScrollView style={styles.body} showsVerticalScrollIndicator={false}>\n                <Text style={[styles.sectionTitle, { color: colors.text }]}>Select Media Type</Text>\n                <View style={styles.mediaTypeGrid}>\n                  {mediaTypes.map((media) => {\n                    const Icon = media.icon;\n                    const isSelected = selectedType === media.type;\n                    return (\n                      <TouchableOpacity\n                        key={media.type}\n                        style={[\n                          styles.mediaTypeCard,\n                          { backgroundColor: colors.cardLight },\n                          isSelected && { \n                            backgroundColor: colors.primary,\n                            borderColor: colors.primary,\n                            borderWidth: 2,\n                          }\n                        ]}\n                        onPress={() => setSelectedType(media.type)}\n                      >\n                        <Text style={styles.mediaEmoji}>{media.emoji}</Text>\n                        <Icon \n                          size={24} \n                          color={isSelected ? colors.text : colors.textSecondary} \n                        />\n                        <Text style={[\n                          styles.mediaLabel,\n                          { color: isSelected ? colors.text : colors.textSecondary }\n                        ]}>\n                          {media.label}\n                        </Text>\n                      </TouchableOpacity>\n                    );\n                  })}\n                </View>\n\n                <View style={[styles.divider, { backgroundColor: colors.border }]} />\n\n                <View style={styles.replaySection}>\n                  <View style={styles.replaySectionHeader}>\n                    <View style={styles.replayIconContainer}>\n                      <RotateCcw size={18} color={colors.primary} />\n                    </View>\n                    <View style={{ flex: 1 }}>\n                      <Text style={[styles.sectionTitle, { color: colors.text, marginBottom: 2 }]}>\n                        Allow Replay\n                      </Text>\n                      <Text style={[styles.sectionDescription, { color: colors.textSecondary }]}>\n                        Let recipient view the message multiple times\n                      </Text>\n                    </View>\n                    <Switch\n                      value={allowReplay}\n                      onValueChange={setAllowReplay}\n                      trackColor={{ false: colors.border, true: colors.primary }}\n                      thumbColor={colors.text}\n                    />\n                  </View>\n\n                  {allowReplay && (\n                    <View style={styles.replayOptionsContainer}>\n                      <Text style={[styles.replayOptionsLabel, { color: colors.textSecondary }]}>\n                        Maximum replays\n                      </Text>\n                      <View style={styles.replayOptionsGrid}>\n                        {replayOptions.map((count) => (\n                          <TouchableOpacity\n                            key={count}\n                            style={[\n                              styles.replayOption,\n                              { backgroundColor: colors.cardLight },\n                              maxReplays === count && { \n                                backgroundColor: colors.primary,\n                                borderColor: colors.primary,\n                                borderWidth: 2,\n                              }\n                            ]}\n                            onPress={() => setMaxReplays(count)}\n                          >\n                            <Text style={[\n                              styles.replayOptionText,\n                              { color: maxReplays === count ? colors.text : colors.textSecondary }\n                            ]}>\n                              {count}x\n                            </Text>\n                          </TouchableOpacity>\n                        ))}\n                      </View>\n                    </View>\n                  )}\n                </View>\n\n                <View style={[styles.infoBox, { backgroundColor: colors.glass }]}>\n                  <Lock size={16} color={colors.primary} />\n                  <Text style={[styles.infoText, { color: colors.textSecondary }]}>\n                    {allowReplay \n                      ? `Recipient can view this ${maxReplays} time${maxReplays > 1 ? 's' : ''}, then it will be deleted`\n                      : 'Message will be deleted after one view'}\n                  </Text>\n                </View>\n              </ScrollView>\n\n              <View style={[styles.footer, { borderTopColor: colors.border }]}>\n                <TouchableOpacity\n                  style={[styles.cancelButton, { backgroundColor: colors.cardLight }]}\n                  onPress={onClose}\n                >\n                  <Text style={[styles.cancelButtonText, { color: colors.text }]}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={[styles.sendButton, { backgroundColor: colors.primary }]}\n                  onPress={handleSend}\n                >\n                  <Lock size={18} color={colors.text} />\n                  <Text style={[styles.sendButtonText, { color: colors.text }]}>Continue</Text>\n                </TouchableOpacity>\n              </View>\n            </BlurView>\n          )}\n        </Pressable>\n      </Pressable>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    justifyContent: 'flex-end',\n  },\n  modalContainer: {\n    maxHeight: '85%',\n  },\n  content: {\n    borderTopLeftRadius: 24,\n    borderTopRightRadius: 24,\n    overflow: 'hidden',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    gap: 12,\n  },\n  lockBadge: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    flex: 1,\n    fontSize: 20,\n    fontWeight: '700' as const,\n  },\n  closeButton: {\n    padding: 4,\n  },\n  body: {\n    paddingHorizontal: 20,\n    paddingVertical: 24,\n    maxHeight: 500,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n    marginBottom: 12,\n  },\n  sectionDescription: {\n    fontSize: 13,\n  },\n  mediaTypeGrid: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 24,\n  },\n  mediaTypeCard: {\n    flex: 1,\n    alignItems: 'center',\n    paddingVertical: 20,\n    paddingHorizontal: 12,\n    borderRadius: 16,\n    gap: 8,\n  },\n  mediaEmoji: {\n    fontSize: 32,\n  },\n  mediaLabel: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  divider: {\n    height: 1,\n    marginVertical: 24,\n  },\n  replaySection: {\n    marginBottom: 24,\n  },\n  replaySectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n    marginBottom: 16,\n  },\n  replayIconContainer: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: 'rgba(139, 92, 246, 0.1)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  replayOptionsContainer: {\n    marginTop: 16,\n  },\n  replayOptionsLabel: {\n    fontSize: 14,\n    marginBottom: 12,\n  },\n  replayOptionsGrid: {\n    flexDirection: 'row',\n    gap: 12,\n  },\n  replayOption: {\n    flex: 1,\n    paddingVertical: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  replayOptionText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  infoBox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderRadius: 12,\n    gap: 12,\n  },\n  infoText: {\n    flex: 1,\n    fontSize: 13,\n    lineHeight: 18,\n  },\n  footer: {\n    flexDirection: 'row',\n    paddingHorizontal: 20,\n    paddingVertical: 16,\n    borderTopWidth: 1,\n    gap: 12,\n  },\n  cancelButton: {\n    flex: 1,\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n  },\n  cancelButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  sendButton: {\n    flex: 1,\n    flexDirection: 'row',\n    paddingVertical: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n  },\n  sendButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Animated, Dimensions, Image, Modal, Platform } from 'react-native';\nimport { Lock, Eye, RotateCcw } from 'lucide-react-native';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Message } from '@/types';\nimport { BlurView } from 'expo-blur';\n\nconst { width, height } = Dimensions.get('window');\n\ninterface ViewOnceMessageProps {\n  message: Message;\n  onView: () => void;\n  onExpire: () => void;\n  isMyMessage: boolean;\n}\n\nexport function ViewOnceMessage({ message, onView, onExpire, isMyMessage }: ViewOnceMessageProps) {\n  const { colors } = useTheme();\n  const [isViewing, setIsViewing] = useState(false);\n  const [countdown, setCountdown] = useState(5);\n  const [hasViewed, setHasViewed] = useState(!!message.viewedAt);\n  \n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const scaleAnim = useRef(new Animated.Value(0.9)).current;\n  const progressAnim = useRef(new Animated.Value(0)).current;\n\n  const canReplay = message.allowReplay && \n                    message.replayCount !== undefined && \n                    message.maxReplays !== undefined &&\n                    message.replayCount < message.maxReplays;\n\n  const handleClose = useCallback(() => {\n    Animated.parallel([\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 200,\n        useNativeDriver: true,\n      }),\n      Animated.timing(scaleAnim, {\n        toValue: 0.9,\n        duration: 200,\n        useNativeDriver: true,\n      }),\n    ]).start(() => {\n      setIsViewing(false);\n      if (!canReplay) {\n        onExpire();\n      }\n    });\n  }, [fadeAnim, scaleAnim, canReplay, onExpire]);\n\n  useEffect(() => {\n    if (isViewing) {\n      Animated.parallel([\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 300,\n          useNativeDriver: true,\n        }),\n        Animated.spring(scaleAnim, {\n          toValue: 1,\n          friction: 8,\n          tension: 40,\n          useNativeDriver: true,\n        }),\n      ]).start();\n\n      Animated.timing(progressAnim, {\n        toValue: 1,\n        duration: 5000,\n        useNativeDriver: false,\n      }).start();\n\n      const timer = setInterval(() => {\n        setCountdown(prev => {\n          if (prev <= 1) {\n            clearInterval(timer);\n            handleClose();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n\n      return () => clearInterval(timer);\n    }\n  }, [isViewing, fadeAnim, scaleAnim, progressAnim, handleClose]);\n\n  const handleOpen = () => {\n    if (hasViewed && !canReplay) return;\n    \n    setIsViewing(true);\n    setCountdown(5);\n    progressAnim.setValue(0);\n    onView();\n    \n    if (!hasViewed) {\n      setHasViewed(true);\n    }\n  };\n\n  const progressWidth = progressAnim.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['0%', '100%'],\n  });\n\n  const renderPreview = () => {\n    if (hasViewed && !canReplay) {\n      return (\n        <View style={[styles.expiredContainer, { backgroundColor: colors.card }]}>\n          <Eye size={24} color={colors.textSecondary} />\n          <Text style={[styles.expiredText, { color: colors.textSecondary }]}>\n            {isMyMessage ? 'Viewed' : 'Opened'}\n          </Text>\n          {message.viewedAt && (\n            <Text style={[styles.viewedTime, { color: colors.textSecondary }]}>\n              {new Date(message.viewedAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n            </Text>\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <TouchableOpacity\n        style={[styles.previewContainer, { backgroundColor: colors.card }]}\n        onPress={handleOpen}\n        disabled={isMyMessage}\n      >\n        <View style={[styles.lockIcon, { backgroundColor: colors.primary }]}>\n          <Lock size={20} color={colors.text} />\n        </View>\n        <Text style={[styles.previewText, { color: colors.text }]}>\n          {message.type === 'image' && ' Photo'}\n          {message.type === 'video' && ' Video'}\n          {message.type === 'voice' && ' Voice message'}\n        </Text>\n        <Text style={[styles.viewOnceLabel, { color: colors.textSecondary }]}>\n          Tap to view once\n        </Text>\n        {canReplay && (\n          <View style={styles.replayBadge}>\n            <RotateCcw size={12} color={colors.primary} />\n            <Text style={[styles.replayText, { color: colors.primary }]}>\n              {message.maxReplays! - message.replayCount!} replay{message.maxReplays! - message.replayCount! > 1 ? 's' : ''} left\n            </Text>\n          </View>\n        )}\n      </TouchableOpacity>\n    );\n  };\n\n  const renderContent = () => {\n    if (message.type === 'image' && message.mediaUrl) {\n      return (\n        <Image\n          source={{ uri: message.mediaUrl }}\n          style={styles.mediaContent}\n          resizeMode=\"contain\"\n        />\n      );\n    }\n\n    if (message.type === 'video' && message.mediaUrl) {\n      return (\n        <View style={styles.mediaContent}>\n          <Text style={[styles.placeholderText, { color: colors.text }]}>\n            Video Player\n          </Text>\n        </View>\n      );\n    }\n\n    if (message.type === 'voice') {\n      return (\n        <View style={[styles.voiceContent, { backgroundColor: colors.card }]}>\n          <View style={styles.waveform}>\n            {Array.from({ length: 20 }).map((_, i) => (\n              <View\n                key={i}\n                style={[\n                  styles.waveformBar,\n                  { \n                    backgroundColor: colors.primary,\n                    height: Math.random() * 40 + 20,\n                  }\n                ]}\n              />\n            ))}\n          </View>\n          <Text style={[styles.voiceDuration, { color: colors.text }]}>\n            {message.duration ? `${Math.floor(message.duration / 60)}:${(message.duration % 60).toString().padStart(2, '0')}` : '0:30'}\n          </Text>\n        </View>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <>\n      {renderPreview()}\n\n      <Modal\n        visible={isViewing}\n        transparent\n        animationType=\"none\"\n        onRequestClose={handleClose}\n      >\n        <Animated.View \n          style={[\n            styles.modalContainer,\n            {\n              opacity: fadeAnim,\n            }\n          ]}\n        >\n          {Platform.OS === 'web' ? (\n            <View style={[styles.modalBackground, { backgroundColor: 'rgba(0, 0, 0, 0.95)' }]}>\n              <View style={styles.modalContent}>\n                <Animated.View style={{ transform: [{ scale: scaleAnim }] }}>\n                  {renderContent()}\n                </Animated.View>\n\n                <View style={styles.countdownContainer}>\n                  <View style={[styles.progressBar, { backgroundColor: colors.cardLight }]}>\n                    <Animated.View \n                      style={[\n                        styles.progressFill,\n                        { \n                          backgroundColor: colors.primary,\n                          width: progressWidth,\n                        }\n                      ]} \n                    />\n                  </View>\n                  <Text style={[styles.countdownText, { color: colors.text }]}>\n                    Closing in {countdown}s\n                  </Text>\n                </View>\n\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: colors.card }]}\n                  onPress={handleClose}\n                >\n                  <Text style={[styles.closeButtonText, { color: colors.text }]}>\n                    Close\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          ) : (\n            <BlurView intensity={100} tint=\"dark\" style={styles.modalBackground}>\n              <View style={styles.modalContent}>\n                <Animated.View style={{ transform: [{ scale: scaleAnim }] }}>\n                  {renderContent()}\n                </Animated.View>\n\n                <View style={styles.countdownContainer}>\n                  <View style={[styles.progressBar, { backgroundColor: colors.cardLight }]}>\n                    <Animated.View \n                      style={[\n                        styles.progressFill,\n                        { \n                          backgroundColor: colors.primary,\n                          width: progressWidth,\n                        }\n                      ]} \n                    />\n                  </View>\n                  <Text style={[styles.countdownText, { color: colors.text }]}>\n                    Closing in {countdown}s\n                  </Text>\n                </View>\n\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: colors.card }]}\n                  onPress={handleClose}\n                >\n                  <Text style={[styles.closeButtonText, { color: colors.text }]}>\n                    Close\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </BlurView>\n          )}\n        </Animated.View>\n      </Modal>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  previewContainer: {\n    padding: 16,\n    borderRadius: 16,\n    alignItems: 'center',\n    minWidth: 200,\n    gap: 8,\n  },\n  lockIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  previewText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  viewOnceLabel: {\n    fontSize: 12,\n  },\n  replayBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    marginTop: 4,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    backgroundColor: 'rgba(139, 92, 246, 0.1)',\n  },\n  replayText: {\n    fontSize: 11,\n    fontWeight: '600' as const,\n  },\n  expiredContainer: {\n    padding: 16,\n    borderRadius: 16,\n    alignItems: 'center',\n    minWidth: 150,\n    gap: 6,\n    opacity: 0.6,\n  },\n  expiredText: {\n    fontSize: 14,\n    fontWeight: '500' as const,\n  },\n  viewedTime: {\n    fontSize: 11,\n  },\n  modalContainer: {\n    flex: 1,\n  },\n  modalBackground: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: width * 0.9,\n    maxWidth: 500,\n    alignItems: 'center',\n    gap: 20,\n  },\n  mediaContent: {\n    width: '100%',\n    height: height * 0.6,\n    borderRadius: 20,\n    backgroundColor: '#000',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  placeholderText: {\n    fontSize: 18,\n    fontWeight: '600' as const,\n  },\n  voiceContent: {\n    width: '100%',\n    padding: 32,\n    borderRadius: 20,\n    alignItems: 'center',\n    gap: 16,\n  },\n  waveform: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    height: 60,\n  },\n  waveformBar: {\n    width: 4,\n    borderRadius: 2,\n  },\n  voiceDuration: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  countdownContainer: {\n    width: '100%',\n    alignItems: 'center',\n    gap: 8,\n  },\n  progressBar: {\n    width: '100%',\n    height: 4,\n    borderRadius: 2,\n    overflow: 'hidden',\n  },\n  progressFill: {\n    height: '100%',\n    borderRadius: 2,\n  },\n  countdownText: {\n    fontSize: 14,\n    fontWeight: '600' as const,\n  },\n  closeButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 24,\n  },\n  closeButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, FlatList, TextInput, TouchableOpacity, KeyboardAvoidingView, Platform, Dimensions } from 'react-native';\nimport { Stack, router, useLocalSearchParams } from 'expo-router';\nimport { useTheme } from '@/hooks/theme-store';\nimport { useMessaging } from '@/hooks/messaging-store';\nimport { useAuth } from '@/hooks/auth-store';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { Send, ArrowLeft, Camera, Mic, Image as ImageIcon, Heart, Info } from 'lucide-react-native';\nimport { Message } from '@/types';\nimport { ViewOnceComposer, ViewOnceOptions } from '@/components/messaging/ViewOnceComposer';\nimport { ViewOnceMessage } from '@/components/messaging/ViewOnceMessage';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nconst { width } = Dimensions.get('window');\n\nexport default function ChatScreen() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n  const { isAuthenticated, user } = useAuth();\n  const { conversations, sendMessage, markMessageAsViewed, markMessageAsExpired, recordScreenshotAttempt } = useMessaging();\n  const { colors, isDark } = useTheme();\n  const insets = useSafeAreaInsets();\n  const [messageText, setMessageText] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [showViewOnceComposer, setShowViewOnceComposer] = useState(false);\n  const [screenshotProtectionEnabled, setScreenshotProtectionEnabled] = useState(false);\n  const flatListRef = useRef<FlatList>(null);\n  \n  const conversation = conversations.find(c => c.id === id);\n  const otherUser = conversation?.participants.find(p => p.id !== user?.id) || conversation?.participants[0];\n\n\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      const stored = await AsyncStorage.getItem('@vibesync_settings');\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (parsed.messaging?.screenshotProtection) {\n          setScreenshotProtectionEnabled(parsed.messaging.screenshotProtection);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.replace('/auth');\n      return;\n    }\n    \n    if (conversation) {\n      const mockMessages: Message[] = [\n        {\n          id: '1',\n          content: 'Hey! How are you doing?',\n          senderId: otherUser?.id || 'other',\n          recipientId: user?.id || 'me',\n          type: 'text',\n          timestamp: new Date(Date.now() - 1000 * 60 * 30).toISOString(),\n          isRead: true,\n        },\n        {\n          id: '2',\n          content: 'I\\'m good! Just listening to some music. What about you?',\n          senderId: user?.id || 'me',\n          recipientId: otherUser?.id || 'other',\n          type: 'text',\n          timestamp: new Date(Date.now() - 1000 * 60 * 25).toISOString(),\n          isRead: true,\n        },\n        {\n          id: '3',\n          content: 'That sounds nice! What kind of music?',\n          senderId: otherUser?.id || 'other',\n          recipientId: user?.id || 'me',\n          type: 'text',\n          timestamp: new Date(Date.now() - 1000 * 60 * 20).toISOString(),\n          isRead: true,\n        },\n        {\n          id: '4',\n          content: 'Check out this photo!',\n          senderId: otherUser?.id || 'other',\n          recipientId: user?.id || 'me',\n          type: 'image',\n          timestamp: new Date(Date.now() - 1000 * 60 * 10).toISOString(),\n          isRead: false,\n          isViewOnce: true,\n          allowReplay: true,\n          maxReplays: 2,\n          replayCount: 0,\n          mediaUrl: 'https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=800',\n        },\n      ];\n      setMessages(mockMessages);\n    }\n  }, [isAuthenticated, conversation, otherUser?.id, user?.id]);\n\n  const handleSendMessage = async () => {\n    if (!messageText.trim() || !conversation) return;\n    \n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content: messageText,\n      senderId: user?.id || 'me',\n      recipientId: otherUser?.id || 'other',\n      type: 'text',\n      timestamp: new Date().toISOString(),\n      isRead: false,\n    };\n    \n    setMessages(prev => [...prev, newMessage]);\n    setMessageText('');\n    \n    await sendMessage(conversation.id, messageText);\n  };\n\n  const handleSendViewOnce = async (options: ViewOnceOptions) => {\n    if (!conversation) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content: `View once ${options.type}`,\n      senderId: user?.id || 'me',\n      recipientId: otherUser?.id || 'other',\n      type: options.type,\n      timestamp: new Date().toISOString(),\n      isRead: false,\n      isViewOnce: true,\n      allowReplay: options.allowReplay,\n      maxReplays: options.maxReplays,\n      replayCount: 0,\n      mediaUrl: 'https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=800',\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n\n    await sendMessage(conversation.id, newMessage.content, options.type, {\n      isViewOnce: true,\n      allowReplay: options.allowReplay,\n      maxReplays: options.maxReplays,\n      mediaUrl: newMessage.mediaUrl,\n    });\n  };\n\n  const handleViewMessage = (messageId: string) => {\n    markMessageAsViewed(messageId);\n  };\n\n  const handleExpireMessage = (messageId: string) => {\n    markMessageAsExpired(messageId);\n    setMessages(prev => prev.map(msg => \n      msg.id === messageId ? { ...msg, isExpired: true } : msg\n    ));\n  };\n\n  const formatTime = (timestamp: string) => {\n    const time = new Date(timestamp);\n    return time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const renderMessage = ({ item }: { item: Message }) => {\n    const isMyMessage = item.senderId === user?.id;\n    \n    if (item.isViewOnce) {\n      return (\n        <View style={[styles.messageContainer, isMyMessage && styles.myMessageContainer]}>\n          {!isMyMessage && (\n            <Avatar\n              uri={otherUser?.profileImage}\n              size={32}\n              style={styles.messageAvatar}\n            />\n          )}\n          <ViewOnceMessage\n            message={item}\n            onView={() => handleViewMessage(item.id)}\n            onExpire={() => handleExpireMessage(item.id)}\n            isMyMessage={isMyMessage}\n          />\n        </View>\n      );\n    }\n    \n    return (\n      <View style={[styles.messageContainer, isMyMessage && styles.myMessageContainer]}>\n        {!isMyMessage && (\n          <Avatar\n            uri={otherUser?.profileImage}\n            size={32}\n            style={styles.messageAvatar}\n          />\n        )}\n        <View style={[\n          styles.messageBubble, \n          isMyMessage ? \n            { backgroundColor: colors.primary } : \n            { backgroundColor: colors.card }\n        ]}>\n          <Text style={[styles.messageText, { color: isMyMessage ? '#FFFFFF' : colors.text }]}>\n            {item.content}\n          </Text>\n          <Text style={[\n            styles.messageTime, \n            { color: isMyMessage ? 'rgba(255,255,255,0.8)' : colors.textSecondary }\n          ]}>\n            {formatTime(item.timestamp)}\n          </Text>\n        </View>\n      </View>\n    );\n  };\n\n  const isOnline = true;\n\n  if (!conversation || !otherUser) {\n    return (\n      <View style={[styles.errorContainer, { backgroundColor: colors.background }]}>\n        <Text style={[styles.errorText, { color: colors.text }]}>Conversation not found</Text>\n        <TouchableOpacity onPress={() => router.back()} style={[styles.backButton, { backgroundColor: colors.primary }]}>\n          <Text style={[styles.backButtonText, { color: colors.text }]}>Go Back</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAvoidingView \n      style={[styles.container, { backgroundColor: colors.background }]} \n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <Stack.Screen \n        options={{ \n          headerShown: false,\n        }} \n      />\n\n      {/* Instagram-style Header */}\n      <View style={[styles.header, { backgroundColor: colors.background, borderBottomColor: colors.border }]}>\n        <TouchableOpacity \n          onPress={() => router.back()}\n          style={styles.backBtn}\n        >\n          <ArrowLeft size={24} color={colors.text} />\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.headerCenter}\n          onPress={() => router.push(`/user/${otherUser.id}`)}\n        >\n          <Avatar\n            uri={otherUser.profileImage}\n            size={32}\n          />\n          <View style={styles.userInfo}>\n            <Text style={[styles.userName, { color: colors.text }]} numberOfLines={1}>\n              {otherUser.displayName}\n            </Text>\n            {isOnline && (\n              <Text style={[styles.userStatus, { color: colors.textSecondary }]}>\n                Active 5h ago\n              </Text>\n            )}\n          </View>\n        </TouchableOpacity>\n\n        <TouchableOpacity \n          style={styles.infoBtn}\n          onPress={() => router.push('/messages-settings')}\n        >\n          <Info size={24} color={colors.text} />\n        </TouchableOpacity>\n      </View>\n      \n      {screenshotProtectionEnabled && (\n        <View style={[styles.protectionBanner, { backgroundColor: colors.card }]}>\n          <Text style={[styles.protectionText, { color: colors.textSecondary }]}>\n             New messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them. <Text style={{ color: colors.primary }}>Learn more.</Text>\n          </Text>\n        </View>\n      )}\n\n      <FlatList\n        data={messages}\n        keyExtractor={(item) => item.id}\n        renderItem={renderMessage}\n        style={styles.messagesList}\n        contentContainerStyle={styles.messagesContainer}\n        showsVerticalScrollIndicator={false}\n      />\n\n      \n      {/* Instagram-style Input Area */}\n      <View style={[styles.inputContainer, { backgroundColor: colors.background, borderTopColor: colors.border, paddingBottom: Math.max(insets.bottom, 8) }]}>\n        <TouchableOpacity style={styles.inputIcon} onPress={() => {}}>\n          <Camera size={24} color={colors.primary} />\n        </TouchableOpacity>\n\n        <View style={[styles.inputWrapper, { backgroundColor: colors.card, borderColor: colors.border }]}>\n          <TextInput\n            style={[styles.messageInput, { color: colors.text }]}\n            value={messageText}\n            onChangeText={setMessageText}\n            placeholder=\"Message\"\n            placeholderTextColor={colors.textSecondary}\n            multiline\n            maxLength={1000}\n          />\n        </View>\n\n        <TouchableOpacity style={styles.inputIcon} onPress={() => {}}>\n          <Mic size={24} color={colors.primary} />\n        </TouchableOpacity>\n\n        <TouchableOpacity style={styles.inputIcon} onPress={() => {}}>\n          <ImageIcon size={24} color={colors.primary} />\n        </TouchableOpacity>\n\n        {messageText.trim() ? (\n          <TouchableOpacity\n            onPress={handleSendMessage}\n          >\n            <Text style={[styles.sendText, { color: colors.primary }]}>Send</Text>\n          </TouchableOpacity>\n        ) : (\n          <TouchableOpacity style={styles.inputIcon} onPress={() => {}}>\n            <Heart size={24} color={colors.primary} />\n          </TouchableOpacity>\n        )}\n      </View>\n\n      <ViewOnceComposer\n        visible={showViewOnceComposer}\n        onClose={() => setShowViewOnceComposer(false)}\n        onSend={handleSendViewOnce}\n      />\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    marginBottom: 20,\n  },\n  backButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 24,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 12,\n    paddingTop: 60,\n    paddingBottom: 12,\n    borderBottomWidth: 0.5,\n  },\n  backBtn: {\n    padding: 8,\n  },\n  headerCenter: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: 8,\n    gap: 12,\n  },\n  userInfo: {\n    flex: 1,\n  },\n  userName: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  userStatus: {\n    fontSize: 12,\n    marginTop: 2,\n  },\n  infoBtn: {\n    padding: 8,\n  },\n  messagesList: {\n    flex: 1,\n  },\n  messagesContainer: {\n    padding: 16,\n  },\n  messageContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    alignItems: 'flex-end',\n  },\n  myMessageContainer: {\n    justifyContent: 'flex-end',\n  },\n  messageAvatar: {\n    marginRight: 8,\n  },\n  messageBubble: {\n    maxWidth: '75%',\n    padding: 12,\n    borderRadius: 16,\n  },\n  messageText: {\n    fontSize: 16,\n    lineHeight: 20,\n  },\n  messageTime: {\n    fontSize: 12,\n    marginTop: 4,\n  },\n\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderTopWidth: 0.5,\n    gap: 12,\n  },\n  inputWrapper: {\n    flex: 1,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    minHeight: 36,\n    maxHeight: 100,\n    justifyContent: 'center',\n    borderWidth: 1,\n  },\n  messageInput: {\n    fontSize: 15,\n    lineHeight: 20,\n    minHeight: 20,\n    maxHeight: 84,\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  inputIcon: {\n    padding: 4,\n  },\n  sendText: {\n    fontSize: 16,\n    fontWeight: '600' as const,\n  },\n  protectionBanner: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n  },\n  protectionText: {\n    fontSize: 12,\n    lineHeight: 16,\n    textAlign: 'center',\n  },\n});","import AsyncStorage from '@react-native-async-storage/async-storage';\n\ninterface CacheEntry<T> {\n  data: T;\n  timestamp: number;\n  expiresAt: number;\n}\n\ninterface CacheConfig {\n  ttl?: number;\n  maxSize?: number;\n  prefix?: string;\n}\n\nexport class OfflineCache {\n  private static readonly DEFAULT_TTL = 1000 * 60 * 60;\n  private static readonly DEFAULT_MAX_SIZE = 100;\n  private static readonly CACHE_PREFIX = 'cache_';\n\n  static async set<T>(\n    key: string,\n    data: T,\n    config: CacheConfig = {}\n  ): Promise<void> {\n    try {\n      const {\n        ttl = this.DEFAULT_TTL,\n        prefix = this.CACHE_PREFIX,\n      } = config;\n\n      const entry: CacheEntry<T> = {\n        data,\n        timestamp: Date.now(),\n        expiresAt: Date.now() + ttl,\n      };\n\n      const cacheKey = `${prefix}${key}`;\n      await AsyncStorage.setItem(cacheKey, JSON.stringify(entry));\n      \n      console.log(`[Cache] Set: ${key}`);\n    } catch (error) {\n      console.error('[Cache] Error setting cache:', error);\n    }\n  }\n\n  static async get<T>(\n    key: string,\n    config: CacheConfig = {}\n  ): Promise<T | null> {\n    try {\n      const { prefix = this.CACHE_PREFIX } = config;\n      const cacheKey = `${prefix}${key}`;\n      \n      const cached = await AsyncStorage.getItem(cacheKey);\n      if (!cached) {\n        console.log(`[Cache] Miss: ${key}`);\n        return null;\n      }\n\n      const entry: CacheEntry<T> = JSON.parse(cached);\n\n      if (Date.now() > entry.expiresAt) {\n        console.log(`[Cache] Expired: ${key}`);\n        await this.remove(key, config);\n        return null;\n      }\n\n      console.log(`[Cache] Hit: ${key}`);\n      return entry.data;\n    } catch (error) {\n      console.error('[Cache] Error getting cache:', error);\n      return null;\n    }\n  }\n\n  static async remove(key: string, config: CacheConfig = {}): Promise<void> {\n    try {\n      const { prefix = this.CACHE_PREFIX } = config;\n      const cacheKey = `${prefix}${key}`;\n      await AsyncStorage.removeItem(cacheKey);\n      console.log(`[Cache] Removed: ${key}`);\n    } catch (error) {\n      console.error('[Cache] Error removing cache:', error);\n    }\n  }\n\n  static async clear(config: CacheConfig = {}): Promise<void> {\n    try {\n      const { prefix = this.CACHE_PREFIX } = config;\n      const keys = await AsyncStorage.getAllKeys();\n      const cacheKeys = keys.filter(key => key.startsWith(prefix));\n      \n      await AsyncStorage.multiRemove(cacheKeys);\n      console.log(`[Cache] Cleared ${cacheKeys.length} entries`);\n    } catch (error) {\n      console.error('[Cache] Error clearing cache:', error);\n    }\n  }\n\n  static async has(key: string, config: CacheConfig = {}): Promise<boolean> {\n    const data = await this.get(key, config);\n    return data !== null;\n  }\n\n  static async getOrFetch<T>(\n    key: string,\n    fetchFn: () => Promise<T>,\n    config: CacheConfig = {}\n  ): Promise<T> {\n    const cached = await this.get<T>(key, config);\n    \n    if (cached !== null) {\n      return cached;\n    }\n\n    console.log(`[Cache] Fetching fresh data for: ${key}`);\n    const data = await fetchFn();\n    await this.set(key, data, config);\n    \n    return data;\n  }\n\n  static async getAllKeys(config: CacheConfig = {}): Promise<string[]> {\n    try {\n      const { prefix = this.CACHE_PREFIX } = config;\n      const keys = await AsyncStorage.getAllKeys();\n      return keys\n        .filter(key => key.startsWith(prefix))\n        .map(key => key.replace(prefix, ''));\n    } catch (error) {\n      console.error('[Cache] Error getting all keys:', error);\n      return [];\n    }\n  }\n\n  static async getCacheSize(): Promise<number> {\n    try {\n      const keys = await this.getAllKeys();\n      return keys.length;\n    } catch (error) {\n      console.error('[Cache] Error getting cache size:', error);\n      return 0;\n    }\n  }\n\n  static async cleanExpired(config: CacheConfig = {}): Promise<number> {\n    try {\n      const { prefix = this.CACHE_PREFIX } = config;\n      const keys = await AsyncStorage.getAllKeys();\n      const cacheKeys = keys.filter(key => key.startsWith(prefix));\n      \n      let cleanedCount = 0;\n\n      for (const cacheKey of cacheKeys) {\n        const cached = await AsyncStorage.getItem(cacheKey);\n        if (cached) {\n          const entry: CacheEntry<any> = JSON.parse(cached);\n          if (Date.now() > entry.expiresAt) {\n            await AsyncStorage.removeItem(cacheKey);\n            cleanedCount++;\n          }\n        }\n      }\n\n      console.log(`[Cache] Cleaned ${cleanedCount} expired entries`);\n      return cleanedCount;\n    } catch (error) {\n      console.error('[Cache] Error cleaning expired cache:', error);\n      return 0;\n    }\n  }\n}\n\nexport class OfflineQueue {\n  private static readonly QUEUE_KEY = 'offline_queue';\n\n  static async enqueue(action: {\n    type: string;\n    payload: any;\n    timestamp: number;\n  }): Promise<void> {\n    try {\n      const queue = await this.getQueue();\n      queue.push(action);\n      await AsyncStorage.setItem(this.QUEUE_KEY, JSON.stringify(queue));\n      console.log('[Offline Queue] Enqueued action:', action.type);\n    } catch (error) {\n      console.error('[Offline Queue] Error enqueuing:', error);\n    }\n  }\n\n  static async dequeue(): Promise<any | null> {\n    try {\n      const queue = await this.getQueue();\n      if (queue.length === 0) return null;\n\n      const action = queue.shift();\n      await AsyncStorage.setItem(this.QUEUE_KEY, JSON.stringify(queue));\n      console.log('[Offline Queue] Dequeued action:', action?.type);\n      \n      return action;\n    } catch (error) {\n      console.error('[Offline Queue] Error dequeuing:', error);\n      return null;\n    }\n  }\n\n  static async getQueue(): Promise<any[]> {\n    try {\n      const queueJson = await AsyncStorage.getItem(this.QUEUE_KEY);\n      return queueJson ? JSON.parse(queueJson) : [];\n    } catch (error) {\n      console.error('[Offline Queue] Error getting queue:', error);\n      return [];\n    }\n  }\n\n  static async clear(): Promise<void> {\n    try {\n      await AsyncStorage.removeItem(this.QUEUE_KEY);\n      console.log('[Offline Queue] Cleared');\n    } catch (error) {\n      console.error('[Offline Queue] Error clearing:', error);\n    }\n  }\n\n  static async size(): Promise<number> {\n    const queue = await this.getQueue();\n    return queue.length;\n  }\n\n  static async processQueue(\n    processor: (action: any) => Promise<boolean>\n  ): Promise<number> {\n    try {\n      const queue = await this.getQueue();\n      let processedCount = 0;\n\n      for (const action of queue) {\n        try {\n          const success = await processor(action);\n          if (success) {\n            await this.dequeue();\n            processedCount++;\n          } else {\n            break;\n          }\n        } catch (error) {\n          console.error('[Offline Queue] Error processing action:', error);\n          break;\n        }\n      }\n\n      console.log(`[Offline Queue] Processed ${processedCount} actions`);\n      return processedCount;\n    } catch (error) {\n      console.error('[Offline Queue] Error processing queue:', error);\n      return 0;\n    }\n  }\n}\n\nexport class DataSyncManager {\n  private static isSyncing: boolean = false;\n  private static lastSyncTime: number = 0;\n\n  static async sync(\n    syncFn: () => Promise<void>,\n    forceSync: boolean = false\n  ): Promise<boolean> {\n    if (this.isSyncing && !forceSync) {\n      console.log('[Sync] Already syncing, skipping');\n      return false;\n    }\n\n    try {\n      this.isSyncing = true;\n      console.log('[Sync] Starting sync...');\n\n      await syncFn();\n\n      this.lastSyncTime = Date.now();\n      console.log('[Sync] Completed successfully');\n      \n      return true;\n    } catch (error) {\n      console.error('[Sync] Error during sync:', error);\n      return false;\n    } finally {\n      this.isSyncing = false;\n    }\n  }\n\n  static getLastSyncTime(): number {\n    return this.lastSyncTime;\n  }\n\n  static isSyncInProgress(): boolean {\n    return this.isSyncing;\n  }\n\n  static async syncWithRetry(\n    syncFn: () => Promise<void>,\n    maxRetries: number = 3\n  ): Promise<boolean> {\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\n      const success = await this.sync(syncFn);\n      if (success) return true;\n\n      if (attempt < maxRetries - 1) {\n        const delay = Math.pow(2, attempt) * 1000;\n        console.log(`[Sync] Retry ${attempt + 1} in ${delay}ms`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n\n    console.error('[Sync] Failed after all retries');\n    return false;\n  }\n}\n","import { useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nimport { Message, Conversation, User } from '@/types';\nimport { useAuth } from './auth-store';\nimport { SecurityUtils } from '@/utils/security';\nimport { OfflineQueue } from '@/utils/offline-cache';\nimport { ErrorTracker } from '@/utils/performance';\n\ninterface MessagingState {\n  conversations: Conversation[];\n  activeConversation: Conversation | null;\n  unreadCount: number;\n  screenshotProtectionEnabled: boolean;\n  screenshotAttempts: Map<string, number>;\n}\n\nexport const [MessagingProvider, useMessaging] = createContextHook(() => {\n  const { user } = useAuth();\n  \n  const [state, setState] = useState<MessagingState>({\n    conversations: [],\n    activeConversation: null,\n    unreadCount: 0,\n    screenshotProtectionEnabled: false,\n    screenshotAttempts: new Map(),\n  });\n\n  useEffect(() => {\n    loadConversations();\n  }, [user]);\n\n  const loadConversations = async () => {\n    try {\n      const stored = await AsyncStorage.getItem('conversations');\n      if (stored) {\n        const decrypted = await SecurityUtils.decryptData(stored);\n        const conversations: Conversation[] = JSON.parse(decrypted);\n        const unreadCount = conversations.reduce((sum, conv) => sum + conv.unreadCount, 0);\n        setState(prev => ({ ...prev, conversations, unreadCount }));\n        console.log('[Messaging] Conversations loaded and decrypted');\n      } else {\n        createMockConversations();\n      }\n    } catch (error) {\n      console.error('[Messaging] Error loading conversations:', error);\n      ErrorTracker.trackError(error as Error);\n      createMockConversations();\n    }\n  };\n\n  const saveConversations = async (conversations: Conversation[]) => {\n    try {\n      const encrypted = await SecurityUtils.encryptData(JSON.stringify(conversations));\n      await AsyncStorage.setItem('conversations', encrypted);\n      console.log('[Messaging] Conversations saved securely');\n    } catch (error) {\n      console.error('[Messaging] Error saving conversations:', error);\n      ErrorTracker.trackError(error as Error);\n    }\n  };\n\n  const sendMessage = async (\n    conversationId: string, \n    content: string, \n    type: 'text' | 'image' | 'audio' | 'video' | 'voice' = 'text',\n    options?: {\n      isViewOnce?: boolean;\n      allowReplay?: boolean;\n      maxReplays?: number;\n      mediaUrl?: string;\n      duration?: number;\n    }\n  ) => {\n    if (!user) return;\n\n    try {\n      const encryptedContent = await SecurityUtils.encryptData(content);\n      \n      const newMessage: Message = {\n        id: Date.now().toString(),\n        senderId: user.id,\n        recipientId: '',\n        content: encryptedContent,\n        type,\n        timestamp: new Date().toISOString(),\n        isRead: false,\n        isViewOnce: options?.isViewOnce,\n        allowReplay: options?.allowReplay,\n        maxReplays: options?.maxReplays,\n        replayCount: 0,\n        mediaUrl: options?.mediaUrl,\n        duration: options?.duration,\n        isExpired: false,\n        screenshotAttempts: [],\n      };\n\n      await OfflineQueue.enqueue({\n        type: 'SEND_MESSAGE',\n        payload: { conversationId, message: newMessage },\n        timestamp: Date.now(),\n      });\n\n      setState(prev => {\n        const updatedConversations = prev.conversations.map(conv => {\n          if (conv.id === conversationId) {\n            const updatedConv = {\n              ...conv,\n              lastMessage: newMessage,\n              updatedAt: newMessage.timestamp,\n            };\n            return updatedConv;\n          }\n          return conv;\n        });\n\n        saveConversations(updatedConversations);\n        return { ...prev, conversations: updatedConversations };\n      });\n\n      console.log('[Messaging] Message sent and encrypted', options?.isViewOnce ? '(View Once)' : '');\n    } catch (error) {\n      console.error('[Messaging] Error sending message:', error);\n      ErrorTracker.trackError(error as Error, { conversationId });\n    }\n  };\n\n  const markConversationAsRead = (conversationId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv =>\n        conv.id === conversationId ? { ...conv, unreadCount: 0 } : conv\n      );\n      const unreadCount = updatedConversations.reduce((sum, conv) => sum + conv.unreadCount, 0);\n      \n      saveConversations(updatedConversations);\n      return {\n        ...prev,\n        conversations: updatedConversations,\n        unreadCount,\n      };\n    });\n  };\n\n  const setActiveConversation = (conversation: Conversation | null) => {\n    setState(prev => ({ ...prev, activeConversation: conversation }));\n    if (conversation) {\n      markConversationAsRead(conversation.id);\n    }\n  };\n\n  const createConversation = (participant: User): Conversation => {\n    if (!user) throw new Error('User not authenticated');\n\n    const newConversation: Conversation = {\n      id: Date.now().toString(),\n      participants: [user, participant],\n      lastMessage: {\n        id: '',\n        senderId: '',\n        recipientId: '',\n        content: '',\n        type: 'text',\n        timestamp: new Date().toISOString(),\n        isRead: true,\n      },\n      unreadCount: 0,\n      updatedAt: new Date().toISOString(),\n    };\n\n    setState(prev => {\n      const updatedConversations = [newConversation, ...prev.conversations];\n      saveConversations(updatedConversations);\n      return { ...prev, conversations: updatedConversations };\n    });\n\n    return newConversation;\n  };\n\n  const createMockConversations = () => {\n    if (!user) return;\n\n    const mockConversations: Conversation[] = [\n      {\n        id: '1',\n        participants: [\n          user,\n          {\n            id: 'user2',\n            username: 'sarah_music',\n            displayName: 'Sarah Johnson',\n            profileImage: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n            isVerified: true,\n            followers: 1200,\n            following: 450,\n            followersCount: 1200,\n            followingCount: 450,\n            posts: 89,\n          }\n        ],\n        lastMessage: {\n          id: 'msg1',\n          senderId: 'user2',\n          recipientId: user.id,\n          content: 'Hey! Love your latest post about that new track ',\n          type: 'text',\n          timestamp: new Date(Date.now() - 1000 * 60 * 15).toISOString(),\n          isRead: false,\n        },\n        unreadCount: 2,\n        updatedAt: new Date(Date.now() - 1000 * 60 * 15).toISOString(),\n      },\n      {\n        id: '2',\n        participants: [\n          user,\n          {\n            id: 'user3',\n            username: 'mike_beats',\n            displayName: 'Mike Rodriguez',\n            profileImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n            isVerified: false,\n            followers: 890,\n            following: 320,\n            followersCount: 890,\n            followingCount: 320,\n            posts: 156,\n          }\n        ],\n        lastMessage: {\n          id: 'msg2',\n          senderId: user.id,\n          recipientId: 'user3',\n          content: 'Thanks for the collaboration idea!',\n          type: 'text',\n          timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2).toISOString(),\n          isRead: true,\n        },\n        unreadCount: 0,\n        updatedAt: new Date(Date.now() - 1000 * 60 * 60 * 2).toISOString(),\n      },\n    ];\n\n    const unreadCount = mockConversations.reduce((sum, conv) => sum + conv.unreadCount, 0);\n    setState(prev => ({ ...prev, conversations: mockConversations, unreadCount }));\n    saveConversations(mockConversations);\n  };\n\n  const markMessageAsViewed = (messageId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.lastMessage.id === messageId) {\n          return {\n            ...conv,\n            lastMessage: {\n              ...conv.lastMessage,\n              viewedAt: new Date().toISOString(),\n              replayCount: (conv.lastMessage.replayCount || 0) + 1,\n            },\n          };\n        }\n        return conv;\n      });\n      \n      saveConversations(updatedConversations);\n      return { ...prev, conversations: updatedConversations };\n    });\n    console.log('[Messaging] Message marked as viewed:', messageId);\n  };\n\n  const markMessageAsExpired = (messageId: string) => {\n    setState(prev => {\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.lastMessage.id === messageId) {\n          return {\n            ...conv,\n            lastMessage: {\n              ...conv.lastMessage,\n              isExpired: true,\n            },\n          };\n        }\n        return conv;\n      });\n      \n      saveConversations(updatedConversations);\n      return { ...prev, conversations: updatedConversations };\n    });\n    console.log('[Messaging] Message marked as expired:', messageId);\n  };\n\n  const recordScreenshotAttempt = (messageId: string, attempterId: string) => {\n    setState(prev => {\n      const attempts = new Map(prev.screenshotAttempts);\n      const currentCount = attempts.get(messageId) || 0;\n      attempts.set(messageId, currentCount + 1);\n\n      const updatedConversations = prev.conversations.map(conv => {\n        if (conv.lastMessage.id === messageId) {\n          const screenshotAttempts = conv.lastMessage.screenshotAttempts || [];\n          return {\n            ...conv,\n            lastMessage: {\n              ...conv.lastMessage,\n              screenshotAttempts: [\n                ...screenshotAttempts,\n                {\n                  timestamp: new Date().toISOString(),\n                  attempterId,\n                },\n              ],\n            },\n          };\n        }\n        return conv;\n      });\n      \n      saveConversations(updatedConversations);\n      console.log('[Messaging] Screenshot attempt recorded for message:', messageId);\n      \n      return { \n        ...prev, \n        conversations: updatedConversations,\n        screenshotAttempts: attempts,\n      };\n    });\n  };\n\n  const setScreenshotProtection = (enabled: boolean) => {\n    setState(prev => ({ ...prev, screenshotProtectionEnabled: enabled }));\n    console.log('[Messaging] Screenshot protection:', enabled ? 'enabled' : 'disabled');\n  };\n\n  return {\n    conversations: state.conversations,\n    activeConversation: state.activeConversation,\n    unreadCount: state.unreadCount,\n    screenshotProtectionEnabled: state.screenshotProtectionEnabled,\n    sendMessage,\n    markConversationAsRead,\n    setActiveConversation,\n    createConversation,\n    createMockConversations,\n    markMessageAsViewed,\n    markMessageAsExpired,\n    recordScreenshotAttempt,\n    setScreenshotProtection,\n  };\n});","import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Animated } from 'react-native';\nimport { Audio } from 'expo-av';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Play, Pause } from 'lucide-react-native';\n\ninterface VoiceNotePlayerProps {\n  uri: string;\n  duration: number;\n  waveform?: number[];\n  size?: 'small' | 'medium' | 'large';\n  testID?: string;\n}\n\nexport const VoiceNotePlayer: React.FC<VoiceNotePlayerProps> = ({\n  uri,\n  duration,\n  waveform = [],\n  size = 'medium',\n  testID,\n}) => {\n  const { colors } = useTheme();\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const [sound, setSound] = useState<Audio.Sound | null>(null);\n  const [position, setPosition] = useState<number>(0);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  \n  const progressAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    return () => {\n      if (sound) {\n        sound.unloadAsync();\n      }\n    };\n  }, [sound]);\n\n  useEffect(() => {\n    Animated.timing(progressAnim, {\n      toValue: duration > 0 ? position / duration : 0,\n      duration: 100,\n      useNativeDriver: false,\n    }).start();\n  }, [position, duration, progressAnim]);\n\n  const loadSound = async () => {\n    try {\n      setIsLoading(true);\n      const { sound: newSound } = await Audio.Sound.createAsync(\n        { uri },\n        { shouldPlay: false },\n        onPlaybackStatusUpdate\n      );\n      setSound(newSound);\n      setIsLoading(false);\n      return newSound;\n    } catch (error) {\n      console.error('Error loading sound:', error);\n      setIsLoading(false);\n      return null;\n    }\n  };\n\n  const onPlaybackStatusUpdate = (status: any) => {\n    if (status.isLoaded) {\n      setPosition(status.positionMillis / 1000);\n      \n      if (status.didJustFinish) {\n        setIsPlaying(false);\n        setPosition(0);\n      }\n    }\n  };\n\n  const togglePlayback = async () => {\n    try {\n      let currentSound = sound;\n      \n      if (!currentSound) {\n        currentSound = await loadSound();\n        if (!currentSound) return;\n      }\n\n      if (isPlaying) {\n        await currentSound.pauseAsync();\n        setIsPlaying(false);\n      } else {\n        await currentSound.playAsync();\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error toggling playback:', error);\n    }\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getSizeStyles = () => {\n    switch (size) {\n      case 'small':\n        return {\n          container: styles.containerSmall,\n          button: styles.buttonSmall,\n          icon: 14,\n          waveformHeight: 20,\n        };\n      case 'large':\n        return {\n          container: styles.containerLarge,\n          button: styles.buttonLarge,\n          icon: 24,\n          waveformHeight: 40,\n        };\n      default:\n        return {\n          container: styles.containerMedium,\n          button: styles.buttonMedium,\n          icon: 18,\n          waveformHeight: 28,\n        };\n    }\n  };\n\n  const sizeStyles = getSizeStyles();\n  const displayWaveform = waveform.length > 0 ? waveform : Array(40).fill(0.5);\n\n  return (\n    <View style={[styles.container, sizeStyles.container, { backgroundColor: colors.card }]} testID={testID}>\n      <TouchableOpacity\n        style={[styles.playButton, sizeStyles.button, { backgroundColor: colors.primary }]}\n        onPress={togglePlayback}\n        disabled={isLoading}\n      >\n        {isPlaying ? (\n          <Pause size={sizeStyles.icon} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n        ) : (\n          <Play size={sizeStyles.icon} color=\"#FFFFFF\" fill=\"#FFFFFF\" />\n        )}\n      </TouchableOpacity>\n\n      <View style={styles.waveformContainer}>\n        <View style={[styles.waveform, { height: sizeStyles.waveformHeight }]}>\n          {displayWaveform.map((amplitude, index) => {\n            const progress = position / duration;\n            const barProgress = index / displayWaveform.length;\n            const isPlayed = barProgress <= progress;\n            \n            return (\n              <View\n                key={index}\n                style={[\n                  styles.waveformBar,\n                  {\n                    height: Math.max(amplitude * sizeStyles.waveformHeight, 4),\n                    backgroundColor: isPlayed ? colors.primary : colors.textSecondary,\n                    opacity: isPlayed ? 1 : 0.3,\n                  },\n                ]}\n              />\n            );\n          })}\n        </View>\n        \n        <View style={styles.timeContainer}>\n          <Text style={[styles.timeText, { color: colors.textSecondary }]}>\n            {formatTime(position)}\n          </Text>\n          <Text style={[styles.timeText, { color: colors.textSecondary }]}>\n            {formatTime(duration)}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 12,\n    padding: 10,\n    gap: 10,\n  },\n  containerSmall: {\n    padding: 6,\n    gap: 6,\n    borderRadius: 10,\n  },\n  containerMedium: {\n    padding: 10,\n    gap: 10,\n    borderRadius: 12,\n  },\n  containerLarge: {\n    padding: 14,\n    gap: 14,\n    borderRadius: 14,\n  },\n  playButton: {\n    borderRadius: 18,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonSmall: {\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n  },\n  buttonMedium: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n  },\n  buttonLarge: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n  },\n  waveformContainer: {\n    flex: 1,\n    gap: 6,\n  },\n  waveform: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 1.5,\n  },\n  waveformBar: {\n    flex: 1,\n    borderRadius: 1,\n    minHeight: 3,\n    width: 2,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  timeText: {\n    fontSize: 11,\n    fontWeight: '500' as const,\n  },\n});\n","import { Platform } from 'react-native';\n\ninterface PerformanceMetric {\n  name: string;\n  startTime: number;\n  endTime?: number;\n  duration?: number;\n  metadata?: Record<string, any>;\n}\n\ninterface MemoryInfo {\n  usedJSHeapSize?: number;\n  totalJSHeapSize?: number;\n  jsHeapSizeLimit?: number;\n}\n\nexport class PerformanceMonitor {\n  private static metrics: Map<string, PerformanceMetric> = new Map();\n  private static readonly MAX_METRICS = 100;\n\n  static startMeasure(name: string, metadata?: Record<string, any>): void {\n    const metric: PerformanceMetric = {\n      name,\n      startTime: Date.now(),\n      metadata,\n    };\n    \n    this.metrics.set(name, metric);\n    console.log(`[Performance] Started measuring: ${name}`);\n  }\n\n  static endMeasure(name: string): number | null {\n    const metric = this.metrics.get(name);\n    \n    if (!metric) {\n      console.warn(`[Performance] No metric found for: ${name}`);\n      return null;\n    }\n\n    metric.endTime = Date.now();\n    metric.duration = metric.endTime - metric.startTime;\n\n    console.log(`[Performance] ${name}: ${metric.duration}ms`, metric.metadata);\n\n    if (this.metrics.size > this.MAX_METRICS) {\n      const firstKey = this.metrics.keys().next().value;\n      if (firstKey) {\n        this.metrics.delete(firstKey);\n      }\n    }\n\n    return metric.duration;\n  }\n\n  static getMetric(name: string): PerformanceMetric | undefined {\n    const metric = this.metrics.get(name);\n    if (metric) {\n      this.metrics.delete(name);\n    }\n    return metric;\n  }\n\n  static getAllMetrics(): PerformanceMetric[] {\n    return Array.from(this.metrics.values());\n  }\n\n  static clearMetrics(): void {\n    this.metrics.clear();\n    console.log('[Performance] Metrics cleared');\n  }\n\n  static async measureAsync<T>(\n    name: string,\n    fn: () => Promise<T>,\n    metadata?: Record<string, any>\n  ): Promise<T> {\n    this.startMeasure(name, metadata);\n    try {\n      const result = await fn();\n      this.endMeasure(name);\n      return result;\n    } catch (error) {\n      this.endMeasure(name);\n      throw error;\n    }\n  }\n\n  static measure<T>(\n    name: string,\n    fn: () => T,\n    metadata?: Record<string, any>\n  ): T {\n    this.startMeasure(name, metadata);\n    try {\n      const result = fn();\n      this.endMeasure(name);\n      return result;\n    } catch (error) {\n      this.endMeasure(name);\n      throw error;\n    }\n  }\n\n  static getMemoryInfo(): MemoryInfo | null {\n    if (Platform.OS === 'web' && 'memory' in performance) {\n      const memory = (performance as any).memory;\n      return {\n        usedJSHeapSize: memory.usedJSHeapSize,\n        totalJSHeapSize: memory.totalJSHeapSize,\n        jsHeapSizeLimit: memory.jsHeapSizeLimit,\n      };\n    }\n    return null;\n  }\n\n  static logMemoryUsage(): void {\n    const memory = this.getMemoryInfo();\n    if (memory) {\n      const usedMB = (memory.usedJSHeapSize || 0) / 1024 / 1024;\n      const totalMB = (memory.totalJSHeapSize || 0) / 1024 / 1024;\n      console.log(`[Memory] Used: ${usedMB.toFixed(2)}MB / Total: ${totalMB.toFixed(2)}MB`);\n    }\n  }\n\n  static getAverageMetric(name: string): number | null {\n    const metrics = Array.from(this.metrics.values()).filter(m => m.name === name && m.duration);\n    \n    if (metrics.length === 0) return null;\n\n    const sum = metrics.reduce((acc, m) => acc + (m.duration || 0), 0);\n    return sum / metrics.length;\n  }\n}\n\nexport class ErrorTracker {\n  private static errors: {\n    message: string;\n    stack?: string;\n    timestamp: number;\n    context?: Record<string, any>;\n  }[] = [];\n  private static readonly MAX_ERRORS = 50;\n\n  static trackError(error: Error, context?: Record<string, any>): void {\n    const errorLog = {\n      message: error.message,\n      stack: error.stack,\n      timestamp: Date.now(),\n      context,\n    };\n\n    this.errors.push(errorLog);\n\n    if (this.errors.length > this.MAX_ERRORS) {\n      this.errors.shift();\n    }\n\n    console.error('[Error Tracked]', errorLog);\n  }\n\n  static getErrors(): typeof ErrorTracker.errors {\n    return [...this.errors];\n  }\n\n  static clearErrors(): void {\n    this.errors = [];\n    console.log('[Error Tracker] Errors cleared');\n  }\n\n  static getErrorCount(): number {\n    return this.errors.length;\n  }\n\n  static getRecentErrors(count: number = 10): typeof ErrorTracker.errors {\n    return this.errors.slice(-count);\n  }\n}\n\nexport class AppHealthMonitor {\n  private static healthChecks: Map<string, boolean> = new Map();\n  private static lastCheckTime: number = Date.now();\n\n  static registerHealthCheck(name: string, isHealthy: boolean): void {\n    this.healthChecks.set(name, isHealthy);\n    this.lastCheckTime = Date.now();\n    \n    if (!isHealthy) {\n      console.warn(`[Health Check] ${name} is unhealthy`);\n    }\n  }\n\n  static getHealthStatus(): {\n    isHealthy: boolean;\n    checks: Record<string, boolean>;\n    lastCheck: number;\n  } {\n    const checks: Record<string, boolean> = {};\n    let isHealthy = true;\n\n    this.healthChecks.forEach((status, name) => {\n      checks[name] = status;\n      if (!status) isHealthy = false;\n    });\n\n    return {\n      isHealthy,\n      checks,\n      lastCheck: this.lastCheckTime,\n    };\n  }\n\n  static async runHealthChecks(): Promise<void> {\n    console.log('[Health Check] Running system health checks...');\n\n    try {\n      this.registerHealthCheck('memory', true);\n      \n      const memory = PerformanceMonitor.getMemoryInfo();\n      if (memory && memory.usedJSHeapSize && memory.jsHeapSizeLimit) {\n        const usagePercent = (memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100;\n        this.registerHealthCheck('memory', usagePercent < 90);\n      }\n\n      const errorCount = ErrorTracker.getErrorCount();\n      this.registerHealthCheck('errors', errorCount < 10);\n\n      this.registerHealthCheck('performance', true);\n\n      console.log('[Health Check] Completed', this.getHealthStatus());\n    } catch (error) {\n      console.error('[Health Check] Failed to run health checks', error);\n    }\n  }\n}\n\nexport function withPerformanceTracking<T extends (...args: any[]) => any>(\n  fn: T,\n  name?: string\n): T {\n  return ((...args: any[]) => {\n    const metricName = name || fn.name || 'anonymous';\n    return PerformanceMonitor.measure(metricName, () => fn(...args));\n  }) as T;\n}\n\nexport function withAsyncPerformanceTracking<T extends (...args: any[]) => Promise<any>>(\n  fn: T,\n  name?: string\n): T {\n  return (async (...args: any[]) => {\n    const metricName = name || fn.name || 'anonymous';\n    return await PerformanceMonitor.measureAsync(metricName, () => fn(...args));\n  }) as T;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"86\":\"1531c05e\",\"398\":\"5d1599e7\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [853], () => (__webpack_require__(31697)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["PasswordStrengthIndicator","password","strength","score","color","getPasswordStrength","Colors","border","length","test","error","success","_jsxs","View","style","styles","container","children","_jsx","barContainer","bar","width","backgroundColor","Text","text","requirements","requirement","StyleSheet","create","marginTop","height","borderRadius","overflow","fontSize","fontWeight","gap","textSecondary","INTERESTS","RegisterScreen","register","useAuth","insets","useSafeAreaInsets","step","setStep","useState","isLoading","setIsLoading","setError","retryCount","setRetryCount","email","setEmail","setPassword","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","profileImage","setProfileImage","firstName","setFirstName","lastName","setLastName","username","setUsername","bio","setBio","birthday","setBirthday","gender","setGender","showBirthday","setShowBirthday","selectedInterests","setSelectedInterests","enableLocation","setEnableLocation","usernameAvailable","setUsernameAvailable","checkingUsername","setCheckingUsername","handleImagePicker","async","result","ImagePicker","launchImageLibraryAsync","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","uri","pickImage","handleUsernameChange","value","cleaned","toLowerCase","replace","setTimeout","taken","includes","checkUsernameAvailability","validateEmail","canContinueStep1","hasUpperCase","hasLowerCase","hasNumber","hasSpecialChar","validatePassword","canContinueStep2","trim","canContinueStep3","handleFinish","displayName","console","log","undefined","interests","router","err","isNetworkError","message","prev","StatusBar","header","TouchableOpacity","onPress","handleBack","back","backButton","ChevronLeft","size","progressContainer","progressBar","progressFill","progressText","errorContainer","errorText","handleRetry","retryButton","retryButtonText","ScrollView","stepContainer","showsVerticalScrollIndicator","stepTitle","stepSubtitle","inputGroup","label","TextInput","input","placeholder","placeholderTextColor","onChangeText","autoCapitalize","keyboardType","autoComplete","errorHint","passwordContainer","passwordInput","secureTextEntry","eyeIcon","EyeOff","Eye","profileImageContainer","Image","source","profileImagePlaceholder","Camera","cameraIconBadge","skipText","usernameContainer","usernameInput","usernameStatus","availableBadge","Check","unavailableText","helperText","bioInput","multiline","maxLength","charCount","checkboxRow","checkbox","checkboxChecked","checkboxLabel","genderRow","map","option","genderOption","genderOptionSelected","genderText","genderTextSelected","interestsGrid","interest","isSelected","interestChip","interestChipSelected","filter","i","toggleInterest","interestText","interestTextSelected","interestCheck","selectedCount","locationCard","locationIconContainer","locationIcon","locationTitle","locationDescription","locationToggle","toggleTrack","toggleTrackActive","toggleThumb","toggleThumbActive","toggleLabel","locationInfo","locationInfoText","privacyNote","summaryCard","summaryTitle","summaryImage","summaryName","summaryUsername","summaryBio","summaryInterests","slice","summaryInterestChip","summaryInterestText","summaryMore","footer","paddingBottom","Math","max","bottom","Button","title","handleNext","disabled","continueButton","loading","skipButton","flex","background","paddingTop","paddingHorizontal","borderBottomWidth","borderBottomColor","justifyContent","marginBottom","cardLight","primary","lineHeight","alignSelf","position","alignItems","borderWidth","borderColor","borderStyle","right","textAlign","padding","paddingRight","top","minHeight","textAlignVertical","flexDirection","marginRight","flexWrap","paddingVertical","card","transform","translateX","borderTopWidth","borderTopColor","marginHorizontal","MessagesScreen","isAuthenticated","conversations","setActiveConversation","createMockConversations","useMessaging","useEffect","formatTime","timestamp","now","Date","time","diff","getTime","minutes","floor","hours","days","toLocaleDateString","Stack","Screen","options","headerStyle","headerTitleStyle","headerTintColor","headerLeft","push","backButtonText","headerRight","headerActions","headerButton","Search","Edit","emptyContainer","MessageCircle","emptyTitle","emptyMessage","startChatButton","startChatButtonText","FlatList","data","keyExtractor","item","id","renderItem","renderConversation","otherUser","conversation","participants","conversationItem","handleConversationPress","avatarContainer","Avatar","avatar","conversationContent","conversationHeader","userName","updatedAt","messagePreview","lastMessage","unreadCount","unreadMessage","numberOfLines","type","content","unreadBadge","actionButtons","actionButton","handleVoiceCall","userId","Phone","handleVideoCall","Video","contentContainerStyle","listContainer","marginLeft","minWidth","ProfileViewsSection","views","viewsCount","timeRange","showModal","setShowModal","getTimeRangeText","getTimeAgo","visibleViews","v","isPrivateView","handleViewAll","_Fragment","activeOpacity","LinearGradient","colors","start","x","y","end","gradient","iconContainer","headerText","subtitle","ChevronRight","avatarsContainer","view","index","avatarWrapper","zIndex","viewerProfileImage","moreCount","moreCountText","Modal","visible","transparent","animationType","onRequestClose","modalOverlay","modalBackdrop","modalContent","modalHeader","modalTitle","closeButton","X","statsRow","statBox","statNumber","statLabel","modalScroll","viewItem","viewerId","viewInfo","viewNameRow","viewName","viewerDisplayName","viewerIsVerified","VerifiedBadge","viewUsername","viewerUsername","timeContainer","Clock","timeText","viewAllButton","viewAllText","marginVertical","Object","assign","absoluteFillObject","borderTopLeftRadius","borderTopRightRadius","maxHeight","UserProfileScreen","useLocalSearchParams","user","currentUser","trackProfileView","getProfileViews","getProfileViewsCount","useProfileViews","setUser","userPosts","setUserPosts","isFollowing","setIsFollowing","activeTab","setActiveTab","showQRModal","setShowQRModal","foundUser","mockUsers","find","u","posts","mockPosts","p","author","random","handlePostPress","postId","handleLikePress","handleCommentPress","handleSharePress","handleShareProfile","isOwnProfile","headerBackButton","ArrowLeft","headerRightContainer","headerShareButton","Share2","headerMoreButton","MoreHorizontal","scrollView","profileHeader","profileAvatar","profileInfo","nameContainer","isVerified","statsContainer","statItem","followersCount","followingCount","handleFollowPress","followButton","followingButton","textStyle","followingButtonText","messageButton","handleMessagePress","tabsContainer","tab","tabText","activeTabText","postsContainer","post","PostCard","onLike","onComment","onShare","emptyText","mediaContainer","QRCodeShareModal","onClose","mockStatuses","verified","media","overlays","caption","createdAt","toISOString","expiresAt","isPinned","privacy","analytics","replies","shares","viewers","voiceContent","duration","waveform","textContent","fontFamily","mockUserStatusGroups","statuses","hasUnviewed","lastStatusAt","statusBackgrounds","DEFAULT_MESSAGE_SETTINGS","messageRequestsFrom","audioVideoCallingEnabled","callPermission","alwaysRelayCalls","screenshotProtection","STORAGE_KEY","MessageSettingsProvider","useMessageSettings","createContextHook","settings","setSettings","loadSettings","stored","AsyncStorage","getItem","parsed","JSON","parse","saveSettings","setItem","stringify","newSettings","updateMessageRequestsFrom","useCallback","toggleAudioVideoCalling","updateCallPermission","toggleRelayCalls","toggleScreenshotProtection","resetToDefaults","useMemo","MessagesSettingsScreen","showRequestsModal","setShowRequestsModal","showCallPermissionModal","setShowCallPermissionModal","messageRequestOptions","callPermissionOptions","barStyle","headerShown","strokeWidth","headerTitle","headerSpacer","section","sectionTitle","settingRow","settingInfo","settingLabel","settingValue","opt","divider","settingDescription","Switch","onValueChange","trackColor","false","true","thumbColor","ios_backgroundColor","getCallPermissionLabel","infoBox","infoText","Pressable","optionsModal","e","stopPropagation","optionRow","optionLabel","letterSpacing","textTransform","maxWidth","VerifyResetCodeScreen","params","code","setCode","timeLeft","setTimeLeft","method","canResend","setCanResend","timer","setInterval","clearInterval","refs","useRef","iconCircle","iconText","contact","codeContainer","digit","ref","current","codeInput","codeInputFilled","codeInputError","handleCodeChange","newCode","nextInput","focus","selectTextOnFocus","timerContainer","timerText","timerValue","seconds","toString","padStart","expiredText","join","Promise","resolve","verifyButton","Alert","alert","resendContainer","resendText","resendTextDisabled","RECENT_FILTERS_KEY","DEFAULT_FILTERS","name","category","preview","saturation","contrast","shadows","highlights","temperature","tint","grain","EXPORT_PRESETS","platform","resolution","aspectRatio","format","CreativeStudioProvider","useCreativeStudio","projects","setProjects","currentProject","setCurrentProject","history","setHistory","historyIndex","setHistoryIndex","recentFilters","setRecentFilters","loadProjects","parsedProjects","recentFiltersStored","saveProjects","updatedProjects","createProject","project","originalUri","thumbnail","adjustments","brightness","exposure","effects","blur","vignette","sharpen","filters","selectedFilter","intensity","export","video","speed","volume","startTime","endTime","layers","loadProject","saveProject","deleteProject","duplicateProject","original","Error","duplicate","updateProjectSettings","updatedProject","newHistory","applyFilter","filterId","f","updatedRecentFilters","adjustParameter","parameter","param","split","updates","addVideoLayer","layer","newLayer","updateVideoLayer","layerId","updatedLayers","removeVideoLayer","exportProject","preset","exportedUri","editedUri","getExportPresets","getFilters","getRecentFilters","canUndo","canRedo","undo","newIndex","previousSettings","redo","nextSettings","getTemplates","applyTemplate","templateId","React","ProjectsGalleryScreen","useTheme","viewMode","setViewMode","setFilter","searchQuery","setSearchQuery","selectedProject","setSelectedProject","filteredProjects","matchesFilter","matchesSearch","SafeAreaView","edges","Plus","emptyState","Edit3","emptyStateTitle","emptyStateSubtitle","emptyStateButton","projectCard","handleProjectPress","projectThumbnail","contentFit","projectInfo","projectName","projectType","charAt","toUpperCase","projectDate","playIcon","Play","left","mockVibes","userDisplayName","videoUrl","thumbnailUrl","likes","comments","soundId","soundName","soundArtist","isLiked","isSaved","CommentDrawer","commentText","setCommentText","isPosting","setIsPosting","showVoiceRecorder","setShowVoiceRecorder","voiceNoteUri","setVoiceNoteUri","voiceNoteDuration","setVoiceNoteDuration","voiceNoteWaveform","setVoiceNoteWaveform","handleCancelVoiceRecording","KeyboardAvoidingView","behavior","backdrop","BlurView","absoluteFill","drawer","handle","postPreview","postHeader","postAuthorInfo","postAuthor","postTimestamp","postContent","commentsSection","opacity","emptySubtext","comment","commentItem","commentContent","commentAuthor","voiceNote","VoiceNotePlayer","url","commentTimestamp","voiceRecorderContainer","VoiceNoteRecorder","maxDuration","onRecordingComplete","handleVoiceRecordingComplete","waveformLength","onCancel","inputContainer","voicePreviewContainer","removeVoiceButton","voiceButton","Mic","sendButton","Send","mockThreads","rootPostId","authorId","parentId","rootId","mediaUrls","revibes","saves","isRevibed","hasThread","threadCount","totalEngagement","isCollaborative","isTrending","vibeScore","voiceUrl","voiceDuration","ThreadProvider","useThreads","threads","setThreads","threadPosts","setThreadPosts","setComments","getThread","threadId","t","getThreadByRootPost","getThreadPosts","addToThread","newPost","thread","createThread","rootPost","newThread","toggleThreadPostLike","getComments","addComment","newComment","addReply","commentId","reply","parentReplyId","newReply","postComments","addReplyToReply","r","depth","addReplyToComment","toggleCommentLike","toggleReplyLike","replyId","toggleInReplies","makeCollaborative","collaboratorId","collaborators","ThreadView","onShowFullThread","collapsed","displayPosts","formatNumber","num","toFixed","getTimeSince","date","renderPost","isLast","postContainer","threadLine","headerInfo","nameRow","moreButton","MoreVertical","contentText","voiceContainer","VoicePlayer","horizontal","showsHorizontalScrollIndicator","mediaScroll","idx","mediaImage","actions","Heart","fill","actionText","Repeat2","Bookmark","showThreadButton","threadIndicator","showThreadText","ThreadComposer","parentPostId","setContent","setType","setMediaUrls","isRecording","setIsRecording","overlay","mediaPreview","mediaItem","removeMediaButton","newMediaUrls","_","handleRemoveMedia","recordingIndicator","recordingDot","recordingText","toolbar","toolButton","handleAddImage","ImageIcon","toolLabel","handleAddVideo","toolButtonActive","handleVoiceNote","toolLabelActive","Type","info","postButton","postButtonDisabled","handlePost","postButtonText","CommentThread","showReplyInput","setShowReplyInput","replyText","setReplyText","showReplies","setShowReplies","renderReply","replyAuthor","replyContainer","min","replyLine","smallAvatar","replyContent","replyHeader","replyName","replyTime","replyActions","replyAction","replyActionText","replyInputContainer","replyInput","replyButton","replyButtonDisabled","handleReply","replyButtonText","showRepliesButton","repliesLine","showRepliesText","ThreadDetailScreen","showComposer","setShowComposer","lastPost","statValue","toLocaleString","trendingBadge","trendingText","commentsHeader","commentsTitle","emptyComments","emptyCommentsText","addButton","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","LiveStreamingProvider","useLiveStreaming","state","setState","activeSession","isHosting","currentViewingSession","liveSessions","loadLiveSessions","mockSessions","hostId","hostUsername","hostAvatar","description","audience","commentsEnabled","shareToFeedAfter","status","startedAt","viewerCount","peakViewerCount","totalViews","likeCount","commentCount","coHosts","moderators","blockedUsers","streamUrl","startLive","streamKey","newSession","endLive","endedSession","endedAt","sessionId","peakViewers","uniqueViewers","averageWatchTime","shareCount","newFollowers","topViewers","engagementRate","s","joinLive","session","viewer","joinedAt","role","leaveLive","pinComment","c","addLike","inviteCoHost","acceptCoHost","removeCoHost","coHost","ch","muteViewer","isMuted","blockViewer","toggleComments","VoiceStatusPlayer","onPlaybackComplete","isPaused","isPlaying","setIsPlaying","currentTime","setCurrentTime","soundRef","waveformAnims","Animated","Value","setupAudio","cleanup","pausePlayback","playAudio","animateWaveform","Audio","setAudioModeAsync","playsInSilentModeIOS","staysActiveInBackground","shouldDuckAndroid","playThroughEarpieceAndroid","unloadAsync","playAsync","sound","createAsync","shouldPlay","onPlaybackStatusUpdate","pauseAsync","isLoaded","positionMillis","didJustFinish","animations","anim","loop","sequence","timing","toValue","useNativeDriver","parallel","gradientColors","waveformContainer","amplitude","waveformBar","interpolate","inputRange","outputRange","playButton","Pause","SCREEN_WIDTH","SCREEN_HEIGHT","Dimensions","get","StatusViewerScreen","getUserStatuses","markStatusAsViewed","useStatus","setStatuses","currentIndex","setCurrentIndex","setIsPaused","progressAnims","progressTimers","userStatuses","forEach","startProgress","clearTimeout","finished","setValue","panResponder","PanResponder","onStartShouldSetPanResponder","onPanResponderRelease","gestureState","dx","abs","currentStatus","panHandlers","renderStatusContent","resizeMode","bg","textContentContainer","topGradient","progressBars","progressBarContainer","progressBarBackground","progressBarFill","headerContent","userInfo","toLocaleTimeString","hour","minute","captionContainer","textShadowColor","textShadowOffset","textShadowRadius","voiceContentContainer","mockComments","isAuthorLiked","isAuthorReply","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","module","exports","testID","setDuration","recording","setRecording","waveformData","setWaveformData","pulseAnim","durationTimer","stopAndUnloadAsync","startRecording","formatDuration","controls","scale","durationContainer","durationText","maxDurationText","allowsRecordingIOS","Trash2","getURI","startButton","startButtonText","ShareSheet","contentType","createConversation","sendMessage","selectedUsers","setSelectedUsers","Set","setMessage","quickVibeEnabled","setQuickVibeEnabled","selectedReaction","setSelectedReaction","quickVibeReactions","emoji","icon","Flame","Laugh","Sparkles","shareContacts","conv","hasVibeStreak","lastInteraction","Boolean","sort","a","b","aTime","filteredContacts","query","frequentContacts","toggleUserSelection","newSet","has","delete","add","getContentThumbnail","image","vibe","statusBarTranslucent","sheetContainer","contentPreview","previewThumbnail","previewTextContainer","previewType","previewText","getContentPreview","substring","searchContainer","searchInput","frequentSection","renderFrequentContact","frequentContact","frequentAvatarContainer","vibeStreakBadge","selectedBadge","frequentContactName","frequentList","renderContact","gridContactItem","gridAvatarContainer","vibeStreakGrid","selectedOverlay","selectedCheckGrid","gridContactName","numColumns","contactsList","contactsGridContent","columnWrapperStyle","gridRow","quickVibeSection","quickVibeToggle","toggleCircle","quickVibeLabel","reactionsRow","reaction","reactionButton","reactionEmoji","bottomSection","messageInputContainer","messageInput","fullMessage","Array","from","some","newConv","selectedCountText","contactAvatarContainer","vibeStreakSmall","contactInfo","contactName","contactUsername","checkmark","EditProfileScreen","updateProfile","updateProfileImage","setDisplayName","headerShadowVisible","scrollContent","avatarSection","imageUri","avatarEditButton","avatarHint","form","hint","usernameInputContainer","usernamePrefix","autoCorrect","cancelButton","handleCancel","cancelButtonText","saveButton","saveButtonGradient","saveButtonText","paddingLeft","mockStories","viewed","isLive","mediaUrl","storyCount","isSpecialEvent","StoryViewScreen","story","setStory","setIsLiked","progress","setProgress","progressAnim","timerRef","foundStory","increment","mediaType","newProgress","onPanResponderGrant","dy","handleClose","isVoiceStory","textColor","backgroundMedia","handleUserPress","authorAvatar","authorInfo","authorName","authorDisplayName","storyTime","contentContainer","voiceStoryContainer","voiceAvatarContainer","voiceAvatarGradient","voiceAvatarInner","voiceCaption","storyContent","actionsContainer","handleLike","handleComment","handleShare","translateY","DEFAULT_PREFERENCES","notifications","friendship_follow","playlist_sync","voice_note_interaction","engagement_boost","monthly_digest","unsubscribed","EmailPreferencesProvider","useEmailPreferences","preferences","setPreferences","setLoading","loadPreferences","syncPreferencesWithBackend","API_URL","process","EXPO_PUBLIC_API_URL","fetch","headers","body","prefs","savePreferences","newPreferences","initializePreferences","updateNotificationPreference","key","updated","unsubscribeFromAll","unsubscribedAt","resubscribe","canSendEmail","emailType","EmailPreferencesScreen","handleToggle","loadingContainer","loadingText","Mail","headerSubtitle","unsubscribedBanner","BellOff","unsubscribedText","sectionDescription","preferencesList","PreferenceItem","transactionalItem","CheckCircle","transactionalText","transactionalTitle","transactionalDescription","resubscribeButton","Bell","resubscribeButtonText","unsubscribeButton","handleUnsubscribeAll","unsubscribeButtonText","footerText","preferenceItem","preferenceContent","preferenceTitle","preferenceDescription","ResetPasswordScreen","newPassword","setNewPassword","showNewPassword","setShowNewPassword","met","isPasswordValid","every","getStrengthColor","strengthContainer","strengthBarBackground","strengthBarFill","getStrengthWidth","strengthText","requirementsContainer","requirementItem","requirementText","requirementTextMet","resetButton","FollowingScreen","following","setFollowing","filteredFollowing","setFilteredFollowing","followingStatus","setFollowingStatus","mockFollowing","initialStatus","filtered","searchInputContainer","renderFollowing","isSelf","mutualFollowers","mutualCount","followingItem","followingInfo","followingNameRow","followingDisplayName","followingUsername","mutualText","handleFollowToggle","followButtonText","listContent","ListEmptyComponent","window","innerHeight","innerWidth","VibeItem","isActive","onSave","onRevibe","onUserPress","onFollowPress","friendsWhoLiked","videoRef","setShowPlayPause","showProgressBar","setShowProgressBar","likeScale","playPauseOpacity","playPauseScale","progressBarOpacity","hideProgressTimeout","showProgressBarTemporarily","vibeContainer","videoContainer","handleSingleTap","spring","tension","friction","delay","togglePlayPause","ResizeMode","COVER","isLooping","durationMillis","replayAsync","playPauseOverlay","playPauseIcon","pointerEvents","progressBarTouchable","event","locationX","nativeEvent","newPosition","setPositionAsync","rightActions","profileAvatarContainer","followButtonInner","actionItem","soundButton","soundImage","bottomInfo","userInfoRow","soundInfo","Music2","soundText","prevProps","nextProps","VibezScreen","isDark","getFriendsWhoLiked","trackVibeLike","vibes","setVibes","showRefreshButton","setShowRefreshButton","newVibesCount","setNewVibesCount","selectedVibeForComment","setSelectedVibeForComment","selectedVibeForShare","setSelectedVibeForShare","flatListRef","buttonScale","lastCheckTime","checkInterval","isFocused","useIsFocused","friendIds","onViewableItemsChanged","viewableItems","viewabilityConfig","itemVisiblePercentThreshold","handleRevibe","handleSave","generateNewVibes","newVibes","numNewVibes","randomVibe","newVibe","checkForNewVibes","handleRefresh","scrollToOffset","offset","animated","pagingEnabled","snapToInterval","snapToAlignment","decelerationRate","removeClippedSubviews","maxToRenderPerBatch","windowSize","refreshButtonContainer","refreshButton","blurContainer","RefreshCw","refreshButtonText","gradientFill","engagement","NotFoundScreen","Link","href","link","linkText","LiveCountdown","onComplete","count","setCount","scaleAnim","countContainer","countText","LiveComment","fadeAnim","pinnedContainer","pinnedBadge","pinnedText","REACTION_EMOJIS","heart","fire","clap","wow","laugh","LiveReaction","translateYRef","opacityRef","LIVE_GIFTS","LiveRoomScreen","isHost","showCountdown","setShowCountdown","reactions","setReactions","showGiftPicker","setShowGiftPicker","cameraPermission","requestCameraPermission","useCameraPermissions","facing","setFacing","showFilters","setShowFilters","setSelectedFilter","showOptionsMenu","setShowOptionsMenu","showShareModal","setShowShareModal","scrollViewRef","cameraRef","granted","handleEndLive","pathname","handleSendComment","handleShareOption","cameraWrapper","CameraView","camera","filterOverlay","getFilterStyle","placeholderVideo","placeholderText","placeholderSubtext","topBar","liveIndicator","liveDot","liveText","Users","viewerCountText","topActions","iconButton","middleContent","commentsContainer","commentsContent","onContentSizeChange","scrollToEnd","bottomBar","sideActions","newReaction","handleReaction","actionIcon","actionCount","Gift","UserPlus","commentInputContainer","commentInputWrapper","commentInput","onSubmitEditing","returnKeyType","emojiButton","Smile","filtersContainer","filterButton","filterButtonActive","handleFilterSelect","filterButtonText","handleRemoveReaction","giftPickerContainer","giftPickerHeader","giftPickerTitle","giftGrid","gift","giftItem","handleSendGift","giftId","giftIcon","giftName","giftValue","shareModalContainer","shareModalHeader","shareModalTitle","shareOptions","shareOption","shareOptionIcon","shareOptionEmoji","shareOptionText","optionsMenuContainer","optionItem","optionIcon","optionText","optionItemDanger","optionTextDanger","iconButtonText","backgroundSecondary","TokenManager","storeTokens","tokenData","encrypted","SecurityUtils","encryptData","this","TOKEN_KEY","sessionData","token","deviceId","generateSecureToken","lastActivity","SESSION_KEY","scheduleTokenRefresh","getTokens","decrypted","decryptData","isTokenExpired","refreshTokens","refreshToken","updateLastActivity","newTokenData","accessToken","getTokenExpiryTime","clearTokens","removeItem","tokenRefreshTimer","isSessionValid","sessionJson","SESSION_TIMEOUT","timeUntilExpiry","refreshTime","tokens","getAccessToken","validateToken","createTRPCReact","authToken","setAuthToken","trpcClient","createTRPCClientInstance","baseUrl","getBaseUrl","tunnelUrl","EXPO_PUBLIC_RORK_API_BASE_URL","backendUrl","EXPO_PUBLIC_BACKEND_URL","startsWith","createTRPCClient","links","httpBatchLink","transformer","superjson","response","credentials","ok","statusText","AuthProvider","loadUser","interval","userJson","secureRetrieve","ErrorTracker","trackError","rateLimiter","RateLimiter","newUser","updatedUser","secureStore","login","loginKey","canAttempt","warn","PerformanceMonitor","measureAsync","auth","mutate","usernameOrEmail","followers","postsCount","secureRemove","reset","backendError","demoUser","logout","updateCoverImage","coverImage","updateBio","userData","stack","changePassword","currentPassword","validation","valid","errors","resetPassword","TAG_SETTINGS_KEY","PENDING_TAGS_KEY","TaggingProvider","useTagging","tagSettings","setTagSettings","whoCanTagMe","reviewTagsBeforeShowing","pendingTags","setPendingTags","tagAnalytics","setTagAnalytics","totalTags","profileVisitsFromTags","topTaggers","tagsByVerifiedUsers","vibeScoreFromTags","loadPendingTags","tags","tag","searchUsers","lowerQuery","users","canUserTagMe","addTag","postImage","postType","taggedByUserId","taggedByUser","pendingTag","taggedBy","requiresReview","approveTag","tagId","rejectTag","removeTag","parseMentions","mentions","regex","match","exec","startIndex","endIndex","updateAnalytics","update","TagReviewScreen","tagItem","tagContent","postThumbnail","tagInfo","userRow","userNameRow","tagAction","rejectButton","handleReject","approveButton","handleApprove","borderRightWidth","borderRightColor","CreativeStudioScreen","useStudio","handleImportMedia","Videos","mediaUri","handleCaptureMedia","createOptions","Film","projectsButton","Folder","sectionSubtitle","createCard","createIconContainer","createInfo","createLabel","createDescription","sectionHeader","viewAllLink","emptyDrafts","emptyDraftsText","draftsScroll","draftCard","draftThumbnail","playBadge","draftName","draftDate","SESSIONS_KEY","ActiveSessionsModal","sessions","setSessions","loadSessions","deviceName","deviceType","location","lastActive","isCurrent","ipAddress","sessionCard","sessionHeader","glass","Smartphone","Monitor","sessionInfo","deviceRow","currentBadge","currentText","textInverse","textMuted","logoutButton","handleLogoutSession","updatedSessions","LogOut","logoutText","logoutAllButton","handleLogoutAllOthers","currentSession","logoutAllText","BLOCKED_KEY","BlockedAccountsModal","setBlockedUsers","loadBlockedUsers","filteredUsers","searchBar","UserX","userCard","blockedAt","unblockButton","handleUnblock","Unlock","unblockText","MUTED_KEY","MutedAccountsModal","mutedUsers","setMutedUsers","loadMutedUsers","getMuteTypeLabel","VolumeX","muteType","unmuteButton","handleUnmute","Volume2","unmuteText","LegalDocumentModal","documentText","getDocumentContent","whiteSpace","SupportModal","subject","setSubject","getTitle","textArea","getPlaceholder","submitButton","handleSubmit","submitText","FAQS","question","answer","FAQModal","expandedIndex","setExpandedIndex","categories","faq","categorySection","categoryTitle","globalIndex","indexOf","isExpanded","faqItem","questionRow","ChevronUp","ChevronDown","contactBox","contactTitle","contactText","margin","SETTINGS_STORAGE_KEY","SettingsScreen","userPreference","setTheme","theme","accentColor","language","sms","follows","messages","syncSessions","playlistActivity","vibeTab","influencerUpdates","profileVisibility","showOnlineStatus","allowMessageRequests","whoCanMessageMe","whoCanSeeMyVibes","contentFilters","messaging","notifyOnScreenshotAttempt","defaultViewOnce","security","twoFactorEnabled","biometricEnabled","discoverability","suggestedFollows","contactsSync","locationDiscovery","vibeScoreVisible","dataSaverMode","backgroundPlay","autoDownload","showLanguageModal","setShowLanguageModal","showAccentColorModal","setShowAccentColorModal","showFontSizeModal","setShowFontSizeModal","showMessagePermissionModal","setShowMessagePermissionModal","showVibeVisibilityModal","setShowVibeVisibilityModal","showActiveSessionsModal","setShowActiveSessionsModal","showBlockedAccountsModal","setShowBlockedAccountsModal","showMutedAccountsModal","setShowMutedAccountsModal","showLegalModal","setShowLegalModal","legalModalContent","setLegalModalContent","showSupportModal","setShowSupportModal","supportModalType","setSupportModalType","showFAQModal","setShowFAQModal","timeoutId","updateNotificationSetting","updateSecuritySetting","handleThemeChange","newTheme","Lock","settingItem","User","Shield","Fingerprint","handleDeactivateAccount","AlertCircle","warning","handleDeleteAccount","Palette","themeSection","themeOptions","themeOption","Sun","themeOptionText","Moon","languageValue","colorPreview","Globe","FileText","HelpCircle","handleLogout","bottomPadding","lang","modalOption","modalOptionText","SearchBar","selectionColor","UserCard","variant","DiscoveryProvider","useDiscovery","currentUserId","userLocation","setUserLocation","locationPermission","setLocationPermission","contactsPermission","setContactsPermission","distanceFilter","setDistanceFilter","syncedContacts","setSyncedContacts","isLoadingLocation","setIsLoadingLocation","isLoadingContacts","setIsLoadingContacts","followGraph","userLocations","latitude","longitude","city","lastUpdated","requestLocationPermission","requestContactsPermission","getCurrentLocation","mockLocation","getProximitySuggestions","maxDistance","getDistanceInKm","suggestions","userLoc","distance","calculateDistance","lat1","lon1","lat2","lon2","dLat","PI","dLon","sin","cos","atan2","sqrt","sharedInterests","round","distanceUnit","isRecentlyActive","activityHeatScore","getMutualConnections","currentUserFollowing","connections","connectionStrength","syncContacts","calculateHybridScore","proximity","mutual","proximityScore","mutualScore","contactScore","reasons","isNewUser","totalScore","getHybridSuggestions","proximityUsers","mutualUsers","contactUsers","userMap","Map","prox","m","set","primaryReason","isContact","metadata","activityLevel","values","DISTANCE_FILTERS","PeopleSuggestion","useRouter","setSuggestions","followedUsers","setFollowedUsers","showMenuForUser","setShowMenuForUser","loadSuggestions","results","filteredSuggestions","getPrimaryReasonText","suggestion","handleMenuAction","action","filterSection","filterLabel","filterOptions","filterChip","filterChipActive","filterChipText","filterChipTextActive","MapPin","actionButtonText","ActivityIndicator","Contact","tabs","tabActive","tabTextActive","suggestionsList","isFollowed","first","second","getMutualText","suggestionRow","userInfoColumn","nameRowCompact","displayNameCompact","verifiedBadgeContainer","suggestionInfo","actionsRow","followButtonCompact","followingButtonContent","followButtonGradientCompact","followButtonTextCompact","menuButton","menuDropdown","menuItem","menuItemText","menuDivider","menuItemDanger","mockTrendingHashtags","trending","TrendingHashtags","TrendingUp","hashtagCard","handleHashtagPress","hashtagHeader","hashtagIcon","Hash","hashtagTag","hashtagCount","DiscoverScreen","PostMenu","postAuthorId","likesVisible","onEdit","onDelete","onPin","onToggleComments","onToggleLikes","onViewInsights","onCopyLink","onReport","onMute","onFollow","onUnfollow","onBlock","onVoiceReply","onRemixVibez","isAuthor","authorOptions","destructive","Pin","MessageCircleOff","HeartOff","BarChart3","Link2","viewerOptions","UserMinus","specialOptions","menuContainer","optionsList","destructiveOption","EngagementProvider","useEngagement","savedPosts","collections","postIds","commentLikes","loadEngagementData","saveEngagementData","newState","likePost","isAuthorLike","like","newLikes","newLike","revibePost","revibe","newRevibes","newRevibe","savePost","collectionId","collection","updatedCollections","allSavedPosts","flatMap","createCollection","newCollection","deleteCollection","likeComment","isPostLiked","isPostRevibed","isPostSaved","isCommentLiked","getPostLikes","getPostRevibes","getCommentLikes","getSavedPostsByCollection","RevibeSheet","setCaption","isRevibing","setIsRevibing","sheet","captionLabel","captionInput","cancelText","revibeButton","revibeText","SaveSheet","showNewCollection","setShowNewCollection","newCollectionName","setNewCollectionName","isCreating","setIsCreating","postCount","collectionItem","handleSaveToCollection","onLongPress","handleDeleteCollection","collectionName","collectionLeft","collectionIcon","collectionInfo","collectionCount","newCollectionForm","newCollectionInput","autoFocus","newCollectionActions","newCollectionCancel","newCollectionCancelText","newCollectionCreate","newCollectionCreateText","newCollectionButton","newCollectionIcon","newCollectionText","parseTextWithLinks","parts","lastIndex","isHashtag","isUsername","hashtag","PostCardComponent","onLikePress","onCommentPress","onSharePress","onSavePress","showFullContent","menuVisible","setMenuVisible","revibeSheetVisible","setRevibeSheetVisible","saveSheetVisible","setSaveSheetVisible","commentDrawerVisible","setCommentDrawerVisible","shareSheetVisible","setShareSheetVisible","likeAnim","revibeAnim","saveAnim","likesCount","revibesCount","animateButton","animValue","voiceNoteContainer","transition","useNativeControls","actionGroup","handleEdit","handleDelete","handlePin","handleToggleComments","handleToggleLikes","handleViewInsights","Clipboard","setStringAsync","handleSharePost","handleReport","handleMute","handleFollow","handleUnfollow","handleBlock","handleVoiceReply","handleRemixVibez","isVoice","CACHE_DIR","FileSystem","cacheDirectory","MAX_CACHE_SIZE","imageCache","cacheMap","initialized","initialize","loadCacheMap","files","readDirectoryAsync","file","filePath","getInfoAsync","exists","isDirectory","modificationTime","getCacheKey","localUri","download","enforceMaxSize","entries","totalSize","reduce","sum","entry","currentSize","deleteAsync","idempotent","clear","getCacheSize","OptimizedImage","memo","_ref","blurhash","priority","cachePolicy","props","_objectWithoutPropertiesLoose","_excluded","cachedUri","setCachedUri","mounted","loadImage","cached","timeout","ExpoImage","next","AvatarComponent","STATUS_STORAGE_KEY","VIEWED_STATUSES_KEY","StatusProvider","statusGroups","setStatusGroups","uploadProgress","setUploadProgress","viewedStatuses","setViewedStatuses","cleanExpiredStatuses","group","saveStatuses","loadStatuses","loadViewedStatuses","groups","uploadStatus","statusId","substr","simulateUpload","newStatus","existingGroupIndex","findIndex","g","saveViewedStatuses","addStatusView","deleteStatus","pinStatus","muteUserStatus","hideUserStatus","getStatusById","THEME_STORAGE_KEY","ThemeProvider","setThemeState","systemTheme","setSystemTheme","Appearance","getColorScheme","setUserPreference","subscription","addChangeListener","colorScheme","remove","savedTheme","parsedTheme","loadTheme","activeTheme","toggleTheme","DarkTheme","LightTheme","isLight","SplashScreen","retryError","logo","appName","tagline","defaultAdjustments","whites","blacks","clarity","sharpness","StudioProvider","frameRate","edits","textLayers","stickers","audioTracks","transitions","trimData","clips","updateProject","projectId","addFilter","updateAdjustments","addEffect","effect","addTextLayer","textLayer","addSticker","sticker","addOverlay","addAudioTrack","audio","resetAdjustments","AuthScreen","logoContainer","formContainer","errorMessage","authButton","forgotPasswordContainer","forgotPasswordText","switchContainer","switchText","switchButton","demoText","FILTER_CATEGORIES","ALL_FILTERS","vibrance","hue","isPremium","getFiltersByCategory","TOOLS","Sliders","Wand2","OverlayIcon","Square","Crop","EFFECTS","ImageEditorScreen","setImageUri","activeTool","setActiveTool","selectedFilterCategory","setSelectedFilterCategory","filterIntensity","setFilterIntensity","setBrightness","setContrast","setSaturation","setExposure","showExportModal","setShowExportModal","exportImage","Undo","Redo","Save","handleExport","Download","canvas","imagePreview","imageContent","toolbarContent","tool","IconComponent","toolButtonText","toolPanel","renderToolPanel","categoryFilters","filterContainer","filterCategoryScroll","filterCategoryContent","categoryChip","categoryEmoji","categoryName","filterScroll","filterScrollContent","filterItem","filterPreview","premiumBadge","premiumText","filterName","filterDescription","intensityControl","intensityLabel","intensityValue","toolContent","adjustmentItem","adjustmentHeader","adjustmentLabel","adjustmentValue","RotateCcw","resetButtonText","effectItem","effectName","addButtonText","cropInfo","aspectRatios","ratio","aspectRatioButton","aspectRatioText","requestMediaLibraryPermissionsAsync","exportOption","exportOptionText","modalCancel","modalCancelText","button","getButtonStyle","primaryButton","secondaryButton","outlineButton","getSizeStyle","smallButton","mediumButton","largeButton","disabledButton","getTextStyle","primaryText","secondaryText","outlineText","getTextSizeStyle","smallText","mediumText","largeText","disabledText","REACTIONS","SpillRoomScreen","currentSpill","joinSpill","leaveSpill","toggleMute","hasRequestedMic","requestMic","sendReaction","sendComment","useSpill","setComment","showReactions","setShowReactions","floatingReactions","setFloatingReactions","liveBadge","listenerCount","formatListenerCount","handleLeave","topicSection","topicName","topicSubtitle","hostsSection","participantsGrid","ParticipantAvatar","hostName","isSpeaking","cohosts","cohost","speaker","audienceSection","audienceGrid","listener","audienceAvatar","commentUsername","FloatingReaction","mutedButton","activeButton","MicOff","Hand","reactionsBar","reactionId","pulse","stop","participantContainer","participantAvatarContainer","speakingRing","participantAvatar","participantName","participantRole","floatingReaction","PrivacyPolicyScreen","regionInfo","setRegionInfo","detected","detectRegion","legalContent","getLegalContent","region","privacyPolicy","loadContent","regionBanner","regionText","getRegionName","contentCard","lines","elements","line","h1","h2","h3","bulletContainer","bullet","bulletText","endsWith","bold","paragraph","spacing","renderMarkdown","RootLayout","MessageRequestCard","senderName","senderImage","senderUsername","onAccept","onDecline","onViewProfile","profileSection","messageText","getLastMessagePreview","msg","warningBanner","warningText","declineButton","acceptButton","InboxScreen","getActiveConversations","getMessageRequests","getTotalUnreadCount","selectConversation","togglePin","archiveConversation","deleteConversation","acceptRequest","declineRequest","useDM","refreshing","setRefreshing","showRequests","setShowRequests","showNewChatModal","setShowNewChatModal","showSettingsModal","setShowSettingsModal","requestCount","month","day","getOtherUser","otherUserId","getConversationName","getConversationImage","getLastMessageText","prefix","senderId","deletedForEveryone","filteredConversations","Settings","requestsBanner","requestsLeft","requestsText","requestsCount","rotate","requestsHeader","backToInbox","emptyIconContainer","sendMessageButton","sendMessageButtonText","isRequest","isOnline","onlineDot","onlineBadge","onlineBadgeText","unreadBadgeText","refreshControl","RefreshControl","onRefresh","tintColor","modalBody","modalOptionIcon","modalOptionTitle","modalOptionSubtitle","settingsOption","settingsOptionText","HashtagScreen","hashtagPosts","handleSavePress","hashtagInfo","hashtagIconContainer","hashtagTextContainer","hashtagTitle","followHashtagButton","followHashtagText","emptySubtitle","primaryLight","primaryDark","borderLight","notification","glassLight","shadow","LiveAnalyticsScreen","summarySubtitle","durationLabel","durationValue","ms","statsGrid","statCard","statIconContainer","engagementCard","engagementRow","engagementLabel","engagementValue","formatWatchTime","primaryButtonText","secondaryButtonText","EU_COUNTRIES","primaryLocale","Localization","countryCode","regionCode","countryName","QR_SIZE","bgColor","setBgColor","qrRef","profileUrl","qrBgColor","qrFgColor","modalContainer","qrContainer","collapsable","white","black","qrBackground","qrContent","qrCodeWrapper","QRCode","logoSize","logoBackgroundColor","logoBorderRadius","scanText","brandText","bgToggleButton","toggleBackground","nextIndex","bgToggleText","bgToggleHint","Share","share","sharedAction","actionGradient","actionSecondary","Copy","ChangePasswordScreen","setCurrentPassword","showCurrentPassword","setShowCurrentPassword","logoutAllDevices","setLogoutAllDevices","inputLabel","inputWrapper","logoutOption","logoutOptionLeft","logoutOptionText","logoutOptionTitle","logoutOptionSubtitle","checkboxActive","changeButton","borderLeftWidth","borderLeftColor","badge","PROFILE_VIEWS_KEY","VIBE_LIKES_KEY","PROFILE_VIEWS_ENABLED_KEY","ProfileViewsProvider","profileViews","setProfileViews","vibeLikes","setVibeLikes","profileViewsEnabled","setProfileViewsEnabled","repeatVisitors","setRepeatVisitors","loadData","viewsData","likesData","enabledData","all","cleanedViews","cleanExpiredViews","calculateRepeatVisitors","viewTime","PROFILE_VIEWS_EXPIRY_DAYS","repeats","saveData","enabled","promises","profileOwnerId","viewerEnabled","ownerEnabled","existingViews","newView","updatedViews","timeRanges","week","Infinity","vibeId","existingLikes","l","updatedLikes","getVibeLikes","toggleProfileViewsEnabled","updatedEnabled","isProfileViewsEnabled","getRepeatVisitorCount","getTopRepeatVisitors","limit","visitors","getNewVisitorsCount","ProfileViewsScreen","setTimeRange","filterType","setFilterType","filteredViews","last24h","stats","renderViewItem","handleViewerPress","stickyHeaderIndices","statsSection","statsGradient","Calendar","filtersSection","range","filterDivider","listSection","listHeader","listTitle","listSubtitle","viewsList","ShareDemoScreen","selectedContent","setSelectedContent","setContentType","featureList","featureItem","featureBullet","featureText","demoButton","buttonTextContainer","buttonTitle","buttonSubtitle","handleShareVibe","handleShareSong","artist","Music","stepsList","stepItem","stepNumber","stepNumberText","stepText","termsOfService","NotificationProvider","useNotifications","loadNotifications","n","isRead","saveNotifications","addNotification","newNotifications","markAsRead","notificationId","updatedNotifications","markAllAsRead","clearNotifications","sendLocalNotification","actionData","createMockNotifications","mockNotifications","conversationId","mockMessages","mockConversations","isArchived","DMProvider","drafts","typingIndicators","selectedConversation","updateMessageStatus","messageId","updatedMessages","convId","newMessage","fileName","fileSize","replyTo","conversationMessages","updatedConversations","addReaction","deleteMessage","forEveryone","deletedForMe","saveDraft","setTyping","isTyping","indicator","getConversation","getMessages","getDraft","getTypingUsers","getArchivedConversations","secondary","LiveSetupScreen","setTitle","setDescription","setAudience","setCommentsEnabled","shareToFeed","setShareToFeed","isStarting","setIsStarting","audienceOptions","UserCheck","Icon","audienceOption","audienceOptionSelected","audienceIconContainer","audienceTextContainer","audienceLabel","audienceLabelSelected","audienceDescription","radioOuter","radioOuterSelected","radioInner","settingTextContainer","startButtonDisabled","AdEngagementProvider","useAdEngagement","engagements","setEngagements","enabledCategories","disabledBrands","personalizedAds","dataSharing","trackEngagement","adId","updatePreferences","disableBrand","brandName","enableBrand","toggleCategory","isEnabled","getEngagementStats","adEngagements","clicks","hides","reports","AD_CATEGORIES","AdPreferencesScreen","Info","categoryRow","categoryInfo","categoryIcon","categoryLabel","aboutText","HomeScreen","VoiceStatusRecorder","recordingUri","setRecordingUri","setWaveform","recordingRef","getStatusAsync","canRecord","isDoneRecording","String","playbackControls","handleComplete","completeButton","recordButton","TextStatusCreator","setText","selectedBg","setSelectedBg","setTextAlign","textInput","backgroundPicker","bgOption","bgOptionSelected","bgPreview","alignmentControls","align","alignButton","alignText","COLORS","FONT_SIZES","MediaStatusCreator","isProcessing","setIsProcessing","setOverlays","setSelectedOverlay","showTextEditor","setShowTextEditor","editingText","setEditingText","selectedColor","setSelectedColor","selectedFontSize","setSelectedFontSize","previewContainer","videoPlaceholder","textOverlay","rotation","deleteOverlay","overlayText","textEditorContainer","textEditorHeader","textEditorTitle","textEditorInput","colorPicker","pickerLabel","colorOptions","colorOption","colorOptionSelected","fontSizePicker","fontSizeOptions","fontSizeOption","fontSizeText","addTextOverlay","newOverlay","addTextButton","addTextButtonText","toolsContainer","toolGradient","StickerIcon","UploadProgressOverlay","uploads","onDismiss","onRetry","upload","UploadProgressCard","opacityAnim","progressWidth","cardContent","getStatusIcon","XCircle","Loader","textContainer","getStatusText","getStatusColor","retryText","successOverlay","compressImage","manipResult","manipulateAsync","resize","compress","SaveFormat","JPEG","fileInfo","onProgress","reject","currentChunk","intervalId","validateMediaFile","maxSize","bytes","pow","formatFileSize","CreateStatusScreen","creationType","setCreationType","mediaData","setMediaData","retryData","setRetryData","handleVoiceComplete","uploadResult","maxRetries","attempt","lastError","uploadVoiceNote","voiceData","handleTextComplete","textData","handleMediaComplete","compressionQuality","processedUri","dimensions","compressed","uploadMedia","mediaCompleteData","optionsGrid","optionCard","optionTitle","optionDesc","presentationStyle","HomeIcon","filled","Svg","viewBox","Path","d","Circle","cx","cy","stroke","strokeLinecap","strokeLinejoin","DiscoverIcon","ProfileIcon","VibezIconNew","G","SpillsIconNew","AnimatedLogo","floatAnim","innerPulseAnim","pulseAnimation","floatAnimation","innerPulseAnimation","floatTranslate","small","iconSize","medium","large","mainGradient","floatingOverlay","innerCircle","innerDot","logoText","logoSubtext","VibezIcon","Rect","rx","Polygon","points","CreativeStudioIcon","TabIcon","focused","iconProps","Home","LiquidTabBar","descriptors","navigation","animatedValue","tabWidth","routes","tabContainer","route","accessibilityRole","accessibilityState","selected","accessibilityLabel","tabBarAccessibilityLabel","tabBarTestID","emit","target","canPreventDefault","defaultPrevented","navigate","tabContent","TabLayout","notificationCount","messageCount","handleNotificationPress","InteractionManager","runAfterInteractions","Tabs","tabBar","screenOptions","tabBarActiveTintColor","tabBarInactiveTintColor","tabBarShowLabel","tabBarLabel","tabBarIcon","notificationButton","notificationBadge","messageBadge","createButton","mockTrendingTopics","trendingScore","velocity","recencyScore","relatedEventId","relatedMusicId","DEFAULT_WEIGHTS","baseScore","trendingRank","trendingCategory","recency","events","TrendingProvider","useTrending","topics","setTopics","setFilters","weights","lastRefresh","setLastRefresh","isRefreshing","setIsRefreshing","newTrendsCount","setNewTrendsCount","hasNewTrends","setHasNewTrends","pendingTopics","setPendingTopics","calculatePostTrendingData","calculateTrendingScore","ageInHours","engagementScore","hashtagScore","mentionCount","mentionScore","eventScore","isBoosted","ageInMinutes","calculateVelocity","trendingPosts","maxAge","postTime","filteredTopics","topic","getTopicsByCategory","getPostsByCategory","generateNewTrends","newTrends","numNewTrends","locations","newTrend","checkForNewTrends","updatedTopics","velocityChange","newVelocity","scoreChange","newScore","refreshTrending","showLoading","sortedTopics","loadNewTrends","updateFilters","newFilters","getBreakingTopics","getPeakingTopics","trendingTopics","HeatMeter","flameAnim","heatLevel","flameColor","getFlameColor","flameContainer","TrendCard","CategoryIcon","getCategoryIcon","categoryColor","getCategoryColor","statusBadge","getStatusBadge","slideAnim","borderAnim","statText","separator","rightFooter","locationText","scoreBar","scoreBarFill","CategoryTabs","activeCategory","onCategoryChange","BreakingBanner","onTopicPress","NewTrendsButton","glowAnim","glowColor","glow","Zap","LOCATIONS","LocationToggle","currentLocation","onLocationChange","modalVisible","setModalVisible","currentLocationData","loc","toggle","toggleContent","toggleText","locationItem","locationItemSelected","handleLocationSelect","locationId","locationTextSelected","selectedIndicator","TrendingScreen","breakingTopics","listRef","handleLocationChange","handleTopicPress","encodeURIComponent","formatLastRefresh","ListHeaderComponent","renderHeader","subHeader","lastRefreshText","renderEmptyState","emptyDescription","TermsOfServiceScreen","DMInboxScreen","showAccountSwitcher","setShowAccountSwitcher","totalUnread","safeArea","headerIconButton","messageIconButton","SwipeableRow","onMarkUnread","activeDot","activeIndicator","cameraButton","bottomNav","bottomNavButton","Menu","accountSwitcherModal","accountSwitcherHeader","accountSwitcherTitle","accountOption","accountInfo","accountName","accountStatus","addAccountButton","addAccountText","onMoveShouldSetPanResponder","onPanResponderMove","swipeableContainer","leftActions","markUnreadButton","handleMarkUnread","muteButton","deleteButton","swipeableContent","ModalScreen","ProfilePictureViewer","closeButtonInner","ProfileHeader","isCurrentUser","onEditProfile","onShareProfile","onSettingsPress","onChangeCoverPhoto","onChangeProfilePhoto","isEditingBio","setIsEditingBio","bioText","setBioText","showProfilePictureViewer","setShowProfilePictureViewer","coverContainer","coverPlaceholder","coverActions","coverEditButton","blurButton","settingsButton","handlePickProfileImage","bioEditContainer","bioEditActions","handleCancelBio","bioActionButton","bioActionText","bioSaveButton","bioSaveText","bioCharCount","bioContainer","Edit2","bioEditIcon","vibeScoreContainer","vibeScoreGradient","vibeStatus","primaryActionButton","gradientButton","UserPen","primaryActionText","secondaryActionButton","blurActionButton","secondaryActionText","PINNED_POSTS_KEY","PinnedPostsProvider","usePinnedPosts","pinnedPosts","setPinnedPosts","loadPinnedPosts","savePinnedPosts","pinPost","unpinPost","togglePinPost","isPostPinned","canPinMore","maxPinnedPosts","ProfileScreen","handleEditProfile","handleSettingsPress","handleChangeCoverPhoto","handleChangeProfilePhoto","sortedPosts","pinned","regular","prevItem","showSeparator","pinnedSeparator","pinButton","handlePinPress","PinOff","mockSpillParticipants","mockSpills","topicId","topicType","recordingEnabled","allowRequests","mockScheduledSpills","scheduledFor","reminderSet","SpillProvider","activeSpills","setActiveSpills","setCurrentSpill","scheduledSpills","setScheduledSpills","isInSpill","setIsInSpill","setIsMuted","setHasRequestedMic","spillId","spill","prevSpills","startSpill","newSpill","endSpill","scheduleSpill","scheduled","setReminder","scheduledSpillId","getSuggestedSpills","getSpillsByTopic","setSound","config","waveHeight","isPassed","ForgotPasswordScreen","setMethod","emailOrPhone","setEmailOrPhone","methodSelector","methodButton","methodButtonActive","methodButtonText","methodButtonTextActive","emailQueue","emailTemplates","resetCode","resetLink","enqueue","reset_link","expiry","screenWidth","Layers","Scissors","FILTERS","TRANSITIONS","VideoEditorScreen","videoUri","setVideoUri","exportVideo","videoPreview","videoImage","playOverlay","timeline","timelineHeader","timelineTime","playbackButton","SkipBack","SkipForward","timelineTrack","timelineProgress","timelinePlayhead","sliderContainer","sliderValue","transitionItem","transitionName","trimTimeline","trimHandle","trimInfo","FollowersScreen","setFollowers","filteredFollowers","setFilteredFollowers","mockFollowers","renderFollower","followerItem","followerInfo","followerNameRow","followerDisplayName","followerUsername","utf8Bytes","TextEncoder","encode","byte","encryptedData","hexString","Uint8Array","parseInt","TextDecoder","decode","sanitizeInput","array","crypto","getRandomValues","hashData","hash","charCodeAt","expiryTime","durationMs","attempts","constructor","maxAttempts","windowMs","record","resetTime","getRemainingAttempts","ThreadedCommentItem","onReply","onToggleExpand","replyingTo","onReplyTextChange","onSubmitReply","onCancelReply","isPostAuthor","hasReplies","canNest","indentWidth","commentWrapper","authorBadge","authorText","authorInteraction","authorInteractionText","repliesContainer","ThreadedCommentSection","onCommentLike","onCommentReply","onPostComment","setReplyingTo","isRecordingVoice","setIsRecordingVoice","expandedThreads","setExpandedThreads","renderComment","newExpanded","toggleThread","inputAvatar","sendButtonDisabled","handlePostComment","HashtagText","onHashtagPress","inputText","normalText","PostDetailScreen","scrollToComments","commentsRef","setPost","isReposted","setIsReposted","setLikesCount","repostsCount","setRepostsCount","showInteractions","setShowInteractions","foundPost","headerContainer","handleRepostPress","handleCommentReply","handlePostCommentWithVoice","SpillsScreen","filteredSpills","spills","headerTop","handleStartSpill","SearchIcon","filterRow","filterText","scheduledCard","scheduledHeader","scheduledTopic","scheduledBadge","scheduledBadgeText","scheduledHost","scheduledTime","isHot","spillCard","handleJoinSpill","spillHeader","spillTitleRow","hotBadge","spillTopic","livePulse","spillInfo","hostInfo","hostInitial","hostDetails","spillTime","spillStats","cohostsRow","cohostsLabel","fontStyle","NotificationsScreen","weeks","getNotificationText","sections","groupNotificationsByTime","sevenDaysAgo","thirtyDaysAgo","last7Days","last30Days","notifDate","SectionList","renderNotification","isFollowNotification","notificationItem","userAvatar","notificationContent","notificationText","notificationUsername","unreadDot","renderSectionHeader","stickySectionHeadersEnabled","StartSpillScreen","setTopicName","setTopicType","typeRow","typeButton","typeText","infoCard","infoContent","infoTitle","ViewOnceComposer","onSend","selectedType","setSelectedType","allowReplay","setAllowReplay","maxReplays","setMaxReplays","lockBadge","mediaTypeGrid","mediaTypeCard","mediaEmoji","mediaLabel","replaySection","replaySectionHeader","replayIconContainer","replayOptionsContainer","replayOptionsLabel","replayOptionsGrid","replayOption","replayOptionText","handleSend","sendButtonText","ViewOnceMessage","onView","onExpire","isMyMessage","isViewing","setIsViewing","countdown","setCountdown","hasViewed","setHasViewed","viewedAt","canReplay","replayCount","handleOpen","expiredContainer","viewedTime","lockIcon","viewOnceLabel","replayBadge","replayText","modalBackground","mediaContent","countdownContainer","countdownText","closeButtonText","ChatScreen","markMessageAsViewed","markMessageAsExpired","recordScreenshotAttempt","setMessageText","setMessages","showViewOnceComposer","setShowViewOnceComposer","screenshotProtectionEnabled","setScreenshotProtectionEnabled","recipientId","isViewOnce","backBtn","headerCenter","userStatus","infoBtn","protectionBanner","protectionText","renderMessage","messageContainer","myMessageContainer","messageAvatar","handleViewMessage","handleExpireMessage","isExpired","messageBubble","messageTime","messagesList","messagesContainer","inputIcon","sendText","OfflineQueue","queue","getQueue","QUEUE_KEY","dequeue","shift","queueJson","processQueue","processor","processedCount","MessagingProvider","activeConversation","screenshotAttempts","loadConversations","saveConversations","markConversationAsRead","encryptedContent","payload","participant","newConversation","attempterId","currentCount","setScreenshotProtection","setPosition","sizeStyles","getSizeStyles","containerSmall","buttonSmall","waveformHeight","containerLarge","buttonLarge","containerMedium","buttonMedium","displayWaveform","currentSound","newSound","loadSound","isPlayed","startMeasure","metric","metrics","endMeasure","MAX_METRICS","firstKey","getMetric","getAllMetrics","clearMetrics","fn","measure","getMemoryInfo","performance","memory","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","logMemoryUsage","usedMB","totalMB","getAverageMetric","acc","context","errorLog","MAX_ERRORS","getErrors","clearErrors","getErrorCount","getRecentErrors","AppHealthMonitor","registerHealthCheck","isHealthy","healthChecks","getHealthStatus","checks","lastCheck","runHealthChecks","usagePercent","errorCount","withPerformanceTracking","args","metricName","withAsyncPerformanceTracking","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","call","deferred","O","chunkIds","notFulfilled","fulfilled","j","splice","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","mode","then","ns","def","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","miniCssF","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","done","script","needAttach","scripts","document","getElementsByTagName","getAttribute","createElement","charset","nc","setAttribute","src","onScriptComplete","onerror","onload","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}