(()=>{var e={147:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>B});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(2772),c=o(40484),u=(o(51690),o(78833)),f=o(49582),g=o(43316),h=o(25924),m=o(49637),p=o(23049),y=o(57459),x=o(21191),b=o(12543),j=o(70106),C=o(15519),w=o(48801),S=o(49050),v=o(60397);function k({password:e}){const{strength:t,score:o,color:r}=(()=>{if(!e)return{strength:"none",score:0,color:f.Colors.border};let t=0;return e.length>=8&&(t+=20),/[A-Z]/.test(e)&&(t+=20),/[a-z]/.test(e)&&(t+=20),/[0-9]/.test(e)&&(t+=20),/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(t+=20),t<=40?{strength:"weak",score:t,color:f.Colors.error}:t<=80?{strength:"medium",score:t,color:"#FFA500"}:{strength:"strong",score:t,color:f.Colors.success}})();return e?(0,v.jsxs)(s.default,{style:I.container,children:[(0,v.jsx)(s.default,{style:I.barContainer,children:(0,v.jsx)(s.default,{style:[I.bar,{width:`${o}%`,backgroundColor:r}]})}),(0,v.jsxs)(a.default,{style:[I.text,{color:r}],children:["weak"===t&&"Weak password","medium"===t&&"Medium password","strong"===t&&"Strong password"]}),"strong"!==t&&(0,v.jsxs)(s.default,{style:I.requirements,children:[e.length<8&&(0,v.jsx)(a.default,{style:I.requirement,children:"\u2022 At least 8 characters"}),!/[A-Z]/.test(e)&&(0,v.jsx)(a.default,{style:I.requirement,children:"\u2022 One uppercase letter"}),!/[a-z]/.test(e)&&(0,v.jsx)(a.default,{style:I.requirement,children:"\u2022 One lowercase letter"}),!/[0-9]/.test(e)&&(0,v.jsx)(a.default,{style:I.requirement,children:"\u2022 One number"}),!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(0,v.jsx)(a.default,{style:I.requirement,children:"\u2022 One special character"})]})]}):null}const I=n.default.create({container:{marginTop:8},barContainer:{height:4,backgroundColor:f.Colors.border,borderRadius:2,overflow:"hidden"},bar:{height:"100%",borderRadius:2},text:{fontSize:12,marginTop:4,fontWeight:"600"},requirements:{marginTop:8,gap:4},requirement:{fontSize:11,color:f.Colors.textSecondary}}),T=["Music","Movies","Food","Travel","Fitness","Fashion","Tech","Gaming","Art","Photography","Sports","Reading","Cooking","Dancing","Nature","Pets","Cars","Comedy"];function B(){const{register:e}=(0,h.useAuth)(),t=(0,u.useSafeAreaInsets)(),[o,n]=(0,r.useState)(1),[I,B]=(0,r.useState)(!1),[F,P]=(0,r.useState)(""),[D,A]=(0,r.useState)(0),[R,V]=(0,r.useState)(""),[L,O]=(0,r.useState)(""),[W,E]=(0,r.useState)(""),[M,N]=(0,r.useState)(!1),[H,U]=(0,r.useState)(!1),[q,_]=(0,r.useState)(null),[$,Y]=(0,r.useState)(""),[G,J]=(0,r.useState)(""),[K,Q]=(0,r.useState)(""),[Z,X]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[oe,re]=(0,r.useState)(""),[ne,ae]=(0,r.useState)(!0),[se,ie]=(0,r.useState)([]),[le,de]=(0,r.useState)(!1),[ce,ue]=(0,r.useState)(null),[fe,ge]=(0,r.useState)(!1),he=()=>{(async()=>{const e=await w.launchImageLibraryAsync({mediaTypes:S.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:.8});e.canceled||_(e.assets[0].uri)})()},me=e=>{const t=e.toLowerCase().replace(/[^a-z0-9_]/g,"");Q(t),(async e=>{e.length<3?ue(null):(ge(!0),setTimeout((()=>{const t=["admin","vibesync","test","user"].includes(e.toLowerCase());ue(!t),ge(!1)}),500))})(t)},pe=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ye=()=>pe(R)&&(e=>{const t=/[A-Z]/.test(e),o=/[a-z]/.test(e),r=/[0-9]/.test(e),n=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e.length>=8&&t&&o&&r&&n})(L)&&L===W,xe=()=>$.trim().length>0&&K.length>=3&&!0===ce,be=()=>se.length>=3,je=async()=>{B(!0),P("");try{const t=`${$} ${G}`.trim();console.log("[Register] Starting registration process..."),console.log("[Register] Email:",R),console.log("[Register] Username:",K),console.log("[Register] Display Name:",t),await e({email:R,password:L,confirmPassword:W,username:K,displayName:t,bio:Z,profileImage:q||void 0,interests:se,birthday:ee,gender:oe,enableLocation:le}),console.log("[Register] Registration successful, navigating to home..."),m.router.replace("/(tabs)")}catch(t){console.error("[Register] Registration failed:",t);const e=t.message?.includes("fetch")||t.message?.includes("Network")||t.message?.includes("Failed to fetch")||t.message?.includes("network request failed");P(e?"Unable to connect to the server. Please check your internet connection and try again.":t.message||"Failed to create account. Please try again."),A((e=>e+1))}finally{B(!1)}};return(0,v.jsxs)(s.default,{style:z.container,children:[(0,v.jsx)(p.StatusBar,{style:"light"}),(0,v.jsxs)(s.default,{style:z.header,children:[(0,v.jsx)(l.default,{onPress:()=>{o>1?n(o-1):m.router.back()},style:z.backButton,children:(0,v.jsx)(C.default,{size:24,color:f.Colors.text})}),(0,v.jsxs)(s.default,{style:z.progressContainer,children:[(0,v.jsx)(s.default,{style:z.progressBar,children:(0,v.jsx)(s.default,{style:[z.progressFill,{width:o/4*100+"%"}]})}),(0,v.jsxs)(a.default,{style:z.progressText,children:["Step ",o," of 4"]})]})]}),F?(0,v.jsxs)(s.default,{style:z.errorContainer,children:[(0,v.jsx)(a.default,{style:z.errorText,children:F}),D>0&&(0,v.jsx)(l.default,{onPress:()=>{P(""),je()},style:z.retryButton,children:(0,v.jsx)(a.default,{style:z.retryButtonText,children:"Retry"})})]}):null,1===o&&(0,v.jsxs)(d.default,{style:z.stepContainer,showsVerticalScrollIndicator:!1,children:[(0,v.jsx)(a.default,{style:z.stepTitle,children:"Create Your Account"}),(0,v.jsx)(a.default,{style:z.stepSubtitle,children:"Enter your email and create a secure password"}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Email *"}),(0,v.jsx)(i.default,{style:z.input,placeholder:"Enter your email",placeholderTextColor:f.Colors.textSecondary,value:R,onChangeText:V,autoCapitalize:"none",keyboardType:"email-address",autoComplete:"email"}),R.length>0&&!pe(R)&&(0,v.jsx)(a.default,{style:z.errorHint,children:"Please enter a valid email address"})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Password *"}),(0,v.jsxs)(s.default,{style:z.passwordContainer,children:[(0,v.jsx)(i.default,{style:[z.input,z.passwordInput],placeholder:"Create a strong password",placeholderTextColor:f.Colors.textSecondary,value:L,onChangeText:O,secureTextEntry:!M,autoComplete:"password-new"}),(0,v.jsx)(l.default,{style:z.eyeIcon,onPress:()=>N(!M),children:M?(0,v.jsx)(y.default,{size:20,color:f.Colors.textSecondary}):(0,v.jsx)(x.default,{size:20,color:f.Colors.textSecondary})})]}),(0,v.jsx)(k,{password:L})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Confirm Password *"}),(0,v.jsxs)(s.default,{style:z.passwordContainer,children:[(0,v.jsx)(i.default,{style:[z.input,z.passwordInput],placeholder:"Re-enter your password",placeholderTextColor:f.Colors.textSecondary,value:W,onChangeText:E,secureTextEntry:!H,autoComplete:"password-new"}),(0,v.jsx)(l.default,{style:z.eyeIcon,onPress:()=>U(!H),children:H?(0,v.jsx)(y.default,{size:20,color:f.Colors.textSecondary}):(0,v.jsx)(x.default,{size:20,color:f.Colors.textSecondary})})]}),W.length>0&&L!==W&&(0,v.jsx)(a.default,{style:z.errorHint,children:"Passwords do not match"})]})]}),2===o&&(0,v.jsxs)(d.default,{style:z.stepContainer,showsVerticalScrollIndicator:!1,children:[(0,v.jsx)(a.default,{style:z.stepTitle,children:"Create Your Vibe"}),(0,v.jsx)(a.default,{style:z.stepSubtitle,children:"Set up your profile and start connecting"}),(0,v.jsxs)(l.default,{style:z.profileImageContainer,onPress:he,children:[q?(0,v.jsx)(c.default,{source:{uri:q},style:z.profileImage}):(0,v.jsx)(s.default,{style:z.profileImagePlaceholder,children:(0,v.jsx)(b.default,{size:32,color:f.Colors.textSecondary})}),(0,v.jsx)(s.default,{style:z.cameraIconBadge,children:(0,v.jsx)(b.default,{size:16,color:f.Colors.text})})]}),(0,v.jsx)(l.default,{onPress:he,children:(0,v.jsx)(a.default,{style:z.skipText,children:"Tap to add photo \u2022 Skip for now"})}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"First Name *"}),(0,v.jsx)(i.default,{style:z.input,placeholder:"Enter your first name",placeholderTextColor:f.Colors.textSecondary,value:$,onChangeText:Y,autoCapitalize:"words"})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Last Name"}),(0,v.jsx)(i.default,{style:z.input,placeholder:"Enter your last name",placeholderTextColor:f.Colors.textSecondary,value:G,onChangeText:J,autoCapitalize:"words"})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsxs)(a.default,{style:z.label,children:["Username * @",K||"..."]}),(0,v.jsxs)(s.default,{style:z.usernameContainer,children:[(0,v.jsx)(i.default,{style:[z.input,z.usernameInput],placeholder:"Choose a unique username",placeholderTextColor:f.Colors.textSecondary,value:K,onChangeText:me,autoCapitalize:"none"}),fe&&(0,v.jsx)(a.default,{style:z.usernameStatus,children:"Checking..."}),!fe&&!0===ce&&(0,v.jsx)(s.default,{style:z.availableBadge,children:(0,v.jsx)(j.default,{size:16,color:f.Colors.success})}),!fe&&!1===ce&&(0,v.jsx)(a.default,{style:z.unavailableText,children:"Taken"})]}),(0,v.jsx)(a.default,{style:z.helperText,children:"This is how people will find you"})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Bio (Optional)"}),(0,v.jsx)(i.default,{style:[z.input,z.bioInput],placeholder:"Tell people about your vibe...",placeholderTextColor:f.Colors.textSecondary,value:Z,onChangeText:e=>e.length<=120&&X(e),multiline:!0,maxLength:120}),(0,v.jsxs)(a.default,{style:z.charCount,children:[Z.length,"/120"]})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Birthday (Optional)"}),(0,v.jsx)(i.default,{style:z.input,placeholder:"DD/MM/YYYY",placeholderTextColor:f.Colors.textSecondary,value:ee,onChangeText:te}),(0,v.jsxs)(l.default,{style:z.checkboxRow,onPress:()=>ae(!ne),children:[(0,v.jsx)(s.default,{style:[z.checkbox,ne&&z.checkboxChecked],children:ne&&(0,v.jsx)(j.default,{size:16,color:f.Colors.text})}),(0,v.jsx)(a.default,{style:z.checkboxLabel,children:"Show on profile"})]})]}),(0,v.jsxs)(s.default,{style:z.inputGroup,children:[(0,v.jsx)(a.default,{style:z.label,children:"Gender (Optional)"}),(0,v.jsx)(s.default,{style:z.genderRow,children:["Male","Female","Other","Prefer not to say"].map((e=>(0,v.jsx)(l.default,{style:[z.genderOption,oe===e&&z.genderOptionSelected],onPress:()=>re(e),children:(0,v.jsx)(a.default,{style:[z.genderText,oe===e&&z.genderTextSelected],children:e})},e)))})]})]}),3===o&&(0,v.jsxs)(d.default,{style:z.stepContainer,showsVerticalScrollIndicator:!1,children:[(0,v.jsx)(a.default,{style:z.stepTitle,children:"What are you into?"}),(0,v.jsx)(a.default,{style:z.stepSubtitle,children:"Select at least 3 interests to personalize your feed"}),(0,v.jsx)(s.default,{style:z.interestsGrid,children:T.map((e=>{const t=se.includes(e);return(0,v.jsxs)(l.default,{style:[z.interestChip,t&&z.interestChipSelected],onPress:()=>(e=>{se.includes(e)?ie(se.filter((t=>t!==e))):ie([...se,e])})(e),children:[(0,v.jsx)(a.default,{style:[z.interestText,t&&z.interestTextSelected],children:e}),t&&(0,v.jsx)(s.default,{style:z.interestCheck,children:(0,v.jsx)(j.default,{size:14,color:f.Colors.text})})]},e)}))}),(0,v.jsxs)(a.default,{style:z.selectedCount,children:[se.length," selected ",se.length>=3?"\u2713":`(${3-se.length} more needed)`]})]}),4===o&&(0,v.jsxs)(d.default,{style:z.stepContainer,showsVerticalScrollIndicator:!1,children:[(0,v.jsx)(a.default,{style:z.stepTitle,children:"Discover Nearby Vibes"}),(0,v.jsx)(a.default,{style:z.stepSubtitle,children:"Enable location to find people and events around you"}),(0,v.jsxs)(s.default,{style:z.locationCard,children:[(0,v.jsx)(s.default,{style:z.locationIconContainer,children:(0,v.jsx)(a.default,{style:z.locationIcon,children:"\ud83d\udccd"})}),(0,v.jsx)(a.default,{style:z.locationTitle,children:"Location-Based Discovery"}),(0,v.jsx)(a.default,{style:z.locationDescription,children:"Find friends nearby, discover local events, and connect with your community. You can adjust your distance preferences anytime."}),(0,v.jsxs)(l.default,{style:z.locationToggle,onPress:()=>de(!le),children:[(0,v.jsx)(s.default,{style:[z.toggleTrack,le&&z.toggleTrackActive],children:(0,v.jsx)(s.default,{style:[z.toggleThumb,le&&z.toggleThumbActive]})}),(0,v.jsx)(a.default,{style:z.toggleLabel,children:le?"Location Enabled":"Enable Location"})]}),le&&(0,v.jsxs)(s.default,{style:z.locationInfo,children:[(0,v.jsx)(a.default,{style:z.locationInfoText,children:"\u2713 Discover people within 1-20km"}),(0,v.jsx)(a.default,{style:z.locationInfoText,children:"\u2713 Find local events and meetups"}),(0,v.jsx)(a.default,{style:z.locationInfoText,children:"\u2713 See activity heat spots"})]})]}),(0,v.jsx)(a.default,{style:z.privacyNote,children:"Your exact location is never shared. Only approximate distance is shown to others."}),(0,v.jsxs)(s.default,{style:z.summaryCard,children:[(0,v.jsx)(a.default,{style:z.summaryTitle,children:"Profile Summary"}),q&&(0,v.jsx)(c.default,{source:{uri:q},style:z.summaryImage}),(0,v.jsxs)(a.default,{style:z.summaryName,children:[$," ",G]}),(0,v.jsxs)(a.default,{style:z.summaryUsername,children:["@",K]}),Z&&(0,v.jsx)(a.default,{style:z.summaryBio,children:Z}),(0,v.jsxs)(s.default,{style:z.summaryInterests,children:[se.slice(0,5).map((e=>(0,v.jsx)(s.default,{style:z.summaryInterestChip,children:(0,v.jsx)(a.default,{style:z.summaryInterestText,children:e})},e))),se.length>5&&(0,v.jsxs)(a.default,{style:z.summaryMore,children:["+",se.length-5," more"]})]})]})]}),(0,v.jsxs)(s.default,{style:[z.footer,{paddingBottom:Math.max(t.bottom,16)+10}],children:[o<4?(0,v.jsx)(g.Button,{title:"Continue",onPress:()=>{1===o&&ye()?n(2):2===o&&xe()?n(3):3===o&&be()&&n(4)},disabled:1===o&&!ye()||2===o&&!xe()||3===o&&!be(),style:z.continueButton}):(0,v.jsx)(g.Button,{title:"Finish & Start Vibing",onPress:je,loading:I,disabled:I,style:z.continueButton}),4===o&&(0,v.jsx)(l.default,{onPress:je,children:(0,v.jsx)(a.default,{style:z.skipButton,children:"Skip & Finish Later"})})]})]})}const z=n.default.create({container:{flex:1,backgroundColor:f.Colors.background},header:{paddingTop:40,paddingHorizontal:16,paddingBottom:16,borderBottomWidth:1,borderBottomColor:f.Colors.border},backButton:{width:40,height:40,justifyContent:"center",marginBottom:12},progressContainer:{gap:8},progressBar:{height:4,backgroundColor:f.Colors.cardLight,borderRadius:2,overflow:"hidden"},progressFill:{height:"100%",backgroundColor:f.Colors.primary,borderRadius:2},progressText:{color:f.Colors.textSecondary,fontSize:12},stepContainer:{flex:1,paddingHorizontal:16,paddingTop:24},stepTitle:{color:f.Colors.text,fontSize:28,fontWeight:"bold",marginBottom:8},stepSubtitle:{color:f.Colors.textSecondary,fontSize:16,marginBottom:32,lineHeight:22},profileImageContainer:{alignSelf:"center",marginBottom:12,position:"relative"},profileImage:{width:120,height:120,borderRadius:60,backgroundColor:f.Colors.cardLight},profileImagePlaceholder:{width:120,height:120,borderRadius:60,backgroundColor:f.Colors.cardLight,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:f.Colors.border,borderStyle:"dashed"},cameraIconBadge:{position:"absolute",bottom:0,right:0,width:36,height:36,borderRadius:18,backgroundColor:f.Colors.primary,justifyContent:"center",alignItems:"center",borderWidth:3,borderColor:f.Colors.background},skipText:{color:f.Colors.textSecondary,fontSize:14,textAlign:"center",marginBottom:32},inputGroup:{marginBottom:24},label:{color:f.Colors.text,fontSize:14,fontWeight:"600",marginBottom:8},input:{backgroundColor:f.Colors.cardLight,borderRadius:12,padding:16,color:f.Colors.text,fontSize:16,borderWidth:1,borderColor:f.Colors.border},passwordContainer:{position:"relative"},passwordInput:{paddingRight:50},eyeIcon:{position:"absolute",right:16,top:16},errorHint:{color:f.Colors.error,fontSize:12,marginTop:6},usernameContainer:{position:"relative"},usernameInput:{paddingRight:60},usernameStatus:{position:"absolute",right:16,top:18,color:f.Colors.textSecondary,fontSize:14},availableBadge:{position:"absolute",right:16,top:16,width:24,height:24,borderRadius:12,backgroundColor:f.Colors.success+"20",justifyContent:"center",alignItems:"center"},unavailableText:{position:"absolute",right:16,top:18,color:f.Colors.error,fontSize:14,fontWeight:"600"},helperText:{color:f.Colors.textSecondary,fontSize:12,marginTop:6},bioInput:{minHeight:80,textAlignVertical:"top"},charCount:{color:f.Colors.textSecondary,fontSize:12,textAlign:"right",marginTop:6},checkboxRow:{flexDirection:"row",alignItems:"center",marginTop:12},checkbox:{width:20,height:20,borderRadius:6,borderWidth:2,borderColor:f.Colors.border,marginRight:8,justifyContent:"center",alignItems:"center"},checkboxChecked:{backgroundColor:f.Colors.primary,borderColor:f.Colors.primary},checkboxLabel:{color:f.Colors.text,fontSize:14},genderRow:{flexDirection:"row",flexWrap:"wrap",gap:8},genderOption:{paddingHorizontal:16,paddingVertical:10,borderRadius:20,backgroundColor:f.Colors.cardLight,borderWidth:1,borderColor:f.Colors.border},genderOptionSelected:{backgroundColor:f.Colors.primary,borderColor:f.Colors.primary},genderText:{color:f.Colors.textSecondary,fontSize:14},genderTextSelected:{color:f.Colors.text,fontWeight:"600"},interestsGrid:{flexDirection:"row",flexWrap:"wrap",gap:12},interestChip:{paddingHorizontal:20,paddingVertical:12,borderRadius:24,backgroundColor:f.Colors.cardLight,borderWidth:1,borderColor:f.Colors.border,flexDirection:"row",alignItems:"center",gap:6},interestChipSelected:{backgroundColor:f.Colors.primary,borderColor:f.Colors.primary},interestText:{color:f.Colors.textSecondary,fontSize:15},interestTextSelected:{color:f.Colors.text,fontWeight:"600"},interestCheck:{width:18,height:18,borderRadius:9,backgroundColor:f.Colors.text,justifyContent:"center",alignItems:"center"},selectedCount:{color:f.Colors.textSecondary,fontSize:14,textAlign:"center",marginTop:24,fontWeight:"500"},locationCard:{backgroundColor:f.Colors.card,borderRadius:20,padding:24,borderWidth:1,borderColor:f.Colors.border,alignItems:"center"},locationIconContainer:{width:80,height:80,borderRadius:40,backgroundColor:f.Colors.cardLight,justifyContent:"center",alignItems:"center",marginBottom:20},locationIcon:{fontSize:40},locationTitle:{color:f.Colors.text,fontSize:20,fontWeight:"bold",marginBottom:12,textAlign:"center"},locationDescription:{color:f.Colors.textSecondary,fontSize:14,textAlign:"center",lineHeight:20,marginBottom:24},locationToggle:{flexDirection:"row",alignItems:"center",gap:12},toggleTrack:{width:52,height:32,borderRadius:16,backgroundColor:f.Colors.cardLight,padding:2,justifyContent:"center"},toggleTrackActive:{backgroundColor:f.Colors.primary},toggleThumb:{width:28,height:28,borderRadius:14,backgroundColor:f.Colors.text},toggleThumbActive:{transform:[{translateX:20}]},toggleLabel:{color:f.Colors.text,fontSize:16,fontWeight:"600"},locationInfo:{marginTop:20,gap:8,alignSelf:"stretch"},locationInfoText:{color:f.Colors.textSecondary,fontSize:14},privacyNote:{color:f.Colors.textSecondary,fontSize:12,textAlign:"center",marginTop:16,lineHeight:18},summaryCard:{backgroundColor:f.Colors.card,borderRadius:20,padding:24,borderWidth:1,borderColor:f.Colors.border,alignItems:"center",marginTop:24},summaryTitle:{color:f.Colors.text,fontSize:18,fontWeight:"bold",marginBottom:20},summaryImage:{width:80,height:80,borderRadius:40,marginBottom:12},summaryName:{color:f.Colors.text,fontSize:20,fontWeight:"bold"},summaryUsername:{color:f.Colors.textSecondary,fontSize:16,marginBottom:12},summaryBio:{color:f.Colors.textSecondary,fontSize:14,textAlign:"center",marginBottom:16},summaryInterests:{flexDirection:"row",flexWrap:"wrap",gap:8,justifyContent:"center"},summaryInterestChip:{paddingHorizontal:12,paddingVertical:6,borderRadius:12,backgroundColor:f.Colors.cardLight},summaryInterestText:{color:f.Colors.text,fontSize:12},summaryMore:{color:f.Colors.textSecondary,fontSize:12,paddingHorizontal:12,paddingVertical:6},footer:{padding:16,borderTopWidth:1,borderTopColor:f.Colors.border,gap:12,backgroundColor:f.Colors.background},continueButton:{borderRadius:12},skipButton:{color:f.Colors.textSecondary,fontSize:14,textAlign:"center",padding:12},errorContainer:{marginHorizontal:16,marginTop:16,borderRadius:12,backgroundColor:f.Colors.error+"20",padding:16,gap:12},errorText:{color:f.Colors.error,textAlign:"center",fontSize:14,lineHeight:20},retryButton:{backgroundColor:f.Colors.error,paddingVertical:10,paddingHorizontal:20,borderRadius:8,alignSelf:"center"},retryButtonText:{color:f.Colors.text,fontSize:14,fontWeight:"600"}})},944:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>j});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(15648),d=o(49637),c=o(49582),u=o(97991),f=o(25924),g=o(34927),h=o(35613),m=o(37286),p=o(59566),y=o(67236),x=o(76221),b=o(60397);function j(){const{isAuthenticated:e}=(0,f.useAuth)(),{conversations:t,setActiveConversation:o,createMockConversations:n}=(0,u.useMessaging)();(0,r.useEffect)((()=>{e?0===t.length&&n():d.router.replace("/auth")}),[e,t.length,n]);const j=e=>{const t=new Date,o=new Date(e),r=t.getTime()-o.getTime(),n=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5);return n<1?"Just now":n<60?`${n}m`:a<24?`${a}h`:s<7?`${s}d`:o.toLocaleDateString()};return(0,b.jsxs)(s.default,{style:C.container,children:[(0,b.jsx)(d.Stack.Screen,{options:{title:"Messages",headerStyle:{backgroundColor:c.Colors.background},headerTitleStyle:{color:c.Colors.text},headerTintColor:c.Colors.text,headerLeft:()=>(0,b.jsx)(l.default,{onPress:()=>d.router.push("/(tabs)"),style:C.backButton,children:(0,b.jsx)(a.default,{style:C.backButtonText,children:"\u2190 Back"})}),headerRight:()=>(0,b.jsxs)(s.default,{style:C.headerActions,children:[(0,b.jsx)(l.default,{style:C.headerButton,children:(0,b.jsx)(y.default,{size:22,color:c.Colors.text})}),(0,b.jsx)(l.default,{style:C.headerButton,children:(0,b.jsx)(h.default,{size:22,color:c.Colors.text})})]})}}),0===t.length?(0,b.jsxs)(s.default,{style:C.emptyContainer,children:[(0,b.jsx)(m.default,{size:60,color:c.Colors.textSecondary}),(0,b.jsx)(a.default,{style:C.emptyTitle,children:"No messages yet"}),(0,b.jsx)(a.default,{style:C.emptyMessage,children:"Start a conversation with someone to see your messages here"}),(0,b.jsx)(l.default,{style:C.startChatButton,children:(0,b.jsx)(a.default,{style:C.startChatButtonText,children:"Start a Chat"})})]}):(0,b.jsx)(i.default,{data:t,keyExtractor:e=>e.id,renderItem:({item:e})=>{const t=(r=e).participants[1]||r.participants[0];var r;return(0,b.jsxs)(l.default,{style:C.conversationItem,onPress:()=>(e=>{o(e),d.router.push(`/chat/${e.id}`)})(e),children:[(0,b.jsx)(s.default,{style:C.avatarContainer,children:(0,b.jsx)(g.Avatar,{uri:t.profileImage,size:50,style:C.avatar})}),(0,b.jsxs)(s.default,{style:C.conversationContent,children:[(0,b.jsxs)(s.default,{style:C.conversationHeader,children:[(0,b.jsx)(a.default,{style:C.userName,children:t.displayName}),(0,b.jsx)(a.default,{style:C.timestamp,children:j(e.updatedAt)})]}),(0,b.jsxs)(s.default,{style:C.messagePreview,children:[(0,b.jsx)(a.default,{style:[C.lastMessage,e.unreadCount>0&&C.unreadMessage],numberOfLines:1,children:"voice"===e.lastMessage.type?"\ud83c\udfa4 Voice message":"image"===e.lastMessage.type?"\ud83d\udcf7 Photo":"video"===e.lastMessage.type?"\ud83c\udfa5 Video":e.lastMessage.content||"No messages yet"}),e.unreadCount>0&&(0,b.jsx)(s.default,{style:C.unreadBadge,children:(0,b.jsx)(a.default,{style:C.unreadCount,children:e.unreadCount>99?"99+":e.unreadCount})})]})]}),(0,b.jsxs)(s.default,{style:C.actionButtons,children:[(0,b.jsx)(l.default,{style:C.actionButton,onPress:()=>{return e=t.id,void console.log("Starting voice call with:",e);var e},children:(0,b.jsx)(p.default,{size:18,color:c.Colors.textSecondary})}),(0,b.jsx)(l.default,{style:C.actionButton,onPress:()=>{return e=t.id,void console.log("Starting video call with:",e);var e},children:(0,b.jsx)(x.default,{size:18,color:c.Colors.textSecondary})})]})]})},showsVerticalScrollIndicator:!1,contentContainerStyle:C.listContainer})]})}const C=n.default.create({container:{flex:1,backgroundColor:c.Colors.background},headerActions:{flexDirection:"row",alignItems:"center",marginRight:16},headerButton:{marginLeft:16},listContainer:{paddingHorizontal:16,paddingTop:24,paddingBottom:20},conversationItem:{flexDirection:"row",alignItems:"center",padding:16,backgroundColor:c.Colors.card,borderRadius:12,marginBottom:12},avatarContainer:{position:"relative",marginRight:12},avatar:{},conversationContent:{flex:1},conversationHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},userName:{color:c.Colors.text,fontSize:16,fontWeight:"600"},timestamp:{color:c.Colors.textSecondary,fontSize:12},messagePreview:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},lastMessage:{color:c.Colors.textSecondary,fontSize:14,flex:1},unreadMessage:{color:c.Colors.text,fontWeight:"600"},unreadBadge:{backgroundColor:c.Colors.primary,borderRadius:10,minWidth:20,height:20,justifyContent:"center",alignItems:"center",paddingHorizontal:6},unreadCount:{color:c.Colors.text,fontSize:12,fontWeight:"600"},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:40},emptyTitle:{color:c.Colors.text,fontSize:20,fontWeight:"600",marginTop:16,marginBottom:8},emptyMessage:{color:c.Colors.textSecondary,fontSize:16,textAlign:"center",lineHeight:24,marginBottom:24},startChatButton:{backgroundColor:c.Colors.primary,paddingVertical:12,paddingHorizontal:24,borderRadius:24},startChatButtonText:{color:c.Colors.text,fontSize:16,fontWeight:"600"},backButton:{marginLeft:16},backButtonText:{color:c.Colors.primary,fontSize:16,fontWeight:"600"},actionButtons:{flexDirection:"row",alignItems:"center"},actionButton:{padding:8,marginLeft:4}})},3538:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>A});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(49637),c=o(49582),u=o(25924),f=o(34927),g=o(54407),h=o(43316),m=o(34248),p=o(93861),y=o(25786),x=o(25275),b=o(37286),j=o(52417),C=o(78264),w=o(21191),S=o(1822),v=o(90046),k=o(64584),I=o(60893),T=o(60397);const B=({views:e,viewsCount:t,timeRange:o="week"})=>{const[n,u]=(0,r.useState)(!1),h=()=>{switch(o){case"day":return"today";case"week":default:return"this week";case"month":return"this month";case"all":return"all time"}},m=e=>{const t=Date.now()-new Date(e).getTime(),o=Math.floor(t/6e4),r=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<60?`${o}m ago`:r<24?`${r}h ago`:`${n}d ago`},p=e.filter((e=>!e.isPrivateView)).slice(0,5),y=()=>{d.router.push("/profile-views")};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(l.default,{style:z.container,onPress:y,activeOpacity:.8,children:(0,T.jsxs)(I.LinearGradient,{colors:["rgba(59, 130, 246, 0.1)","rgba(6, 182, 212, 0.1)"],start:{x:0,y:0},end:{x:1,y:0},style:z.gradient,children:[(0,T.jsxs)(s.default,{style:z.header,children:[(0,T.jsx)(s.default,{style:z.iconContainer,children:(0,T.jsx)(w.default,{size:20,color:c.Colors.primary})}),(0,T.jsxs)(s.default,{style:z.headerText,children:[(0,T.jsx)(a.default,{style:z.title,children:"Profile Views"}),(0,T.jsxs)(a.default,{style:z.subtitle,children:[t," view",1!==t?"s":""," ",h()]})]}),(0,T.jsx)(S.default,{size:20,color:c.Colors.textSecondary})]}),p.length>0&&(0,T.jsxs)(s.default,{style:z.avatarsContainer,children:[p.map(((e,t)=>(0,T.jsx)(s.default,{style:[z.avatarWrapper,{marginLeft:t>0?-12:0,zIndex:5-t}],children:(0,T.jsx)(f.Avatar,{uri:e.viewerProfileImage,size:32,borderWidth:2,borderColor:c.Colors.background})},e.id))),e.length>5&&(0,T.jsx)(s.default,{style:[z.moreCount,{marginLeft:-12}],children:(0,T.jsxs)(a.default,{style:z.moreCountText,children:["+",e.length-5]})})]})]})}),(0,T.jsx)(C.default,{visible:n,transparent:!0,animationType:"slide",onRequestClose:()=>u(!1),children:(0,T.jsxs)(s.default,{style:z.modalOverlay,children:[(0,T.jsx)(l.default,{style:z.modalBackdrop,activeOpacity:1,onPress:()=>u(!1)}),(0,T.jsxs)(s.default,{style:z.modalContent,children:[(0,T.jsxs)(s.default,{style:z.modalHeader,children:[(0,T.jsx)(a.default,{style:z.modalTitle,children:"Profile Views"}),(0,T.jsx)(l.default,{onPress:()=>u(!1),style:z.closeButton,children:(0,T.jsx)(v.default,{size:24,color:c.Colors.text})})]}),(0,T.jsxs)(s.default,{style:z.statsRow,children:[(0,T.jsxs)(s.default,{style:z.statBox,children:[(0,T.jsx)(a.default,{style:z.statNumber,children:t}),(0,T.jsx)(a.default,{style:z.statLabel,children:h()})]}),(0,T.jsxs)(s.default,{style:z.statBox,children:[(0,T.jsx)(a.default,{style:z.statNumber,children:e.length}),(0,T.jsx)(a.default,{style:z.statLabel,children:"total views"})]})]}),(0,T.jsxs)(i.default,{style:z.modalScroll,showsVerticalScrollIndicator:!1,children:[e.slice(0,10).map((e=>(0,T.jsxs)(l.default,{style:z.viewItem,onPress:()=>{var t;u(!1),t=e.viewerId,d.router.push(`/user/${t}`)},activeOpacity:.7,children:[(0,T.jsx)(f.Avatar,{uri:e.viewerProfileImage,size:48}),(0,T.jsxs)(s.default,{style:z.viewInfo,children:[(0,T.jsxs)(s.default,{style:z.viewNameRow,children:[(0,T.jsx)(a.default,{style:z.viewName,children:e.viewerDisplayName}),e.viewerIsVerified&&(0,T.jsx)(g.VerifiedBadge,{size:16})]}),(0,T.jsxs)(a.default,{style:z.viewUsername,children:["@",e.viewerUsername]})]}),(0,T.jsxs)(s.default,{style:z.timeContainer,children:[(0,T.jsx)(k.default,{size:14,color:c.Colors.textSecondary}),(0,T.jsx)(a.default,{style:z.timeText,children:m(e.timestamp)})]})]},e.id))),e.length>10&&(0,T.jsxs)(l.default,{style:z.viewAllButton,onPress:()=>{u(!1),y()},children:[(0,T.jsxs)(a.default,{style:z.viewAllText,children:["View All ",e.length," Views"]}),(0,T.jsx)(S.default,{size:18,color:c.Colors.primary})]})]})]})]})})]})},z=n.default.create({container:{marginHorizontal:20,marginVertical:12,borderRadius:16,overflow:"hidden"},gradient:{padding:16,borderRadius:16,borderWidth:1,borderColor:"rgba(59, 130, 246, 0.2)"},header:{flexDirection:"row",alignItems:"center",marginBottom:12},iconContainer:{width:40,height:40,borderRadius:20,backgroundColor:"rgba(59, 130, 246, 0.15)",justifyContent:"center",alignItems:"center",marginRight:12},headerText:{flex:1},title:{color:c.Colors.text,fontSize:16,fontWeight:"700",marginBottom:2},subtitle:{color:c.Colors.textSecondary,fontSize:14},avatarsContainer:{flexDirection:"row",alignItems:"center"},avatarWrapper:{borderRadius:16,overflow:"hidden"},moreCount:{width:32,height:32,borderRadius:16,backgroundColor:c.Colors.primary,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:c.Colors.background},moreCountText:{color:c.Colors.text,fontSize:11,fontWeight:"700"},modalOverlay:{flex:1,justifyContent:"flex-end"},modalBackdrop:Object.assign({},n.default.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.7)"}),modalContent:{backgroundColor:c.Colors.card,borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%",paddingBottom:40},modalHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1,borderBottomColor:c.Colors.border},modalTitle:{color:c.Colors.text,fontSize:18,fontWeight:"700"},closeButton:{padding:4},statsRow:{flexDirection:"row",paddingHorizontal:20,paddingVertical:16,gap:12},statBox:{flex:1,backgroundColor:c.Colors.cardLight,padding:16,borderRadius:12,alignItems:"center"},statNumber:{color:c.Colors.text,fontSize:24,fontWeight:"700",marginBottom:4},statLabel:{color:c.Colors.textSecondary,fontSize:12},modalScroll:{paddingHorizontal:20,paddingTop:8},viewItem:{flexDirection:"row",alignItems:"center",paddingVertical:12,gap:12},viewInfo:{flex:1},viewNameRow:{flexDirection:"row",alignItems:"center",gap:6,marginBottom:2},viewName:{color:c.Colors.text,fontSize:16,fontWeight:"600"},viewUsername:{color:c.Colors.textSecondary,fontSize:14},timeContainer:{flexDirection:"row",alignItems:"center",gap:4},timeText:{color:c.Colors.textSecondary,fontSize:12},viewAllButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:16,marginTop:8,gap:8},viewAllText:{color:c.Colors.primary,fontSize:16,fontWeight:"600"}});var F=o(55239),P=o(67026),D=o(29621);function A(){const{id:e}=(0,d.useLocalSearchParams)(),{isAuthenticated:t,user:o}=(0,u.useAuth)(),{trackProfileView:n,getProfileViews:C,getProfileViewsCount:w}=(0,F.useProfileViews)(),[S,v]=(0,r.useState)(null),[k,I]=(0,r.useState)([]),[z,A]=(0,r.useState)(!1),[V,L]=(0,r.useState)("posts"),[O,W]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t)return void d.router.replace("/auth");const r=P.mockUsers.find((t=>t.id===e));if(r){v(r);const t=D.mockPosts.filter((t=>t.author.id===e));I(t),A(Math.random()>.5),o?.id&&o.id!==e&&(n(e,o.id),console.log(`[UserProfile] Tracked view: ${o.username} viewed ${r.username}`))}}),[e,t,o,n]);const E=e=>{d.router.push(`/post/${e}`)},M=e=>{console.log("Like pressed for post:",e)},N=e=>{d.router.push(`/post/${e}`)},H=e=>{console.log("Share pressed for post:",e)},U=()=>{W(!0),console.log("[UserProfile] Opening QR code share modal")};if(!S)return(0,T.jsxs)(s.default,{style:R.errorContainer,children:[(0,T.jsx)(a.default,{style:R.errorText,children:"User not found"}),(0,T.jsx)(l.default,{onPress:()=>d.router.back(),style:R.backButton,children:(0,T.jsx)(a.default,{style:R.backButtonText,children:"Go Back"})})]});const q=o?.id===S.id;return(0,T.jsxs)(s.default,{style:R.container,children:[(0,T.jsx)(d.Stack.Screen,{options:{title:S.displayName,headerStyle:{backgroundColor:c.Colors.background},headerTitleStyle:{color:c.Colors.text},headerTintColor:c.Colors.text,headerLeft:()=>(0,T.jsx)(l.default,{onPress:()=>d.router.back(),style:R.headerBackButton,children:(0,T.jsx)(p.default,{size:24,color:c.Colors.text})}),headerRight:()=>(0,T.jsxs)(s.default,{style:R.headerRightContainer,children:[(0,T.jsx)(l.default,{style:R.headerShareButton,onPress:U,children:(0,T.jsx)(y.default,{size:22,color:c.Colors.text})}),(0,T.jsx)(l.default,{style:R.headerMoreButton,children:(0,T.jsx)(x.default,{size:24,color:c.Colors.text})})]})}}),(0,T.jsxs)(i.default,{style:R.scrollView,showsVerticalScrollIndicator:!1,children:[(0,T.jsxs)(s.default,{style:R.profileHeader,children:[(0,T.jsx)(f.Avatar,{uri:S.profileImage,size:100,style:R.profileAvatar}),(0,T.jsxs)(s.default,{style:R.profileInfo,children:[(0,T.jsxs)(s.default,{style:R.nameContainer,children:[(0,T.jsx)(a.default,{style:R.displayName,children:S.displayName}),S.isVerified&&(0,T.jsx)(g.VerifiedBadge,{size:20})]}),(0,T.jsxs)(a.default,{style:R.username,children:["@",S.username]}),S.bio&&(0,T.jsx)(a.default,{style:R.bio,children:S.bio})]}),(0,T.jsxs)(s.default,{style:R.statsContainer,children:[(0,T.jsxs)(l.default,{style:R.statItem,onPress:()=>d.router.push(`/user/${e}/followers`),children:[(0,T.jsx)(a.default,{style:R.statNumber,children:S.followersCount}),(0,T.jsx)(a.default,{style:R.statLabel,children:"Followers"})]}),(0,T.jsxs)(l.default,{style:R.statItem,onPress:()=>d.router.push(`/user/${e}/following`),children:[(0,T.jsx)(a.default,{style:R.statNumber,children:S.followingCount}),(0,T.jsx)(a.default,{style:R.statLabel,children:"Following"})]}),(0,T.jsxs)(s.default,{style:R.statItem,children:[(0,T.jsx)(a.default,{style:R.statNumber,children:k.length}),(0,T.jsx)(a.default,{style:R.statLabel,children:"Posts"})]})]}),!q&&(0,T.jsxs)(s.default,{style:R.actionButtons,children:[(0,T.jsx)(h.Button,{title:z?"Following":"Follow",onPress:()=>{A(!z)},style:[R.followButton,z&&R.followingButton],textStyle:z?R.followingButtonText:void 0}),(0,T.jsx)(l.default,{style:R.messageButton,onPress:()=>{d.router.push(`/chat/user-${e}`)},children:(0,T.jsx)(b.default,{size:20,color:c.Colors.text})})]})]}),q&&(0,T.jsx)(B,{views:C(S.id),viewsCount:w(S.id,"week"),timeRange:"week"}),(0,T.jsxs)(s.default,{style:R.tabsContainer,children:[(0,T.jsx)(l.default,{style:[R.tab,"posts"===V&&R.activeTab],onPress:()=>L("posts"),children:(0,T.jsx)(a.default,{style:[R.tabText,"posts"===V&&R.activeTabText],children:"Posts"})}),(0,T.jsx)(l.default,{style:[R.tab,"media"===V&&R.activeTab],onPress:()=>L("media"),children:(0,T.jsx)(a.default,{style:[R.tabText,"media"===V&&R.activeTabText],children:"Media"})})]}),"posts"===V&&(0,T.jsx)(s.default,{style:R.postsContainer,children:k.length>0?k.map((e=>(0,T.jsx)(m.PostCard,{post:e,onPress:E,onLike:M,onComment:N,onShare:H},e.id))):(0,T.jsx)(s.default,{style:R.emptyContainer,children:(0,T.jsx)(a.default,{style:R.emptyText,children:"No posts yet"})})}),"media"===V&&(0,T.jsx)(s.default,{style:R.mediaContainer,children:(0,T.jsx)(a.default,{style:R.emptyText,children:"Media content coming soon"})})]}),(0,T.jsx)(j.QRCodeShareModal,{visible:O,onClose:()=>W(!1),user:S})]})}const R=n.default.create({container:{flex:1,backgroundColor:c.Colors.background},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:c.Colors.background,padding:20},errorText:{color:c.Colors.text,fontSize:18,marginBottom:20},backButton:{backgroundColor:c.Colors.primary,paddingVertical:12,paddingHorizontal:24,borderRadius:24},backButtonText:{color:c.Colors.text,fontSize:16,fontWeight:"600"},headerBackButton:{marginLeft:16},headerRightContainer:{flexDirection:"row",alignItems:"center",gap:8,marginRight:16},headerShareButton:{padding:4},headerMoreButton:{padding:4},scrollView:{flex:1},profileHeader:{padding:20,alignItems:"center"},profileAvatar:{marginBottom:16},profileInfo:{alignItems:"center",marginBottom:20},nameContainer:{flexDirection:"row",alignItems:"center",marginBottom:4},displayName:{color:c.Colors.text,fontSize:24,fontWeight:"700",marginRight:8},username:{color:c.Colors.textSecondary,fontSize:16,marginBottom:8},bio:{color:c.Colors.text,fontSize:16,textAlign:"center",lineHeight:22},statsContainer:{flexDirection:"row",justifyContent:"space-around",width:"100%",marginBottom:20},statItem:{alignItems:"center"},statNumber:{color:c.Colors.text,fontSize:20,fontWeight:"700"},statLabel:{color:c.Colors.textSecondary,fontSize:14,marginTop:2},actionButtons:{flexDirection:"row",alignItems:"center",gap:12},followButton:{flex:1},followingButton:{backgroundColor:c.Colors.cardLight},followingButtonText:{color:c.Colors.text},messageButton:{backgroundColor:c.Colors.cardLight,width:44,height:44,borderRadius:22,justifyContent:"center",alignItems:"center"},tabsContainer:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:c.Colors.border},tab:{flex:1,paddingVertical:16,alignItems:"center"},activeTab:{borderBottomWidth:2,borderBottomColor:c.Colors.primary},tabText:{color:c.Colors.textSecondary,fontSize:16,fontWeight:"600"},activeTabText:{color:c.Colors.text},postsContainer:{paddingTop:16},mediaContainer:{padding:20,alignItems:"center"},emptyContainer:{padding:40,alignItems:"center"},emptyText:{color:c.Colors.textSecondary,fontSize:16}})},3894:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockStatuses:()=>r,mockUserStatusGroups:()=>n,statusBackgrounds:()=>a});const r=[{id:"status-1",userId:"1",username:"sarah_vibes",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",verified:!0,type:"photo",media:{type:"photo",uri:"https://images.unsplash.com/photo-1554118811-1e0d58224f24",width:1080,height:1920},overlays:[{type:"text",content:"Good vibes only \u2728",position:{x:50,y:80},color:"#FFFFFF",fontSize:32}],caption:"Coffee time",createdAt:new Date(Date.now()-72e5).toISOString(),expiresAt:new Date(Date.now()+792e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:234,replies:12,shares:5,viewers:[]}},{id:"status-2",userId:"6",username:"jamal_fitness",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150",verified:!0,type:"voice",voiceContent:{uri:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",duration:45,waveform:[.2,.5,.8,.6,.9,.4,.7,.3,.6,.8,.5,.9,.7,.4,.6,.8,.3,.5,.7,.9],gradient:["#667eea","#764ba2"]},caption:"Morning motivation!",createdAt:new Date(Date.now()-36e5).toISOString(),expiresAt:new Date(Date.now()+828e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:456,replies:23,shares:12,viewers:[]}},{id:"status-3",userId:"7",username:"priya_travels",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150",verified:!0,type:"photo",media:{type:"photo",uri:"https://images.unsplash.com/photo-1564507592333-c60657eea523",width:1080,height:1920},overlays:[{type:"text",content:"Taj Mahal \ud83c\udf05",position:{x:50,y:90},color:"#FFFFFF",fontSize:36}],caption:"Magical sunset",createdAt:new Date(Date.now()-108e5).toISOString(),expiresAt:new Date(Date.now()+756e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:789,replies:45,shares:23,viewers:[]}},{id:"status-4",userId:"9",username:"yuki_fashion",avatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150",verified:!0,type:"text",textContent:{text:"Fashion is art \ud83d\udc57\u2728",backgroundColor:"#FF6B6B",fontFamily:"System",fontSize:36,textAlign:"center"},createdAt:new Date(Date.now()-144e5).toISOString(),expiresAt:new Date(Date.now()+72e6).toISOString(),isPinned:!1,privacy:"friends",analytics:{views:345,replies:18,shares:8,viewers:[]}},{id:"status-5",userId:"11",username:"fatima_beauty",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",verified:!0,type:"photo",media:{type:"photo",uri:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9",width:1080,height:1920},overlays:[{type:"text",content:"Glow up \ud83d\udc84",position:{x:50,y:85},color:"#FFD700",fontSize:38}],caption:"New makeup look",createdAt:new Date(Date.now()-18e6).toISOString(),expiresAt:new Date(Date.now()+684e5).toISOString(),isPinned:!0,privacy:"public",analytics:{views:1234,replies:67,shares:34,viewers:[]}},{id:"status-6",userId:"13",username:"aisha_wellness",avatar:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150",verified:!0,type:"voice",voiceContent:{uri:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",duration:30,waveform:[.3,.4,.5,.6,.5,.4,.5,.6,.5,.4,.5,.6,.5,.4,.5,.6,.7,.6,.5,.6],gradient:["#43e97b","#38f9d7"]},caption:"Meditation guide",createdAt:new Date(Date.now()-216e5).toISOString(),expiresAt:new Date(Date.now()+648e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:567,replies:29,shares:15,viewers:[]}},{id:"status-7",userId:"8",username:"carlos_music",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",verified:!1,type:"text",textContent:{text:"New beat dropping tonight \ud83c\udfb5\ud83d\udd25",backgroundColor:"#4ECDC4",fontFamily:"System",fontSize:34,textAlign:"center"},createdAt:new Date(Date.now()-252e5).toISOString(),expiresAt:new Date(Date.now()+612e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:432,replies:21,shares:11,viewers:[]}},{id:"status-8",userId:"14",username:"diego_sports",avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=150",verified:!0,type:"photo",media:{type:"photo",uri:"https://images.unsplash.com/photo-1522778119026-d647f0596c20",width:1080,height:1920},overlays:[{type:"text",content:"Match day! \u26bd",position:{x:50,y:80},color:"#FFFFFF",fontSize:40}],caption:"Game time",createdAt:new Date(Date.now()-288e5).toISOString(),expiresAt:new Date(Date.now()+576e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:1567,replies:89,shares:45,viewers:[]}},{id:"status-9",userId:"15",username:"mei_chef",avatar:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?w=150",verified:!1,type:"photo",media:{type:"photo",uri:"https://images.unsplash.com/photo-1496116218417-1a781b1c416c",width:1080,height:1920},overlays:[{type:"text",content:"Dim sum time \ud83e\udd5f",position:{x:50,y:85},color:"#FFFFFF",fontSize:36}],caption:"Homemade goodness",createdAt:new Date(Date.now()-324e5).toISOString(),expiresAt:new Date(Date.now()+54e6).toISOString(),isPinned:!1,privacy:"public",analytics:{views:678,replies:34,shares:18,viewers:[]}},{id:"status-10",userId:"10",username:"marcus_tech",avatar:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150",verified:!1,type:"voice",voiceContent:{uri:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",duration:35,waveform:[.4,.5,.6,.7,.6,.5,.6,.7,.6,.5,.6,.7,.6,.5,.6,.7,.8,.7,.6,.7],gradient:["#f093fb","#f5576c"]},caption:"Coding tip!",createdAt:new Date(Date.now()-36e6).toISOString(),expiresAt:new Date(Date.now()+504e5).toISOString(),isPinned:!1,privacy:"public",analytics:{views:234,replies:12,shares:6,viewers:[]}}],n=[{userId:"1",username:"sarah_vibes",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",verified:!0,statuses:[r[0]],hasUnviewed:!0,lastStatusAt:r[0].createdAt},{userId:"6",username:"jamal_fitness",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150",verified:!0,statuses:[r[1]],hasUnviewed:!0,lastStatusAt:r[1].createdAt},{userId:"7",username:"priya_travels",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150",verified:!0,statuses:[r[2]],hasUnviewed:!0,lastStatusAt:r[2].createdAt},{userId:"9",username:"yuki_fashion",avatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150",verified:!0,statuses:[r[3]],hasUnviewed:!1,lastStatusAt:r[3].createdAt},{userId:"11",username:"fatima_beauty",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",verified:!0,statuses:[r[4]],hasUnviewed:!0,lastStatusAt:r[4].createdAt},{userId:"13",username:"aisha_wellness",avatar:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150",verified:!0,statuses:[r[5]],hasUnviewed:!0,lastStatusAt:r[5].createdAt},{userId:"8",username:"carlos_music",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",verified:!1,statuses:[r[6]],hasUnviewed:!1,lastStatusAt:r[6].createdAt},{userId:"14",username:"diego_sports",avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=150",verified:!0,statuses:[r[7]],hasUnviewed:!0,lastStatusAt:r[7].createdAt},{userId:"15",username:"mei_chef",avatar:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?w=150",verified:!1,statuses:[r[8]],hasUnviewed:!1,lastStatusAt:r[8].createdAt},{userId:"10",username:"marcus_tech",avatar:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150",verified:!1,statuses:[r[9]],hasUnviewed:!1,lastStatusAt:r[9].createdAt}],a=[{id:"gradient-1",type:"gradient",colors:["#667eea","#764ba2"]},{id:"gradient-2",type:"gradient",colors:["#f093fb","#f5576c"]},{id:"gradient-3",type:"gradient",colors:["#4facfe","#00f2fe"]},{id:"gradient-4",type:"gradient",colors:["#43e97b","#38f9d7"]},{id:"gradient-5",type:"gradient",colors:["#fa709a","#fee140"]},{id:"solid-1",type:"solid",colors:["#FF6B6B"]},{id:"solid-2",type:"solid",colors:["#4ECDC4"]},{id:"solid-3",type:"solid",colors:["#45B7D1"]},{id:"solid-4",type:"solid",colors:["#96CEB4"]},{id:"solid-5",type:"solid",colors:["#FFEAA7"]}]},4578:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>k});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(74037),c=o(78264),u=o(35708),f=o(21815),g=o(49637),h=o(78833),m=o(47640),p=o(52790);const y={messageRequestsFrom:"everyone",audioVideoCallingEnabled:!0,callPermission:"everyone",alwaysRelayCalls:!1,screenshotProtection:!0},x="message-settings",[b,j]=(0,p.default)((()=>{const[e,t]=(0,r.useState)(y),[o,n]=(0,r.useState)(!0);(0,r.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=await m.default.getItem(x);if(e){const o=JSON.parse(e);t(o)}}catch(e){console.error("[MessageSettings] Error loading settings:",e)}finally{n(!1)}},s=async e=>{try{await m.default.setItem(x,JSON.stringify(e)),t(e)}catch(o){console.error("[MessageSettings] Error saving settings:",o)}},i=(0,r.useCallback)((t=>{const o=Object.assign({},e,{messageRequestsFrom:t});s(o)}),[e]),l=(0,r.useCallback)((()=>{const t=Object.assign({},e,{audioVideoCallingEnabled:!e.audioVideoCallingEnabled});s(t)}),[e]),d=(0,r.useCallback)((t=>{const o=Object.assign({},e,{callPermission:t});s(o)}),[e]),c=(0,r.useCallback)((()=>{const t=Object.assign({},e,{alwaysRelayCalls:!e.alwaysRelayCalls});s(t)}),[e]),u=(0,r.useCallback)((()=>{const t=Object.assign({},e,{screenshotProtection:!e.screenshotProtection});s(t)}),[e]),f=(0,r.useCallback)((()=>{s(y)}),[]);return(0,r.useMemo)((()=>({settings:e,isLoading:o,updateMessageRequestsFrom:i,toggleAudioVideoCalling:l,updateCallPermission:d,toggleRelayCalls:c,toggleScreenshotProtection:u,resetToDefaults:f})),[e,o,i,l,d,c,u,f])}));var C=o(93861),w=o(1822),S=o(70106),v=o(60397);function k(){const e=(0,h.useSafeAreaInsets)(),{settings:t,updateMessageRequestsFrom:o,toggleAudioVideoCalling:n,updateCallPermission:m,toggleRelayCalls:p,toggleScreenshotProtection:y}=j(),[x,b]=(0,r.useState)(!1),[k,T]=(0,r.useState)(!1),B=[{value:"no_one",label:"No one"},{value:"verified",label:"Verified users"},{value:"everyone",label:"Everyone"}],z=[{value:"contacts",label:"People in your address book"},{value:"following",label:"People you follow"},{value:"verified",label:"Verified users"},{value:"everyone",label:"Everyone"}];return(0,v.jsxs)(s.default,{style:I.container,children:[(0,v.jsx)(f.default,{barStyle:"light-content",backgroundColor:"#000000"}),(0,v.jsx)(g.Stack.Screen,{options:{headerShown:!1}}),(0,v.jsxs)(s.default,{style:[I.header,{paddingTop:e.top+12}],children:[(0,v.jsx)(l.default,{style:I.backButton,onPress:()=>g.router.back(),activeOpacity:.7,children:(0,v.jsx)(C.default,{size:24,color:"#FFFFFF",strokeWidth:2})}),(0,v.jsx)(a.default,{style:I.headerTitle,children:"Messages Settings"}),(0,v.jsx)(s.default,{style:I.headerSpacer})]}),(0,v.jsxs)(i.default,{style:I.scrollView,contentContainerStyle:[I.content,{paddingBottom:e.bottom+20}],showsVerticalScrollIndicator:!1,children:[(0,v.jsxs)(s.default,{style:I.section,children:[(0,v.jsx)(a.default,{style:I.sectionTitle,children:"Privacy"}),(0,v.jsxs)(l.default,{style:I.settingRow,onPress:()=>b(!0),activeOpacity:.7,children:[(0,v.jsxs)(s.default,{style:I.settingInfo,children:[(0,v.jsx)(a.default,{style:I.settingLabel,children:"Allow message requests from"}),(0,v.jsx)(a.default,{style:I.settingValue,children:(F=t.messageRequestsFrom,B.find((e=>e.value===F))?.label||"Everyone")})]}),(0,v.jsx)(w.default,{size:20,color:"#A8A8A8",strokeWidth:2})]}),(0,v.jsx)(s.default,{style:I.divider}),(0,v.jsxs)(s.default,{style:I.settingRow,children:[(0,v.jsxs)(s.default,{style:I.settingInfo,children:[(0,v.jsx)(a.default,{style:I.settingLabel,children:"Screenshot protection"}),(0,v.jsx)(a.default,{style:I.settingDescription,children:"Prevent screenshots of inbox messages"})]}),(0,v.jsx)(d.default,{value:t.screenshotProtection,onValueChange:y,trackColor:{false:"#3A3A3C",true:"#0A84FF"},thumbColor:"#FFFFFF",ios_backgroundColor:"#3A3A3C"})]})]}),(0,v.jsxs)(s.default,{style:I.section,children:[(0,v.jsx)(a.default,{style:I.sectionTitle,children:"Calling"}),(0,v.jsxs)(s.default,{style:I.settingRow,children:[(0,v.jsxs)(s.default,{style:I.settingInfo,children:[(0,v.jsx)(a.default,{style:I.settingLabel,children:"Enable audio and video calling"}),(0,v.jsx)(a.default,{style:I.settingDescription,children:"Allow calls in direct messages"})]}),(0,v.jsx)(d.default,{value:t.audioVideoCallingEnabled,onValueChange:n,trackColor:{false:"#3A3A3C",true:"#0A84FF"},thumbColor:"#FFFFFF",ios_backgroundColor:"#3A3A3C"})]}),t.audioVideoCallingEnabled&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.default,{style:I.divider}),(0,v.jsxs)(l.default,{style:I.settingRow,onPress:()=>T(!0),activeOpacity:.7,children:[(0,v.jsxs)(s.default,{style:I.settingInfo,children:[(0,v.jsx)(a.default,{style:I.settingLabel,children:"Who can call you"}),(0,v.jsx)(a.default,{style:I.settingValue,children:(e=>z.find((t=>t.value===e))?.label||"Everyone")(t.callPermission)})]}),(0,v.jsx)(w.default,{size:20,color:"#A8A8A8",strokeWidth:2})]}),(0,v.jsx)(s.default,{style:I.divider}),(0,v.jsxs)(s.default,{style:I.settingRow,children:[(0,v.jsxs)(s.default,{style:I.settingInfo,children:[(0,v.jsx)(a.default,{style:I.settingLabel,children:"Always relay calls"}),(0,v.jsx)(a.default,{style:I.settingDescription,children:"Hide your IP address from contacts"})]}),(0,v.jsx)(d.default,{value:t.alwaysRelayCalls,onValueChange:p,trackColor:{false:"#3A3A3C",true:"#0A84FF"},thumbColor:"#FFFFFF",ios_backgroundColor:"#3A3A3C"})]})]})]}),(0,v.jsx)(s.default,{style:I.infoBox,children:(0,v.jsx)(a.default,{style:I.infoText,children:"These settings help you control who can contact you and how they can reach you on VibeSync."})})]}),(0,v.jsx)(c.default,{visible:x,animationType:"fade",transparent:!0,onRequestClose:()=>b(!1),children:(0,v.jsx)(u.default,{style:I.modalOverlay,onPress:()=>b(!1),children:(0,v.jsxs)(u.default,{style:I.optionsModal,onPress:e=>e.stopPropagation(),children:[(0,v.jsx)(s.default,{style:I.modalHeader,children:(0,v.jsx)(a.default,{style:I.modalTitle,children:"Allow message requests from"})}),B.map((e=>(0,v.jsxs)(l.default,{style:I.optionRow,onPress:()=>{o(e.value),b(!1)},activeOpacity:.7,children:[(0,v.jsx)(a.default,{style:I.optionLabel,children:e.label}),t.messageRequestsFrom===e.value&&(0,v.jsx)(S.default,{size:20,color:"#0A84FF",strokeWidth:2.5})]},e.value)))]})})}),(0,v.jsx)(c.default,{visible:k,animationType:"fade",transparent:!0,onRequestClose:()=>T(!1),children:(0,v.jsx)(u.default,{style:I.modalOverlay,onPress:()=>T(!1),children:(0,v.jsxs)(u.default,{style:I.optionsModal,onPress:e=>e.stopPropagation(),children:[(0,v.jsx)(s.default,{style:I.modalHeader,children:(0,v.jsx)(a.default,{style:I.modalTitle,children:"Who can call you"})}),z.map((e=>(0,v.jsxs)(l.default,{style:I.optionRow,onPress:()=>{m(e.value),T(!1)},activeOpacity:.7,children:[(0,v.jsx)(a.default,{style:I.optionLabel,children:e.label}),t.callPermission===e.value&&(0,v.jsx)(S.default,{size:20,color:"#0A84FF",strokeWidth:2.5})]},e.value)))]})})})]});var F}const I=n.default.create({container:{flex:1,backgroundColor:"#000000"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingBottom:12,backgroundColor:"#000000",borderBottomWidth:.5,borderBottomColor:"#1A1A1A"},backButton:{padding:4},headerTitle:{fontSize:18,fontWeight:"700",color:"#FFFFFF",letterSpacing:.2},headerSpacer:{width:32},scrollView:{flex:1},content:{paddingTop:20},section:{marginBottom:32,paddingHorizontal:16},sectionTitle:{fontSize:13,fontWeight:"600",color:"#A8A8A8",textTransform:"uppercase",letterSpacing:.5,marginBottom:12},settingRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:14},settingInfo:{flex:1,marginRight:12},settingLabel:{fontSize:16,fontWeight:"500",color:"#FFFFFF",marginBottom:4},settingValue:{fontSize:14,color:"#A8A8A8",marginTop:2},settingDescription:{fontSize:13,color:"#A8A8A8",marginTop:2,lineHeight:18},divider:{height:.5,backgroundColor:"#1A1A1A",marginVertical:4},infoBox:{marginHorizontal:16,padding:16,backgroundColor:"#1C1C1E",borderRadius:12,marginBottom:20},infoText:{fontSize:13,color:"#A8A8A8",lineHeight:18},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center"},optionsModal:{backgroundColor:"#1C1C1E",borderRadius:16,width:"85%",maxWidth:400,overflow:"hidden"},modalHeader:{paddingVertical:16,paddingHorizontal:20,borderBottomWidth:.5,borderBottomColor:"#2C2C2E"},modalTitle:{fontSize:16,fontWeight:"700",color:"#FFFFFF",textAlign:"center"},optionRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:16,paddingHorizontal:20,borderBottomWidth:.5,borderBottomColor:"#2C2C2E"},optionLabel:{fontSize:15,color:"#FFFFFF",flex:1}})},5419:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(51690),c=o(49637),u=o(93861),f=o(49582),g=o(43316),h=o(23049),m=o(60397);function p(){const e=(0,c.useLocalSearchParams)(),[t,o]=(0,r.useState)(["","","","","",""]),[n,p]=(0,r.useState)(!1),[x,b]=(0,r.useState)(""),[j,C]=(0,r.useState)("email"===e.method?600:300),[w,S]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=setInterval((()=>{C((e=>e<=1?(S(!0),0):e-1))}),1e3);return()=>clearInterval(e)}),[]);const v=(0,r.useRef)([]);return(0,m.jsxs)(s.default,{style:y.container,children:[(0,m.jsx)(h.StatusBar,{style:"light"}),(0,m.jsx)(c.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:f.Colors.background},headerTintColor:f.Colors.text,headerTitle:"Verify Code",headerLeft:()=>(0,m.jsx)(l.default,{onPress:()=>c.router.back(),style:y.backButton,children:(0,m.jsx)(u.default,{size:24,color:f.Colors.text})})}}),(0,m.jsxs)(s.default,{style:y.content,children:[(0,m.jsx)(s.default,{style:y.iconContainer,children:(0,m.jsx)(s.default,{style:y.iconCircle,children:(0,m.jsx)(a.default,{style:y.iconText,children:"\u2709\ufe0f"})})}),(0,m.jsx)(a.default,{style:y.title,children:"Enter Verification Code"}),(0,m.jsxs)(a.default,{style:y.subtitle,children:["We sent a code to ","\n",(0,m.jsx)(a.default,{style:y.contact,children:e.contact})]}),x?(0,m.jsx)(a.default,{style:y.errorText,children:x}):null,(0,m.jsx)(s.default,{style:y.codeContainer,children:t.map(((e,r)=>(0,m.jsx)(i.default,{ref:e=>{v.current[r]=e},style:[y.codeInput,e&&y.codeInputFilled,x&&y.codeInputError],value:e,onChangeText:e=>((e,r)=>{if(!/^\d*$/.test(e))return;const n=[...t];if(n[r]=e,o(n),b(""),e&&r<5){const e=r+1;v.current[e]?.focus()}})(e,r),keyboardType:"number-pad",maxLength:1,selectTextOnFocus:!0},r)))}),(0,m.jsx)(s.default,{style:y.timerContainer,children:(0,m.jsx)(a.default,{style:y.timerText,children:j>0?(0,m.jsxs)(m.Fragment,{children:["Code expires in ",(0,m.jsx)(a.default,{style:y.timerValue,children:(k=j,`${Math.floor(k/60)}:${(k%60).toString().padStart(2,"0")}`)})]}):(0,m.jsx)(a.default,{style:y.expiredText,children:"Code expired"})})}),(0,m.jsx)(g.Button,{title:"Verify Code",onPress:async()=>{if(6===t.join("").length){p(!0),b("");try{await new Promise((e=>setTimeout(e,1500))),c.router.replace("/reset-password")}catch(x){b("Invalid verification code. Please try again."),console.error(x)}finally{p(!1)}}else b("Please enter the complete 6-digit code")},loading:n,disabled:n||6!==t.join("").length,style:y.verifyButton}),(0,m.jsx)(l.default,{onPress:async()=>{if(w){p(!0);try{await new Promise((e=>setTimeout(e,1e3))),C("email"===e.method?600:300),S(!1),o(["","","","","",""]),d.default.alert("Code Sent","A new verification code has been sent.")}catch(x){d.default.alert("Error","Failed to resend code. Please try again.")}finally{p(!1)}}},disabled:!w||n,style:y.resendContainer,children:(0,m.jsx)(a.default,{style:[y.resendText,(!w||n)&&y.resendTextDisabled],children:"Didn't receive the code? "+(w?"Resend":"Wait...")})})]})]});var k}const y=n.default.create({container:{flex:1,backgroundColor:f.Colors.background},backButton:{padding:8,marginLeft:8},content:{flex:1,padding:24},iconContainer:{alignItems:"center",marginTop:20,marginBottom:24},iconCircle:{width:80,height:80,borderRadius:40,backgroundColor:f.Colors.cardLight,justifyContent:"center",alignItems:"center"},iconText:{fontSize:40},title:{fontSize:28,fontWeight:"bold",color:f.Colors.text,marginBottom:8,textAlign:"center"},subtitle:{fontSize:16,color:f.Colors.textSecondary,textAlign:"center",marginBottom:32,lineHeight:22},contact:{color:f.Colors.primary,fontWeight:"600"},errorText:{color:f.Colors.error,marginBottom:16,fontSize:14,textAlign:"center"},codeContainer:{flexDirection:"row",justifyContent:"center",gap:12,marginBottom:24},codeInput:{width:50,height:60,borderRadius:12,backgroundColor:f.Colors.cardLight,borderWidth:2,borderColor:"transparent",textAlign:"center",fontSize:24,fontWeight:"bold",color:f.Colors.text},codeInputFilled:{borderColor:f.Colors.primary,backgroundColor:f.Colors.cardLight},codeInputError:{borderColor:f.Colors.error},timerContainer:{alignItems:"center",marginBottom:24},timerText:{fontSize:14,color:f.Colors.textSecondary},timerValue:{color:f.Colors.primary,fontWeight:"600"},expiredText:{color:f.Colors.error,fontWeight:"600"},verifyButton:{marginBottom:16},resendContainer:{alignItems:"center",padding:12},resendText:{fontSize:14,color:f.Colors.primary,fontWeight:"600"},resendTextDisabled:{color:f.Colors.textSecondary}})},5840:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>T});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(2772),d=(o(51690),o(61171)),c=o(49637),u=o(5894),f=o(76156),g=o(93861),h=o(7592),m=o(58358),p=o(36412),y=o(47640),x=o(52790);const b="@vibesync_creative_projects",j="@vibesync_recent_filters",C=[{id:"original",name:"Original",category:"basic",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop",settings:{}},{id:"vivid",name:"Vivid",category:"basic",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sat=2",settings:{saturation:50,contrast:20}},{id:"dramatic",name:"Dramatic",category:"cinematic",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&con=50",settings:{contrast:60,shadows:-30,highlights:-20}},{id:"warm",name:"Warm",category:"cinematic",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=50",settings:{temperature:40,tint:10}},{id:"cool",name:"Cool",category:"cinematic",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=-50",settings:{temperature:-40,tint:-10}},{id:"vintage",name:"Vintage",category:"vintage",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sepia=80",settings:{temperature:20,tint:15,saturation:-20,grain:30}},{id:"beauty",name:"Beauty",category:"beauty",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&blur=1",settings:{highlights:20,shadows:10,saturation:15}}],w=[{id:"instagram_post",name:"Instagram Post",platform:"Instagram",resolution:"1080x1080",aspectRatio:"1:1",quality:"high",format:"jpg"},{id:"instagram_story",name:"Instagram Story",platform:"Instagram",resolution:"1080x1920",aspectRatio:"9:16",quality:"high",format:"jpg"},{id:"tiktok",name:"TikTok",platform:"TikTok",resolution:"1080x1920",aspectRatio:"9:16",quality:"high",format:"mp4"},{id:"youtube_shorts",name:"YouTube Shorts",platform:"YouTube",resolution:"1080x1920",aspectRatio:"9:16",quality:"ultra",format:"mp4"},{id:"youtube_hd",name:"YouTube HD",platform:"YouTube",resolution:"1920x1080",aspectRatio:"16:9",quality:"ultra",format:"mp4"},{id:"4k_ultra",name:"4K Ultra HD",platform:"Custom",resolution:"3840x2160",aspectRatio:"16:9",quality:"ultra",format:"mp4"}],[S,v]=(0,x.default)((()=>{const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)(null),[a,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)([]),[d,c]=(0,r.useState)(-1),[u,f]=(0,r.useState)([]),g=(0,r.useCallback)((async()=>{try{s(!0);const e=await y.default.getItem(b);if(e){const o=JSON.parse(e).map((e=>Object.assign({},e,{createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})));t(o)}const o=await y.default.getItem(j);o&&f(JSON.parse(o))}catch(e){console.error("Error loading projects:",e)}finally{s(!1)}}),[]),h=(0,r.useCallback)((async e=>{try{await y.default.setItem(b,JSON.stringify(e)),t(e)}catch(o){console.error("Error saving projects:",o)}}),[]),m=(0,r.useCallback)((async(t,o,r)=>{const a={id:Date.now().toString(),name:t,type:o,originalUri:r,thumbnail:r,createdAt:new Date,updatedAt:new Date,settings:Object.assign({adjustments:{brightness:0,contrast:0,saturation:0,exposure:0,highlights:0,shadows:0,temperature:0,tint:0},effects:{blur:0,vignette:0,grain:0,sharpen:0},filters:{selectedFilter:"original",intensity:100},export:{quality:"high",format:"image"===o?"jpg":"mp4",resolution:"1080x1080"}},"video"===o&&{video:{speed:1,volume:1,startTime:0,endTime:100,layers:[]}})},s=[a,...e];return await h(s),n(a),l([a.settings]),c(0),a}),[e,h]),p=(0,r.useCallback)((async t=>{const o=e.find((e=>e.id===t));o&&(n(o),l([o.settings]),c(0))}),[e]),x=(0,r.useCallback)((async t=>{const o=e.map((e=>e.id===t.id?Object.assign({},t,{updatedAt:new Date}):e));await h(o),n(Object.assign({},t,{updatedAt:new Date}))}),[e,h]),S=(0,r.useCallback)((async t=>{const r=e.filter((e=>e.id!==t));await h(r),o?.id===t&&n(null)}),[e,o,h]),v=(0,r.useCallback)((async t=>{const o=e.find((e=>e.id===t));if(!o)throw new Error("Project not found");const r=Object.assign({},o,{id:Date.now().toString(),name:`${o.name} Copy`,createdAt:new Date,updatedAt:new Date}),n=[r,...e];return await h(n),r}),[e,h]),k=(0,r.useCallback)((e=>{if(!o)return;const t=Object.assign({},o.settings,e),r=Object.assign({},o,{settings:t}),a=i.slice(0,d+1);a.push(t),l(a),c(a.length-1),n(r),x(r)}),[o,i,d,x]),I=(0,r.useCallback)(((e,t=100)=>{const r=C.find((t=>t.id===e));if(!r||!o)return;const n=[r,...u.filter((t=>t.id!==e))].slice(0,10);f(n),y.default.setItem(j,JSON.stringify(n)),k({filters:{selectedFilter:e,intensity:t},adjustments:Object.assign({},o.settings.adjustments,r.settings)})}),[o,u,k]),T=(0,r.useCallback)(((e,t)=>{if(!o)return;const[r,n]=e.split("."),a={};"adjustments"===r?a.adjustments=Object.assign({},o.settings.adjustments,{[n]:t}):"effects"===r&&(a.effects=Object.assign({},o.settings.effects,{[n]:t})),k(a)}),[o,k]),B=(0,r.useCallback)((e=>{if(!o||"video"!==o.type)return;const t=Object.assign({},e,{id:Date.now().toString()});k({video:Object.assign({},o.settings.video,{layers:[...o.settings.video?.layers||[],t]})})}),[o,k]),z=(0,r.useCallback)(((e,t)=>{if(!o||"video"!==o.type)return;const r=o.settings.video?.layers?.map((o=>o.id===e?Object.assign({},o,t):o))||[];k({video:Object.assign({},o.settings.video,{layers:r})})}),[o,k]),F=(0,r.useCallback)((e=>{if(!o||"video"!==o.type)return;const t=o.settings.video?.layers?.filter((t=>t.id!==e))||[];k({video:Object.assign({},o.settings.video,{layers:t})})}),[o,k]),P=(0,r.useCallback)((async e=>{if(!o)throw new Error("No project selected");console.log("[Creative Studio] Exporting project:",o.name),console.log("[Creative Studio] Export preset:",e),console.log("[Creative Studio] Applied filters:",o.settings.filters),console.log("[Creative Studio] Adjustments:",o.settings.adjustments),console.log("[Creative Studio] Effects:",o.settings.effects),await new Promise((e=>setTimeout(e,2e3)));const t=o.editedUri||o.originalUri;return console.log("[Creative Studio] Export complete:",t),t}),[o]),D=(0,r.useCallback)((()=>w.filter((e=>!o||("image"===o.type?["jpg","png"].includes(e.format):["mp4","mov"].includes(e.format))))),[o]),A=(0,r.useCallback)((e=>e?C.filter((t=>t.category===e)):C),[]),R=(0,r.useCallback)((()=>u),[u]),V=d>0,L=d<i.length-1,O=(0,r.useCallback)((()=>{if(!V||!o)return;const e=d-1,t=i[e];c(e),n(Object.assign({},o,{settings:t})),x(Object.assign({},o,{settings:t}))}),[V,o,i,d,x]),W=(0,r.useCallback)((()=>{if(!L||!o)return;const e=d+1,t=i[e];c(e),n(Object.assign({},o,{settings:t})),x(Object.assign({},o,{settings:t}))}),[L,o,i,d,x]),E=(0,r.useCallback)((e=>[]),[]),M=(0,r.useCallback)((e=>{console.log("Applying template:",e)}),[]);return r.useEffect((()=>{g()}),[g]),(0,r.useMemo)((()=>({projects:e,currentProject:o,isLoading:a,createProject:m,loadProject:p,saveProject:x,deleteProject:S,duplicateProject:v,updateProjectSettings:k,applyFilter:I,adjustParameter:T,addVideoLayer:B,updateVideoLayer:z,removeVideoLayer:F,exportProject:P,getExportPresets:D,getFilters:A,getRecentFilters:R,canUndo:V,canRedo:L,undo:O,redo:W,getTemplates:E,applyTemplate:M})),[e,o,a,m,p,x,S,v,k,I,T,B,z,F,P,D,A,R,V,L,O,W,E,M])}));var k=o(43316),I=o(60397);function T(){const{colors:e}=(0,p.useTheme)(),{projects:t,isLoading:o,deleteProject:n,duplicateProject:y,loadProject:x}=v(),[b,j]=(0,r.useState)("grid"),[C,w]=(0,r.useState)("all"),[S,T]=(0,r.useState)(""),[z,F]=(0,r.useState)(null),P=t.filter((e=>{const t="all"===C||e.type===C,o=e.name.toLowerCase().includes(S.toLowerCase());return t&&o}));return(0,I.jsxs)(d.SafeAreaView,{style:[B.container,{backgroundColor:e.background}],edges:["top"],children:[(0,I.jsx)(c.Stack.Screen,{options:{headerShown:!1}}),(0,I.jsxs)(s.default,{style:[B.header,{backgroundColor:e.background,borderBottomColor:e.border}],children:[(0,I.jsx)(i.default,{onPress:()=>c.router.back(),style:B.headerButton,children:(0,I.jsx)(g.default,{size:24,color:e.text})}),(0,I.jsx)(a.default,{style:[B.headerTitle,{color:e.text}],children:"My Projects"}),(0,I.jsx)(i.default,{onPress:()=>c.router.push("/(tabs)/create"),style:B.headerButton,children:(0,I.jsx)(h.default,{size:24,color:e.primary})})]}),0===P.length?(0,I.jsxs)(s.default,{style:B.emptyState,children:[(0,I.jsx)(f.default,{size:64,color:e.textSecondary}),(0,I.jsx)(a.default,{style:[B.emptyStateTitle,{color:e.text}],children:"No Projects Yet"}),(0,I.jsx)(a.default,{style:[B.emptyStateSubtitle,{color:e.textSecondary}],children:"Create your first project using the Creative Studio"}),(0,I.jsx)(k.Button,{title:"Start Creating",onPress:()=>c.router.push("/(tabs)/create"),style:B.emptyStateButton})]}):(0,I.jsxs)(l.default,{style:B.content,children:[(0,I.jsx)(a.default,{style:[B.sectionTitle,{color:e.text}],children:"Recent Projects"}),P.slice(0,6).map((t=>(0,I.jsxs)(i.default,{style:[B.projectCard,{backgroundColor:e.card}],onPress:()=>(async e=>{await x(e.id),"image"===e.type?c.router.push("/studio/image-editor"):c.router.push("/studio/video-editor")})(t),children:[(0,I.jsx)(u.Image,{source:{uri:t.thumbnail},style:B.projectThumbnail,contentFit:"cover"}),(0,I.jsxs)(s.default,{style:B.projectInfo,children:[(0,I.jsx)(a.default,{style:[B.projectName,{color:e.text}],children:t.name}),(0,I.jsx)(a.default,{style:[B.projectType,{color:e.textSecondary}],children:t.type.charAt(0).toUpperCase()+t.type.slice(1)}),(0,I.jsx)(a.default,{style:[B.projectDate,{color:e.textSecondary}],children:t.updatedAt.toLocaleDateString()})]}),"video"===t.type&&(0,I.jsx)(s.default,{style:[B.playIcon,{backgroundColor:`${e.background}80`}],children:(0,I.jsx)(m.default,{size:16,color:e.text})})]},t.id)))]})]})}const B=n.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},headerButton:{padding:8},headerTitle:{fontSize:18,fontWeight:"600"},content:{flex:1,padding:16},sectionTitle:{fontSize:20,fontWeight:"700",marginBottom:16},projectCard:{flexDirection:"row",padding:16,borderRadius:12,marginBottom:12,position:"relative"},projectThumbnail:{width:80,height:80,borderRadius:8},projectInfo:{flex:1,marginLeft:16,justifyContent:"center"},projectName:{fontSize:16,fontWeight:"600",marginBottom:4},projectType:{fontSize:14,marginBottom:2},projectDate:{fontSize:12},playIcon:{position:"absolute",top:16,left:16,width:24,height:24,borderRadius:12,justifyContent:"center",alignItems:"center"},emptyState:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:32},emptyStateTitle:{fontSize:24,fontWeight:"700",marginTop:24,marginBottom:8},emptyStateSubtitle:{fontSize:16,textAlign:"center",lineHeight:22,marginBottom:32},emptyStateButton:{width:"100%"}})},7023:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockVibes:()=>n});var r=o(67026);const n=[{id:"1",userId:"1",username:"sarah_j",userDisplayName:"Sarah Johnson",profileImage:r.mockUsers.find((e=>"1"===e.id))?.profileImage,isVerified:!0,caption:"Dancing to my favorite beat! \ud83d\udc83\u2728 #dance #vibes #music",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",thumbnailUrl:"https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?w=400",duration:15,likes:45200,comments:892,shares:1240,views:234e3,timestamp:"2h",soundId:"sound_1",soundName:"Summer Vibes",soundArtist:"DJ Sunset",filters:["Vibrant","Warm"],effects:["Glow","Sparkle"],isLiked:!1,isSaved:!1,author:{id:"1",username:"sarah_j",displayName:"Sarah Johnson",profileImage:r.mockUsers.find((e=>"1"===e.id))?.profileImage,isVerified:!0}},{id:"2",userId:"2",username:"mike_foodie",userDisplayName:"Mike Rodriguez",profileImage:r.mockUsers.find((e=>"2"===e.id))?.profileImage,isVerified:!1,caption:"Cooking up something special \ud83c\udf73\ud83d\udc68\u200d\ud83c\udf73 #cooking #food #chef",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",thumbnailUrl:"https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=400",duration:30,likes:23400,comments:456,shares:678,views:156e3,timestamp:"5h",soundId:"sound_2",soundName:"Kitchen Beats",soundArtist:"Chef Sounds",filters:["Warm","Cozy"],effects:[],isLiked:!1,isSaved:!1,author:{id:"2",username:"mike_foodie",displayName:"Mike Rodriguez",profileImage:r.mockUsers.find((e=>"2"===e.id))?.profileImage,isVerified:!1}},{id:"3",userId:"3",username:"taylor_sync",userDisplayName:"Taylor Kim",profileImage:r.mockUsers.find((e=>"3"===e.id))?.profileImage,isVerified:!1,caption:"Coding session vibes \ud83d\udcbb\ud83c\udfa7 #coding #tech #developer",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",thumbnailUrl:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400",duration:20,likes:18900,comments:234,shares:445,views:98e3,timestamp:"8h",soundId:"sound_3",soundName:"Focus Flow",soundArtist:"Lofi Beats",filters:["Cool","Minimal"],effects:["Blur"],isLiked:!1,isSaved:!1,author:{id:"3",username:"taylor_sync",displayName:"Taylor Kim",profileImage:r.mockUsers.find((e=>"3"===e.id))?.profileImage,isVerified:!1}},{id:"4",userId:"4",username:"emma_music",userDisplayName:"Emma Davis",profileImage:r.mockUsers.find((e=>"4"===e.id))?.profileImage,isVerified:!0,caption:"New song preview! What do you think? \ud83c\udfb5\ud83c\udfa4 #music #singer #newrelease",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",thumbnailUrl:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=400",duration:45,likes:67800,comments:1234,shares:2340,views:456e3,timestamp:"1d",soundId:"sound_4",soundName:"Original Sound",soundArtist:"Emma Davis",filters:["Cinematic","Dramatic"],effects:["Echo","Reverb"],isLiked:!1,isSaved:!1,author:{id:"4",username:"emma_music",displayName:"Emma Davis",profileImage:r.mockUsers.find((e=>"4"===e.id))?.profileImage,isVerified:!0}},{id:"5",userId:"5",username:"alexj",userDisplayName:"Alex Johnson",profileImage:r.mockUsers.find((e=>"5"===e.id))?.profileImage,isVerified:!0,caption:"Sunset vibes at the beach \ud83c\udf05\ud83c\udfd6\ufe0f #sunset #beach #nature",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4",thumbnailUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400",duration:25,likes:34500,comments:567,shares:890,views:189e3,timestamp:"1d",soundId:"sound_5",soundName:"Ocean Waves",soundArtist:"Nature Sounds",filters:["Golden Hour","Warm"],effects:["Soft Glow"],isLiked:!1,isSaved:!1,author:{id:"5",username:"alexj",displayName:"Alex Johnson",profileImage:r.mockUsers.find((e=>"5"===e.id))?.profileImage,isVerified:!0}}]},8345:(e,t,o)=>{"use strict";o.r(t),o.d(t,{CommentDrawer:()=>k});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(78264),l=o(15648),d=o(16773),c=o(44767),u=o(2772),f=o(51690),g=o(36393),h=o(78833),m=o(36412),p=o(25924),y=o(34927),x=o(37286),b=o(34253),j=o(76266),C=o(90046),w=o(11022),S=o(99323),v=o(60397);const k=({visible:e,onClose:t,post:o,comments:k=[],onComment:T})=>{const{colors:B}=(0,m.useTheme)(),{user:z}=(0,p.useAuth)(),F=(0,h.useSafeAreaInsets)(),[P,D]=(0,r.useState)(""),[A,R]=(0,r.useState)(!1),[V,L]=(0,r.useState)(!1),[O,W]=(0,r.useState)(null),[E,M]=(0,r.useState)(0),[N,H]=(0,r.useState)([]),U=(o.userId,()=>{L(!1),W(null),M(0),H([])});return(0,v.jsx)(i.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,v.jsxs)(c.default,{behavior:"height",style:I.container,children:[(0,v.jsx)(l.default,{style:I.backdrop,activeOpacity:1,onPress:t,children:(0,v.jsx)(g.default,{intensity:80,style:n.default.absoluteFill})}),(0,v.jsxs)(s.default,{style:[I.drawer,{backgroundColor:B.card}],children:[(0,v.jsx)(s.default,{style:I.handle}),(0,v.jsxs)(s.default,{style:I.header,children:[(0,v.jsxs)(s.default,{style:I.headerLeft,children:[(0,v.jsx)(s.default,{style:[I.iconContainer,{backgroundColor:B.primary+"20"}],children:(0,v.jsx)(x.default,{size:24,color:B.primary})}),(0,v.jsxs)(s.default,{children:[(0,v.jsx)(a.default,{style:[I.title,{color:B.text}],children:"Comments"}),(0,v.jsxs)(a.default,{style:[I.subtitle,{color:B.textSecondary}],children:[k.length," ",1===k.length?"comment":"comments"]})]})]}),(0,v.jsx)(l.default,{onPress:t,style:I.closeButton,children:(0,v.jsx)(C.default,{size:24,color:B.textSecondary})})]}),(0,v.jsxs)(s.default,{style:[I.postPreview,{backgroundColor:B.background}],children:[(0,v.jsxs)(s.default,{style:I.postHeader,children:[(0,v.jsx)(y.Avatar,{uri:o.profileImage,size:32}),(0,v.jsxs)(s.default,{style:I.postAuthorInfo,children:[(0,v.jsxs)(a.default,{style:[I.postAuthor,{color:B.text}],children:["@",o.username]}),(0,v.jsx)(a.default,{style:[I.postTimestamp,{color:B.textSecondary}],children:o.timestamp})]})]}),(0,v.jsx)(a.default,{style:[I.postContent,{color:B.text}],numberOfLines:2,children:o.content})]}),(0,v.jsx)(u.default,{style:I.commentsSection,showsVerticalScrollIndicator:!1,children:0===k.length?(0,v.jsxs)(s.default,{style:I.emptyState,children:[(0,v.jsx)(x.default,{size:48,color:B.textSecondary,opacity:.3}),(0,v.jsx)(a.default,{style:[I.emptyText,{color:B.textSecondary}],children:"No comments yet"}),(0,v.jsx)(a.default,{style:[I.emptySubtext,{color:B.textSecondary}],children:"Be the first to comment!"})]}):k.map((e=>(0,v.jsxs)(s.default,{style:I.commentItem,children:[(0,v.jsx)(y.Avatar,{uri:e.profileImage,size:36}),(0,v.jsxs)(s.default,{style:I.commentContent,children:[(0,v.jsxs)(a.default,{style:[I.commentAuthor,{color:B.text}],children:["@",e.username]}),e.voiceNote?(0,v.jsx)(S.VoiceNotePlayer,{uri:e.voiceNote.url,duration:e.voiceNote.duration,waveform:e.voiceNote.waveform,size:"small"}):(0,v.jsx)(a.default,{style:[I.commentText,{color:B.text}],children:e.content}),(0,v.jsx)(a.default,{style:[I.commentTimestamp,{color:B.textSecondary}],children:e.timestamp})]})]},e.id)))}),V?(0,v.jsx)(s.default,{style:[I.voiceRecorderContainer,{borderTopColor:B.border,paddingBottom:Math.max(F.bottom,16)}],children:(0,v.jsx)(w.VoiceNoteRecorder,{maxDuration:30,onRecordingComplete:(e,t,o)=>{console.log("[CommentDrawer] Voice recording complete:",{uri:e,duration:t,waveformLength:o.length}),W(e),M(t),H(o),L(!1)},onCancel:U})}):(0,v.jsxs)(s.default,{style:[I.inputContainer,{borderTopColor:B.border,paddingBottom:Math.max(F.bottom,16)}],children:[O?(0,v.jsxs)(s.default,{style:I.voicePreviewContainer,children:[(0,v.jsx)(S.VoiceNotePlayer,{uri:O,duration:E,waveform:N,size:"small"}),(0,v.jsx)(l.default,{style:[I.removeVoiceButton,{backgroundColor:B.error}],onPress:U,children:(0,v.jsx)(C.default,{size:16,color:"#FFFFFF"})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y.Avatar,{uri:z?.profileImage,size:36}),(0,v.jsx)(d.default,{style:[I.input,{backgroundColor:B.background,color:B.text,borderColor:B.border}],placeholder:"Add a comment...",placeholderTextColor:B.textSecondary,value:P,onChangeText:D,multiline:!0,maxLength:500}),(0,v.jsx)(l.default,{style:[I.voiceButton,{backgroundColor:B.background}],onPress:()=>L(!0),children:(0,v.jsx)(b.default,{size:20,color:B.primary})})]}),(0,v.jsx)(l.default,{style:[I.sendButton,{backgroundColor:B.primary,opacity:!P.trim()&&!O||A?.5:1}],onPress:async()=>{if(P.trim()||O){R(!0);try{O?(console.log("Posting voice comment, duration:",E),f.default.alert("Success","Voice comment posted!"),T?.(o.id,"",!0)):(console.log("Posting text comment:",P),f.default.alert("Success","Comment posted!"),T?.(o.id,P,!1)),D(""),W(null),M(0),H([]),t()}catch(e){console.error("Error posting comment:",e),f.default.alert("Error","Failed to post comment")}finally{R(!1)}}},disabled:!P.trim()&&!O||A,children:(0,v.jsx)(j.default,{size:20,color:"#FFFFFF"})})]})]})]})})},I=n.default.create({container:{flex:1,justifyContent:"flex-end"},backdrop:Object.assign({},n.default.absoluteFillObject),drawer:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"90%",paddingBottom:34},handle:{width:40,height:4,backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:2,alignSelf:"center",marginTop:12,marginBottom:8},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.05)"},headerLeft:{flexDirection:"row",alignItems:"center",flex:1},iconContainer:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",marginRight:12},title:{fontSize:18,fontWeight:"700"},subtitle:{fontSize:13,marginTop:2},closeButton:{padding:4},postPreview:{marginHorizontal:20,marginTop:16,padding:12,borderRadius:12},postHeader:{flexDirection:"row",alignItems:"center",marginBottom:8},postAuthorInfo:{marginLeft:8},postAuthor:{fontSize:14,fontWeight:"600"},postTimestamp:{fontSize:12},postContent:{fontSize:14,lineHeight:18},commentsSection:{flex:1,paddingHorizontal:20,paddingTop:16},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60},emptyText:{fontSize:16,fontWeight:"600",marginTop:16},emptySubtext:{fontSize:14,marginTop:4},commentItem:{flexDirection:"row",marginBottom:16},commentContent:{flex:1,marginLeft:12},commentAuthor:{fontSize:14,fontWeight:"600",marginBottom:4},commentText:{fontSize:14,lineHeight:18,marginBottom:4},commentTimestamp:{fontSize:12},inputContainer:{flexDirection:"row",alignItems:"flex-end",paddingHorizontal:20,paddingTop:16,gap:8,borderTopWidth:1},input:{flex:1,borderWidth:1,borderRadius:20,paddingHorizontal:16,paddingVertical:10,fontSize:14,maxHeight:80},voiceButton:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},sendButton:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"},voiceRecorderContainer:{paddingHorizontal:20,paddingTop:16,paddingBottom:20,borderTopWidth:1},voicePreviewContainer:{flex:1,flexDirection:"row",alignItems:"center",gap:8},removeVoiceButton:{width:32,height:32,borderRadius:16,alignItems:"center",justifyContent:"center"}})},9040:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>N});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(2772),l=o(15648),d=o(4701),c=o(49637),u=o(93861),f=o(7592),g=o(52790);const h=[{id:"thread-1",rootPostId:"thread-post-1",posts:[{id:"thread-post-1",authorId:"1",parentId:null,rootId:"thread-post-1",content:"Just experienced the most incredible sunset at Camps Bay \ud83c\udf05 The colors were absolutely breathtaking! #CapeTown #SunsetVibes",type:"image",mediaUrls:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800"],createdAt:new Date(Date.now()-72e5).toISOString(),likes:234,comments:45,revibes:12,saves:67,isLiked:!1,isRevibed:!1,isSaved:!1,hasThread:!0,threadCount:3},{id:"thread-post-2",authorId:"1",parentId:"thread-post-1",rootId:"thread-post-1",content:"The best part? I met this amazing street musician playing the most soulful jazz. Had to capture this moment \ud83c\udfb7\u2728",type:"video",mediaUrls:["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"],createdAt:new Date(Date.now()-54e5).toISOString(),likes:189,comments:32,revibes:8,saves:45,isLiked:!1,isRevibed:!1,isSaved:!1,hasThread:!0,threadCount:2},{id:"thread-post-3",authorId:"1",parentId:"thread-post-2",rootId:"thread-post-1",content:"And to top it all off, found this hidden gem of a coffee shop nearby. Their cappuccino is *chef's kiss* \u2615\ufe0f\ud83d\udcaf",type:"image",mediaUrls:["https://images.unsplash.com/photo-1511920170033-f8396924c348?w=800"],createdAt:new Date(Date.now()-36e5).toISOString(),likes:156,comments:28,revibes:5,saves:34,isLiked:!1,isRevibed:!1,isSaved:!1,hasThread:!1,threadCount:0}],totalEngagement:1234,isCollaborative:!1,isTrending:!0,vibeScore:89},{id:"thread-2",rootPostId:"thread-post-4",posts:[{id:"thread-post-4",authorId:"2",parentId:null,rootId:"thread-post-4",content:"\ud83e\uddf5 Thread: Let me tell you about my journey from zero to launching my first app...",type:"text",createdAt:new Date(Date.now()-18e6).toISOString(),likes:567,comments:89,revibes:45,saves:234,isLiked:!0,isRevibed:!1,isSaved:!0,hasThread:!0,threadCount:5},{id:"thread-post-5",authorId:"2",parentId:"thread-post-4",rootId:"thread-post-4",content:"1/ Started with just an idea and a lot of coffee. Spent 3 months learning React Native from scratch. The learning curve was steep but worth it! \ud83d\udcf1\ud83d\udcbb",type:"text",createdAt:new Date(Date.now()-162e5).toISOString(),likes:445,comments:67,revibes:34,saves:189,isLiked:!0,isRevibed:!1,isSaved:!1,hasThread:!0,threadCount:4},{id:"thread-post-6",authorId:"2",parentId:"thread-post-5",rootId:"thread-post-4",content:"2/ Built my first prototype in 2 weeks. It was buggy, ugly, but it WORKED. That feeling of seeing your creation come to life is unmatched! \ud83d\ude80",type:"image",mediaUrls:["https://images.unsplash.com/photo-1551650975-87deedd944c3?w=800"],createdAt:new Date(Date.now()-144e5).toISOString(),likes:389,comments:54,revibes:28,saves:156,isLiked:!1,isRevibed:!1,isSaved:!1,hasThread:!0,threadCount:3}],totalEngagement:2567,isCollaborative:!1,isTrending:!0,vibeScore:95},{id:"thread-3",rootPostId:"thread-post-7",posts:[{id:"thread-post-7",authorId:"3",parentId:null,rootId:"thread-post-7",content:"\ud83c\udfb5 New music thread! Sharing my top 5 tracks that are on repeat this week. Starting with this absolute banger...",type:"voice",voiceUrl:"https://example.com/voice/intro.mp3",voiceDuration:25,createdAt:new Date(Date.now()-288e5).toISOString(),likes:892,comments:134,revibes:67,saves:445,isLiked:!1,isRevibed:!0,isSaved:!1,hasThread:!0,threadCount:5}],totalEngagement:1538,isCollaborative:!1,isTrending:!1,vibeScore:78}],[m,p]=(0,g.default)((()=>{const[e,t]=(0,r.useState)(h),[o,n]=(0,r.useState)({}),[a,s]=(0,r.useState)({}),i=(0,r.useCallback)((t=>e.find((e=>e.id===t))),[e]),l=(0,r.useCallback)((t=>e.find((e=>e.rootPostId===t))),[e]),d=(0,r.useCallback)((e=>o[e]||[]),[o]),c=(0,r.useCallback)(((e,o)=>{const r=Object.assign({},o,{id:`thread-post-${Date.now()}`,createdAt:(new Date).toISOString(),likes:0,comments:0,revibes:0,saves:0,isLiked:!1,isRevibed:!1,isSaved:!1});n((t=>Object.assign({},t,{[e]:[...t[e]||[],r]}))),t((t=>t.map((t=>t.id===e?Object.assign({},t,{posts:[...t.posts,r],totalEngagement:t.totalEngagement+1}):t)))),console.log("Added post to thread:",e,r)}),[]),u=(0,r.useCallback)((e=>{const o={id:`thread-${Date.now()}`,rootPostId:e.id,posts:[e],totalEngagement:0,isCollaborative:!1,isTrending:!1,vibeScore:0};return t((e=>[...e,o])),console.log("Created new thread:",o),o}),[]),f=(0,r.useCallback)(((e,o)=>{n((t=>Object.assign({},t,{[e]:t[e]?.map((e=>e.id===o?Object.assign({},e,{isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}):e))||[]}))),t((t=>t.map((t=>t.id===e?Object.assign({},t,{posts:t.posts.map((e=>e.id===o?Object.assign({},e,{isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}):e))}):t))))}),[]),g=(0,r.useCallback)((e=>a[e]||[]),[a]),m=(0,r.useCallback)(((e,t)=>{const o=Object.assign({},t,{id:`comment-${Date.now()}`,createdAt:(new Date).toISOString(),likes:0,replies:[],isLiked:!1});s((t=>Object.assign({},t,{[e]:[...t[e]||[],o]}))),console.log("Added comment to post:",e,o)}),[]),p=(0,r.useCallback)(((e,t,o,r)=>{const n=Object.assign({},o,{id:`reply-${Date.now()}`,createdAt:(new Date).toISOString(),likes:0,replies:[],isLiked:!1,parentReplyId:r||null});s((o=>{const a=o[e]||[],s=e=>e.map((e=>e.id===r&&n.depth<=3?Object.assign({},e,{replies:[...e.replies,n]}):e.replies.length>0?Object.assign({},e,{replies:s(e.replies)}):e));return Object.assign({},o,{[e]:(e=>e.map((e=>e.id!==t||r?e.replies.length>0?Object.assign({},e,{replies:s(e.replies)}):e:Object.assign({},e,{replies:[...e.replies,n]}))))(a)})})),console.log("Added reply to comment:",t,n)}),[]),y=(0,r.useCallback)(((e,t)=>{s((o=>Object.assign({},o,{[e]:o[e]?.map((e=>e.id===t?Object.assign({},e,{isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}):e))||[]})))}),[]),x=(0,r.useCallback)(((e,t)=>{s((o=>{const r=o[e]||[],n=e=>e.map((e=>e.id===t?Object.assign({},e,{isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}):e.replies.length>0?Object.assign({},e,{replies:n(e.replies)}):e));return Object.assign({},o,{[e]:r.map((e=>Object.assign({},e,{replies:n(e.replies)})))})}))}),[]),b=(0,r.useCallback)(((e,o)=>{t((t=>t.map((t=>t.id===e?Object.assign({},t,{isCollaborative:!0,collaborators:[...t.collaborators||[],o]}):t))))}),[]);return{threads:e,getThread:i,getThreadByRootPost:l,getThreadPosts:d,addToThread:c,createThread:u,toggleThreadPostLike:f,getComments:g,addComment:m,addReply:p,toggleCommentLike:y,toggleReplyLike:x,makeCollaborative:b}}));var y=o(36412),x=o(40484),b=o(38206),j=o(13854),C=o(37286),w=o(308),S=o(86976),v=o(67026),k=o(90419),I=o(60397);function T({posts:e,threadId:t,onShowFullThread:o,collapsed:r=!1}){const{toggleThreadPostLike:s}=p(),{colors:d}=(0,y.useTheme)(),c=r?[e[0]]:e,u=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),f=e=>{const t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3);return t<60?`${t}s`:t<3600?`${Math.floor(t/60)}m`:t<86400?`${Math.floor(t/3600)}h`:`${Math.floor(t/86400)}d`};return(0,I.jsxs)(n.default,{style:B.container,children:[c.map(((e,o)=>((e,o,r)=>{const c=v.mockUsers.find((t=>t.id===e.authorId));return c?(0,I.jsxs)(n.default,{style:B.postContainer,children:[!r&&(0,I.jsx)(n.default,{style:B.threadLine}),(0,I.jsxs)(n.default,{style:B.postHeader,children:[(0,I.jsx)(x.default,{source:{uri:c.profileImage},style:B.avatar}),(0,I.jsx)(n.default,{style:B.headerInfo,children:(0,I.jsxs)(n.default,{style:B.nameRow,children:[(0,I.jsx)(a.default,{style:[B.name,{color:d.text}],children:c.displayName}),(0,I.jsxs)(a.default,{style:[B.username,{color:d.textSecondary}],children:["@",c.username]}),(0,I.jsxs)(a.default,{style:[B.time,{color:d.textSecondary}],children:["\xb7 ",f(e.createdAt)]})]})}),(0,I.jsx)(l.default,{style:B.moreButton,children:(0,I.jsx)(b.default,{size:20,color:d.textSecondary})})]}),(0,I.jsxs)(n.default,{style:B.postContent,children:[e.content&&(0,I.jsx)(a.default,{style:[B.contentText,{color:d.text}],children:e.content}),"voice"===e.type&&e.voiceUrl&&(0,I.jsx)(n.default,{style:B.voiceContainer,children:(0,I.jsx)(k.VoicePlayer,{url:e.voiceUrl,duration:e.voiceDuration||0})}),e.mediaUrls&&e.mediaUrls.length>0&&(0,I.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:B.mediaScroll,children:e.mediaUrls.map(((e,t)=>(0,I.jsx)(x.default,{source:{uri:e},style:B.mediaImage},t)))})]}),(0,I.jsxs)(n.default,{style:B.actions,children:[(0,I.jsxs)(l.default,{style:B.actionButton,onPress:()=>s(t,e.id),children:[(0,I.jsx)(j.default,{size:20,color:e.isLiked?"#EF4444":d.textSecondary,fill:e.isLiked?"#EF4444":"none"}),e.likes>0&&(0,I.jsx)(a.default,{style:[B.actionText,{color:d.textSecondary}],children:u(e.likes)})]}),(0,I.jsxs)(l.default,{style:B.actionButton,children:[(0,I.jsx)(C.default,{size:20,color:d.textSecondary}),e.comments>0&&(0,I.jsx)(a.default,{style:[B.actionText,{color:d.textSecondary}],children:u(e.comments)})]}),(0,I.jsxs)(l.default,{style:B.actionButton,children:[(0,I.jsx)(w.default,{size:20,color:e.isRevibed?"#10B981":d.textSecondary}),e.revibes>0&&(0,I.jsx)(a.default,{style:[B.actionText,{color:d.textSecondary}],children:u(e.revibes)})]}),(0,I.jsx)(l.default,{style:B.actionButton,children:(0,I.jsx)(S.default,{size:20,color:e.isSaved?"#3B82F6":d.textSecondary,fill:e.isSaved?"#3B82F6":"none"})})]})]},e.id):null})(e,0,o===c.length-1))),r&&e.length>1&&o&&(0,I.jsxs)(l.default,{style:B.showThreadButton,onPress:o,children:[(0,I.jsx)(n.default,{style:[B.threadIndicator,{backgroundColor:d.primary}]}),(0,I.jsxs)(a.default,{style:[B.showThreadText,{color:d.primary}],children:["Show this thread (",e.length," posts)"]})]})]})}const B=s.default.create({container:{paddingVertical:8},postContainer:{position:"relative",paddingHorizontal:16,paddingVertical:12},threadLine:{position:"absolute",left:36,top:60,bottom:0,width:2,backgroundColor:"#2A2A2A"},postHeader:{flexDirection:"row",alignItems:"center",marginBottom:8},avatar:{width:40,height:40,borderRadius:20,marginRight:12},headerInfo:{flex:1},nameRow:{flexDirection:"row",alignItems:"center",flexWrap:"wrap"},name:{fontSize:15,fontWeight:"700",marginRight:4},username:{fontSize:15,marginRight:4},time:{fontSize:15},moreButton:{padding:4},postContent:{marginLeft:52,marginBottom:8},contentText:{fontSize:15,lineHeight:20,marginBottom:8},voiceContainer:{marginVertical:8},mediaScroll:{marginTop:8},mediaImage:{width:280,height:280,borderRadius:16,marginRight:8,backgroundColor:"#2A2A2A"},actions:{flexDirection:"row",alignItems:"center",marginLeft:52,gap:24},actionButton:{flexDirection:"row",alignItems:"center",gap:6},actionText:{fontSize:13},showThreadButton:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,marginLeft:52},threadIndicator:{width:24,height:2,borderRadius:1,marginRight:8},showThreadText:{fontSize:14,fontWeight:"600"}});var z=o(16773),F=o(78264),P=o(90046),D=o(5563),A=o(76221),R=o(34253),V=o(40804),L=o(25924);function O({visible:e,onClose:t,threadId:o,parentPostId:s,rootPostId:d}){const{addToThread:c}=p(),{user:u}=(0,L.useAuth)(),{colors:f}=(0,y.useTheme)(),[g,h]=(0,r.useState)(""),[m,b]=(0,r.useState)("text"),[j,C]=(0,r.useState)([]),[w,S]=(0,r.useState)(!1);return(0,I.jsx)(F.default,{visible:e,animationType:"slide",transparent:!0,onRequestClose:t,children:(0,I.jsx)(n.default,{style:W.overlay,children:(0,I.jsxs)(n.default,{style:W.container,children:[(0,I.jsxs)(n.default,{style:W.header,children:[(0,I.jsx)(a.default,{style:W.title,children:"Add to Thread"}),(0,I.jsx)(l.default,{onPress:t,style:W.closeButton,children:(0,I.jsx)(P.default,{size:24,color:f.text})})]}),(0,I.jsxs)(i.default,{style:W.content,showsVerticalScrollIndicator:!1,children:[(0,I.jsx)(z.default,{style:W.input,placeholder:"What's next in your thread?",placeholderTextColor:f.textSecondary,value:g,onChangeText:h,multiline:!0,maxLength:500}),j.length>0&&(0,I.jsx)(i.default,{horizontal:!0,style:W.mediaPreview,showsHorizontalScrollIndicator:!1,children:j.map(((e,t)=>(0,I.jsxs)(n.default,{style:W.mediaItem,children:[(0,I.jsx)(x.default,{source:{uri:e},style:W.mediaImage}),(0,I.jsx)(l.default,{style:W.removeMediaButton,onPress:()=>(e=>{const t=j.filter(((t,o)=>o!==e));C(t),0===t.length&&b("text")})(t),children:(0,I.jsx)(P.default,{size:16,color:"#fff"})})]},t)))}),w&&(0,I.jsxs)(n.default,{style:W.recordingIndicator,children:[(0,I.jsx)(n.default,{style:W.recordingDot}),(0,I.jsx)(a.default,{style:W.recordingText,children:"Recording voice note..."})]}),(0,I.jsxs)(n.default,{style:W.toolbar,children:[(0,I.jsxs)(l.default,{style:W.toolButton,onPress:()=>{C([...j,"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800"]),b(j.length>0?"mixed":"image")},children:[(0,I.jsx)(D.default,{size:24,color:f.primary}),(0,I.jsx)(a.default,{style:W.toolLabel,children:"Photo"})]}),(0,I.jsxs)(l.default,{style:W.toolButton,onPress:()=>{C([...j,"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"]),b("video")},children:[(0,I.jsx)(A.default,{size:24,color:f.primary}),(0,I.jsx)(a.default,{style:W.toolLabel,children:"Video"})]}),(0,I.jsxs)(l.default,{style:[W.toolButton,w&&W.toolButtonActive],onPress:()=>{S(!w),b(w?"text":"voice")},children:[(0,I.jsx)(R.default,{size:24,color:w?"#fff":f.primary}),(0,I.jsx)(a.default,{style:[W.toolLabel,w&&W.toolLabelActive],children:"Voice"})]}),(0,I.jsxs)(l.default,{style:W.toolButton,onPress:()=>b("text"),children:[(0,I.jsx)(V.default,{size:24,color:f.primary}),(0,I.jsx)(a.default,{style:W.toolLabel,children:"Text"})]})]}),(0,I.jsx)(n.default,{style:W.info,children:(0,I.jsx)(a.default,{style:W.infoText,children:"\ud83d\udca1 This will be added to your thread and can be engaged with independently"})})]}),(0,I.jsxs)(n.default,{style:W.footer,children:[(0,I.jsxs)(a.default,{style:W.charCount,children:[g.length,"/500"]}),(0,I.jsx)(l.default,{style:[W.postButton,!g.trim()&&0===j.length&&W.postButtonDisabled],onPress:()=>{(g.trim()||0!==j.length)&&u&&(c(o,{authorId:u.id,parentId:s,rootId:d,content:g.trim(),type:m,mediaUrls:j.length>0?j:void 0,hasThread:!1,threadCount:0}),h(""),C([]),b("text"),t())},disabled:!g.trim()&&0===j.length,children:(0,I.jsx)(a.default,{style:W.postButtonText,children:"Add to Thread"})})]})]})})})}const W=s.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:Object.assign({backgroundColor:"#000",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"90%"},void 0),header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderBottomWidth:1,borderBottomColor:"#2A2A2A"},title:{fontSize:20,fontWeight:"700",color:"#fff"},closeButton:{padding:4},content:{padding:20},input:{fontSize:16,color:"#fff",minHeight:120,textAlignVertical:"top",marginBottom:16},mediaPreview:{marginBottom:16},mediaItem:{marginRight:12,position:"relative"},mediaImage:{width:120,height:120,borderRadius:12,backgroundColor:"#2A2A2A"},removeMediaButton:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:12,padding:4},recordingIndicator:{flexDirection:"row",alignItems:"center",backgroundColor:"#EF444420",padding:12,borderRadius:12,marginBottom:16},recordingDot:{width:8,height:8,borderRadius:4,backgroundColor:"#EF4444",marginRight:8},recordingText:{fontSize:14,color:"#EF4444",fontWeight:"600"},toolbar:{flexDirection:"row",justifyContent:"space-around",paddingVertical:16,borderTopWidth:1,borderBottomWidth:1,borderColor:"#2A2A2A",marginBottom:16},toolButton:{alignItems:"center",padding:8,borderRadius:12},toolButtonActive:{backgroundColor:"#3B82F6"},toolLabel:{fontSize:12,color:"#A0A0A0",marginTop:4},toolLabelActive:{color:"#fff"},info:{backgroundColor:"#3B82F610",padding:12,borderRadius:12},infoText:{fontSize:13,color:"#A0A0A0",lineHeight:18},footer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderTopWidth:1,borderTopColor:"#2A2A2A"},charCount:{fontSize:14,color:"#A0A0A0"},postButton:{backgroundColor:"#3B82F6",paddingHorizontal:24,paddingVertical:12,borderRadius:24},postButtonDisabled:{opacity:.5},postButtonText:{color:"#fff",fontSize:16,fontWeight:"700"}});function E({postId:e,comment:t,depth:o=0}){const{toggleCommentLike:s,toggleReplyLike:i,addReply:d}=p(),{colors:c}=(0,y.useTheme)(),{user:u}=(0,L.useAuth)(),[f,g]=(0,r.useState)(!1),[h,m]=(0,r.useState)(""),[w,S]=(0,r.useState)(!1),k=v.mockUsers.find((e=>e.id===t.authorId));if(!k)return null;const T=e=>{const t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3);return t<60?`${t}s`:t<3600?`${Math.floor(t/60)}m`:t<86400?`${Math.floor(t/3600)}h`:`${Math.floor(t/86400)}d`},B=t=>{const r=v.mockUsers.find((e=>e.id===t.authorId));return r?(0,I.jsxs)(n.default,{style:[M.replyContainer,{marginLeft:Math.min(20*o,60)}],children:[(0,I.jsx)(n.default,{style:M.replyLine}),(0,I.jsx)(x.default,{source:{uri:r.profileImage},style:M.smallAvatar}),(0,I.jsxs)(n.default,{style:M.replyContent,children:[(0,I.jsxs)(n.default,{style:M.replyHeader,children:[(0,I.jsx)(a.default,{style:[M.replyName,{color:c.text}],children:r.displayName}),(0,I.jsxs)(a.default,{style:[M.replyTime,{color:c.textSecondary}],children:["\xb7 ",T(t.createdAt)]})]}),(0,I.jsx)(a.default,{style:[M.replyText,{color:c.text}],children:t.content}),(0,I.jsxs)(n.default,{style:M.replyActions,children:[(0,I.jsxs)(l.default,{style:M.replyAction,onPress:()=>i(e,t.id),children:[(0,I.jsx)(j.default,{size:14,color:t.isLiked?"#EF4444":c.textSecondary,fill:t.isLiked?"#EF4444":"none"}),t.likes>0&&(0,I.jsx)(a.default,{style:[M.replyActionText,{color:c.textSecondary}],children:t.likes})]}),o<2&&(0,I.jsx)(l.default,{style:M.replyAction,children:(0,I.jsx)(a.default,{style:[M.replyActionText,{color:c.textSecondary}],children:"Reply"})})]}),t.replies&&t.replies.length>0&&t.replies.map(B)]})]},t.id):null};return(0,I.jsxs)(n.default,{style:M.container,children:[(0,I.jsx)(x.default,{source:{uri:k.profileImage},style:M.avatar}),(0,I.jsxs)(n.default,{style:M.content,children:[(0,I.jsxs)(n.default,{style:M.header,children:[(0,I.jsx)(a.default,{style:[M.name,{color:c.text}],children:k.displayName}),(0,I.jsxs)(a.default,{style:[M.username,{color:c.textSecondary}],children:["@",k.username]}),(0,I.jsxs)(a.default,{style:[M.time,{color:c.textSecondary}],children:["\xb7 ",T(t.createdAt)]}),(0,I.jsx)(l.default,{style:M.moreButton,children:(0,I.jsx)(b.default,{size:16,color:c.textSecondary})})]}),(0,I.jsx)(a.default,{style:[M.commentText,{color:c.text}],children:t.content}),(0,I.jsxs)(n.default,{style:M.actions,children:[(0,I.jsxs)(l.default,{style:M.actionButton,onPress:()=>s(e,t.id),children:[(0,I.jsx)(j.default,{size:16,color:t.isLiked?"#EF4444":c.textSecondary,fill:t.isLiked?"#EF4444":"none"}),t.likes>0&&(0,I.jsx)(a.default,{style:[M.actionText,{color:c.textSecondary}],children:t.likes})]}),(0,I.jsxs)(l.default,{style:M.actionButton,onPress:()=>g(!f),children:[(0,I.jsx)(C.default,{size:16,color:c.textSecondary}),(0,I.jsx)(a.default,{style:[M.actionText,{color:c.textSecondary}],children:"Reply"})]})]}),f&&(0,I.jsxs)(n.default,{style:M.replyInputContainer,children:[(0,I.jsx)(z.default,{style:[M.replyInput,{color:c.text,borderColor:c.border}],placeholder:"Write a reply...",placeholderTextColor:c.textSecondary,value:h,onChangeText:m,multiline:!0}),(0,I.jsx)(l.default,{style:[M.replyButton,!h.trim()&&M.replyButtonDisabled],onPress:()=>{h.trim()&&u&&(d(e,t.id,{commentId:t.id,parentReplyId:null,authorId:u.id,content:h.trim(),type:"text",depth:o+1}),m(""),g(!1),S(!0))},disabled:!h.trim(),children:(0,I.jsx)(a.default,{style:M.replyButtonText,children:"Reply"})})]}),t.replies&&t.replies.length>0&&(0,I.jsxs)(I.Fragment,{children:[!w&&(0,I.jsxs)(l.default,{style:M.showRepliesButton,onPress:()=>S(!0),children:[(0,I.jsx)(n.default,{style:[M.repliesLine,{backgroundColor:c.border}]}),(0,I.jsxs)(a.default,{style:[M.showRepliesText,{color:c.primary}],children:["View ",t.replies.length," ",1===t.replies.length?"reply":"replies"]})]}),w&&t.replies.map(B)]})]})]})}const M=s.default.create({container:{flexDirection:"row",paddingHorizontal:16,paddingVertical:12},avatar:{width:36,height:36,borderRadius:18,marginRight:12},content:{flex:1},header:{flexDirection:"row",alignItems:"center",marginBottom:4},name:{fontSize:14,fontWeight:"700",marginRight:4},username:{fontSize:14,marginRight:4},time:{fontSize:14},moreButton:{marginLeft:"auto",padding:4},commentText:{fontSize:14,lineHeight:18,marginBottom:8},actions:{flexDirection:"row",alignItems:"center",gap:16},actionButton:{flexDirection:"row",alignItems:"center",gap:4},actionText:{fontSize:12},replyInputContainer:{marginTop:12,gap:8},replyInput:{borderWidth:1,borderRadius:12,padding:12,fontSize:14,minHeight:60,textAlignVertical:"top"},replyButton:{backgroundColor:"#3B82F6",paddingHorizontal:16,paddingVertical:8,borderRadius:20,alignSelf:"flex-end"},replyButtonDisabled:{opacity:.5},replyButtonText:{color:"#fff",fontSize:14,fontWeight:"600"},showRepliesButton:{flexDirection:"row",alignItems:"center",marginTop:12,gap:8},repliesLine:{width:20,height:2,borderRadius:1},showRepliesText:{fontSize:13,fontWeight:"600"},replyContainer:{flexDirection:"row",marginTop:12,position:"relative"},replyLine:{position:"absolute",left:-8,top:0,bottom:0,width:2,backgroundColor:"#2A2A2A"},smallAvatar:{width:28,height:28,borderRadius:14,marginRight:8},replyContent:{flex:1},replyHeader:{flexDirection:"row",alignItems:"center",marginBottom:2},replyName:{fontSize:13,fontWeight:"600",marginRight:4},replyTime:{fontSize:13},replyText:{fontSize:13,lineHeight:17,marginBottom:6},replyActions:{flexDirection:"row",alignItems:"center",gap:12},replyAction:{flexDirection:"row",alignItems:"center",gap:4},replyActionText:{fontSize:11}});function N(){const{id:e}=(0,c.useLocalSearchParams)(),{getThread:t,getComments:o}=p(),{colors:s}=(0,y.useTheme)(),[g,h]=(0,r.useState)(!1),m=t(e),x=m?o(m.rootPostId):[];if(!m)return(0,I.jsxs)(d.default,{style:[H.container,{backgroundColor:s.background}],children:[(0,I.jsx)(c.Stack.Screen,{options:{headerShown:!0,title:"Thread",headerStyle:{backgroundColor:s.background},headerTintColor:s.text}}),(0,I.jsx)(n.default,{style:H.emptyContainer,children:(0,I.jsx)(a.default,{style:[H.emptyText,{color:s.textSecondary}],children:"Thread not found"})})]});const b=m.posts[m.posts.length-1];return(0,I.jsxs)(d.default,{style:[H.container,{backgroundColor:s.background}],children:[(0,I.jsx)(c.Stack.Screen,{options:{headerShown:!0,title:"Thread",headerStyle:{backgroundColor:s.background},headerTintColor:s.text,headerLeft:()=>(0,I.jsx)(l.default,{onPress:()=>c.router.back(),style:H.backButton,children:(0,I.jsx)(u.default,{size:24,color:s.text})})}}),(0,I.jsxs)(i.default,{style:H.scrollView,showsVerticalScrollIndicator:!1,children:[(0,I.jsx)(T,{posts:m.posts,threadId:m.id,collapsed:!1}),(0,I.jsx)(n.default,{style:[H.divider,{backgroundColor:s.border}]}),(0,I.jsxs)(n.default,{style:H.statsContainer,children:[(0,I.jsxs)(n.default,{style:H.statItem,children:[(0,I.jsx)(a.default,{style:[H.statValue,{color:s.text}],children:m.totalEngagement.toLocaleString()}),(0,I.jsx)(a.default,{style:[H.statLabel,{color:s.textSecondary}],children:"Engagement"})]}),m.isTrending&&(0,I.jsx)(n.default,{style:H.trendingBadge,children:(0,I.jsx)(a.default,{style:H.trendingText,children:"\ud83d\udd25 Trending"})}),m.vibeScore>0&&(0,I.jsxs)(n.default,{style:H.statItem,children:[(0,I.jsx)(a.default,{style:[H.statValue,{color:s.primary}],children:m.vibeScore}),(0,I.jsx)(a.default,{style:[H.statLabel,{color:s.textSecondary}],children:"Vibe Score"})]})]}),(0,I.jsx)(n.default,{style:[H.divider,{backgroundColor:s.border}]}),(0,I.jsx)(n.default,{style:H.commentsHeader,children:(0,I.jsxs)(a.default,{style:[H.commentsTitle,{color:s.text}],children:["Comments (",x.length,")"]})}),x.length>0?x.map((e=>(0,I.jsx)(E,{postId:m.rootPostId,comment:e},e.id))):(0,I.jsx)(n.default,{style:H.emptyComments,children:(0,I.jsx)(a.default,{style:[H.emptyCommentsText,{color:s.textSecondary}],children:"No comments yet. Be the first to comment!"})})]}),(0,I.jsx)(l.default,{style:[H.addButton,{backgroundColor:s.primary}],onPress:()=>h(!0),children:(0,I.jsx)(f.default,{size:24,color:"#fff"})}),(0,I.jsx)(O,{visible:g,onClose:()=>h(!1),threadId:m.id,parentPostId:b.id,rootPostId:m.rootPostId})]})}const H=s.default.create({container:{flex:1},scrollView:{flex:1},backButton:{padding:8,marginLeft:8},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:32},emptyText:{fontSize:16,textAlign:"center"},divider:{height:1,marginVertical:12},statsContainer:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,gap:24},statItem:{alignItems:"center"},statValue:{fontSize:18,fontWeight:"700",marginBottom:2},statLabel:{fontSize:12},trendingBadge:{backgroundColor:"#EF444420",paddingHorizontal:12,paddingVertical:6,borderRadius:16},trendingText:{fontSize:13,fontWeight:"600"},commentsHeader:{paddingHorizontal:16,paddingVertical:12},commentsTitle:{fontSize:18,fontWeight:"700"},emptyComments:{padding:32,alignItems:"center"},emptyCommentsText:{fontSize:14,textAlign:"center"},addButton:{position:"absolute",right:20,bottom:20,width:56,height:56,borderRadius:28,justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8}})},9102:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LiveStreamingProvider:()=>s,useLiveStreaming:()=>i});var r=o(36665),n=o(52790),a=o(25924);const[s,i]=(0,n.default)((()=>{const{user:e}=(0,a.useAuth)(),[t,o]=(0,r.useState)({activeSession:null,isHosting:!1,currentViewingSession:null,comments:[],viewers:[],liveSessions:[],analytics:null});(0,r.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=[{id:"1",hostId:"user1",hostUsername:"DJ Alex",hostAvatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80",title:"Chill Vibes Session \ud83c\udfb5",description:"Playing some relaxing beats for the evening",audience:"everyone",commentsEnabled:!0,shareToFeedAfter:!0,status:"live",startedAt:Date.now()-27e5,viewerCount:234,peakViewerCount:289,totalViews:456,likeCount:1234,commentCount:89,coHosts:[],viewers:[],moderators:[],blockedUsers:[],streamUrl:"rtmp://live.vibesync.app/live/stream1",thumbnailUrl:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80"}];o((t=>Object.assign({},t,{liveSessions:e})))}catch(e){console.error("Error loading live sessions:",e)}};return{activeSession:t.activeSession,isHosting:t.isHosting,currentViewingSession:t.currentViewingSession,comments:t.comments,viewers:t.viewers,liveSessions:t.liveSessions,analytics:t.analytics,startLive:async(t,r,n,a,s)=>{if(!e)throw new Error("User must be authenticated to start live");try{const i=`stream_${e.id}_${Date.now()}`,l={id:Date.now().toString(),hostId:e.id,hostUsername:e.displayName||e.username,hostAvatar:e.profileImage||"",title:t,description:r,audience:n,commentsEnabled:a,shareToFeedAfter:s,status:"countdown",startedAt:Date.now(),viewerCount:0,peakViewerCount:0,totalViews:0,likeCount:0,commentCount:0,coHosts:[],viewers:[],moderators:[],blockedUsers:[],streamUrl:`rtmp://live.vibesync.app/live/${i}`};return o((e=>Object.assign({},e,{activeSession:l,isHosting:!0,liveSessions:[l,...e.liveSessions]}))),setTimeout((()=>{o((e=>Object.assign({},e,{activeSession:e.activeSession?Object.assign({},e.activeSession,{status:"live"}):null})))}),3e3),console.log("Live session started:",l),l}catch(i){throw console.error("Error starting live:",i),i}},endLive:async()=>{if(t.activeSession)try{const e=Object.assign({},t.activeSession,{status:"ended",endedAt:Date.now()}),r={sessionId:e.id,duration:e.endedAt-(e.startedAt||0),peakViewers:e.peakViewerCount,totalViews:e.totalViews,uniqueViewers:e.totalViews,averageWatchTime:18e4,likeCount:e.likeCount,commentCount:e.commentCount,shareCount:12,newFollowers:8,topViewers:[],engagementRate:.45};return o((t=>Object.assign({},t,{activeSession:null,isHosting:!1,analytics:r,liveSessions:t.liveSessions.filter((t=>t.id!==e.id))}))),console.log("Live session ended"),r}catch(e){throw console.error("Error ending live:",e),e}},joinLive:r=>{const n=t.liveSessions.find((e=>e.id===r));if(n&&e){const t={id:e.id,username:e.displayName||e.username,avatar:e.profileImage||"",joinedAt:Date.now(),role:"viewer"};o((e=>Object.assign({},e,{currentViewingSession:n,liveSessions:e.liveSessions.map((e=>e.id===r?Object.assign({},e,{viewerCount:e.viewerCount+1,totalViews:e.totalViews+1,viewers:[...e.viewers,t]}):e))}))),console.log("Joined live:",n.title)}},leaveLive:t=>{e&&(o((o=>Object.assign({},o,{currentViewingSession:null,liveSessions:o.liveSessions.map((o=>o.id===t?Object.assign({},o,{viewerCount:Math.max(0,o.viewerCount-1),viewers:o.viewers.filter((t=>t.id!==e.id))}):o))}))),console.log("Left live session"))},addComment:(t,r)=>{if(!e)return;const n={id:Date.now().toString(),userId:e.id,username:e.displayName||e.username,avatar:e.profileImage||"",text:r,timestamp:Date.now()};o((e=>Object.assign({},e,{comments:[...e.comments,n],liveSessions:e.liveSessions.map((e=>e.id===t?Object.assign({},e,{commentCount:e.commentCount+1}):e))})))},pinComment:e=>{o((t=>Object.assign({},t,{comments:t.comments.map((t=>t.id===e?Object.assign({},t,{isPinned:!0}):Object.assign({},t,{isPinned:!1})))})))},addLike:e=>{o((t=>Object.assign({},t,{liveSessions:t.liveSessions.map((t=>t.id===e?Object.assign({},t,{likeCount:t.likeCount+1}):t))})))},inviteCoHost:(e,t)=>{console.log("Invite co-host:",t)},acceptCoHost:t=>{e&&o((o=>Object.assign({},o,{liveSessions:o.liveSessions.map((o=>{if(o.id===t){const t=o.viewers.find((t=>t.id===e.id));if(t)return Object.assign({},o,{coHosts:[...o.coHosts,Object.assign({},t,{role:"co-host"})],viewers:o.viewers.filter((t=>t.id!==e.id))})}return o}))})))},removeCoHost:(e,t)=>{o((o=>Object.assign({},o,{liveSessions:o.liveSessions.map((o=>{if(o.id===e){const e=o.coHosts.find((e=>e.id===t));if(e)return Object.assign({},o,{coHosts:o.coHosts.filter((e=>e.id!==t)),viewers:[...o.viewers,Object.assign({},e,{role:"viewer"})]})}return o}))})))},muteViewer:(e,t)=>{o((o=>Object.assign({},o,{liveSessions:o.liveSessions.map((o=>o.id===e?Object.assign({},o,{viewers:o.viewers.map((e=>e.id===t?Object.assign({},e,{isMuted:!0}):e))}):o))})))},blockViewer:(e,t)=>{o((o=>Object.assign({},o,{liveSessions:o.liveSessions.map((o=>o.id===e?Object.assign({},o,{blockedUsers:[...o.blockedUsers,t],viewers:o.viewers.filter((e=>e.id!==t)),viewerCount:Math.max(0,o.viewerCount-1)}):o))})))},toggleComments:e=>{o((t=>Object.assign({},t,{liveSessions:t.liveSessions.map((t=>t.id===e?Object.assign({},t,{commentsEnabled:!t.commentsEnabled}):t))})))}}}))},9733:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>T});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(15648),l=o(26725),d=o(40484),c=o(15009),u=o(60444),f=o(49637),g=o(58358),h=o(88532),m=o(38206),p=o(90046),y=o(60893),x=o(36412),b=o(36027),j=o(65806),C=o(64825),w=o(60397);function S({voiceContent:e,onPlaybackComplete:t,isPaused:o=!1}){const[s,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(0),f=(0,r.useRef)(null),m=(0,r.useRef)(e.waveform.map((()=>new c.default.Value(.3)))).current;(0,r.useEffect)((()=>(p(),()=>{x()})),[]),(0,r.useEffect)((()=>{o&&s?S():o||s||b()}),[o]),(0,r.useEffect)((()=>{s&&I()}),[s]);const p=async()=>{try{await j.setAudioModeAsync({playsInSilentModeIOS:!0,staysActiveInBackground:!1,shouldDuckAndroid:!0,playThroughEarpieceAndroid:!1})}catch(e){console.error("[VoiceStatusPlayer] Setup error:",e)}},x=async()=>{if(f.current)try{await f.current.unloadAsync()}catch(e){console.error("[VoiceStatusPlayer] Cleanup error:",e)}},b=async()=>{try{if(f.current)await f.current.playAsync();else{if(!e.uri||e.uri.includes("example.com"))return console.log("[VoiceStatusPlayer] Demo mode - no valid audio URI"),l(!0),void setTimeout((()=>{l(!1),t?.()}),1e3*e.duration);const{sound:o}=await C.Sound.createAsync({uri:e.uri},{shouldPlay:!0},k);f.current=o}l(!0)}catch(o){console.error("[VoiceStatusPlayer] Play error:",o),l(!0),setTimeout((()=>{l(!1),t?.()}),1e3*e.duration)}},S=async()=>{try{f.current&&(await f.current.pauseAsync(),l(!1))}catch(e){console.error("[VoiceStatusPlayer] Pause error:",e)}},k=e=>{e.isLoaded&&(u(e.positionMillis/1e3),e.didJustFinish&&(l(!1),t?.()))},I=()=>{const e=m.map((e=>c.default.loop(c.default.sequence([c.default.timing(e,{toValue:.7*Math.random()+.3,duration:200+200*Math.random(),useNativeDriver:!0}),c.default.timing(e,{toValue:.7*Math.random()+.3,duration:200+200*Math.random(),useNativeDriver:!0})]))));c.default.parallel(e).start()},T=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,B=e.gradient||["#667eea","#764ba2"];return(0,w.jsx)(y.LinearGradient,{colors:B,style:v.container,start:{x:0,y:0},end:{x:1,y:1},children:(0,w.jsxs)(n.default,{style:v.content,children:[(0,w.jsx)(n.default,{style:v.waveformContainer,children:e.waveform.map(((e,t)=>(0,w.jsx)(c.default.View,{style:[v.waveformBar,{height:s?m[t].interpolate({inputRange:[0,1],outputRange:[20,150*e]}):100*e,opacity:m[t]}]},t)))}),(0,w.jsx)(i.default,{style:v.playButton,onPress:s?S:b,children:s?(0,w.jsx)(h.default,{size:40,color:"#FFFFFF",fill:"#FFFFFF"}):(0,w.jsx)(g.default,{size:40,color:"#FFFFFF",fill:"#FFFFFF"})}),(0,w.jsx)(n.default,{style:v.timeContainer,children:(0,w.jsxs)(a.default,{style:v.timeText,children:[T(d)," / ",T(e.duration)]})})]})})}const v=s.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},content:{alignItems:"center",gap:40},waveformContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:200,gap:4},waveformBar:{width:4,backgroundColor:"#FFFFFF",borderRadius:2,minHeight:20},playButton:{width:80,height:80,borderRadius:40,backgroundColor:"rgba(255,255,255,0.3)",alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},timeContainer:{paddingHorizontal:20,paddingVertical:10,backgroundColor:"rgba(0,0,0,0.3)",borderRadius:20},timeText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"}}),{width:k,height:I}=l.default.get("window");function T(){const{userId:e}=(0,f.useLocalSearchParams)(),{colors:t}=(0,x.useTheme)(),{getUserStatuses:o,markStatusAsViewed:l}=(0,b.useStatus)(),[j,C]=(0,r.useState)([]),[v,k]=(0,r.useState)(0),[I,T]=(0,r.useState)(!1),z=(0,r.useRef)([]).current,F=(0,r.useRef)([]);(0,r.useEffect)((()=>{if(e){const t=o(e);C(t),z.length=0,t.forEach((()=>{z.push(new c.default.Value(0))}))}}),[e]),(0,r.useEffect)((()=>(j.length>0&&v<j.length&&(P(),l(j[v].id)),()=>{F.current.forEach((e=>clearTimeout(e)))})),[v,j,I]);const P=()=>{if(I)return;const e="video"===j[v].type?15e3:5e3;c.default.timing(z[v],{toValue:1,duration:e,useNativeDriver:!1}).start((({finished:e})=>{e&&!I&&D()}))},D=()=>{v<j.length-1?(k((e=>e+1)),z[v].setValue(1)):f.router.back()},A=(0,r.useRef)(u.default.create({onStartShouldSetPanResponder:()=>!0,onPanResponderRelease:(e,t)=>{const{dx:o}=t;Math.abs(o)>50&&(o>0?v>0&&(z[v].setValue(0),k((e=>e-1))):D())}})).current;if(!j.length)return null;const R=j[v];return(0,w.jsxs)(n.default,{style:B.container,children:[(0,w.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),(0,w.jsx)(n.default,Object.assign({},A.panHandlers,{style:s.default.absoluteFill,children:(()=>{switch(R.type){case"photo":return(0,w.jsx)(d.default,{source:{uri:R.media?.uri},style:s.default.absoluteFill,resizeMode:"cover"});case"text":if(R.textContent){const e=R.textContent.gradient||[R.textContent.backgroundColor||"#667eea"];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.LinearGradient,{colors:e,style:s.default.absoluteFill,start:{x:0,y:0},end:{x:1,y:1}}),(0,w.jsx)(n.default,{style:B.textContentContainer,children:(0,w.jsx)(a.default,{style:[B.textContent,{textAlign:R.textContent.textAlign||"center",fontSize:R.textContent.fontSize||32}],children:R.textContent.text})})]})}break;case"voice":if(R.voiceContent)return(0,w.jsx)(S,{voiceContent:R.voiceContent,isPaused:I,onPlaybackComplete:D})}return null})()})),(0,w.jsx)(y.LinearGradient,{colors:["rgba(0,0,0,0.6)","transparent"],style:B.topGradient}),(0,w.jsxs)(n.default,{style:B.header,children:[(0,w.jsx)(n.default,{style:B.progressBars,children:j.map(((e,t)=>(0,w.jsxs)(n.default,{style:B.progressBarContainer,children:[(0,w.jsx)(n.default,{style:B.progressBarBackground}),(0,w.jsx)(c.default.View,{style:[B.progressBarFill,{width:z[t]?.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})||"0%"}]})]},t)))}),(0,w.jsxs)(n.default,{style:B.headerContent,children:[(0,w.jsxs)(n.default,{style:B.userInfo,children:[(0,w.jsx)(d.default,{source:{uri:R.avatar},style:B.avatar}),(0,w.jsx)(a.default,{style:B.username,children:R.username}),(0,w.jsx)(a.default,{style:B.timestamp,children:new Date(R.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,w.jsxs)(n.default,{style:B.headerActions,children:[(0,w.jsx)(i.default,{onPress:()=>T(!I),style:B.headerButton,children:I?(0,w.jsx)(g.default,{size:24,color:"#FFFFFF"}):(0,w.jsx)(h.default,{size:24,color:"#FFFFFF"})}),(0,w.jsx)(i.default,{style:B.headerButton,onPress:()=>{console.log("More options")},children:(0,w.jsx)(m.default,{size:24,color:"#FFFFFF"})}),(0,w.jsx)(i.default,{onPress:()=>f.router.back(),style:B.headerButton,children:(0,w.jsx)(p.default,{size:24,color:"#FFFFFF"})})]})]})]}),R.caption&&(0,w.jsx)(n.default,{style:B.captionContainer,children:(0,w.jsx)(a.default,{style:B.caption,children:R.caption})})]})}const B=s.default.create({container:{flex:1,backgroundColor:"#000"},topGradient:{position:"absolute",top:0,left:0,right:0,height:200,zIndex:1},header:{position:"absolute",top:0,left:0,right:0,paddingTop:50,paddingHorizontal:16,zIndex:2},progressBars:{flexDirection:"row",gap:4,marginBottom:16},progressBarContainer:{flex:1,height:3,position:"relative"},progressBarBackground:Object.assign({},s.default.absoluteFillObject,{backgroundColor:"rgba(255,255,255,0.3)",borderRadius:2}),progressBarFill:{height:"100%",backgroundColor:"#FFFFFF",borderRadius:2},headerContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},userInfo:{flexDirection:"row",alignItems:"center",gap:8},avatar:{width:36,height:36,borderRadius:18,borderWidth:2,borderColor:"#FFFFFF"},username:{color:"#FFFFFF",fontSize:16,fontWeight:"600"},timestamp:{color:"rgba(255,255,255,0.7)",fontSize:14},headerActions:{flexDirection:"row",gap:16},headerButton:{padding:8,borderRadius:20,backgroundColor:"rgba(0, 0, 0, 0.3)"},textContentContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:32},textContent:{color:"#FFFFFF",fontWeight:"600",textShadowColor:"rgba(0,0,0,0.3)",textShadowOffset:{width:0,height:2},textShadowRadius:4},voiceContentContainer:{flex:1,justifyContent:"center",alignItems:"center",gap:24},waveformContainer:{flexDirection:"row",alignItems:"center",gap:4,height:150},waveformBar:{width:6,backgroundColor:"#FFFFFF",borderRadius:3,minHeight:6},voiceDuration:{color:"#FFFFFF",fontSize:24,fontWeight:"600"},captionContainer:{position:"absolute",bottom:40,left:16,right:16},caption:{color:"#FFFFFF",fontSize:16,textShadowColor:"rgba(0,0,0,0.5)",textShadowOffset:{width:0,height:1},textShadowRadius:3}})},10038:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockComments:()=>r});const r=[{id:"1",postId:"1",userId:"2",username:"mike_foodie",userDisplayName:"Mike Rodriguez",profileImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",isVerified:!1,content:"This is amazing! Love the vibes here \ud83d\udd25",timestamp:"2h",likes:24,isLiked:!1,isAuthorLiked:!0,isAuthorReply:!1,replies:[{id:"1-1",postId:"1",userId:"1",username:"sarah_j",userDisplayName:"Sarah Johnson",profileImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",isVerified:!0,content:"Thanks Mike! Glad you enjoyed it! \ud83d\ude4f",timestamp:"1h 45m",likes:8,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!0},{id:"1-2",postId:"1",userId:"5",username:"alex_photo",userDisplayName:"Alex Chen",profileImage:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400",isVerified:!1,content:"Totally! The energy is unmatched \ud83d\udcaf",timestamp:"1h 30m",likes:5,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!1}]},{id:"2",postId:"1",userId:"3",username:"taylor_sync",userDisplayName:"Taylor Kim",profileImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400",isVerified:!1,content:"Totally agree! The atmosphere is perfect \ud83d\udc9c",timestamp:"1h",likes:12,isLiked:!0,isAuthorLiked:!1,isAuthorReply:!1,replies:[{id:"2-1",postId:"1",userId:"1",username:"sarah_j",userDisplayName:"Sarah Johnson",profileImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",isVerified:!0,content:"",voiceNote:{url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",duration:12,waveform:[.3,.5,.7,.6,.8,.5,.4,.6,.7,.5,.3,.4,.6,.8,.7,.5,.4,.3,.5,.6]},timestamp:"50m",likes:15,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!0}]},{id:"3",postId:"1",userId:"1",username:"sarah_j",userDisplayName:"Sarah Johnson",profileImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",isVerified:!0,content:"Thank you all for the love! \u2764\ufe0f",timestamp:"45m",likes:56,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!0,replies:[{id:"3-1",postId:"1",userId:"6",username:"jordan_beats",userDisplayName:"Jordan Williams",profileImage:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",isVerified:!1,content:"You deserve it! Keep creating! \ud83c\udfa8",timestamp:"40m",likes:12,isLiked:!1,isAuthorLiked:!0,isAuthorReply:!1},{id:"3-2",postId:"1",userId:"7",username:"lisa_creative",userDisplayName:"Lisa Martinez",profileImage:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400",isVerified:!0,content:"Your work is always inspiring! \ud83c\udf1f",timestamp:"35m",likes:9,isLiked:!1,isAuthorLiked:!0,isAuthorReply:!1}]},{id:"4",postId:"1",userId:"4",username:"emma_music",userDisplayName:"Emma Davis",profileImage:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400",isVerified:!0,content:"",voiceNote:{url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",duration:22,waveform:[.4,.6,.8,.7,.5,.6,.7,.8,.6,.4,.5,.7,.8,.6,.5,.4,.6,.7,.5,.4,.6,.8,.7,.5,.4,.6,.7,.5,.4,.3]},timestamp:"30m",likes:18,isLiked:!1,isAuthorLiked:!0,isAuthorReply:!1,replies:[]},{id:"5",postId:"1",userId:"8",username:"chris_dev",userDisplayName:"Chris Anderson",profileImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400",isVerified:!1,content:"This is exactly what I needed to see today! \ud83d\ude4c",timestamp:"20m",likes:7,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!1,replies:[{id:"5-1",postId:"1",userId:"1",username:"sarah_j",userDisplayName:"Sarah Johnson",profileImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",isVerified:!0,content:"So happy to hear that! \ud83d\udc96",timestamp:"15m",likes:4,isLiked:!1,isAuthorLiked:!1,isAuthorReply:!0}]}]},10685:(e,t,o)=>{var r={"./(tabs)/_layout.tsx":74249,"./(tabs)/create.tsx":31750,"./(tabs)/discover.tsx":32065,"./(tabs)/index.tsx":66072,"./(tabs)/profile.tsx":87516,"./(tabs)/spills.tsx":95939,"./(tabs)/vibez.tsx":16170,"./+not-found.tsx":18973,"./_layout.tsx":45111,"./ad-preferences.tsx":64458,"./auth.tsx":39966,"./change-password.tsx":52844,"./chat/[id].tsx":97017,"./dm-inbox.tsx":83082,"./edit-profile.tsx":12420,"./email-preferences.tsx":15310,"./forgot-password.tsx":90491,"./hashtag/[tag].tsx":48993,"./inbox.tsx":46480,"./live/[id].tsx":25173,"./live/analytics.tsx":50159,"./live/setup.tsx":64160,"./messages-settings.tsx":4578,"./messages.tsx":944,"./modal.tsx":83817,"./notifications.tsx":96046,"./post/[id].tsx":94870,"./privacy-policy.tsx":44815,"./profile-views.tsx":56136,"./register.tsx":147,"./reset-password.tsx":15513,"./settings.tsx":31772,"./share-demo.tsx":58411,"./spill/[id].tsx":44408,"./spill/start.tsx":96329,"./splash.tsx":36929,"./status/create.tsx":68174,"./status/view/[userId].tsx":9733,"./story/[id].tsx":14095,"./studio/image-editor.tsx":42356,"./studio/projects.tsx":5840,"./studio/video-editor.tsx":91758,"./tags/review.tsx":30402,"./terms-of-service.tsx":76575,"./thread/[id].tsx":9040,"./trending.tsx":74409,"./user/[id].tsx":3538,"./user/[id]/followers.tsx":92031,"./user/[id]/following.tsx":16067,"./verify-reset-code.tsx":5419};function n(e){var t=a(e);return o(t)}function a(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=10685},11022:(e,t,o)=>{"use strict";o.r(t),o.d(t,{VoiceNoteRecorder:()=>p});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(15009),d=o(51690),c=o(65806),u=o(36412),f=o(70106),g=o(34253),h=o(83527),m=o(60397);const p=({maxDuration:e=180,onRecordingComplete:t,onCancel:o,testID:n})=>{const{colors:p}=(0,u.useTheme)(),[x,b]=(0,r.useState)(!1),[j,C]=(0,r.useState)(0),[w,S]=(0,r.useState)(null),[v,k]=(0,r.useState)([]),I=(0,r.useRef)(new l.default.Value(1)).current,T=(0,r.useRef)(null);(0,r.useEffect)((()=>()=>{w&&w.stopAndUnloadAsync(),T.current&&clearInterval(T.current)}),[w]);const B=async()=>{try{return void d.default.alert("Not Supported","Voice recording is not supported on web.")}catch(e){console.error("Failed to start recording:",e),d.default.alert("Error","Failed to start recording. Please try again.")}},z=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return x||w?(0,m.jsxs)(s.default,{style:[y.container,{backgroundColor:p.card}],testID:n,children:[(0,m.jsx)(s.default,{style:y.waveformContainer,children:v.slice(-30).map(((e,t)=>(0,m.jsx)(s.default,{style:[y.waveformBar,{height:40*e,backgroundColor:p.primary,opacity:.3+t/30*.7}]},t)))}),(0,m.jsxs)(s.default,{style:y.controls,children:[(0,m.jsx)(l.default.View,{style:[y.recordingIndicator,{backgroundColor:p.error,transform:[{scale:I}]}]}),(0,m.jsxs)(s.default,{style:y.durationContainer,children:[(0,m.jsx)(a.default,{style:[y.durationText,{color:p.text}],children:z(j)}),(0,m.jsxs)(a.default,{style:[y.maxDurationText,{color:p.textSecondary}],children:["/ ",z(e)]})]}),(0,m.jsxs)(s.default,{style:y.actionButtons,children:[(0,m.jsx)(i.default,{style:[y.actionButton,{backgroundColor:p.error+"20"}],onPress:async()=>{w&&(await w.stopAndUnloadAsync(),await c.setAudioModeAsync({allowsRecordingIOS:!1})),b(!1),S(null),C(0),k([]),I.setValue(1),T.current&&(clearInterval(T.current),T.current=null),o?.()},children:(0,m.jsx)(h.default,{size:20,color:p.error})}),(0,m.jsx)(i.default,{style:[y.actionButton,{backgroundColor:p.success+"20"}],onPress:async()=>{if(w)try{b(!1),I.setValue(1),T.current&&(clearInterval(T.current),T.current=null),await w.stopAndUnloadAsync(),await c.setAudioModeAsync({allowsRecordingIOS:!1});const e=w.getURI();e&&t&&t(e,j,v),S(null),C(0),k([])}catch(e){console.error("Failed to stop recording:",e),d.default.alert("Error","Failed to stop recording.")}},children:(0,m.jsx)(f.default,{size:20,color:p.success})})]})]})]}):(0,m.jsxs)(i.default,{style:[y.startButton,{backgroundColor:p.primary}],onPress:B,testID:n,children:[(0,m.jsx)(g.default,{size:24,color:"#FFFFFF"}),(0,m.jsx)(a.default,{style:y.startButtonText,children:"Record Voice Note"})]})},y=n.default.create({container:{borderRadius:12,padding:12,gap:12},startButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:14,paddingHorizontal:24,borderRadius:24,gap:8},startButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"},waveformContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:40,gap:2},waveformBar:{width:2,borderRadius:1,minHeight:3},controls:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},recordingIndicator:{width:12,height:12,borderRadius:6},durationContainer:{flexDirection:"row",alignItems:"baseline",gap:4},durationText:{fontSize:16,fontWeight:"700"},maxDurationText:{fontSize:12},actionButtons:{flexDirection:"row",gap:12},actionButton:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center"}})},11835:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ShareSheet:()=>I});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(78264),d=o(16773),c=o(40484),u=o(51226),f=o(36393),g=o(36412),h=o(25924),m=o(97991),p=o(70139),y=o(70106),x=o(14589),b=o(13854),j=o(35735),C=o(67236),w=o(76266),S=o(90046),v=o(34927),k=o(60397);const I=({visible:e,onClose:t,content:o,contentType:I})=>{const{colors:B}=(0,g.useTheme)(),{user:z}=(0,h.useAuth)(),{conversations:F,createConversation:P,sendMessage:D}=(0,m.useMessaging)(),[A,R]=(0,r.useState)(""),[V,L]=(0,r.useState)(new Set),[O,W]=(0,r.useState)(""),[E,M]=(0,r.useState)(!1),[N,H]=(0,r.useState)("\ud83d\udd25"),U=[{id:"fire",emoji:"\ud83d\udd25",label:"Fire",icon:(0,k.jsx)(x.default,{size:20,color:"#FF6B35"})},{id:"laugh",emoji:"\ud83d\ude02",label:"Funny",icon:(0,k.jsx)(j.default,{size:20,color:"#FFD93D"})},{id:"love",emoji:"\ud83d\udc9c",label:"Love",icon:(0,k.jsx)(b.default,{size:20,color:"#A855F7"})},{id:"sparkle",emoji:"\u2728",label:"Amazing",icon:(0,k.jsx)(p.default,{size:20,color:"#60A5FA"})}],q=(0,r.useMemo)((()=>F.map((e=>{const t=e.participants.find((e=>e.id!==z?.id));if(!t)return null;const o=new Date(e.lastMessage.timestamp).getTime()>Date.now()-6048e5;return Object.assign({},t,{hasVibeStreak:o,lastInteraction:e.lastMessage.timestamp})})).filter(Boolean).sort(((e,t)=>{if(e.hasVibeStreak&&!t.hasVibeStreak)return-1;if(!e.hasVibeStreak&&t.hasVibeStreak)return 1;const o=new Date(e.lastInteraction||0).getTime();return new Date(t.lastInteraction||0).getTime()-o}))),[F,z]),_=(0,r.useMemo)((()=>{if(!A.trim())return q;const e=A.toLowerCase();return q.filter((t=>t.displayName.toLowerCase().includes(e)||t.username.toLowerCase().includes(e)))}),[q,A]),$=(0,r.useMemo)((()=>q.slice(0,8)),[q]),Y=e=>{L((t=>{const o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o}))},G=()=>{if("post"===I){const e=o;return e.image||e.video||null}if("vibe"===I){const e=o;return e.thumbnailUrl||e.videoUrl||null}return null};return(0,k.jsx)(l.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,statusBarTranslucent:!0,children:(0,k.jsxs)(i.default,{style:T.overlay,activeOpacity:1,onPress:t,children:[(0,k.jsx)(f.default,{intensity:80,style:n.default.absoluteFill,tint:"dark"}),(0,k.jsx)(i.default,{activeOpacity:1,onPress:e=>e.stopPropagation(),style:T.container,children:(0,k.jsxs)(s.default,{style:[T.sheetContainer,{backgroundColor:B.background,borderColor:B.border}],children:[(0,k.jsxs)(s.default,{style:T.header,children:[(0,k.jsx)(a.default,{style:[T.headerTitle,{color:B.text}],children:"Share to"}),(0,k.jsx)(i.default,{onPress:t,style:T.closeButton,children:(0,k.jsx)(S.default,{size:24,color:B.textSecondary})})]}),(0,k.jsxs)(s.default,{style:T.contentPreview,children:[G()&&(0,k.jsx)(c.default,{source:{uri:G()},style:T.previewThumbnail}),(0,k.jsxs)(s.default,{style:T.previewTextContainer,children:[(0,k.jsx)(a.default,{style:[T.previewType,{color:B.textSecondary}],children:I.charAt(0).toUpperCase()+I.slice(1)}),(0,k.jsx)(a.default,{style:[T.previewText,{color:B.text}],numberOfLines:2,children:(()=>{if("post"===I){const e=o;return e.content.substring(0,60)+(e.content.length>60?"...":"")}if("vibe"===I){const e=o;return e.caption.substring(0,60)+(e.caption.length>60?"...":"")}return"Shared content"})()})]})]}),(0,k.jsxs)(s.default,{style:[T.searchContainer,{backgroundColor:B.card}],children:[(0,k.jsx)(C.default,{size:20,color:B.textSecondary}),(0,k.jsx)(d.default,{style:[T.searchInput,{color:B.text}],placeholder:"Search friends...",placeholderTextColor:B.textSecondary,value:A,onChangeText:R})]}),!A&&(0,k.jsx)(s.default,{style:T.frequentSection,children:(0,k.jsx)(u.default,{data:$,renderItem:({item:e})=>{const t=V.has(e.id);return(0,k.jsxs)(i.default,{style:T.frequentContact,onPress:()=>Y(e.id),activeOpacity:.7,children:[(0,k.jsxs)(s.default,{style:T.frequentAvatarContainer,children:[(0,k.jsx)(v.Avatar,{source:e.profileImage,size:56}),e.hasVibeStreak&&(0,k.jsx)(s.default,{style:[T.vibeStreakBadge,{backgroundColor:B.primary}],children:(0,k.jsx)(x.default,{size:12,color:"#FFF"})}),t&&(0,k.jsx)(s.default,{style:[T.selectedBadge,{backgroundColor:B.primary}],children:(0,k.jsx)(y.default,{size:16,color:"#FFF"})})]}),(0,k.jsx)(a.default,{style:[T.frequentContactName,{color:B.text}],numberOfLines:1,children:e.displayName.split(" ")[0]})]})},keyExtractor:e=>e.id,horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:T.frequentList})}),(0,k.jsx)(u.default,{data:_,renderItem:({item:e})=>{const t=V.has(e.id);return(0,k.jsxs)(i.default,{style:T.gridContactItem,onPress:()=>Y(e.id),activeOpacity:.7,children:[(0,k.jsxs)(s.default,{style:[T.gridAvatarContainer,t&&{borderColor:B.primary,borderWidth:3}],children:[(0,k.jsx)(v.Avatar,{source:e.profileImage,size:64}),e.hasVibeStreak&&(0,k.jsx)(s.default,{style:[T.vibeStreakGrid,{backgroundColor:B.primary}],children:(0,k.jsx)(x.default,{size:10,color:"#FFF"})}),t&&(0,k.jsx)(s.default,{style:[T.selectedOverlay,{backgroundColor:B.primary+"40"}],children:(0,k.jsx)(s.default,{style:[T.selectedCheckGrid,{backgroundColor:B.primary}],children:(0,k.jsx)(y.default,{size:18,color:"#FFF"})})})]}),(0,k.jsx)(a.default,{style:[T.gridContactName,{color:B.text}],numberOfLines:1,children:e.displayName.split(" ")[0]})]})},keyExtractor:e=>e.id,numColumns:4,style:T.contactsList,contentContainerStyle:T.contactsGridContent,showsVerticalScrollIndicator:!1,columnWrapperStyle:T.gridRow},"grid-4-columns"),(0,k.jsxs)(s.default,{style:T.quickVibeSection,children:[(0,k.jsxs)(i.default,{style:T.quickVibeToggle,onPress:()=>M(!E),activeOpacity:.7,children:[(0,k.jsx)(s.default,{style:[T.toggleCircle,{backgroundColor:E?B.primary:B.border}],children:E&&(0,k.jsx)(y.default,{size:16,color:"#FFF"})}),(0,k.jsx)(a.default,{style:[T.quickVibeLabel,{color:B.text}],children:"Quick Vibe"})]}),E&&(0,k.jsx)(s.default,{style:T.reactionsRow,children:U.map((e=>(0,k.jsx)(i.default,{style:[T.reactionButton,{backgroundColor:N===e.emoji?B.primary+"20":B.card,borderColor:N===e.emoji?B.primary:B.border}],onPress:()=>H(e.emoji),activeOpacity:.7,children:(0,k.jsx)(a.default,{style:T.reactionEmoji,children:e.emoji})},e.id)))})]}),(0,k.jsxs)(s.default,{style:T.bottomSection,children:[(0,k.jsx)(s.default,{style:[T.messageInputContainer,{backgroundColor:B.card}],children:(0,k.jsx)(d.default,{style:[T.messageInput,{color:B.text}],placeholder:E?"Optional message...":"Write a message...",placeholderTextColor:B.textSecondary,value:O,onChangeText:W,multiline:!0,maxLength:200})}),(0,k.jsxs)(i.default,{style:[T.sendButton,{backgroundColor:V.size>0?B.primary:B.border}],onPress:async()=>{if(0===V.size)return;const e=`${E&&!O.trim()?`${N} Check this out!`:O.trim()||"Check this out!"}\n\n${"post"===I?`vibesync://post/${o.id}`:"vibe"===I?`vibesync://vibe/${o.id}`:`vibesync://song/${o.id}`}`;for(const t of Array.from(V)){const o=F.find((e=>e.participants.some((e=>e.id===t))));if(o)await D(o.id,e);else{const o=q.find((e=>e.id===t));if(o){const t=P(o);await D(t.id,e)}}}console.log(`[ShareSheet] Shared ${I} with ${V.size} users`),L(new Set),W(""),R(""),M(!1),t()},disabled:0===V.size,activeOpacity:.8,children:[(0,k.jsx)(w.default,{size:20,color:"#FFF"}),V.size>0&&(0,k.jsx)(s.default,{style:T.selectedCount,children:(0,k.jsx)(a.default,{style:T.selectedCountText,children:V.size})})]})]})]})})]})})},T=n.default.create({overlay:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{justifyContent:"flex-end"},sheetContainer:{borderTopLeftRadius:24,borderTopRightRadius:24,borderWidth:1,maxHeight:"90%",paddingBottom:20},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:20,paddingBottom:16},headerTitle:{fontSize:20,fontWeight:"700"},closeButton:{padding:4},contentPreview:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:12,gap:12},previewThumbnail:{width:56,height:56,borderRadius:12,backgroundColor:"rgba(255, 255, 255, 0.1)"},previewTextContainer:{flex:1,gap:4},previewType:{fontSize:12,fontWeight:"600",textTransform:"uppercase"},previewText:{fontSize:14,fontWeight:"500"},searchContainer:{flexDirection:"row",alignItems:"center",marginHorizontal:20,marginBottom:16,paddingHorizontal:16,paddingVertical:12,borderRadius:16,gap:12},searchInput:{flex:1,fontSize:16,fontWeight:"500"},frequentSection:{marginBottom:16},frequentList:{paddingHorizontal:20,gap:16},frequentContact:{alignItems:"center",gap:8,width:64},frequentAvatarContainer:{position:"relative"},vibeStreakBadge:{position:"absolute",top:-2,right:-2,width:20,height:20,borderRadius:10,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#000"},selectedBadge:{position:"absolute",bottom:-2,right:-2,width:24,height:24,borderRadius:12,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#000"},frequentContactName:{fontSize:12,fontWeight:"600",textAlign:"center"},contactsList:{flex:1},contactsGridContent:{paddingHorizontal:12,paddingBottom:16},gridRow:{justifyContent:"space-between",paddingHorizontal:8},gridContactItem:{alignItems:"center",marginBottom:20,width:"22%"},gridAvatarContainer:{position:"relative",borderRadius:32,marginBottom:6},vibeStreakGrid:{position:"absolute",top:0,right:0,width:20,height:20,borderRadius:10,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#FFF"},selectedOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:32,alignItems:"center",justifyContent:"center"},selectedCheckGrid:{width:32,height:32,borderRadius:16,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#FFF"},gridContactName:{fontSize:12,fontWeight:"600",textAlign:"center"},contactAvatarContainer:{position:"relative"},vibeStreakSmall:{position:"absolute",top:-2,right:-2,width:18,height:18,borderRadius:9,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#000"},contactInfo:{flex:1,gap:2},contactName:{fontSize:16,fontWeight:"600"},contactUsername:{fontSize:14,fontWeight:"500"},checkmark:{width:28,height:28,borderRadius:14,alignItems:"center",justifyContent:"center"},quickVibeSection:{paddingHorizontal:20,paddingVertical:16,gap:12},quickVibeToggle:{flexDirection:"row",alignItems:"center",gap:12},toggleCircle:{width:24,height:24,borderRadius:12,alignItems:"center",justifyContent:"center"},quickVibeLabel:{fontSize:16,fontWeight:"600"},reactionsRow:{flexDirection:"row",gap:12},reactionButton:{width:56,height:56,borderRadius:16,alignItems:"center",justifyContent:"center",borderWidth:2},reactionEmoji:{fontSize:28},bottomSection:{flexDirection:"row",alignItems:"flex-end",paddingHorizontal:20,gap:12},messageInputContainer:{flex:1,borderRadius:20,paddingHorizontal:16,paddingVertical:12,minHeight:48,maxHeight:100},messageInput:{fontSize:16,fontWeight:"500"},sendButton:{width:56,height:56,borderRadius:28,alignItems:"center",justifyContent:"center",position:"relative"},selectedCount:{position:"absolute",top:-4,right:-4,backgroundColor:"#EF4444",width:24,height:24,borderRadius:12,alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#000"},selectedCountText:{color:"#FFF",fontSize:12,fontWeight:"700"}})},12420:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(2772),c=o(51690),u=o(44767),f=o(49637),g=o(49582),h=o(25924),m=o(34927),p=o(12543),y=o(70106),x=o(90046),b=o(60893),j=o(48801),C=o(60397);function w(){const{user:e,updateProfile:t,updateProfileImage:o}=(0,h.useAuth)(),[n,w]=(0,r.useState)(e?.displayName||""),[v,k]=(0,r.useState)(e?.username||""),[I,T]=(0,r.useState)(e?.bio||""),[B,z]=(0,r.useState)(!1);return e?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.Stack.Screen,{options:{title:"Edit Profile",headerStyle:{backgroundColor:g.Colors.background},headerTintColor:g.Colors.text,headerShadowVisible:!1}}),(0,C.jsxs)(u.default,{style:S.container,behavior:"height",children:[(0,C.jsxs)(d.default,{style:S.scrollView,contentContainerStyle:S.scrollContent,children:[(0,C.jsxs)(s.default,{style:S.avatarSection,children:[(0,C.jsx)(l.default,{onPress:async()=>{try{const{status:e}=await j.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void c.default.alert("Permission needed","Please grant camera roll permissions to change profile picture");const t=await j.launchImageLibraryAsync({mediaTypes:["images"],allowsEditing:!0,aspect:[1,1],quality:.8});if(!t.canceled&&t.assets[0]){const e=t.assets[0].uri;await o(e)?(c.default.alert("Success","Profile picture updated successfully"),console.log("Profile photo updated successfully")):c.default.alert("Error","Failed to update profile picture. Please try again.")}}catch(e){console.error("Error picking profile image:",e),c.default.alert("Error","An error occurred while updating profile picture. Please try again.")}},children:(0,C.jsxs)(s.default,{style:S.avatarWrapper,children:[(0,C.jsx)(m.Avatar,{uri:e.profileImage,size:100,borderWidth:3,borderColor:g.Colors.primary}),(0,C.jsx)(s.default,{style:S.avatarEditButton,children:(0,C.jsx)(p.default,{size:20,color:g.Colors.text})})]})}),(0,C.jsx)(a.default,{style:S.avatarHint,children:"Tap to change profile picture"})]}),(0,C.jsxs)(s.default,{style:S.form,children:[(0,C.jsxs)(s.default,{style:S.inputGroup,children:[(0,C.jsx)(a.default,{style:S.label,children:"Display Name"}),(0,C.jsx)(i.default,{style:S.input,value:n,onChangeText:w,placeholder:"Enter your display name",placeholderTextColor:g.Colors.textSecondary,maxLength:50}),(0,C.jsx)(a.default,{style:S.hint,children:"This is how your name appears on your profile"})]}),(0,C.jsxs)(s.default,{style:S.inputGroup,children:[(0,C.jsx)(a.default,{style:S.label,children:"Username"}),(0,C.jsxs)(s.default,{style:S.usernameInputContainer,children:[(0,C.jsx)(a.default,{style:S.usernamePrefix,children:"@"}),(0,C.jsx)(i.default,{style:S.usernameInput,value:v,onChangeText:e=>k(e.toLowerCase()),placeholder:"username",placeholderTextColor:g.Colors.textSecondary,maxLength:20,autoCapitalize:"none",autoCorrect:!1})]}),(0,C.jsx)(a.default,{style:S.hint,children:"3-20 characters, letters, numbers, and underscores only"})]}),(0,C.jsxs)(s.default,{style:S.inputGroup,children:[(0,C.jsx)(a.default,{style:S.label,children:"Bio"}),(0,C.jsx)(i.default,{style:[S.input,S.bioInput],value:I,onChangeText:T,placeholder:"Tell people about your vibe",placeholderTextColor:g.Colors.textSecondary,maxLength:150,multiline:!0,numberOfLines:4,textAlignVertical:"top"}),(0,C.jsxs)(a.default,{style:S.charCount,children:[I.length,"/150"]})]})]})]}),(0,C.jsxs)(s.default,{style:S.footer,children:[(0,C.jsxs)(l.default,{style:S.cancelButton,onPress:()=>{f.router.back()},disabled:B,children:[(0,C.jsx)(x.default,{size:20,color:g.Colors.text}),(0,C.jsx)(a.default,{style:S.cancelButtonText,children:"Cancel"})]}),(0,C.jsx)(l.default,{style:S.saveButton,onPress:async()=>{if(!n.trim())return void c.default.alert("Error","Display name is required");if(!v.trim())return void c.default.alert("Error","Username is required");if(v.length<3||v.length>20)return void c.default.alert("Error","Username must be between 3 and 20 characters");if(!/^[a-zA-Z0-9_]+$/.test(v))return void c.default.alert("Error","Username can only contain letters, numbers, and underscores");if(I.length>150)return void c.default.alert("Error","Bio must be 150 characters or less");z(!0);const e=await t({displayName:n.trim(),username:v.trim(),bio:I.trim()});z(!1),e?c.default.alert("Success","Profile updated successfully",[{text:"OK",onPress:()=>f.router.back()}]):c.default.alert("Error","Failed to update profile. Please try again.")},disabled:B,children:(0,C.jsxs)(b.LinearGradient,{colors:["#3B82F6","#2563EB"],start:{x:0,y:0},end:{x:1,y:0},style:S.saveButtonGradient,children:[(0,C.jsx)(y.default,{size:20,color:g.Colors.text}),(0,C.jsx)(a.default,{style:S.saveButtonText,children:B?"Saving...":"Save Changes"})]})})]})]})]}):null}const S=n.default.create({container:{flex:1,backgroundColor:g.Colors.background},scrollView:{flex:1},scrollContent:{paddingBottom:100},avatarSection:{alignItems:"center",paddingVertical:32,borderBottomWidth:1,borderBottomColor:g.Colors.border},avatarWrapper:{position:"relative"},avatarEditButton:{position:"absolute",right:0,bottom:0,backgroundColor:g.Colors.primary,borderRadius:20,width:40,height:40,justifyContent:"center",alignItems:"center",borderWidth:3,borderColor:g.Colors.background},avatarHint:{color:g.Colors.textSecondary,fontSize:14,marginTop:12},form:{padding:20,gap:24},inputGroup:{gap:8},label:{color:g.Colors.text,fontSize:16,fontWeight:"600"},input:{backgroundColor:g.Colors.cardLight,borderRadius:12,padding:16,color:g.Colors.text,fontSize:16,borderWidth:1,borderColor:g.Colors.border},usernameInputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:g.Colors.cardLight,borderRadius:12,borderWidth:1,borderColor:g.Colors.border,paddingLeft:16},usernamePrefix:{color:g.Colors.text,fontSize:16,fontWeight:"600"},usernameInput:{flex:1,padding:16,paddingLeft:4,color:g.Colors.text,fontSize:16},bioInput:{minHeight:100,textAlignVertical:"top"},hint:{color:g.Colors.textSecondary,fontSize:13},charCount:{color:g.Colors.textSecondary,fontSize:13,textAlign:"right"},footer:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",gap:12,padding:20,backgroundColor:g.Colors.background,borderTopWidth:1,borderTopColor:g.Colors.border},cancelButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:16,borderRadius:24,backgroundColor:g.Colors.cardLight,borderWidth:1,borderColor:g.Colors.border},cancelButtonText:{color:g.Colors.text,fontSize:16,fontWeight:"600"},saveButton:{flex:1,borderRadius:24,overflow:"hidden"},saveButtonGradient:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:16},saveButtonText:{color:g.Colors.text,fontSize:16,fontWeight:"700"}})},14095:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>F});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(26725),d=o(21815),c=o(15009),u=o(60444),f=o(49637),g=o(36412),h=o(25924),m=o(34927),p=o(54407),y=o(99323),x=o(25275),b=o(90046),j=o(13854),C=o(37286),w=o(76266),S=o(5894),v=o(67026);const k=[{id:"1",userId:"5",username:"alex",profileImage:v.mockUsers.find((e=>"5"===e.id))?.profileImage,viewed:!1,isLive:!0,author:{id:"5",username:"alexj",displayName:"Alex Johnson",profileImage:v.mockUsers.find((e=>"5"===e.id))?.profileImage,isVerified:!0,vibeScore:95},mediaUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",content:"Beautiful sunset today! \ud83c\udf05",createdAt:new Date(Date.now()-18e5).toISOString(),storyCount:3,isSpecialEvent:!1,vibeScore:95},{id:"2",userId:"1",username:"sarah",profileImage:v.mockUsers.find((e=>"1"===e.id))?.profileImage,viewed:!1,isLive:!1,author:{id:"1",username:"sarah_vibes",displayName:"Sarah Chen",profileImage:v.mockUsers.find((e=>"1"===e.id))?.profileImage,isVerified:!0,vibeScore:88},mediaUrl:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",content:"Coffee vibes \u2615",createdAt:new Date(Date.now()-36e5).toISOString(),storyCount:2,isSpecialEvent:!1,vibeScore:88},{id:"3",userId:"2",username:"mike",profileImage:v.mockUsers.find((e=>"2"===e.id))?.profileImage,viewed:!0,isLive:!1,author:{id:"2",username:"mike_foodie",displayName:"Mike Rodriguez",profileImage:v.mockUsers.find((e=>"2"===e.id))?.profileImage,isVerified:!1,vibeScore:72},mediaUrl:"https://images.unsplash.com/photo-1563379926898-05f4575a45d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",content:"Cooking something delicious! \ud83c\udf5d",createdAt:new Date(Date.now()-72e5).toISOString(),storyCount:1,isSpecialEvent:!1,vibeScore:72},{id:"4",userId:"3",username:"taylor",profileImage:v.mockUsers.find((e=>"3"===e.id))?.profileImage,viewed:!1,isLive:!1,author:{id:"3",username:"taylor_sync",displayName:"Taylor Kim",profileImage:v.mockUsers.find((e=>"3"===e.id))?.profileImage,isVerified:!1,vibeScore:100},mediaUrl:"https://images.unsplash.com/photo-1498049794561-7780e7231661?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",content:"Working on some code \ud83d\udcbb",createdAt:new Date(Date.now()-108e5).toISOString(),storyCount:4,isSpecialEvent:!0,vibeScore:100}];var I=o(60893),T=o(60397);const{width:B,height:z}=l.default.get("window");function F(){const{id:e}=(0,f.useLocalSearchParams)(),{colors:t}=(0,g.useTheme)(),{isAuthenticated:o}=(0,h.useAuth)(),[n,l]=(0,r.useState)(null),[v,B]=(0,r.useState)(!1),[z,F]=(0,r.useState)(0),[A,R]=(0,r.useState)(!1),V=(0,r.useRef)(new c.default.Value(0)).current,L=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!o)return void f.router.replace("/auth");const t=k.find((t=>t.id===e));t&&(l(t),B(Math.random()>.5))}),[e,o]),(0,r.useEffect)((()=>{if(!n||A)return;const e=50/("voice"===n.mediaType&&n.voiceNote?1e3*n.voiceNote.duration:5e3)*100;return L.current=setInterval((()=>{F((t=>{const o=t+e;return o>=100?(L.current&&clearInterval(L.current),f.router.back(),100):o}))}),50),()=>{L.current&&clearInterval(L.current)}}),[n,A]),(0,r.useEffect)((()=>{c.default.timing(V,{toValue:z,duration:50,useNativeDriver:!1}).start()}),[z,V]);const O=(0,r.useRef)(u.default.create({onStartShouldSetPanResponder:()=>!0,onPanResponderGrant:()=>{R(!0)},onPanResponderRelease:(e,t)=>{R(!1),Math.abs(t.dy)>50&&f.router.back()}})).current,W=()=>{L.current&&clearInterval(L.current),f.router.back()};if(!n)return(0,T.jsxs)(s.default,{style:[D.errorContainer,{backgroundColor:t.background}],children:[(0,T.jsx)(a.default,{style:[D.errorText,{color:t.text}],children:"Story not found"}),(0,T.jsx)(i.default,{onPress:W,style:[D.backButton,{backgroundColor:t.primary}],children:(0,T.jsx)(a.default,{style:D.backButtonText,children:"Go Back"})})]});const E="voice"===n.mediaType,M=n.backgroundColor||"#1a1a1a",N=n.textColor||"#FFFFFF";return(0,T.jsxs)(s.default,Object.assign({style:D.container},O.panHandlers,{children:[(0,T.jsx)(d.default,{barStyle:"light-content",backgroundColor:"black"}),(0,T.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),!E&&n.mediaUrl?(0,T.jsx)(S.Image,{source:{uri:n.mediaUrl},style:D.backgroundMedia,contentFit:"cover"}):(0,T.jsx)(I.LinearGradient,{colors:[M,M+"DD"],style:D.backgroundMedia}),(0,T.jsx)(s.default,{style:D.overlay}),(0,T.jsx)(s.default,{style:D.progressContainer,children:(0,T.jsx)(s.default,{style:D.progressBar,children:(0,T.jsx)(c.default.View,{style:[D.progressFill,{width:V.interpolate({inputRange:[0,100],outputRange:["0%","100%"]})}]})})}),(0,T.jsxs)(s.default,{style:D.header,children:[(0,T.jsxs)(i.default,{style:D.userInfo,onPress:()=>{n&&f.router.push(`/user/${n.author.id}`)},children:[(0,T.jsx)(m.Avatar,{uri:n.author.profileImage,size:36,style:D.authorAvatar}),(0,T.jsxs)(s.default,{style:D.authorInfo,children:[(0,T.jsxs)(s.default,{style:D.authorName,children:[(0,T.jsx)(a.default,{style:D.authorDisplayName,children:n.author.displayName}),n.author.isVerified&&(0,T.jsx)(p.VerifiedBadge,{size:14})]}),(0,T.jsx)(a.default,{style:D.storyTime,children:P(n.createdAt)})]})]}),(0,T.jsxs)(s.default,{style:D.headerActions,children:[(0,T.jsx)(i.default,{style:D.headerButton,onPress:()=>{R(!0),L.current&&clearInterval(L.current),console.log("Story options for:",n.id)},children:(0,T.jsx)(x.default,{size:24,color:"#FFFFFF"})}),(0,T.jsx)(i.default,{style:D.headerButton,onPress:W,children:(0,T.jsx)(b.default,{size:24,color:"#FFFFFF"})})]})]}),(0,T.jsx)(s.default,{style:D.contentContainer,children:E&&n.voiceNote?(0,T.jsxs)(s.default,{style:D.voiceStoryContainer,children:[(0,T.jsx)(s.default,{style:D.voiceAvatarContainer,children:(0,T.jsx)(I.LinearGradient,{colors:["#3B82F6","#06B6D4"],style:D.voiceAvatarGradient,children:(0,T.jsx)(s.default,{style:[D.voiceAvatarInner,{backgroundColor:t.background}],children:(0,T.jsx)(m.Avatar,{uri:n.author.profileImage,size:120})})})}),(0,T.jsx)(y.VoiceNotePlayer,{uri:n.voiceNote.url,duration:n.voiceNote.duration,waveform:n.voiceNote.waveform,size:"large"}),n.content&&(0,T.jsx)(a.default,{style:[D.voiceCaption,{color:N}],children:n.content})]}):n.content&&(0,T.jsx)(a.default,{style:[D.storyContent,{color:N}],children:n.content})}),(0,T.jsxs)(s.default,{style:D.actionsContainer,children:[(0,T.jsx)(i.default,{style:D.actionButton,onPress:()=>{B(!v)},children:(0,T.jsx)(j.default,{size:28,color:v?"#FF0000":"#FFFFFF",fill:v?"#FF0000":"transparent"})}),(0,T.jsx)(i.default,{style:D.actionButton,onPress:()=>{console.log("Comment on story:",n?.id)},children:(0,T.jsx)(C.default,{size:28,color:"#FFFFFF"})}),(0,T.jsx)(i.default,{style:D.actionButton,onPress:()=>{console.log("Share story:",n?.id)},children:(0,T.jsx)(w.default,{size:28,color:"#FFFFFF"})})]})]}))}function P(e){const t=new Date,o=new Date(e),r=t.getTime()-o.getTime(),n=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5);return n<1?"Just now":n<60?`${n}m`:a<24?`${a}h`:`${s}d`}const D=n.default.create({container:{flex:1,backgroundColor:"#000000"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,marginBottom:20},backButton:{paddingVertical:12,paddingHorizontal:24,borderRadius:24},backButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"},backgroundMedia:{position:"absolute",top:0,left:0,width:B,height:z},overlay:{position:"absolute",top:0,left:0,width:B,height:z,backgroundColor:"rgba(0, 0, 0, 0.2)"},progressContainer:{position:"absolute",top:50,left:8,right:8,zIndex:10},progressBar:{height:2,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:1,overflow:"hidden"},progressFill:{height:"100%",backgroundColor:"#FFFFFF",borderRadius:1},header:{position:"absolute",top:60,left:16,right:16,flexDirection:"row",alignItems:"center",justifyContent:"space-between",zIndex:10},userInfo:{flexDirection:"row",alignItems:"center",flex:1},authorAvatar:{marginRight:12,borderWidth:2,borderColor:"#FFFFFF"},authorInfo:{flex:1},authorName:{flexDirection:"row",alignItems:"center",gap:4},authorDisplayName:{color:"#FFFFFF",fontSize:14,fontWeight:"600"},storyTime:{color:"#FFFFFF",fontSize:12,opacity:.8,marginTop:2},headerActions:{flexDirection:"row",gap:8},headerButton:{padding:4},contentContainer:{position:"absolute",top:"50%",left:0,right:0,transform:[{translateY:-100}],paddingHorizontal:24,zIndex:10,alignItems:"center"},voiceStoryContainer:{alignItems:"center",width:"100%",gap:24},voiceAvatarContainer:{marginBottom:16},voiceAvatarGradient:{width:140,height:140,borderRadius:70,padding:4,alignItems:"center",justifyContent:"center"},voiceAvatarInner:{width:132,height:132,borderRadius:66,padding:6,alignItems:"center",justifyContent:"center"},voiceCaption:{fontSize:16,lineHeight:22,textAlign:"center",maxWidth:"90%"},storyContent:{fontSize:24,lineHeight:32,textAlign:"center",fontWeight:"600",textShadowColor:"rgba(0, 0, 0, 0.8)",textShadowOffset:{width:0,height:1},textShadowRadius:4},actionsContainer:{position:"absolute",bottom:50,right:16,alignItems:"center",zIndex:10,gap:20},actionButton:{padding:8}})},15310:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(2772),l=o(74037),d=o(15648),c=o(51690),u=o(49637),f=o(78833),g=o(47640),h=o(52790);const m={notifications:{friendship_follow:!0,playlist_sync:!0,voice_note_interaction:!0,engagement_boost:!0,monthly_digest:!0},unsubscribed:!1},[p,y]=(0,h.default)((()=>{const[e,t]=(0,r.useState)(null),[o,n]=(0,r.useState)(!0),a=(0,r.useCallback)((async()=>{try{const e=await g.default.getItem("email_preferences");e&&t(JSON.parse(e))}catch(e){console.error("[EmailPreferences] Error loading preferences:",e)}finally{n(!1)}}),[]);(0,r.useEffect)((()=>{a()}),[a]);const s=(0,r.useCallback)((async e=>{try{const t={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"VibeSync",slug:"vibesync-q1osqc5",version:"1.0.0",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"vibesync",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},sdkVersion:"53.0.0",platforms:["ios","android","web"],extra:{router:{origin:"https://rork.com/"}}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_API_URL||"http://localhost:3000";await fetch(`${t}/api/trpc/email.updatePreferences`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),console.log("[EmailPreferences] Synced with backend")}catch(t){console.error("[EmailPreferences] Error syncing with backend:",t)}}),[]),i=(0,r.useCallback)((async e=>{try{await g.default.setItem("email_preferences",JSON.stringify(e)),t(e),await s(e)}catch(o){console.error("[EmailPreferences] Error saving preferences:",o)}}),[s]),l=(0,r.useCallback)((async(e,t)=>{const o=Object.assign({userId:e,email:t},m);await i(o)}),[i]),d=(0,r.useCallback)((async(t,o)=>{if(!e)return;const r=Object.assign({},e,{notifications:Object.assign({},e.notifications,{[t]:o})});await i(r)}),[e,i]),c=(0,r.useCallback)((async()=>{if(!e)return;const t=Object.assign({},e,{unsubscribed:!0,unsubscribedAt:(new Date).toISOString()});await i(t)}),[e,i]),u=(0,r.useCallback)((async()=>{if(!e)return;const t=Object.assign({},e,{unsubscribed:!1,unsubscribedAt:void 0});await i(t)}),[e,i]),f=(0,r.useCallback)((t=>!!e&&(!e.unsubscribed&&e.notifications[t])),[e]);return(0,r.useMemo)((()=>({preferences:e,loading:o,initializePreferences:l,updateNotificationPreference:d,unsubscribeFromAll:c,resubscribe:u,canSendEmail:f})),[e,o,l,d,c,u,f])}));var x=o(36412),b=o(26983),j=o(74841),C=o(69902),w=o(665),S=o(60397);function v(){const e=(0,f.useSafeAreaInsets)(),{colors:t}=(0,x.useTheme)(),{preferences:o,loading:r,updateNotificationPreference:s,unsubscribeFromAll:l,resubscribe:g}=y(),h=async(e,t)=>{await s(e,t)};return r||!o?(0,S.jsxs)(n.default,{style:[I.container,{backgroundColor:t.background}],children:[(0,S.jsx)(u.Stack.Screen,{options:{title:"Email Preferences",headerStyle:{backgroundColor:t.card},headerTintColor:t.text}}),(0,S.jsx)(n.default,{style:I.loadingContainer,children:(0,S.jsx)(a.default,{style:[I.loadingText,{color:t.textSecondary}],children:"Loading preferences..."})})]}):(0,S.jsxs)(n.default,{style:[I.container,{backgroundColor:t.background}],children:[(0,S.jsx)(u.Stack.Screen,{options:{title:"Email Preferences",headerStyle:{backgroundColor:t.card},headerTintColor:t.text}}),(0,S.jsxs)(i.default,{style:I.scrollView,contentContainerStyle:[I.scrollContent,{paddingBottom:e.bottom+20}],children:[(0,S.jsxs)(n.default,{style:[I.header,{backgroundColor:t.card}],children:[(0,S.jsx)(b.default,{size:32,color:t.primary}),(0,S.jsx)(a.default,{style:[I.headerTitle,{color:t.text}],children:"Email Notifications"}),(0,S.jsx)(a.default,{style:[I.headerSubtitle,{color:t.textSecondary}],children:"Manage your email preferences and control what notifications you receive"})]}),o.unsubscribed&&(0,S.jsxs)(n.default,{style:[I.unsubscribedBanner,{backgroundColor:"#FFF3CD"}],children:[(0,S.jsx)(j.default,{size:20,color:"#856404"}),(0,S.jsx)(a.default,{style:[I.unsubscribedText,{color:"#856404"}],children:"You are currently unsubscribed from all emails"})]}),(0,S.jsxs)(n.default,{style:[I.section,{backgroundColor:t.card}],children:[(0,S.jsx)(a.default,{style:[I.sectionTitle,{color:t.text}],children:"Notification Emails"}),(0,S.jsx)(a.default,{style:[I.sectionDescription,{color:t.textSecondary}],children:"Choose which notifications you want to receive via email"}),(0,S.jsxs)(n.default,{style:I.preferencesList,children:[(0,S.jsx)(k,{title:"Friend Follows",description:"Get notified when someone follows you",value:o.notifications.friendship_follow,onValueChange:e=>h("friendship_follow",e),disabled:o.unsubscribed,colors:t}),(0,S.jsx)(k,{title:"Playlist Updates",description:"Get notified when friends update playlists",value:o.notifications.playlist_sync,onValueChange:e=>h("playlist_sync",e),disabled:o.unsubscribed,colors:t}),(0,S.jsx)(k,{title:"Voice Note Replies",description:"Get notified when someone replies with a voice note",value:o.notifications.voice_note_interaction,onValueChange:e=>h("voice_note_interaction",e),disabled:o.unsubscribed,colors:t}),(0,S.jsx)(k,{title:"Engagement Reminders",description:"Get reminded to check back when you've been inactive",value:o.notifications.engagement_boost,onValueChange:e=>h("engagement_boost",e),disabled:o.unsubscribed,colors:t}),(0,S.jsx)(k,{title:"Monthly Digest",description:"Receive a monthly summary of your activity",value:o.notifications.monthly_digest,onValueChange:e=>h("monthly_digest",e),disabled:o.unsubscribed,colors:t})]})]}),(0,S.jsxs)(n.default,{style:[I.section,{backgroundColor:t.card}],children:[(0,S.jsx)(a.default,{style:[I.sectionTitle,{color:t.text}],children:"Transactional Emails"}),(0,S.jsx)(a.default,{style:[I.sectionDescription,{color:t.textSecondary}],children:"These emails are always sent for security and account management"}),(0,S.jsxs)(n.default,{style:[I.transactionalItem,{borderColor:t.border}],children:[(0,S.jsx)(C.default,{size:20,color:t.primary}),(0,S.jsxs)(n.default,{style:I.transactionalText,children:[(0,S.jsx)(a.default,{style:[I.transactionalTitle,{color:t.text}],children:"Account Security"}),(0,S.jsx)(a.default,{style:[I.transactionalDescription,{color:t.textSecondary}],children:"Password resets, login alerts, account recovery"})]})]}),(0,S.jsxs)(n.default,{style:[I.transactionalItem,{borderColor:t.border}],children:[(0,S.jsx)(C.default,{size:20,color:t.primary}),(0,S.jsxs)(n.default,{style:I.transactionalText,children:[(0,S.jsx)(a.default,{style:[I.transactionalTitle,{color:t.text}],children:"Email Verification"}),(0,S.jsx)(a.default,{style:[I.transactionalDescription,{color:t.textSecondary}],children:"Verify your email address when signing up"})]})]}),(0,S.jsxs)(n.default,{style:[I.transactionalItem,{borderColor:t.border}],children:[(0,S.jsx)(C.default,{size:20,color:t.primary}),(0,S.jsxs)(n.default,{style:I.transactionalText,children:[(0,S.jsx)(a.default,{style:[I.transactionalTitle,{color:t.text}],children:"Order Updates"}),(0,S.jsx)(a.default,{style:[I.transactionalDescription,{color:t.textSecondary}],children:"Order confirmations, shipping, and delivery notifications"})]})]})]}),(0,S.jsx)(n.default,{style:I.actions,children:o.unsubscribed?(0,S.jsxs)(d.default,{style:[I.resubscribeButton,{backgroundColor:t.primary}],onPress:async()=>{await g(),c.default.alert("Success","You have been resubscribed to email notifications.")},children:[(0,S.jsx)(w.default,{size:20,color:"#FFFFFF"}),(0,S.jsx)(a.default,{style:I.resubscribeButtonText,children:"Resubscribe to Emails"})]}):(0,S.jsxs)(d.default,{style:[I.unsubscribeButton,{borderColor:t.border}],onPress:()=>{c.default.alert("Unsubscribe from All Emails","Are you sure you want to unsubscribe from all promotional and notification emails? You will still receive important transactional emails.",[{text:"Cancel",style:"cancel"},{text:"Unsubscribe",style:"destructive",onPress:async()=>{await l(),c.default.alert("Success","You have been unsubscribed from all emails.")}}])},children:[(0,S.jsx)(j.default,{size:20,color:t.textSecondary}),(0,S.jsx)(a.default,{style:[I.unsubscribeButtonText,{color:t.textSecondary}],children:"Unsubscribe from All"})]})}),(0,S.jsxs)(n.default,{style:[I.footer,{backgroundColor:t.card}],children:[(0,S.jsxs)(a.default,{style:[I.footerText,{color:t.textSecondary}],children:["Email: ",o.email]}),o.unsubscribedAt&&(0,S.jsxs)(a.default,{style:[I.footerText,{color:t.textSecondary}],children:["Unsubscribed on: ",new Date(o.unsubscribedAt).toLocaleDateString()]})]})]})]})}function k({title:e,description:t,value:o,onValueChange:r,disabled:s,colors:i}){return(0,S.jsxs)(n.default,{style:[I.preferenceItem,{borderBottomColor:i.border}],children:[(0,S.jsxs)(n.default,{style:I.preferenceContent,children:[(0,S.jsx)(a.default,{style:[I.preferenceTitle,{color:i.text}],children:e}),(0,S.jsx)(a.default,{style:[I.preferenceDescription,{color:i.textSecondary}],children:t})]}),(0,S.jsx)(l.default,{value:o,onValueChange:r,disabled:s,trackColor:{false:i.border,true:i.primary},thumbColor:"#FFFFFF"})]})}const I=s.default.create({container:{flex:1},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{fontSize:16},scrollView:{flex:1},scrollContent:{padding:16,gap:16},header:{padding:20,borderRadius:12,alignItems:"center",gap:12},headerTitle:{fontSize:24,fontWeight:"700"},headerSubtitle:{fontSize:14,textAlign:"center"},unsubscribedBanner:{flexDirection:"row",alignItems:"center",gap:12,padding:16,borderRadius:8},unsubscribedText:{flex:1,fontSize:14,fontWeight:"600"},section:{padding:20,borderRadius:12,gap:12},sectionTitle:{fontSize:18,fontWeight:"700"},sectionDescription:{fontSize:14},preferencesList:{marginTop:8},preferenceItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:16,borderBottomWidth:1},preferenceContent:{flex:1,marginRight:16},preferenceTitle:{fontSize:16,fontWeight:"600",marginBottom:4},preferenceDescription:{fontSize:14},transactionalItem:{flexDirection:"row",alignItems:"flex-start",gap:12,paddingVertical:12,borderBottomWidth:1},transactionalText:{flex:1},transactionalTitle:{fontSize:16,fontWeight:"600",marginBottom:4},transactionalDescription:{fontSize:14},actions:{marginTop:8},unsubscribeButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,padding:16,borderRadius:8,borderWidth:1},unsubscribeButtonText:{fontSize:16,fontWeight:"600"},resubscribeButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,padding:16,borderRadius:8},resubscribeButtonText:{fontSize:16,fontWeight:"600",color:"#FFFFFF"},footer:{padding:16,borderRadius:8,gap:8},footerText:{fontSize:14,textAlign:"center"}})},15513:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>j});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(51690),c=o(49637),u=o(93861),f=o(70106),g=o(57459),h=o(21191),m=o(90046),p=o(49582),y=o(43316),x=o(23049),b=o(60397);function j(){const[e,t]=(0,r.useState)(""),[o,n]=(0,r.useState)(""),[j,w]=(0,r.useState)(!1),[S,v]=(0,r.useState)(!1),[k,I]=(0,r.useState)(!1),[T,B]=(0,r.useState)(""),z=(e=>{let t=0;return e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t<=1?"weak":t<=2?"medium":"strong"})(e),F=[{label:"At least 8 characters",met:(P=e).length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(P)},{label:"One number",met:/[0-9]/.test(P)},{label:"One special character (optional)",met:/[^A-Za-z0-9]/.test(P)}];var P;const D=F.slice(0,3).every((e=>e.met)),A=()=>{switch(z){case"weak":return p.Colors.error;case"medium":return"#FFA500";case"strong":return p.Colors.success;default:return p.Colors.border}};return(0,b.jsxs)(s.default,{style:C.container,children:[(0,b.jsx)(x.StatusBar,{style:"light"}),(0,b.jsx)(c.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:p.Colors.background},headerTintColor:p.Colors.text,headerTitle:"Reset Password",headerLeft:()=>(0,b.jsx)(l.default,{onPress:()=>c.router.back(),style:C.backButton,children:(0,b.jsx)(u.default,{size:24,color:p.Colors.text})})}}),(0,b.jsxs)(s.default,{style:C.content,children:[(0,b.jsx)(s.default,{style:C.iconContainer,children:(0,b.jsx)(s.default,{style:C.iconCircle,children:(0,b.jsx)(a.default,{style:C.iconText,children:"\ud83d\udd11"})})}),(0,b.jsx)(a.default,{style:C.title,children:"Create New Password"}),(0,b.jsx)(a.default,{style:C.subtitle,children:"Your new password must be different from previously used passwords"}),T?(0,b.jsx)(a.default,{style:C.errorText,children:T}):null,(0,b.jsxs)(s.default,{style:C.inputContainer,children:[(0,b.jsx)(i.default,{style:C.input,placeholder:"New Password",placeholderTextColor:p.Colors.textSecondary,value:e,onChangeText:e=>{t(e),B("")},secureTextEntry:!j,autoCapitalize:"none"}),(0,b.jsx)(l.default,{style:C.eyeIcon,onPress:()=>w(!j),children:j?(0,b.jsx)(g.default,{size:20,color:p.Colors.textSecondary}):(0,b.jsx)(h.default,{size:20,color:p.Colors.textSecondary})})]}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.default,{style:C.strengthContainer,children:[(0,b.jsx)(s.default,{style:C.strengthBarBackground,children:(0,b.jsx)(s.default,{style:[C.strengthBarFill,{width:(()=>{switch(z){case"weak":return"33%";case"medium":return"66%";case"strong":return"100%";default:return"0%"}})(),backgroundColor:A()}]})}),(0,b.jsx)(a.default,{style:[C.strengthText,{color:A()}],children:z.charAt(0).toUpperCase()+z.slice(1)})]}),(0,b.jsx)(s.default,{style:C.requirementsContainer,children:F.map(((e,t)=>(0,b.jsxs)(s.default,{style:C.requirementItem,children:[e.met?(0,b.jsx)(f.default,{size:16,color:p.Colors.success}):(0,b.jsx)(m.default,{size:16,color:p.Colors.textSecondary}),(0,b.jsx)(a.default,{style:[C.requirementText,e.met&&C.requirementTextMet],children:e.label})]},t)))})]}),(0,b.jsxs)(s.default,{style:C.inputContainer,children:[(0,b.jsx)(i.default,{style:C.input,placeholder:"Confirm New Password",placeholderTextColor:p.Colors.textSecondary,value:o,onChangeText:e=>{n(e),B("")},secureTextEntry:!S,autoCapitalize:"none"}),(0,b.jsx)(l.default,{style:C.eyeIcon,onPress:()=>v(!S),children:S?(0,b.jsx)(g.default,{size:20,color:p.Colors.textSecondary}):(0,b.jsx)(h.default,{size:20,color:p.Colors.textSecondary})})]}),(0,b.jsx)(y.Button,{title:"Reset Password",onPress:async()=>{if(D)if(e===o){I(!0),B("");try{await new Promise((e=>setTimeout(e,1500))),d.default.alert("Password Reset Successful","Your password has been reset successfully. You can now login with your new password.",[{text:"Login",onPress:()=>c.router.replace("/auth")}])}catch(t){B("Failed to reset password. Please try again."),console.error(t)}finally{I(!1)}}else B("Passwords do not match");else B("Password does not meet requirements")},loading:k,disabled:k||!D||!o,style:C.resetButton})]})]})}const C=n.default.create({container:{flex:1,backgroundColor:p.Colors.background},backButton:{padding:8,marginLeft:8},content:{flex:1,padding:24},iconContainer:{alignItems:"center",marginTop:20,marginBottom:24},iconCircle:{width:80,height:80,borderRadius:40,backgroundColor:p.Colors.cardLight,justifyContent:"center",alignItems:"center"},iconText:{fontSize:40},title:{fontSize:28,fontWeight:"bold",color:p.Colors.text,marginBottom:8,textAlign:"center"},subtitle:{fontSize:14,color:p.Colors.textSecondary,textAlign:"center",marginBottom:32,lineHeight:20},errorText:{color:p.Colors.error,marginBottom:16,fontSize:14},inputContainer:{position:"relative",marginBottom:16},input:{backgroundColor:p.Colors.cardLight,borderRadius:12,padding:16,paddingRight:48,color:p.Colors.text,fontSize:16},eyeIcon:{position:"absolute",right:16,top:18},strengthContainer:{marginBottom:16},strengthBarBackground:{height:4,backgroundColor:p.Colors.border,borderRadius:2,overflow:"hidden",marginBottom:8},strengthBarFill:{height:"100%",borderRadius:2},strengthText:{fontSize:12,fontWeight:"600",textAlign:"right"},requirementsContainer:{backgroundColor:p.Colors.cardLight,borderRadius:12,padding:16,marginBottom:24},requirementItem:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8},requirementText:{fontSize:14,color:p.Colors.textSecondary},requirementTextMet:{color:p.Colors.success},resetButton:{marginTop:8}})},16067:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(15648),d=o(16773),c=o(49637),u=o(49582),f=o(25924),g=o(34927),h=o(54407),m=o(43316),p=o(93861),y=o(67236),x=o(90046),b=o(67026),j=o(60397);function C(){const{id:e}=(0,c.useLocalSearchParams)(),{isAuthenticated:t,user:o}=(0,f.useAuth)(),[n,C]=(0,r.useState)([]),[S,v]=(0,r.useState)([]),[k,I]=(0,r.useState)(""),[T,B]=(0,r.useState)({});(0,r.useEffect)((()=>{if(!t)return void c.router.replace("/auth");const o=b.mockUsers.filter((t=>t.id!==e));C(o),v(o);const r={};o.forEach((e=>{r[e.id]=!0})),B(r)}),[e,t]),(0,r.useEffect)((()=>{if(""===k.trim())v(n);else{const e=n.filter((e=>e.username.toLowerCase().includes(k.toLowerCase())||e.displayName.toLowerCase().includes(k.toLowerCase())));v(e)}}),[k,n]);return(0,j.jsxs)(s.default,{style:w.container,children:[(0,j.jsx)(c.Stack.Screen,{options:{title:"Following",headerStyle:{backgroundColor:u.Colors.background},headerTitleStyle:{color:u.Colors.text},headerTintColor:u.Colors.text,headerLeft:()=>(0,j.jsx)(l.default,{onPress:()=>c.router.back(),style:w.headerBackButton,children:(0,j.jsx)(p.default,{size:24,color:u.Colors.text})})}}),(0,j.jsx)(s.default,{style:w.searchContainer,children:(0,j.jsxs)(s.default,{style:w.searchInputContainer,children:[(0,j.jsx)(y.default,{size:20,color:u.Colors.textSecondary}),(0,j.jsx)(d.default,{style:w.searchInput,placeholder:"Search following...",placeholderTextColor:u.Colors.textSecondary,value:k,onChangeText:I}),k.length>0&&(0,j.jsx)(l.default,{onPress:()=>I(""),children:(0,j.jsx)(x.default,{size:20,color:u.Colors.textSecondary})})]})}),(0,j.jsx)(i.default,{data:S,keyExtractor:e=>e.id,renderItem:({item:e})=>{const t=T[e.id],r=o?.id===e.id,n=b.mockUsers.slice(0,Math.floor(3*Math.random())+1),i=n.length;return(0,j.jsxs)(l.default,{style:w.followingItem,onPress:()=>{return t=e.id,void c.router.push(`/user/${t}`);var t},children:[(0,j.jsx)(g.Avatar,{uri:e.profileImage,size:48}),(0,j.jsxs)(s.default,{style:w.followingInfo,children:[(0,j.jsxs)(s.default,{style:w.followingNameRow,children:[(0,j.jsx)(a.default,{style:w.followingDisplayName,children:e.displayName}),e.isVerified&&(0,j.jsx)(h.VerifiedBadge,{size:16})]}),(0,j.jsxs)(a.default,{style:w.followingUsername,children:["@",e.username]}),i>0&&(0,j.jsxs)(a.default,{style:w.mutualText,children:["Followed by ",n[0].username,i>1&&` & ${i-1} other${i>2?"s":""}`]})]}),!r&&(0,j.jsx)(m.Button,{title:t?"Following":"Follow",onPress:()=>{return t=e.id,void B((e=>Object.assign({},e,{[t]:!e[t]})));var t},style:[w.followButton,t&&w.followingButton],textStyle:[w.followButtonText,t&&w.followingButtonText]})]})},contentContainerStyle:w.listContent,showsVerticalScrollIndicator:!1,ListEmptyComponent:(0,j.jsx)(s.default,{style:w.emptyContainer,children:(0,j.jsx)(a.default,{style:w.emptyText,children:k?"No users found":"Not following anyone yet"})})})]})}const w=n.default.create({container:{flex:1,backgroundColor:u.Colors.background},headerBackButton:{marginLeft:16},searchContainer:{padding:16,borderBottomWidth:1,borderBottomColor:u.Colors.border},searchInputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:u.Colors.cardLight,borderRadius:12,paddingHorizontal:12,height:44},searchInput:{flex:1,marginLeft:8,fontSize:16,color:u.Colors.text},listContent:{paddingVertical:8},followingItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12},followingInfo:{flex:1,marginLeft:12},followingNameRow:{flexDirection:"row",alignItems:"center",gap:4,marginBottom:2},followingDisplayName:{color:u.Colors.text,fontSize:16,fontWeight:"600"},followingUsername:{color:u.Colors.textSecondary,fontSize:14,marginBottom:2},mutualText:{color:u.Colors.textSecondary,fontSize:12,marginTop:2},followButton:{paddingHorizontal:20,paddingVertical:8,minWidth:100},followingButton:{backgroundColor:u.Colors.cardLight},followButtonText:{fontSize:14},followingButtonText:{color:u.Colors.text},emptyContainer:{padding:40,alignItems:"center"},emptyText:{color:u.Colors.textSecondary,fontSize:16}})},16170:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>M});var r=o(36665),n=o(73668),a=o(73929),s=o(51226),i=o(15648),l=o(6283),d=o(15009),c=o(40484),u=o(35708),f=o(73894),g=o(29771),h=o(36412),m=o(7023),p=o(86976),y=o(13854),x=o(37286),b=o(97758),j=o(88532),C=o(58358),w=o(7404),S=o(308),v=o(76266),k=o(34927),I=o(54407),T=o(49637),B=o(1248),z=o(60893),F=o(36393),P=o(55239),D=o(25924),A=o(8345),R=o(11835),V=o(60397);const{height:L,width:O}={height:window.innerHeight,width:window.innerWidth},W=e=>e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString(),E=r.memo((function({vibe:e,isActive:t,onLike:o,onComment:n,onShare:s,onSave:h,onRevibe:m,onUserPress:w,onFollowPress:T,friendsWhoLiked:B,colors:F}){const P=(0,r.useRef)(null),[D,A]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[,E]=(0,r.useState)(!1),[M,H]=(0,r.useState)(!1),[U,q]=(0,r.useState)(0),[_,$]=(0,r.useState)(0),Y=(0,r.useRef)(new d.default.Value(1)).current,G=(0,r.useRef)(new d.default.Value(0)).current,J=(0,r.useRef)(new d.default.Value(0)).current,K=(0,r.useRef)(new d.default.Value(0)).current,Q=(0,r.useRef)(null);r.useEffect((()=>(t&&P.current?(P.current.playAsync(),A(!0)):!t&&P.current&&(P.current.pauseAsync(),A(!1)),()=>{P.current&&P.current.pauseAsync()})),[t]);const Z=()=>{H(!0),d.default.timing(K,{toValue:1,duration:200,useNativeDriver:!0}).start(),Q.current&&clearTimeout(Q.current),Q.current=setTimeout((()=>{d.default.timing(K,{toValue:0,duration:300,useNativeDriver:!0}).start((()=>{H(!1)}))}),3e3)};return(0,V.jsxs)(a.default,{style:N.vibeContainer,children:[(0,V.jsxs)(u.default,{style:N.videoContainer,onPress:()=>{(async()=>{P.current&&(D?(await P.current.pauseAsync(),E(!0)):(await P.current.playAsync(),E(!1)),d.default.sequence([d.default.parallel([d.default.timing(G,{toValue:1,duration:100,useNativeDriver:!0}),d.default.spring(J,{toValue:1,useNativeDriver:!0,tension:50,friction:5})]),d.default.delay(500),d.default.parallel([d.default.timing(G,{toValue:0,duration:200,useNativeDriver:!0}),d.default.spring(J,{toValue:0,useNativeDriver:!0,tension:50,friction:5})])]).start((()=>{D&&E(!1)})))})(),Z()},children:[(0,V.jsx)(f.default,{ref:P,source:{uri:e.videoUrl},style:N.video,resizeMode:g.ResizeMode.COVER,isLooping:!0,shouldPlay:t,onPlaybackStatusUpdate:e=>{e.isLoaded&&(A(e.isPlaying),q(e.positionMillis/1e3),$(e.durationMillis?e.durationMillis/1e3:0),e.didJustFinish&&P.current?.replayAsync())}}),(0,V.jsx)(d.default.View,{style:[N.playPauseOverlay,{opacity:G,transform:[{scale:J}]}],children:(0,V.jsx)(a.default,{style:N.playPauseIcon,children:D?(0,V.jsx)(j.default,{size:60,color:"#FFFFFF",fill:"#FFFFFF"}):(0,V.jsx)(C.default,{size:60,color:"#FFFFFF",fill:"#FFFFFF"})})})]}),(0,V.jsx)(d.default.View,{style:[N.progressBarContainer,{opacity:K}],pointerEvents:M?"auto":"none",children:(0,V.jsx)(u.default,{style:N.progressBarTouchable,onPress:e=>{const{locationX:t}=e.nativeEvent,o=t/(O-32)*_;P.current?.setPositionAsync(1e3*o),Z()},children:(0,V.jsx)(a.default,{style:N.progressBarBackground,children:(0,V.jsx)(a.default,{style:[N.progressBarFill,{width:(_>0?U/_*100:0)+"%"}]})})})}),(0,V.jsx)(z.LinearGradient,{colors:["transparent","rgba(0,0,0,0.8)"],style:N.gradient}),(0,V.jsxs)(a.default,{style:N.rightActions,children:[(0,V.jsxs)(a.default,{style:N.profileAvatarContainer,children:[(0,V.jsx)(i.default,{onPress:()=>w(e.userId),children:(0,V.jsx)(k.Avatar,{uri:e.profileImage,size:48})}),!R&&(0,V.jsx)(i.default,{style:N.followButton,onPress:()=>{L(!R),T(e.userId)},activeOpacity:.8,children:(0,V.jsx)(a.default,{style:N.followButtonInner,children:(0,V.jsx)(l.default,{style:N.followButtonText,children:"+"})})})]}),(0,V.jsxs)(d.default.View,{style:[N.actionItem,{transform:[{scale:Y}]}],children:[(0,V.jsx)(i.default,{onPress:()=>{o(e.id),d.default.sequence([d.default.spring(Y,{toValue:1.3,useNativeDriver:!0,tension:100,friction:3}),d.default.spring(Y,{toValue:1,useNativeDriver:!0,tension:100,friction:3})]).start()},activeOpacity:.7,children:(0,V.jsx)(y.default,{size:32,color:e.isLiked?"#FF3B5C":"#FFFFFF",fill:e.isLiked?"#FF3B5C":"transparent",strokeWidth:2})}),(0,V.jsx)(l.default,{style:N.actionText,children:W(e.likes)})]}),(0,V.jsxs)(i.default,{onPress:()=>n(e.id),style:N.actionItem,activeOpacity:.7,children:[(0,V.jsx)(x.default,{size:32,color:"#FFFFFF",strokeWidth:2}),(0,V.jsx)(l.default,{style:N.actionText,children:W(e.comments)})]}),(0,V.jsxs)(i.default,{onPress:()=>m(e.id),style:N.actionItem,activeOpacity:.7,children:[(0,V.jsx)(S.default,{size:32,color:"#FFFFFF",strokeWidth:2}),(0,V.jsx)(l.default,{style:N.actionText,children:W(e.shares)})]}),(0,V.jsx)(i.default,{onPress:()=>s(e.id),style:N.actionItem,activeOpacity:.7,children:(0,V.jsx)(v.default,{size:30,color:"#FFFFFF",strokeWidth:2})}),(0,V.jsx)(i.default,{onPress:()=>h(e.id),style:N.actionItem,activeOpacity:.7,children:(0,V.jsx)(p.default,{size:30,color:e.isSaved?"#FFD700":"#FFFFFF",fill:e.isSaved?"#FFD700":"transparent",strokeWidth:2})}),e.soundName&&(0,V.jsx)(i.default,{style:N.soundButton,activeOpacity:.8,children:(0,V.jsx)(c.default,{source:{uri:e.profileImage},style:N.soundImage})})]}),(0,V.jsxs)(a.default,{style:N.bottomInfo,children:[(0,V.jsxs)(i.default,{style:N.userInfoRow,onPress:()=>w(e.userId),children:[(0,V.jsxs)(l.default,{style:N.displayName,children:["@",e.username]}),e.isVerified&&(0,V.jsx)(I.VerifiedBadge,{size:16})]}),e.caption&&(0,V.jsx)(l.default,{style:N.caption,numberOfLines:3,children:e.caption}),e.soundName&&(0,V.jsxs)(i.default,{style:N.soundInfo,children:[(0,V.jsx)(b.default,{size:12,color:"#FFFFFF"}),(0,V.jsxs)(l.default,{style:N.soundText,numberOfLines:1,children:[e.soundName," \u2022 ",e.soundArtist]})]})]})]})}),((e,t)=>e.vibe.id===t.vibe.id&&e.isActive===t.isActive&&e.vibe.isLiked===t.vibe.isLiked&&e.vibe.isSaved===t.vibe.isSaved&&e.vibe.likes===t.vibe.likes&&e.vibe.comments===t.vibe.comments&&e.vibe.shares===t.vibe.shares));function M(){const{colors:e,isDark:t}=(0,h.useTheme)(),{user:o}=(0,D.useAuth)(),{getFriendsWhoLiked:n,trackVibeLike:c}=(0,P.useProfileViews)(),[u,f]=(0,r.useState)(m.mockVibes),[g,p]=(0,r.useState)(0),[y,x]=(0,r.useState)(!1),[b,j]=(0,r.useState)(0),[C,S]=(0,r.useState)(null),[v,k]=(0,r.useState)(null),I=(0,r.useRef)(null),O=(0,r.useRef)(new d.default.Value(0)).current,W=(0,r.useRef)(Date.now()),M=(0,r.useRef)(null),H=(0,B.useIsFocused)(),U=["1","2","3","4","5"],q=(0,r.useRef)((({viewableItems:e})=>{e.length>0&&p(e[0].index||0)})).current,_=(0,r.useRef)({itemVisiblePercentThreshold:80}).current,$=(0,r.useCallback)((e=>{f((t=>t.map((t=>t.id===e?Object.assign({},t,{isLiked:!t.isLiked,likes:t.isLiked?t.likes-1:t.likes+1}):t)))),o?.id&&c(e,o.id)}),[o,c]),Y=(0,r.useCallback)((e=>{const t=u.find((t=>t.id===e));t&&S(t)}),[u]),G=(0,r.useCallback)((e=>{const t=u.find((t=>t.id===e));t&&k(t)}),[u]),J=(0,r.useCallback)((e=>{console.log("Revibe:",e),f((t=>t.map((t=>t.id===e?Object.assign({},t,{shares:t.shares+1}):t))))}),[]),K=(0,r.useCallback)((e=>{console.log("Follow user:",e)}),[]),Q=(0,r.useCallback)((e=>{f((t=>t.map((t=>t.id===e?Object.assign({},t,{isSaved:!t.isSaved}):t))))}),[]),Z=(0,r.useCallback)((e=>{T.router.push(`/user/${e}`)}),[]),X=(0,r.useCallback)((()=>{const e=[],t=Math.floor(3*Math.random())+1;for(let o=0;o<t;o++){const t=m.mockVibes[Math.floor(Math.random()*m.mockVibes.length)],r=Object.assign({},t,{id:`vibe_${Date.now()}_${o}`,timestamp:"Just now",likes:Math.floor(1e3*Math.random()),comments:Math.floor(100*Math.random()),shares:Math.floor(50*Math.random()),views:Math.floor(1e4*Math.random()),isLiked:!1,isSaved:!1});e.push(r)}return e}),[]),ee=(0,r.useCallback)((()=>{const e=Date.now();if(e-W.current>=6e5){console.log("\ud83c\udfac Checking for new vibes...");const t=X();j(t.length),x(!0),d.default.spring(O,{toValue:1,useNativeDriver:!0,tension:50,friction:7}).start(),W.current=e}}),[X,O]);(0,r.useEffect)((()=>(H&&(M.current=setInterval((()=>{ee()}),6e4)),()=>{M.current&&clearInterval(M.current)})),[ee,H]);const te=(0,r.useCallback)((()=>{console.log("\ud83d\udd04 Loading new vibes...");const e=X();f((t=>[...e,...t])),d.default.spring(O,{toValue:0,useNativeDriver:!0}).start((()=>{x(!1),j(0)})),I.current&&I.current.scrollToOffset({offset:0,animated:!0})}),[X,O]);return(0,V.jsxs)(a.default,{style:[N.container,{backgroundColor:e.background}],children:[(0,V.jsx)(s.default,{ref:I,data:u,keyExtractor:e=>e.id,renderItem:({item:t,index:o})=>{const r=n(t.id,U);return(0,V.jsx)(E,{vibe:t,isActive:o===g&&H,onLike:$,onComment:Y,onShare:G,onSave:Q,onRevibe:J,onUserPress:Z,onFollowPress:K,friendsWhoLiked:r,colors:e})},pagingEnabled:!0,showsVerticalScrollIndicator:!1,snapToInterval:L,snapToAlignment:"start",decelerationRate:"fast",onViewableItemsChanged:q,viewabilityConfig:_,removeClippedSubviews:!1,maxToRenderPerBatch:2,windowSize:3}),y&&(0,V.jsx)(d.default.View,{style:[N.refreshButtonContainer,{transform:[{scale:O}]}],children:(0,V.jsx)(i.default,{style:[N.refreshButton,{backgroundColor:t?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.6)"}],onPress:te,activeOpacity:.8,children:(0,V.jsxs)(F.default,{intensity:t?20:40,tint:t?"dark":"light",style:N.blurContainer,children:[(0,V.jsx)(w.default,{size:20,color:"#FFFFFF"}),(0,V.jsxs)(l.default,{style:N.refreshButtonText,children:[b," New Vibe",b>1?"s":""]})]})})}),(0,V.jsx)(a.default,{style:N.topGradient,children:(0,V.jsx)(z.LinearGradient,{colors:["rgba(0,0,0,0.4)","transparent"],style:N.gradientFill})}),C&&(0,V.jsx)(A.CommentDrawer,{visible:!0,onClose:()=>S(null),post:{id:C.id,userId:C.userId,username:C.username,userDisplayName:C.userDisplayName,profileImage:C.profileImage,isVerified:C.isVerified,content:C.caption,likes:C.likes,comments:C.comments,shares:C.shares,views:C.views,timestamp:C.timestamp,engagement:C.likes+C.comments+C.shares,author:C.author},comments:[]}),v&&(0,V.jsx)(R.ShareSheet,{visible:!0,onClose:()=>k(null),content:v,contentType:"vibe"})]})}const N=n.default.create({container:{flex:1,backgroundColor:"#000000"},vibeContainer:{height:L,width:O,position:"relative"},videoContainer:{flex:1},video:{width:"100%",height:"100%"},playPauseOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",pointerEvents:"none"},playPauseIcon:{width:100,height:100,borderRadius:50,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},gradient:{position:"absolute",left:0,right:0,bottom:0,height:350},rightActions:{position:"absolute",right:8,bottom:100,gap:24,alignItems:"center"},profileAvatarContainer:{position:"relative",marginBottom:8},followButton:{position:"absolute",bottom:-6,left:"50%",marginLeft:-12,zIndex:10},followButtonInner:{width:24,height:24,borderRadius:12,backgroundColor:"#FF3B5C",justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#000000"},followButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"700",lineHeight:18},actionItem:{alignItems:"center",gap:2},actionText:{color:"#FFFFFF",fontSize:12,fontWeight:"700",textShadowColor:"rgba(0, 0, 0, 0.8)",textShadowOffset:{width:0,height:1},textShadowRadius:4},soundButton:{width:48,height:48,borderRadius:24,overflow:"hidden",borderWidth:2,borderColor:"#FFFFFF",marginTop:4},soundImage:{width:"100%",height:"100%"},bottomInfo:{position:"absolute",left:12,right:80,bottom:100,gap:8},userInfoRow:{flexDirection:"row",alignItems:"center",gap:6},displayName:{color:"#FFFFFF",fontSize:14,fontWeight:"600",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:0,height:1},textShadowRadius:3},caption:{color:"#FFFFFF",fontSize:13,lineHeight:18,textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:0,height:1},textShadowRadius:3},soundInfo:{flexDirection:"row",alignItems:"center",gap:4,marginTop:4},soundText:{color:"#FFFFFF",fontSize:11,fontWeight:"500",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:0,height:1},textShadowRadius:3,flex:1},refreshButtonContainer:{position:"absolute",top:80,left:0,right:0,alignItems:"center",zIndex:1e3},refreshButton:{borderRadius:24,overflow:"hidden",elevation:8,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8},blurContainer:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:12,gap:8},refreshButtonText:{color:"#FFFFFF",fontSize:14,fontWeight:"700",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:0,height:1},textShadowRadius:2},topGradient:{position:"absolute",top:0,left:0,right:0,height:120,pointerEvents:"none"},gradientFill:{flex:1},progressBarContainer:{position:"absolute",bottom:80,left:16,right:16,zIndex:100},progressBarTouchable:{paddingVertical:12},progressBarBackground:{height:3,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:2,overflow:"hidden"},progressBarFill:{height:"100%",backgroundColor:"#FFFFFF",borderRadius:2}})},18973:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var r=o(49637),n=o(73668),a=o(6283),s=o(73929),i=o(60397);function l(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Stack.Screen,{options:{title:"Oops!"}}),(0,i.jsxs)(s.default,{style:d.container,children:[(0,i.jsx)(a.default,{style:d.title,children:"This screen doesn't exist."}),(0,i.jsx)(r.Link,{href:"/",style:d.link,children:(0,i.jsx)(a.default,{style:d.linkText,children:"Go to home screen!"})})]})]})}const d=n.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}})},25173:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>q});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(15648),l=o(16773),d=o(2772),c=o(26725),u=o(44767),f=o(78264),g=o(51690),h=o(18902),m=o(69202),p=o(49637),y=o(61171),x=o(59542),b=o(25786),j=o(70139),C=o(38206),w=o(90046),S=o(13854),v=o(51602),k=o(18004),I=o(8538),T=o(76266),B=o(9102),z=o(25924),F=o(15009),P=o(49582),D=o(60397);function A({onComplete:e}){const[t,o]=(0,r.useState)(3),s=(0,r.useState)(new F.default.Value(0))[0];return(0,r.useEffect)((()=>{if(t>0){F.default.sequence([F.default.spring(s,{toValue:1,useNativeDriver:!0,tension:50,friction:3}),F.default.timing(s,{toValue:0,duration:300,useNativeDriver:!0})]).start();const e=setTimeout((()=>{o(t-1)}),1e3);return()=>clearTimeout(e)}e()}),[t,e,s]),(0,D.jsxs)(n.default,{style:R.container,children:[(0,D.jsx)(F.default.View,{style:[R.countContainer,{transform:[{scale:s}]}],children:(0,D.jsx)(a.default,{style:R.countText,children:t})}),(0,D.jsx)(a.default,{style:R.label,children:"Going Live..."})]})}const R=s.default.create({container:Object.assign({},s.default.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.9)",alignItems:"center",justifyContent:"center",zIndex:1e3}),countContainer:{width:120,height:120,borderRadius:60,backgroundColor:P.Colors.primary,alignItems:"center",justifyContent:"center",marginBottom:24},countText:{fontSize:64,fontWeight:"700",color:"#FFFFFF"},label:{fontSize:20,fontWeight:"600",color:"#FFFFFF"}});var V=o(40484);function L({comment:e,isPinned:t}){const o=(0,r.useRef)(new F.default.Value(0)).current;return(0,r.useEffect)((()=>{F.default.sequence([F.default.timing(o,{toValue:1,duration:200,useNativeDriver:!0}),F.default.delay(t?0:5e3),F.default.timing(o,{toValue:t?1:0,duration:200,useNativeDriver:!0})]).start()}),[o,t]),(0,D.jsxs)(F.default.View,{style:[O.container,t&&O.pinnedContainer,{opacity:o}],children:[(0,D.jsx)(V.default,{source:{uri:e.avatar},style:O.avatar}),(0,D.jsxs)(n.default,{style:O.content,children:[(0,D.jsx)(a.default,{style:O.username,numberOfLines:1,children:e.username}),(0,D.jsx)(a.default,{style:O.text,children:e.text})]}),t&&(0,D.jsx)(n.default,{style:O.pinnedBadge,children:(0,D.jsx)(a.default,{style:O.pinnedText,children:"\ud83d\udccc"})})]})}const O=s.default.create({container:{flexDirection:"row",alignItems:"flex-start",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:20,padding:8,marginBottom:8,maxWidth:"80%"},pinnedContainer:{backgroundColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,borderColor:P.Colors.primary},avatar:{width:24,height:24,borderRadius:12,marginRight:8},content:{flex:1},username:{fontSize:12,fontWeight:"600",color:"#FFFFFF",marginBottom:2},text:{fontSize:14,color:"#FFFFFF"},pinnedBadge:{marginLeft:8},pinnedText:{fontSize:16}}),W={heart:"\u2764\ufe0f",fire:"\ud83d\udd25",clap:"\ud83d\udc4f",wow:"\ud83d\ude2e",laugh:"\ud83d\ude02"};function E({reaction:e,onComplete:t}){const o=(0,r.useRef)(new F.default.Value(0)),n=(0,r.useRef)(new F.default.Value(1)),s=o.current,i=n.current;return(0,r.useEffect)((()=>{F.default.parallel([F.default.timing(s,{toValue:-300,duration:2e3,useNativeDriver:!0}),F.default.timing(i,{toValue:0,duration:2e3,useNativeDriver:!0})]).start((()=>{t()}))}),[s,i,t]),(0,D.jsx)(F.default.View,{style:[M.container,{left:e.x,bottom:e.y,transform:[{translateY:s}],opacity:i}],children:(0,D.jsx)(a.default,{style:M.emoji,children:W[e.type]})})}const M=s.default.create({container:{position:"absolute"},emoji:{fontSize:32}}),N=[{id:"1",name:"Heart",icon:"\u2764\ufe0f",value:1},{id:"2",name:"Rose",icon:"\ud83c\udf39",value:5},{id:"3",name:"Fire",icon:"\ud83d\udd25",value:10},{id:"4",name:"Star",icon:"\u2b50",value:20},{id:"5",name:"Diamond",icon:"\ud83d\udc8e",value:50},{id:"6",name:"Crown",icon:"\ud83d\udc51",value:100},{id:"7",name:"Rocket",icon:"\ud83d\ude80",value:200},{id:"8",name:"Trophy",icon:"\ud83c\udfc6",value:500}],{width:H,height:U}=c.default.get("window");function q(){const{id:e}=(0,p.useLocalSearchParams)(),{user:t}=(0,z.useAuth)(),{activeSession:o,currentViewingSession:s,comments:c,isHosting:F,endLive:R,joinLive:V,leaveLive:O,addComment:W,addLike:M}=(0,B.useLiveStreaming)(),U=F?o:s,q=U?.hostId===t?.id,[Y,G]=(0,r.useState)("countdown"===U?.status),[J,K]=(0,r.useState)(""),[Q,Z]=(0,r.useState)([]),[X,ee]=(0,r.useState)(!1),[te,oe]=(0,h.useCameraPermissions)(),[re,ne]=(0,r.useState)("front"),[ae,se]=(0,r.useState)(!1),[ie,le]=(0,r.useState)("none"),[de,ce]=(0,r.useState)(!1),[ue,fe]=(0,r.useState)(!1),ge=(0,r.useRef)(null),he=(0,r.useRef)(null),me=[{id:"none",name:"None"},{id:"vivid",name:"Vivid"},{id:"warm",name:"Warm"},{id:"cool",name:"Cool"},{id:"bw",name:"B&W"}];(0,r.useEffect)((()=>(q&&!te?.granted&&oe(),!q&&e&&V(e),()=>{!q&&e&&O(e)})),[e,q,V,O,te,oe]),(0,r.useEffect)((()=>{"live"===U?.status&&G(!1)}),[U?.status]);const pe=async()=>{const e=await R();e?p.router.push({pathname:"/live/analytics",params:{data:JSON.stringify(e)}}):p.router.back()},ye=()=>{J.trim()&&U&&(W(U.id,J.trim()),K(""))},xe=e=>{fe(!1),g.default.alert("Share",`Sharing via ${e}`)};return U?(0,D.jsxs)(n.default,{style:$.container,children:[(0,D.jsx)(p.Stack.Screen,{options:{headerShown:!1}}),Y&&(0,D.jsx)(A,{onComplete:()=>G(!1)}),(0,D.jsx)(n.default,{style:$.videoContainer,children:q&&te?.granted?(0,D.jsxs)(n.default,{style:$.cameraWrapper,children:[(0,D.jsx)(m.default,{ref:he,style:$.camera,facing:re}),"none"!==ie&&(0,D.jsx)(n.default,{style:[$.filterOverlay,_(ie)],pointerEvents:"none"})]}):(0,D.jsxs)(n.default,{style:$.placeholderVideo,children:[(0,D.jsx)(a.default,{style:$.placeholderText,children:"\ud83d\udcf9 Live Stream"}),(0,D.jsx)(a.default,{style:$.placeholderSubtext,children:q?"Camera permission required":"Viewing live stream"})]})}),(0,D.jsxs)(y.SafeAreaView,{style:$.overlay,edges:["top"],children:[(0,D.jsxs)(n.default,{style:$.topBar,children:[(0,D.jsxs)(n.default,{style:$.liveIndicator,children:[(0,D.jsx)(n.default,{style:$.liveDot}),(0,D.jsx)(a.default,{style:$.liveText,children:"LIVE"}),(0,D.jsxs)(n.default,{style:$.viewerCount,children:[(0,D.jsx)(x.default,{size:16,color:"#FFFFFF"}),(0,D.jsx)(a.default,{style:$.viewerCountText,children:U.viewerCount})]})]}),(0,D.jsxs)(n.default,{style:$.topActions,children:[(0,D.jsx)(i.default,{style:$.iconButton,onPress:()=>{fe(!0)},testID:"share-button",children:(0,D.jsx)(b.default,{size:22,color:"#FFFFFF"})}),q&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(i.default,{style:$.iconButton,onPress:()=>se(!ae),testID:"filter-button",children:(0,D.jsx)(j.default,{size:22,color:"#FFFFFF"})}),(0,D.jsx)(i.default,{style:$.iconButton,onPress:()=>ce(!0),testID:"menu-button",children:(0,D.jsx)(C.default,{size:24,color:"#FFFFFF"})})]}),(0,D.jsx)(i.default,{style:$.iconButton,onPress:q?()=>{g.default.alert("End Live","Are you sure you want to end this live session?",[{text:"Cancel",style:"cancel"},{text:"End Live",style:"destructive",onPress:pe}])}:()=>p.router.back(),testID:"close-button",children:(0,D.jsx)(w.default,{size:24,color:"#FFFFFF"})})]})]}),(0,D.jsx)(n.default,{style:$.middleContent,children:(0,D.jsx)(d.default,{ref:ge,style:$.commentsContainer,contentContainerStyle:$.commentsContent,showsVerticalScrollIndicator:!1,onContentSizeChange:()=>ge.current?.scrollToEnd({animated:!0}),children:c.map((e=>(0,D.jsx)(L,{comment:e,isPinned:e.isPinned},e.id)))})}),(0,D.jsxs)(n.default,{style:$.bottomBar,children:[(0,D.jsxs)(n.default,{style:$.sideActions,children:[(0,D.jsxs)(i.default,{style:$.actionButton,onPress:()=>(e=>{if(!U)return;const t={id:Date.now().toString(),type:e,x:Math.random()*(H-50),y:0,timestamp:Date.now()};Z((e=>[...e,t])),M(U.id)})("heart"),testID:"like-button",children:[(0,D.jsx)(S.default,{size:26,color:"#FFFFFF",fill:"#FFFFFF",style:$.actionIcon}),(0,D.jsx)(a.default,{style:$.actionCount,children:U.likeCount})]}),(0,D.jsxs)(i.default,{style:$.actionButton,onPress:()=>console.log("Show viewers"),testID:"viewers-button",children:[(0,D.jsx)(x.default,{size:26,color:"#FFFFFF",style:$.actionIcon}),(0,D.jsx)(a.default,{style:$.actionCount,children:U.viewerCount})]}),(0,D.jsx)(i.default,{style:$.actionButton,onPress:()=>ee(!0),testID:"gift-button",children:(0,D.jsx)(v.default,{size:26,color:"#FFFFFF",style:$.actionIcon})}),q&&(0,D.jsx)(i.default,{style:$.actionButton,onPress:()=>console.log("Invite co-host"),testID:"invite-button",children:(0,D.jsx)(k.default,{size:26,color:"#FFFFFF",style:$.actionIcon})})]}),U.commentsEnabled&&(0,D.jsx)(u.default,{behavior:"height",style:$.commentInputContainer,children:(0,D.jsxs)(n.default,{style:$.commentInputWrapper,children:[(0,D.jsx)(l.default,{style:$.commentInput,placeholder:"Add a comment...",placeholderTextColor:"rgba(255, 255, 255, 0.6)",value:J,onChangeText:K,onSubmitEditing:ye,returnKeyType:"send",testID:"comment-input"}),(0,D.jsx)(i.default,{style:$.emojiButton,onPress:()=>console.log("Open emoji picker"),children:(0,D.jsx)(I.default,{size:24,color:"#FFFFFF"})}),(0,D.jsx)(i.default,{style:$.sendButton,onPress:ye,disabled:!J.trim(),testID:"send-button",children:(0,D.jsx)(T.default,{size:20,color:J.trim()?P.Colors.primary:"#666"})})]})}),ae&&q&&(0,D.jsx)(n.default,{style:$.filtersContainer,children:(0,D.jsx)(d.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:me.map((e=>(0,D.jsx)(i.default,{style:[$.filterButton,ie===e.id&&$.filterButtonActive],onPress:()=>{return t=e.id,le(t),se(!1),void g.default.alert("Filter Applied",`${me.find((e=>e.id===t))?.name} filter applied`);var t},children:(0,D.jsx)(a.default,{style:$.filterButtonText,children:e.name})},e.id)))})})]})]}),Q.map((e=>(0,D.jsx)(E,{reaction:e,onComplete:()=>(e=>{Z((t=>t.filter((t=>t.id!==e))))})(e.id)},e.id))),(0,D.jsx)(f.default,{visible:X,transparent:!0,animationType:"slide",onRequestClose:()=>ee(!1),children:(0,D.jsx)(n.default,{style:$.modalOverlay,children:(0,D.jsxs)(n.default,{style:$.giftPickerContainer,children:[(0,D.jsxs)(n.default,{style:$.giftPickerHeader,children:[(0,D.jsx)(a.default,{style:$.giftPickerTitle,children:"Send a Gift"}),(0,D.jsx)(i.default,{onPress:()=>ee(!1),children:(0,D.jsx)(w.default,{size:24,color:P.Colors.text})})]}),(0,D.jsx)(d.default,{style:$.giftGrid,children:N.map((e=>(0,D.jsxs)(i.default,{style:$.giftItem,onPress:()=>{return t=e.id,console.log("Send gift:",t),void ee(!1);var t},children:[(0,D.jsx)(a.default,{style:$.giftIcon,children:e.icon}),(0,D.jsx)(a.default,{style:$.giftName,children:e.name}),(0,D.jsxs)(a.default,{style:$.giftValue,children:[e.value," coins"]})]},e.id)))})]})})}),(0,D.jsx)(f.default,{visible:ue,transparent:!0,animationType:"slide",onRequestClose:()=>fe(!1),children:(0,D.jsx)(n.default,{style:$.modalOverlay,children:(0,D.jsxs)(n.default,{style:$.shareModalContainer,children:[(0,D.jsxs)(n.default,{style:$.shareModalHeader,children:[(0,D.jsx)(a.default,{style:$.shareModalTitle,children:"Share Live Stream"}),(0,D.jsx)(i.default,{onPress:()=>fe(!1),children:(0,D.jsx)(w.default,{size:24,color:P.Colors.text})})]}),(0,D.jsxs)(n.default,{style:$.shareOptions,children:[(0,D.jsxs)(i.default,{style:$.shareOption,onPress:()=>xe("Copy Link"),children:[(0,D.jsx)(n.default,{style:$.shareOptionIcon,children:(0,D.jsx)(a.default,{style:$.shareOptionEmoji,children:"\ud83d\udd17"})}),(0,D.jsx)(a.default,{style:$.shareOptionText,children:"Copy Link"})]}),(0,D.jsxs)(i.default,{style:$.shareOption,onPress:()=>xe("Share to Story"),children:[(0,D.jsx)(n.default,{style:$.shareOptionIcon,children:(0,D.jsx)(a.default,{style:$.shareOptionEmoji,children:"\ud83d\udcf8"})}),(0,D.jsx)(a.default,{style:$.shareOptionText,children:"Share to Story"})]}),(0,D.jsxs)(i.default,{style:$.shareOption,onPress:()=>xe("Send in DM"),children:[(0,D.jsx)(n.default,{style:$.shareOptionIcon,children:(0,D.jsx)(a.default,{style:$.shareOptionEmoji,children:"\ud83d\udcac"})}),(0,D.jsx)(a.default,{style:$.shareOptionText,children:"Send in DM"})]}),(0,D.jsxs)(i.default,{style:$.shareOption,onPress:()=>xe("Share External"),children:[(0,D.jsx)(n.default,{style:$.shareOptionIcon,children:(0,D.jsx)(a.default,{style:$.shareOptionEmoji,children:"\ud83d\udce4"})}),(0,D.jsx)(a.default,{style:$.shareOptionText,children:"More Options"})]})]})]})})}),(0,D.jsx)(f.default,{visible:de,transparent:!0,animationType:"fade",onRequestClose:()=>ce(!1),children:(0,D.jsx)(i.default,{style:$.modalOverlay,activeOpacity:1,onPress:()=>ce(!1),children:(0,D.jsx)(n.default,{style:$.optionsMenuContainer,children:q?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.default,{style:$.optionItem,onPress:()=>{ce(!1),ne((e=>"back"===e?"front":"back"))},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\ud83d\udd04"}),(0,D.jsx)(a.default,{style:$.optionText,children:"Switch Camera"})]}),(0,D.jsxs)(i.default,{style:$.optionItem,onPress:()=>{ce(!1),g.default.alert("Mic Settings","Adjust microphone settings")},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\ud83c\udfa4"}),(0,D.jsx)(a.default,{style:$.optionText,children:"Adjust Mic"})]}),(0,D.jsxs)(i.default,{style:$.optionItem,onPress:()=>{ce(!1),p.router.push("/live/analytics")},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\ud83d\udcca"}),(0,D.jsx)(a.default,{style:$.optionText,children:"View Analytics"})]}),(0,D.jsxs)(i.default,{style:[$.optionItem,$.optionItemDanger],onPress:()=>{ce(!1),g.default.alert("End Live","Are you sure you want to end this live session?",[{text:"Cancel",style:"cancel"},{text:"Yes, End Live",style:"destructive",onPress:pe}])},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\ud83d\udd34"}),(0,D.jsx)(a.default,{style:[$.optionText,$.optionTextDanger],children:"End Stream"})]})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.default,{style:$.optionItem,onPress:()=>{ce(!1),g.default.alert("Report","Report live stream coming soon")},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\u26a0\ufe0f"}),(0,D.jsx)(a.default,{style:$.optionText,children:"Report"})]}),(0,D.jsxs)(i.default,{style:[$.optionItem,$.optionItemDanger],onPress:()=>{ce(!1),g.default.alert("Block","Block user coming soon")},children:[(0,D.jsx)(a.default,{style:$.optionIcon,children:"\ud83d\udeab"}),(0,D.jsx)(a.default,{style:[$.optionText,$.optionTextDanger],children:"Block User"})]})]})})})})]}):(0,D.jsx)(n.default,{style:$.container,children:(0,D.jsx)(a.default,{style:$.errorText,children:"Live session not found"})})}const _=e=>{switch(e){case"vivid":return{backgroundColor:"rgba(255, 100, 100, 0.15)"};case"warm":return{backgroundColor:"rgba(255, 200, 100, 0.2)"};case"cool":return{backgroundColor:"rgba(100, 150, 255, 0.2)"};case"bw":return{backgroundColor:"rgba(128, 128, 128, 0.3)"};default:return{}}},$=s.default.create({container:{flex:1,backgroundColor:"#000000"},videoContainer:Object.assign({},s.default.absoluteFillObject),cameraWrapper:Object.assign({},s.default.absoluteFillObject),camera:Object.assign({},s.default.absoluteFillObject),filterOverlay:Object.assign({},s.default.absoluteFillObject),placeholderVideo:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a"},placeholderText:{fontSize:48,marginBottom:16},placeholderSubtext:{fontSize:16,color:"#666"},overlay:Object.assign({},s.default.absoluteFillObject),topBar:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12},liveIndicator:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:20,paddingHorizontal:12,paddingVertical:6},liveDot:{width:8,height:8,borderRadius:4,backgroundColor:"#EF4444",marginRight:6},liveText:{fontSize:14,fontWeight:"700",color:"#FFFFFF",marginRight:12},viewerCount:{flexDirection:"row",alignItems:"center",gap:4},viewerCountText:{fontSize:14,fontWeight:"600",color:"#FFFFFF"},topActions:{flexDirection:"row",gap:8},iconButton:{width:40,height:40,borderRadius:20,backgroundColor:"rgba(0, 0, 0, 0.6)",alignItems:"center",justifyContent:"center"},iconButtonText:{fontSize:20},filtersContainer:{position:"absolute",top:80,left:0,right:0,paddingHorizontal:16},filterButton:{paddingHorizontal:20,paddingVertical:10,borderRadius:20,backgroundColor:"rgba(0, 0, 0, 0.6)",marginRight:12},filterButtonActive:{backgroundColor:"rgba(255, 255, 255, 0.3)"},filterButtonText:{color:"#FFFFFF",fontSize:14,fontWeight:"600"},middleContent:{flex:1,justifyContent:"flex-end",paddingHorizontal:16,paddingBottom:16},commentsContainer:{maxHeight:300},commentsContent:{paddingBottom:8},bottomBar:{flexDirection:"row",alignItems:"flex-end",paddingHorizontal:16,paddingBottom:56,gap:16},sideActions:{gap:20},actionButton:{alignItems:"center",gap:4},actionIcon:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4},actionCount:{fontSize:12,fontWeight:"600",color:"#FFFFFF",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:0,height:1},textShadowRadius:3},commentInputContainer:{flex:1},commentInputWrapper:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:24,paddingHorizontal:16,paddingVertical:8,gap:8},commentInput:{flex:1,fontSize:16,color:"#FFFFFF",maxHeight:100},emojiButton:{padding:4},sendButton:{padding:4},errorText:{fontSize:16,color:"#FFFFFF",textAlign:"center"},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"flex-end"},giftPickerContainer:{backgroundColor:P.Colors.background,borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:.6*U},giftPickerHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderBottomWidth:1,borderBottomColor:P.Colors.border},giftPickerTitle:{fontSize:20,fontWeight:"700",color:P.Colors.text},giftGrid:{padding:16},giftItem:{alignItems:"center",padding:16,backgroundColor:P.Colors.backgroundSecondary,borderRadius:12,marginBottom:12},giftIcon:{fontSize:48,marginBottom:8},giftName:{fontSize:16,fontWeight:"600",color:P.Colors.text,marginBottom:4},giftValue:{fontSize:14,color:P.Colors.textSecondary},optionsMenuContainer:{position:"absolute",top:80,right:16,backgroundColor:"rgba(0, 0, 0, 0.95)",borderRadius:16,minWidth:220,paddingVertical:8,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},optionItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:14,gap:12},optionItemDanger:{borderTopWidth:1,borderTopColor:"rgba(255, 255, 255, 0.1)"},optionIcon:{fontSize:20},optionText:{fontSize:15,fontWeight:"500",color:"#FFFFFF"},optionTextDanger:{color:"#EF4444"},shareModalContainer:{backgroundColor:P.Colors.background,borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:.5*U},shareModalHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderBottomWidth:1,borderBottomColor:P.Colors.border},shareModalTitle:{fontSize:20,fontWeight:"700",color:P.Colors.text},shareOptions:{flexDirection:"row",flexWrap:"wrap",padding:20,gap:16},shareOption:{width:"22%",alignItems:"center",gap:8},shareOptionIcon:{width:64,height:64,borderRadius:32,backgroundColor:P.Colors.backgroundSecondary,alignItems:"center",justifyContent:"center"},shareOptionEmoji:{fontSize:28},shareOptionText:{fontSize:12,color:P.Colors.text,textAlign:"center"}})},25924:(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthProvider:()=>m,useAuth:()=>p});var r=o(36665),n=o(52790),a=o(67026),s=o(94372),i=o(47640);class l{static TOKEN_KEY="auth_tokens";static SESSION_KEY="session_data";static SESSION_TIMEOUT=6048e5;static tokenRefreshTimer=null;static async storeTokens(e){try{const t=await s.SecurityUtils.encryptData(JSON.stringify(e));await i.default.setItem(this.TOKEN_KEY,t);const o={token:e,deviceId:s.SecurityUtils.generateSecureToken(),lastActivity:Date.now()};await i.default.setItem(this.SESSION_KEY,JSON.stringify(o)),this.scheduleTokenRefresh(e.expiresAt),console.log("Tokens stored securely")}catch(t){throw console.error("Error storing tokens:",t),new Error("Failed to store authentication tokens")}}static async getTokens(){try{const e=await i.default.getItem(this.TOKEN_KEY);if(!e)return null;const t=await s.SecurityUtils.decryptData(e),o=JSON.parse(t);return s.SecurityUtils.isTokenExpired(o.expiresAt)?(console.log("Token expired, attempting refresh"),await this.refreshTokens(o.refreshToken)):(await this.updateLastActivity(),o)}catch(e){return console.error("Error retrieving tokens:",e),null}}static async refreshTokens(e){try{console.log("Refreshing tokens...");const e={accessToken:s.SecurityUtils.generateSecureToken(),refreshToken:s.SecurityUtils.generateSecureToken(),expiresAt:s.SecurityUtils.getTokenExpiryTime(36e5),userId:""};return await this.storeTokens(e),e}catch(t){return console.error("Error refreshing tokens:",t),await this.clearTokens(),null}}static async clearTokens(){try{await i.default.removeItem(this.TOKEN_KEY),await i.default.removeItem(this.SESSION_KEY),this.tokenRefreshTimer&&(clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=null),console.log("Tokens cleared")}catch(e){console.error("Error clearing tokens:",e)}}static async isSessionValid(){try{const e=await i.default.getItem(this.SESSION_KEY);if(!e)return!1;const t=JSON.parse(e);return Date.now()-t.lastActivity>this.SESSION_TIMEOUT?(console.log("Session expired due to inactivity"),await this.clearTokens(),!1):!s.SecurityUtils.isTokenExpired(t.token.expiresAt)}catch(e){return console.error("Error checking session validity:",e),!1}}static async updateLastActivity(){try{const e=await i.default.getItem(this.SESSION_KEY);if(!e)return;const t=JSON.parse(e);t.lastActivity=Date.now(),await i.default.setItem(this.SESSION_KEY,JSON.stringify(t))}catch(e){console.error("Error updating last activity:",e)}}static scheduleTokenRefresh(e){this.tokenRefreshTimer&&clearTimeout(this.tokenRefreshTimer);const t=e-Date.now(),o=Math.max(0,t-3e5);this.tokenRefreshTimer=setTimeout((async()=>{const e=await this.getTokens();e&&await this.refreshTokens(e.refreshToken)}),o)}static async getAccessToken(){const e=await this.getTokens();return e?.accessToken||null}static async validateToken(e){try{const t=await this.getTokens();return t?.accessToken===e&&!s.SecurityUtils.isTokenExpired(t.expiresAt)}catch(t){return console.error("Error validating token:",t),!1}}}var d=o(99998),c=o(32237),u=o(68769);(0,c.createTRPCReact)();let f;const g=e=>{f=e,console.log("[tRPC] Auth token updated:",e?"Token set":"Token cleared")},h=(()=>{const e=(()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"VibeSync",slug:"vibesync-q1osqc5",version:"1.0.0",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"vibesync",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},sdkVersion:"53.0.0",platforms:["ios","android","web"],extra:{router:{origin:"https://rork.com/"}}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_RORK_API_BASE_URL,t={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"VibeSync",slug:"vibesync-q1osqc5",version:"1.0.0",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"vibesync",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},sdkVersion:"53.0.0",platforms:["ios","android","web"],extra:{router:{origin:"https://rork.com/"}}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_BACKEND_URL;if(e&&e.startsWith("https://"))return console.log("[tRPC] \u2705 Using tunnel URL (works on all platforms):",e),e;if(t)return console.log("[tRPC] Using backend URL:",t),t;throw console.error("[tRPC] \u274c No backend URL configured!"),new Error("No base url found. Please set EXPO_PUBLIC_RORK_API_BASE_URL (tunnel) or EXPO_PUBLIC_BACKEND_URL")})(),t=`${e}/api/trpc`;return console.log("[tRPC] Creating client with URL:",t),(0,c.createTRPCClient)({links:[(0,c.httpBatchLink)({url:t,transformer:u.default,headers(){const e={"Content-Type":"application/json"};return f&&(e.authorization=`Bearer ${f}`),e},async fetch(t,o){console.log("[tRPC] Fetching:",t);try{const r=await fetch(t,Object.assign({},o,{credentials:"include"}));if(!r.ok&&(console.error("[tRPC] \u274c HTTP Error:",r.status,r.statusText),404===r.status)){const t=await r.text();throw console.error("[tRPC] 404 Response:",t.substring(0,200)),new Error("Backend endpoint not found (404). Please ensure the backend server is running on "+e)}const n=r.headers.get("content-type");if(!n?.includes("application/json")){console.error("[tRPC] \u274c Backend returned non-JSON response:",n),console.error("[tRPC] Response status:",r.status);const t=await r.text();throw console.error("[tRPC] Response preview:",t.substring(0,200)),new Error("Backend is not responding correctly. Please ensure the backend server is running on "+e)}return r}catch(r){if(r.message?.includes("Backend"))throw r;throw console.error("[tRPC] \u274c Network error:",r.message),new Error("Cannot connect to backend server. Please start the backend with: bun backend/server.ts")}}})]})})(),[m,p]=(0,n.default)((()=>{const[e,t]=(0,r.useState)({user:null,isLoading:!0,isAuthenticated:!1});(0,r.useEffect)((()=>{o()}),[]),(0,r.useEffect)((()=>{if(e.isAuthenticated&&e.user){const t=e.user.id,o=setInterval((async()=>{if(!await l.isSessionValid()){console.log("[Auth] Session expired, refreshing automatically");const e={accessToken:s.SecurityUtils.generateSecureToken(),refreshToken:s.SecurityUtils.generateSecureToken(),expiresAt:s.SecurityUtils.getTokenExpiryTime(2592e6),userId:t};await l.storeTokens(e),g(e.accessToken)}}),3e5);return()=>clearInterval(o)}}),[e.isAuthenticated,e.user]);const o=async()=>{try{const e=await s.SecurityUtils.secureRetrieve("user");if(e){const o=JSON.parse(e);if(await l.isSessionValid()){const e=await l.getTokens();e?.accessToken&&g(e.accessToken)}else{console.log("[Auth] Session expired, refreshing tokens automatically");const e={accessToken:s.SecurityUtils.generateSecureToken(),refreshToken:s.SecurityUtils.generateSecureToken(),expiresAt:s.SecurityUtils.getTokenExpiryTime(2592e6),userId:o.id};await l.storeTokens(e),g(e.accessToken)}t({user:o,isLoading:!1,isAuthenticated:!0}),console.log("[Auth] User loaded from secure storage, auto-login successful")}else t({user:null,isLoading:!1,isAuthenticated:!1})}catch(e){console.error("[Auth] Error loading user:",e),d.ErrorTracker.trackError(e),t({user:null,isLoading:!1,isAuthenticated:!1})}},n=new s.RateLimiter(5,6e4),i=async o=>{try{if(!e.user)return console.error("[Auth] Cannot update profile: No user logged in"),!1;const r=Object.assign({},e.user,o);return await s.SecurityUtils.secureStore("user",JSON.stringify(r)),t(Object.assign({},e,{user:r})),console.log("[Auth] Profile updated successfully"),!0}catch(r){return console.error("[Auth] Error updating profile:",r),d.ErrorTracker.trackError(r),!1}};return{user:e.user,isLoading:e.isLoading,isAuthenticated:e.isAuthenticated,login:async(e,o)=>{const r=`login_${e}`;if(!n.canAttempt(r))throw console.warn("[Auth] Too many login attempts"),d.ErrorTracker.trackError(new Error("Rate limit exceeded"),{email:e}),new Error("Too many login attempts. Please try again later.");return await d.PerformanceMonitor.measureAsync("login",(async()=>{try{console.log("[Auth] Attempting backend login for:",e);try{const a=await h.auth.login.mutate({usernameOrEmail:e,password:o});console.log("[Auth] Login response received:",a.user.email);const i={id:a.user.id,username:a.user.username,displayName:a.user.displayName||a.user.username,profileImage:a.user.profileImage,isVerified:a.user.isVerified||!1,followers:0,following:0,followersCount:a.user.followersCount||0,followingCount:a.user.followingCount||0,posts:a.user.postsCount||0,vibeScore:5,bio:""};await s.SecurityUtils.secureStore("user",JSON.stringify(i)),await s.SecurityUtils.secureStore("userEmail",e),await s.SecurityUtils.secureStore("userId",a.user.id),await s.SecurityUtils.secureRemove("demoMode");const d={accessToken:a.token,refreshToken:a.token,expiresAt:s.SecurityUtils.getTokenExpiryTime(2592e6),userId:a.user.id};return await l.storeTokens(d),g(a.token),t({user:i,isLoading:!1,isAuthenticated:!0}),n.reset(r),console.log("[Auth] Backend login successful, session stored"),!0}catch(i){console.log("[Auth] Backend login failed, checking if demo mode should be used"),console.log("[Auth] Backend error:",i.message);if(i.message?.includes("fetch")||i.message?.includes("Network")||i.message?.includes("Failed to fetch")||i.message?.includes("Cannot connect")||i.message?.includes("not responding")||i.message?.includes("JSON Parse")){console.warn("[Auth] Backend not available, attempting demo mode");const i=a.mockUsers.find((t=>t.username.toLowerCase()===e.toLowerCase()||"test@example.com"===e));if(!i||"Test123!"!==o)throw new Error("Backend is not available. For demo mode, use: test@example.com / Test123!");const d={id:i.id,username:i.username,displayName:i.displayName,profileImage:i.profileImage,isVerified:i.isVerified,followers:i.followers,following:i.following,followersCount:i.followers,followingCount:i.following,posts:i.posts,vibeScore:i.vibeScore,bio:i.bio};await s.SecurityUtils.secureStore("user",JSON.stringify(d)),await s.SecurityUtils.secureStore("userEmail",e),await s.SecurityUtils.secureStore("userId",d.id),await s.SecurityUtils.secureStore("demoMode","true");const c={accessToken:s.SecurityUtils.generateSecureToken(),refreshToken:s.SecurityUtils.generateSecureToken(),expiresAt:s.SecurityUtils.getTokenExpiryTime(2592e6),userId:d.id};return await l.storeTokens(c),g(c.accessToken),t({user:d,isLoading:!1,isAuthenticated:!0}),n.reset(r),console.log("[Auth] Demo login successful"),!0}throw i}}catch(c){throw console.error("[Auth] Login error:",c),d.ErrorTracker.trackError(c,{email:e}),new Error(c.message||"Invalid email or password")}}))},logout:async()=>{try{await s.SecurityUtils.secureRemove("user"),await s.SecurityUtils.secureRemove("authUser"),await s.SecurityUtils.secureRemove("userEmail"),await s.SecurityUtils.secureRemove("userId"),await l.clearTokens(),g(void 0),t({user:null,isLoading:!1,isAuthenticated:!1}),console.log("[Auth] Logout successful, all session data cleared")}catch(e){console.error("[Auth] Logout error:",e),d.ErrorTracker.trackError(e)}},updateProfile:i,updateProfileImage:async e=>{try{return e?(console.log("[Auth] Updating profile image:",e),await i({profileImage:e})):(console.error("[Auth] Invalid image URI"),!1)}catch(t){return console.error("[Auth] Error updating profile image:",t),d.ErrorTracker.trackError(t),!1}},updateCoverImage:async e=>{try{return e?(console.log("[Auth] Updating cover image:",e),await i({coverImage:e})):(console.error("[Auth] Invalid image URI"),!1)}catch(t){return console.error("[Auth] Error updating cover image:",t),d.ErrorTracker.trackError(t),!1}},updateBio:async e=>i({bio:e}),register:async e=>{try{console.log("[Auth] Attempting registration for:",e.email),console.log("[Auth] Backend URL:",{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"VibeSync",slug:"vibesync-q1osqc5",version:"1.0.0",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"vibesync",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},sdkVersion:"53.0.0",platforms:["ios","android","web"],extra:{router:{origin:"https://rork.com/"}}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_BACKEND_URL||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"VibeSync",slug:"vibesync-q1osqc5",version:"1.0.0",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"vibesync",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},sdkVersion:"53.0.0",platforms:["ios","android","web"],extra:{router:{origin:"https://rork.com/"}}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_RORK_API_BASE_URL);const o=await h.auth.register.mutate({email:e.email,password:e.password,username:e.username,displayName:e.displayName});console.log("[Auth] Registration response received:",o.user.email);const r={id:o.user.id,username:o.user.username,displayName:o.user.displayName||o.user.username,bio:e.bio||"",profileImage:e.profileImage||o.user.profileImage,isVerified:o.user.isVerified||!1,followers:0,following:0,followersCount:0,followingCount:0,posts:0,vibeScore:5};await s.SecurityUtils.secureStore("user",JSON.stringify(r)),await s.SecurityUtils.secureStore("userEmail",e.email),await s.SecurityUtils.secureStore("userId",o.user.id),await s.SecurityUtils.secureRemove("demoMode");const n={accessToken:o.token,refreshToken:o.token,expiresAt:s.SecurityUtils.getTokenExpiryTime(2592e6),userId:o.user.id};return await l.storeTokens(n),g(o.token),t({user:r,isLoading:!1,isAuthenticated:!0}),console.log("[Auth] Registration successful, session stored"),!0}catch(o){console.error("[Auth] Registration error:",o),console.error("[Auth] Error details:",{message:o.message,name:o.name,stack:o.stack}),d.ErrorTracker.trackError(o,{email:e.email});if(o.message?.includes("fetch")||o.message?.includes("Network")||o.message?.includes("Failed to fetch")||o.message?.toLowerCase().includes("network request failed"))throw new Error("Unable to connect to the server. Please check your internet connection and try again.");if(o.message?.includes("already exists"))throw new Error("This email or username is already registered. Please try logging in instead.");throw new Error(o.message||"Registration failed. Please try again.")}},changePassword:async(e,t)=>{try{const e=s.SecurityUtils.validatePassword(t);return e.valid?(console.log("[Auth] Password changed successfully"),!0):(console.warn("[Auth] Password validation failed:",e.errors),!1)}catch(o){return console.error("[Auth] Error changing password:",o),d.ErrorTracker.trackError(o),!1}},resetPassword:async e=>{try{return!0}catch(t){return console.error("Error resetting password:",t),!1}}}}))},29621:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockPosts:()=>n});var r=o(67026);const n=[{id:"1",userId:"1",username:"sarah_vibes",userDisplayName:"Sarah Chen",profileImage:r.mockUsers.find((e=>"1"===e.id))?.profileImage,isVerified:!0,content:"Just discovered this amazing coffee shop! \ud83c\udfb5 The vibes here are incredible and the music playlist is *chef's kiss* \ud83d\udc4c #coffee #vibes #music",image:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",likes:1240,comments:89,shares:156,views:12400,timestamp:"2h",engagement:1485,author:{id:"1",username:"sarah_vibes",displayName:"Sarah Chen",profileImage:r.mockUsers.find((e=>"1"===e.id))?.profileImage,isVerified:!0}},{id:"2",userId:"6",username:"jamal_fitness",userDisplayName:"Jamal Washington",profileImage:r.mockUsers.find((e=>"6"===e.id))?.profileImage,isVerified:!0,content:"Morning workout complete! \ud83d\udcaa Remember, consistency is key. Your body can do anything, it's your mind you have to convince. #fitness #motivation #workout",image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:2340,comments:156,shares:234,views:18900,timestamp:"1h",engagement:2730,author:{id:"6",username:"jamal_fitness",displayName:"Jamal Washington",profileImage:r.mockUsers.find((e=>"6"===e.id))?.profileImage,isVerified:!0}},{id:"3",userId:"7",username:"priya_travels",userDisplayName:"Priya Sharma",profileImage:r.mockUsers.find((e=>"7"===e.id))?.profileImage,isVerified:!0,content:"Sunset at the Taj Mahal never gets old \ud83c\udf05 Every visit feels like the first time. The beauty, the history, the love story... simply magical! #travel #india #tajmahal",image:"https://images.unsplash.com/photo-1564507592333-c60657eea523?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:3450,comments:234,shares:456,views:28900,timestamp:"3h",engagement:4140,author:{id:"7",username:"priya_travels",displayName:"Priya Sharma",profileImage:r.mockUsers.find((e=>"7"===e.id))?.profileImage,isVerified:!0}},{id:"4",userId:"9",username:"yuki_fashion",userDisplayName:"Yuki Tanaka",profileImage:r.mockUsers.find((e=>"9"===e.id))?.profileImage,isVerified:!0,content:"Tokyo street style is all about mixing traditional with modern \ud83d\udc58\u2728 This kimono-inspired jacket is everything! #fashion #tokyo #streetstyle",image:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:4560,comments:345,shares:567,views:34500,timestamp:"4h",engagement:5472,author:{id:"9",username:"yuki_fashion",displayName:"Yuki Tanaka",profileImage:r.mockUsers.find((e=>"9"===e.id))?.profileImage,isVerified:!0}},{id:"5",userId:"11",username:"fatima_beauty",userDisplayName:"Fatima Al-Rashid",profileImage:r.mockUsers.find((e=>"11"===e.id))?.profileImage,isVerified:!0,content:"New makeup tutorial dropping tomorrow! \ud83d\udc84 This look is perfect for any occasion. Can you guess the color palette? #beauty #makeup #tutorial",image:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:5670,comments:456,shares:678,views:45600,timestamp:"5h",engagement:6804,author:{id:"11",username:"fatima_beauty",displayName:"Fatima Al-Rashid",profileImage:r.mockUsers.find((e=>"11"===e.id))?.profileImage,isVerified:!0}},{id:"6",userId:"2",username:"mike_foodie",userDisplayName:"Mike Rodriguez",profileImage:r.mockUsers.find((e=>"2"===e.id))?.profileImage,isVerified:!1,content:"Made this delicious pasta while listening to my favorite playlist! Food and music - perfect combo \ud83c\udf5d\ud83c\udfb5 #foodie #musiclover",image:"https://images.unsplash.com/photo-1563379926898-05f4575a45d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",likes:567,comments:42,shares:18,views:8900,timestamp:"6h",engagement:627,author:{id:"2",username:"mike_foodie",displayName:"Mike Rodriguez",profileImage:r.mockUsers.find((e=>"2"===e.id))?.profileImage,isVerified:!1}},{id:"7",userId:"13",username:"aisha_wellness",userDisplayName:"Aisha Okonkwo",profileImage:r.mockUsers.find((e=>"13"===e.id))?.profileImage,isVerified:!0,content:"Morning meditation by the beach \ud83e\uddd8\u200d\u2640\ufe0f Start your day with gratitude and positive energy. The ocean has a way of healing the soul. #wellness #meditation #mindfulness",image:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:3890,comments:234,shares:345,views:29800,timestamp:"7h",engagement:4469,author:{id:"13",username:"aisha_wellness",displayName:"Aisha Okonkwo",profileImage:r.mockUsers.find((e=>"13"===e.id))?.profileImage,isVerified:!0}},{id:"8",userId:"14",username:"diego_sports",userDisplayName:"Diego Martinez",profileImage:r.mockUsers.find((e=>"14"===e.id))?.profileImage,isVerified:!0,content:"What a match! \u26bd The passion, the skill, the drama - this is why we love football! #football #soccer #sports",image:"https://images.unsplash.com/photo-1522778119026-d647f0596c20?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:6780,comments:567,shares:890,views:56700,timestamp:"8h",engagement:8237,author:{id:"14",username:"diego_sports",displayName:"Diego Martinez",profileImage:r.mockUsers.find((e=>"14"===e.id))?.profileImage,isVerified:!0}},{id:"9",userId:"12",username:"liam_photo",userDisplayName:"Liam O'Connor",profileImage:r.mockUsers.find((e=>"12"===e.id))?.profileImage,isVerified:!1,content:"Golden hour in Dublin \ud83d\udcf8 There's something magical about the way light transforms ordinary moments into extraordinary memories. #photography #dublin #goldenhour",image:"https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:2340,comments:123,shares:156,views:18900,timestamp:"9h",engagement:2619,author:{id:"12",username:"liam_photo",displayName:"Liam O'Connor",profileImage:r.mockUsers.find((e=>"12"===e.id))?.profileImage,isVerified:!1}},{id:"10",userId:"15",username:"mei_chef",userDisplayName:"Mei Wong",profileImage:r.mockUsers.find((e=>"15"===e.id))?.profileImage,isVerified:!1,content:"Homemade dim sum \ud83e\udd5f The secret is in the folding technique and fresh ingredients. Recipe coming soon! #cooking #dimsum #asiancuisine",image:"https://images.unsplash.com/photo-1496116218417-1a781b1c416c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:2890,comments:189,shares:234,views:23400,timestamp:"10h",engagement:3313,author:{id:"15",username:"mei_chef",displayName:"Mei Wong",profileImage:r.mockUsers.find((e=>"15"===e.id))?.profileImage,isVerified:!1}},{id:"11",userId:"8",username:"carlos_music",userDisplayName:"Carlos Silva",profileImage:r.mockUsers.find((e=>"8"===e.id))?.profileImage,isVerified:!1,content:"New beat dropping tonight! \ud83c\udfb5 This one's been in the works for months. Can't wait for you all to hear it! #music #producer #newmusic",image:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:1890,comments:234,shares:345,views:15600,timestamp:"11h",engagement:2469,author:{id:"8",username:"carlos_music",displayName:"Carlos Silva",profileImage:r.mockUsers.find((e=>"8"===e.id))?.profileImage,isVerified:!1}},{id:"12",userId:"10",username:"marcus_tech",userDisplayName:"Marcus Brown",profileImage:r.mockUsers.find((e=>"10"===e.id))?.profileImage,isVerified:!1,content:"Just shipped a major feature! \ud83d\udc68\u200d\ud83d\udcbb The feeling when your code works on the first try is unmatched. #coding #developer #tech",image:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:987,comments:67,shares:89,views:7890,timestamp:"12h",engagement:1143,author:{id:"10",username:"marcus_tech",displayName:"Marcus Brown",profileImage:r.mockUsers.find((e=>"10"===e.id))?.profileImage,isVerified:!1}},{id:"13",userId:"3",username:"taylor_sync",userDisplayName:"Taylor Kim",profileImage:r.mockUsers.find((e=>"3"===e.id))?.profileImage,isVerified:!1,content:"Just released a new playlist for coding sessions! Check it out and let me know what you think \ud83d\udcbb\ud83c\udfa7 #coding #music #productivity",likes:342,comments:28,shares:56,views:5600,timestamp:"1d",engagement:426,author:{id:"3",username:"taylor_sync",displayName:"Taylor Kim",profileImage:r.mockUsers.find((e=>"3"===e.id))?.profileImage,isVerified:!1}},{id:"14",userId:"5",username:"alexj",userDisplayName:"Alex Johnson",profileImage:r.mockUsers.find((e=>"5"===e.id))?.profileImage,isVerified:!0,content:"Feeling amazing today! The weather is perfect and I'm vibing to some great music \ud83c\udfb5\u2728",likes:24,comments:8,shares:3,views:890,timestamp:"2d",engagement:35,author:{id:"5",username:"alexj",displayName:"Alex Johnson",profileImage:r.mockUsers.find((e=>"5"===e.id))?.profileImage,isVerified:!0}},{id:"15",userId:"4",username:"emma_artist",userDisplayName:"Emma Wilson",profileImage:r.mockUsers.find((e=>"4"===e.id))?.profileImage,isVerified:!0,content:"New digital art piece finished! \ud83c\udfa8 This one took me weeks but I'm so proud of the result. Art is my therapy. #digitalart #artist #creative",image:"https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",likes:1120,comments:89,shares:123,views:9800,timestamp:"2d",engagement:1332,author:{id:"4",username:"emma_artist",displayName:"Emma Wilson",profileImage:r.mockUsers.find((e=>"4"===e.id))?.profileImage,isVerified:!0}}]},30402:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>S});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(51226),l=o(15648),d=o(40484),c=o(49637),u=o(90046),f=o(70106),g=o(52790),h=o(47640),m=o(67026);const p="tag_settings",y="pending_tags",[x,b]=(0,g.default)((()=>{const[e,t]=(0,r.useState)({whoCanTagMe:"everyone",reviewTagsBeforeShowing:!1}),[o,n]=(0,r.useState)([]),[a,s]=(0,r.useState)({totalTags:0,profileVisitsFromTags:0,topTaggers:[],tagsByVerifiedUsers:0,vibeScoreFromTags:0}),i=(0,r.useCallback)((async()=>{try{const e=await h.default.getItem(p);e&&t(JSON.parse(e))}catch(e){console.error("Failed to load tag settings:",e)}}),[]),l=(0,r.useCallback)((async e=>{try{await h.default.setItem(p,JSON.stringify(e)),t(e)}catch(o){console.error("Failed to save tag settings:",o)}}),[]),d=(0,r.useCallback)((async()=>{try{const e=await h.default.getItem(y);if(e){const t=JSON.parse(e);n(t.map((e=>Object.assign({},e,{timestamp:new Date(e.timestamp)}))))}}catch(e){console.error("Failed to load pending tags:",e)}}),[]),c=(0,r.useCallback)((e=>{if(!e.trim())return[];const t=e.toLowerCase();return m.users.filter((e=>e.username.toLowerCase().includes(t)||e.name&&e.name.toLowerCase().includes(t))).slice(0,10)}),[]),u=(0,r.useCallback)((t=>{if("everyone"===e.whoCanTagMe)return!0;if("no-one"===e.whoCanTagMe)return!1;const o=m.users.find((e=>e.id===t));return o?.isFollowing||!1}),[e.whoCanTagMe]),f=(0,r.useCallback)((async(t,r,a,s,i)=>{if(!u(i))throw new Error("This user cannot tag you");if(e.reviewTagsBeforeShowing){const e=m.users.find((e=>e.id===i));if(!e)return;const l={id:Date.now().toString(),postId:t,postImage:r,postType:a,taggedBy:{userId:e.id,username:e.username,avatar:e.avatar||"",verified:e.verified||!1},position:s.position,timestamp:new Date,status:"pending"},d=[...o,l];n(d),await h.default.setItem(y,JSON.stringify(d))}console.log("Tag added:",{postId:t,tag:s,requiresReview:e.reviewTagsBeforeShowing})}),[e,o,u]),g=(0,r.useCallback)((async e=>{const t=o.map((t=>t.id===e?Object.assign({},t,{status:"approved"}):t));n(t),await h.default.setItem(y,JSON.stringify(t)),s((e=>Object.assign({},e,{totalTags:e.totalTags+1})))}),[o]),x=(0,r.useCallback)((async e=>{const t=o.map((t=>t.id===e?Object.assign({},t,{status:"rejected"}):t));n(t),await h.default.setItem(y,JSON.stringify(t))}),[o]),b=(0,r.useCallback)((async(e,t)=>{console.log("Removing tag:",{postId:e,tagId:t})}),[]),j=(0,r.useCallback)((e=>{const t=[],o=/@(\w+)/g;let r;for(;null!==(r=o.exec(e));){const e=r[1],o=m.users.find((t=>t.username.toLowerCase()===e.toLowerCase()));o&&t.push({userId:o.id,username:o.username,avatar:o.avatar||"",verified:o.verified||!1,startIndex:r.index,endIndex:r.index+r[0].length})}return t}),[]),C=(0,r.useCallback)((e=>{s((t=>Object.assign({},t,e)))}),[]);return{tagSettings:e,pendingTags:o.filter((e=>"pending"===e.status)),tagAnalytics:a,loadSettings:i,saveSettings:l,loadPendingTags:d,searchUsers:c,canUserTagMe:u,addTag:f,approveTag:g,rejectTag:x,removeTag:b,parseMentions:j,updateAnalytics:C}}));var j=o(34927),C=o(54407),w=o(60397);function S(){const{pendingTags:e,approveTag:t,rejectTag:o}=b(),r=e=>{const t=(new Date).getTime()-e.getTime(),o=Math.floor(t/6e4),r=Math.floor(o/60),n=Math.floor(r/24);return n>0?`${n}d ago`:r>0?`${r}h ago`:o>0?`${o}m ago`:"Just now"};return(0,w.jsxs)(n.default,{style:v.container,children:[(0,w.jsx)(c.Stack.Screen,{options:{title:"Review Tags",headerStyle:{backgroundColor:"#000"},headerTintColor:"#fff",headerShadowVisible:!1}}),0===e.length?(0,w.jsxs)(n.default,{style:v.emptyContainer,children:[(0,w.jsx)(a.default,{style:v.emptyTitle,children:"No Pending Tags"}),(0,w.jsx)(a.default,{style:v.emptyText,children:"You'll see tags here when someone tags you in a post"})]}):(0,w.jsx)(i.default,{data:e,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,w.jsxs)(n.default,{style:v.tagItem,children:[(0,w.jsxs)(l.default,{style:v.tagContent,onPress:()=>{"post"===e.postType||"vibe"===e.postType?c.router.push(`/post/${e.postId}`):"story"===e.postType&&c.router.push(`/story/${e.postId}`)},children:[(0,w.jsx)(d.default,{source:{uri:e.postImage},style:v.postThumbnail}),(0,w.jsxs)(n.default,{style:v.tagInfo,children:[(0,w.jsxs)(n.default,{style:v.userRow,children:[(0,w.jsx)(j.Avatar,{uri:e.taggedBy.avatar,size:32}),(0,w.jsxs)(n.default,{style:v.userInfo,children:[(0,w.jsxs)(n.default,{style:v.userNameRow,children:[(0,w.jsxs)(a.default,{style:v.username,children:["@",e.taggedBy.username]}),e.taggedBy.verified&&(0,w.jsx)(C.VerifiedBadge,{size:12})]}),(0,w.jsxs)(a.default,{style:v.tagAction,children:["tagged you in a ",e.postType]})]})]}),(0,w.jsx)(a.default,{style:v.timestamp,children:r(e.timestamp)})]})]}),(0,w.jsxs)(n.default,{style:v.actions,children:[(0,w.jsxs)(l.default,{style:[v.actionButton,v.rejectButton],onPress:()=>(async e=>{await o(e)})(e.id),children:[(0,w.jsx)(u.default,{size:20,color:"#fff"}),(0,w.jsx)(a.default,{style:v.actionText,children:"Reject"})]}),(0,w.jsxs)(l.default,{style:[v.actionButton,v.approveButton],onPress:()=>(async e=>{await t(e)})(e.id),children:[(0,w.jsx)(f.default,{size:20,color:"#fff"}),(0,w.jsx)(a.default,{style:v.actionText,children:"Approve"})]})]})]}),contentContainerStyle:v.listContent})]})}const v=s.default.create({container:{flex:1,backgroundColor:"#000"},listContent:{padding:16},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:32},emptyTitle:{fontSize:20,fontWeight:"600",color:"#fff",marginBottom:8},emptyText:{fontSize:16,color:"#666",textAlign:"center",lineHeight:22},tagItem:{backgroundColor:"#1a1a1a",borderRadius:12,marginBottom:16,overflow:"hidden"},tagContent:{flexDirection:"row",padding:12,gap:12},postThumbnail:{width:80,height:80,borderRadius:8},tagInfo:{flex:1,justifyContent:"space-between"},userRow:{flexDirection:"row",alignItems:"center",gap:8},userInfo:{flex:1},userNameRow:{flexDirection:"row",alignItems:"center",gap:4},username:{fontSize:15,fontWeight:"600",color:"#fff"},tagAction:{fontSize:14,color:"#666",marginTop:2},timestamp:{fontSize:13,color:"#666"},actions:{flexDirection:"row",borderTopWidth:1,borderTopColor:"#333"},actionButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:12,gap:6},rejectButton:{borderRightWidth:1,borderRightColor:"#333"},approveButton:{},actionText:{fontSize:15,fontWeight:"600",color:"#fff"}})},31750:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});o(36665);var r=o(73668),n=o(6283),a=o(73929),s=o(15648),i=o(2772),l=o(51690),d=o(61171),c=o(49637),u=o(48801),f=o(49050),g=o(12543),h=o(74106),m=o(75752),p=o(5563),y=o(76221),x=o(36412),b=o(38663),j=o(60893),C=o(60397);function w(){const{colors:e}=(0,x.useTheme)(),{projects:t}=(0,b.useStudio)(),o=async e=>{try{0;const t=await u.launchImageLibraryAsync({mediaTypes:"photo"===e?f.MediaTypeOptions.Images:f.MediaTypeOptions.Videos,allowsEditing:!1,quality:1});!t.canceled&&t.assets[0]&&("photo"===e?c.router.push({pathname:"/studio/image-editor",params:{mediaUri:t.assets[0].uri}}):c.router.push({pathname:"/studio/video-editor",params:{mediaUri:t.assets[0].uri}}))}catch(t){console.error("Error picking media:",t),l.default.alert("Error","Failed to pick media.")}},r=async e=>{try{0;const t=await u.launchCameraAsync({mediaTypes:"photo"===e?f.MediaTypeOptions.Images:f.MediaTypeOptions.Videos,allowsEditing:!1,quality:1});!t.canceled&&t.assets[0]&&("photo"===e?c.router.push({pathname:"/studio/image-editor",params:{mediaUri:t.assets[0].uri}}):c.router.push({pathname:"/studio/video-editor",params:{mediaUri:t.assets[0].uri}}))}catch(t){console.error("Error capturing media:",t),l.default.alert("Error","Failed to capture media.")}},w=[{icon:g.default,label:"Capture Photo",description:"Take a photo & edit",gradient:["#667eea","#764ba2"],onPress:()=>r("photo")},{icon:p.default,label:"Import Photo",description:"Edit existing photos",gradient:["#4facfe","#00f2fe"],onPress:()=>o("photo")},{icon:y.default,label:"Capture Video",description:"Record & edit video",gradient:["#f093fb","#f5576c"],onPress:()=>r("video")},{icon:h.default,label:"Import Video",description:"Edit existing videos",gradient:["#fa709a","#fee140"],onPress:()=>o("video")}];return(0,C.jsxs)(d.SafeAreaView,{style:[S.container,{backgroundColor:e.background}],edges:["top"],children:[(0,C.jsx)(c.Stack.Screen,{options:{headerShown:!1}}),(0,C.jsxs)(a.default,{style:[S.header,{backgroundColor:e.background,borderBottomColor:e.border}],children:[(0,C.jsx)(n.default,{style:[S.headerTitle,{color:e.text}],children:"Creative Studio"}),(0,C.jsx)(s.default,{onPress:()=>c.router.push("/studio/projects"),style:S.projectsButton,children:(0,C.jsx)(m.default,{size:24,color:e.primary})})]}),(0,C.jsxs)(i.default,{style:S.content,children:[(0,C.jsxs)(a.default,{style:S.section,children:[(0,C.jsx)(n.default,{style:[S.sectionTitle,{color:e.text}],children:"Create New Project"}),(0,C.jsx)(n.default,{style:[S.sectionSubtitle,{color:e.textSecondary}],children:"Import or capture content to start editing"}),w.map(((t,o)=>(0,C.jsxs)(s.default,{style:[S.createCard,{backgroundColor:e.card}],onPress:t.onPress,activeOpacity:.7,children:[(0,C.jsx)(j.LinearGradient,{colors:t.gradient,start:{x:0,y:0},end:{x:1,y:1},style:S.createIconContainer,children:(0,C.jsx)(t.icon,{size:28,color:"#FFFFFF"})}),(0,C.jsxs)(a.default,{style:S.createInfo,children:[(0,C.jsx)(n.default,{style:[S.createLabel,{color:e.text}],children:t.label}),(0,C.jsx)(n.default,{style:[S.createDescription,{color:e.textSecondary}],children:t.description})]})]},o)))]}),(0,C.jsxs)(a.default,{style:S.section,children:[(0,C.jsxs)(a.default,{style:S.sectionHeader,children:[(0,C.jsx)(n.default,{style:[S.sectionTitle,{color:e.text}],children:"My Drafts"}),t.length>0&&(0,C.jsx)(s.default,{onPress:()=>c.router.push("/studio/projects"),children:(0,C.jsx)(n.default,{style:[S.viewAllLink,{color:e.primary}],children:"View All"})})]}),0===t.length?(0,C.jsxs)(a.default,{style:S.emptyDrafts,children:[(0,C.jsx)(m.default,{size:48,color:e.textSecondary}),(0,C.jsx)(n.default,{style:[S.emptyDraftsText,{color:e.textSecondary}],children:"No drafts yet. Start creating!"})]}):(0,C.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:S.draftsScroll,children:t.slice(0,6).map((t=>(0,C.jsxs)(s.default,{style:[S.draftCard,{backgroundColor:e.card}],onPress:()=>{"image"===t.type?c.router.push("/studio/image-editor"):c.router.push("/studio/video-editor")},children:[(0,C.jsx)(a.default,{style:S.draftThumbnail,children:"video"===t.type&&(0,C.jsx)(a.default,{style:[S.playBadge,{backgroundColor:e.primary}],children:(0,C.jsx)(y.default,{size:12,color:"#FFFFFF"})})}),(0,C.jsx)(n.default,{style:[S.draftName,{color:e.text}],numberOfLines:1,children:t.name}),(0,C.jsx)(n.default,{style:[S.draftDate,{color:e.textSecondary}],children:t.updatedAt.toLocaleDateString()})]},t.id)))})]})]})]})}const S=r.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1},headerTitle:{fontSize:24,fontWeight:"700"},projectsButton:{padding:8},content:{flex:1},section:{padding:20},sectionHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:16},sectionTitle:{fontSize:22,fontWeight:"700"},sectionSubtitle:{fontSize:14,marginBottom:20,marginTop:4},viewAllLink:{fontSize:14,fontWeight:"600"},createCard:{flexDirection:"row",alignItems:"center",padding:16,borderRadius:16,marginBottom:12},createIconContainer:{width:56,height:56,borderRadius:28,justifyContent:"center",alignItems:"center"},createInfo:{flex:1,marginLeft:16},createLabel:{fontSize:17,fontWeight:"600",marginBottom:4},createDescription:{fontSize:14},emptyDrafts:{alignItems:"center",paddingVertical:32},emptyDraftsText:{fontSize:14,marginTop:12},draftsScroll:{marginHorizontal:-20,paddingHorizontal:20},draftCard:{width:120,marginRight:12,borderRadius:12,padding:8},draftThumbnail:{width:"100%",height:120,borderRadius:8,backgroundColor:"#333",marginBottom:8,position:"relative"},playBadge:{position:"absolute",top:8,right:8,width:24,height:24,borderRadius:12,justifyContent:"center",alignItems:"center"},draftName:{fontSize:14,fontWeight:"600",marginBottom:4},draftDate:{fontSize:11}})},31772:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>fe});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(74037),c=o(51690),u=o(78264),f=o(35708),g=o(90046),h=o(24523),m=o(79516),p=o(3421),y=o(36412),x=o(47640),b=o(60397);const j="@vibesync_active_sessions";function C({visible:e,onClose:t}){const{colors:o}=(0,y.useTheme)(),[n,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{e&&C()}),[e]);const C=async()=>{try{const e=await x.default.getItem(j);if(e)d(JSON.parse(e));else{const e=[{id:"1",deviceName:"iPhone 14 Pro",deviceType:"mobile",location:"New York, USA",lastActive:"Active now",isCurrent:!0,ipAddress:"192.168.1.1"},{id:"2",deviceName:"MacBook Pro",deviceType:"desktop",location:"New York, USA",lastActive:"2 hours ago",isCurrent:!1,ipAddress:"192.168.1.2"}];d(e),await x.default.setItem(j,JSON.stringify(e))}}catch(e){console.error("Error loading sessions:",e)}};return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:w.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[w.container,{backgroundColor:o.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[w.header,{borderBottomColor:o.border}],children:[(0,b.jsx)(a.default,{style:[w.title,{color:o.text}],children:"Active Sessions"}),(0,b.jsx)(l.default,{onPress:t,style:w.closeButton,children:(0,b.jsx)(g.default,{size:24,color:o.text})})]}),(0,b.jsx)(i.default,{style:w.content,showsVerticalScrollIndicator:!1,children:n.map((e=>(0,b.jsxs)(s.default,{style:[w.sessionCard,{backgroundColor:o.cardLight}],children:[(0,b.jsxs)(s.default,{style:w.sessionHeader,children:[(0,b.jsx)(s.default,{style:[w.iconContainer,{backgroundColor:o.glass}],children:"mobile"===e.deviceType?(0,b.jsx)(h.default,{size:20,color:o.primary}):(0,b.jsx)(m.default,{size:20,color:o.primary})}),(0,b.jsxs)(s.default,{style:w.sessionInfo,children:[(0,b.jsxs)(s.default,{style:w.deviceRow,children:[(0,b.jsx)(a.default,{style:[w.deviceName,{color:o.text}],children:e.deviceName}),e.isCurrent&&(0,b.jsx)(s.default,{style:[w.currentBadge,{backgroundColor:o.success}],children:(0,b.jsx)(a.default,{style:[w.currentText,{color:o.textInverse}],children:"Current"})})]}),(0,b.jsx)(a.default,{style:[w.location,{color:o.textSecondary}],children:e.location}),(0,b.jsx)(a.default,{style:[w.lastActive,{color:o.textSecondary}],children:e.lastActive}),(0,b.jsxs)(a.default,{style:[w.ipAddress,{color:o.textMuted}],children:["IP: ",e.ipAddress]})]})]}),!e.isCurrent&&(0,b.jsxs)(l.default,{style:[w.logoutButton,{backgroundColor:o.error+"20"}],onPress:()=>{return t=e.id,void c.default.alert("Logout Session","Are you sure you want to logout this device?",[{text:"Cancel",style:"cancel"},{text:"Logout",style:"destructive",onPress:async()=>{const e=n.filter((e=>e.id!==t));d(e),await x.default.setItem(j,JSON.stringify(e)),c.default.alert("Success","Device logged out successfully")}}]);var t},children:[(0,b.jsx)(p.default,{size:16,color:o.error}),(0,b.jsx)(a.default,{style:[w.logoutText,{color:o.error}],children:"Logout"})]})]},e.id)))}),n.filter((e=>!e.isCurrent)).length>0&&(0,b.jsx)(s.default,{style:[w.footer,{borderTopColor:o.border}],children:(0,b.jsxs)(l.default,{style:[w.logoutAllButton,{backgroundColor:o.error}],onPress:()=>{c.default.alert("Logout All Other Devices","This will logout all devices except this one.",[{text:"Cancel",style:"cancel"},{text:"Logout All",style:"destructive",onPress:async()=>{const e=n.filter((e=>e.isCurrent));d(e),await x.default.setItem(j,JSON.stringify(e)),c.default.alert("Success","All other devices logged out")}}])},children:[(0,b.jsx)(p.default,{size:18,color:o.textInverse}),(0,b.jsx)(a.default,{style:[w.logoutAllText,{color:o.textInverse}],children:"Logout All Other Devices"})]})})]})})})}const w=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700"},closeButton:{padding:4},content:{padding:16},sessionCard:{borderRadius:16,padding:16,marginBottom:12},sessionHeader:{flexDirection:"row",gap:12},iconContainer:{width:48,height:48,borderRadius:24,alignItems:"center",justifyContent:"center"},sessionInfo:{flex:1},deviceRow:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:4},deviceName:{fontSize:16,fontWeight:"600"},currentBadge:{paddingHorizontal:8,paddingVertical:2,borderRadius:8},currentText:{fontSize:11,fontWeight:"600"},location:{fontSize:14,marginBottom:2},lastActive:{fontSize:13,marginBottom:2},ipAddress:{fontSize:12},logoutButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:6,marginTop:12,paddingVertical:10,borderRadius:10},logoutText:{fontSize:14,fontWeight:"600"},footer:{padding:16,borderTopWidth:1},logoutAllButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:14,borderRadius:12},logoutAllText:{fontSize:16,fontWeight:"600"}});var S=o(16773),v=o(67236),k=o(53122),I=o(69968),T=o(34927);const B="@vibesync_blocked_accounts";function z({visible:e,onClose:t}){const{colors:o}=(0,y.useTheme)(),[n,d]=(0,r.useState)([]),[h,m]=(0,r.useState)("");(0,r.useEffect)((()=>{e&&p()}),[e]);const p=async()=>{try{const e=await x.default.getItem(B);e&&d(JSON.parse(e))}catch(e){console.error("Error loading blocked users:",e)}},j=n.filter((e=>e.username.toLowerCase().includes(h.toLowerCase())||e.displayName.toLowerCase().includes(h.toLowerCase())));return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:F.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[F.container,{backgroundColor:o.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[F.header,{borderBottomColor:o.border}],children:[(0,b.jsx)(a.default,{style:[F.title,{color:o.text}],children:"Blocked Accounts"}),(0,b.jsx)(l.default,{onPress:t,style:F.closeButton,children:(0,b.jsx)(g.default,{size:24,color:o.text})})]}),(0,b.jsx)(s.default,{style:F.searchContainer,children:(0,b.jsxs)(s.default,{style:[F.searchBar,{backgroundColor:o.cardLight}],children:[(0,b.jsx)(v.default,{size:18,color:o.textSecondary}),(0,b.jsx)(S.default,{style:[F.searchInput,{color:o.text}],placeholder:"Search blocked accounts...",placeholderTextColor:o.textSecondary,value:h,onChangeText:m})]})}),(0,b.jsx)(i.default,{style:F.content,showsVerticalScrollIndicator:!1,children:0===j.length?(0,b.jsxs)(s.default,{style:F.emptyState,children:[(0,b.jsx)(k.default,{size:48,color:o.textSecondary}),(0,b.jsx)(a.default,{style:[F.emptyText,{color:o.textSecondary}],children:h?"No blocked accounts found":"No blocked accounts"})]}):j.map((e=>(0,b.jsxs)(s.default,{style:[F.userCard,{borderBottomColor:o.border}],children:[(0,b.jsx)(T.Avatar,{uri:e.profileImage,size:48}),(0,b.jsxs)(s.default,{style:F.userInfo,children:[(0,b.jsx)(a.default,{style:[F.displayName,{color:o.text}],children:e.displayName}),(0,b.jsxs)(a.default,{style:[F.username,{color:o.textSecondary}],children:["@",e.username]}),(0,b.jsxs)(a.default,{style:[F.blockedAt,{color:o.textMuted}],children:["Blocked ",new Date(e.blockedAt).toLocaleDateString()]})]}),(0,b.jsxs)(l.default,{style:[F.unblockButton,{backgroundColor:o.primary}],onPress:()=>{return t=e.id,o=e.username,void c.default.alert("Unblock User",`Are you sure you want to unblock @${o}?`,[{text:"Cancel",style:"cancel"},{text:"Unblock",onPress:async()=>{const e=n.filter((e=>e.id!==t));d(e),await x.default.setItem(B,JSON.stringify(e)),c.default.alert("Success",`@${o} has been unblocked`)}}]);var t,o},children:[(0,b.jsx)(I.default,{size:16,color:o.textInverse}),(0,b.jsx)(a.default,{style:[F.unblockText,{color:o.textInverse}],children:"Unblock"})]})]},e.id)))})]})})})}const F=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700"},closeButton:{padding:4},searchContainer:{padding:16},searchBar:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderRadius:12,gap:10},searchInput:{flex:1,fontSize:15},content:{flex:1},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60,gap:12},emptyText:{fontSize:16,fontWeight:"500"},userCard:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:12,borderBottomWidth:1,gap:12},userInfo:{flex:1},displayName:{fontSize:16,fontWeight:"600",marginBottom:2},username:{fontSize:14,marginBottom:2},blockedAt:{fontSize:12},unblockButton:{flexDirection:"row",alignItems:"center",gap:6,paddingHorizontal:14,paddingVertical:8,borderRadius:8},unblockText:{fontSize:13,fontWeight:"600"}});var P=o(29723),D=o(24757);const A="@vibesync_muted_accounts";function R({visible:e,onClose:t}){const{colors:o}=(0,y.useTheme)(),[n,d]=(0,r.useState)([]),[h,m]=(0,r.useState)("");(0,r.useEffect)((()=>{e&&p()}),[e]);const p=async()=>{try{const e=await x.default.getItem(A);e&&d(JSON.parse(e))}catch(e){console.error("Error loading muted users:",e)}},j=n.filter((e=>e.username.toLowerCase().includes(h.toLowerCase())||e.displayName.toLowerCase().includes(h.toLowerCase()))),C=e=>{switch(e){case"posts":return"Posts muted";case"stories":return"Stories muted";case"all":return"All content muted";default:return"Muted"}};return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:V.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[V.container,{backgroundColor:o.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[V.header,{borderBottomColor:o.border}],children:[(0,b.jsx)(a.default,{style:[V.title,{color:o.text}],children:"Muted Accounts"}),(0,b.jsx)(l.default,{onPress:t,style:V.closeButton,children:(0,b.jsx)(g.default,{size:24,color:o.text})})]}),(0,b.jsx)(s.default,{style:V.searchContainer,children:(0,b.jsxs)(s.default,{style:[V.searchBar,{backgroundColor:o.cardLight}],children:[(0,b.jsx)(v.default,{size:18,color:o.textSecondary}),(0,b.jsx)(S.default,{style:[V.searchInput,{color:o.text}],placeholder:"Search muted accounts...",placeholderTextColor:o.textSecondary,value:h,onChangeText:m})]})}),(0,b.jsx)(i.default,{style:V.content,showsVerticalScrollIndicator:!1,children:0===j.length?(0,b.jsxs)(s.default,{style:V.emptyState,children:[(0,b.jsx)(P.default,{size:48,color:o.textSecondary}),(0,b.jsx)(a.default,{style:[V.emptyText,{color:o.textSecondary}],children:h?"No muted accounts found":"No muted accounts"})]}):j.map((e=>(0,b.jsxs)(s.default,{style:[V.userCard,{borderBottomColor:o.border}],children:[(0,b.jsx)(T.Avatar,{uri:e.profileImage,size:48}),(0,b.jsxs)(s.default,{style:V.userInfo,children:[(0,b.jsx)(a.default,{style:[V.displayName,{color:o.text}],children:e.displayName}),(0,b.jsxs)(a.default,{style:[V.username,{color:o.textSecondary}],children:["@",e.username]}),(0,b.jsx)(a.default,{style:[V.muteType,{color:o.textMuted}],children:C(e.muteType)})]}),(0,b.jsxs)(l.default,{style:[V.unmuteButton,{backgroundColor:o.primary}],onPress:()=>{return t=e.id,o=e.username,void c.default.alert("Unmute User",`Are you sure you want to unmute @${o}?`,[{text:"Cancel",style:"cancel"},{text:"Unmute",onPress:async()=>{const e=n.filter((e=>e.id!==t));d(e),await x.default.setItem(A,JSON.stringify(e)),c.default.alert("Success",`@${o} has been unmuted`)}}]);var t,o},children:[(0,b.jsx)(D.default,{size:16,color:o.textInverse}),(0,b.jsx)(a.default,{style:[V.unmuteText,{color:o.textInverse}],children:"Unmute"})]})]},e.id)))})]})})})}const V=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700"},closeButton:{padding:4},searchContainer:{padding:16},searchBar:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderRadius:12,gap:10},searchInput:{flex:1,fontSize:15},content:{flex:1},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60,gap:12},emptyText:{fontSize:16,fontWeight:"500"},userCard:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:12,borderBottomWidth:1,gap:12},userInfo:{flex:1},displayName:{fontSize:16,fontWeight:"600",marginBottom:2},username:{fontSize:14,marginBottom:2},muteType:{fontSize:12},unmuteButton:{flexDirection:"row",alignItems:"center",gap:6,paddingHorizontal:14,paddingVertical:8,borderRadius:8},unmuteText:{fontSize:13,fontWeight:"600"}});function L({visible:e,onClose:t,title:o,content:r}){const{colors:n}=(0,y.useTheme)();return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:O.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[O.container,{backgroundColor:n.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[O.header,{borderBottomColor:n.border}],children:[(0,b.jsx)(a.default,{style:[O.title,{color:n.text}],children:o}),(0,b.jsx)(l.default,{onPress:t,style:O.closeButton,children:(0,b.jsx)(g.default,{size:24,color:n.text})})]}),(0,b.jsx)(i.default,{style:O.content,showsVerticalScrollIndicator:!1,children:(0,b.jsx)(a.default,{style:[O.documentText,{color:n.text}],children:(()=>{switch(o){case"Terms of Service":return"Last Updated: January 1, 2025\n\n1. Acceptance of Terms\nBy accessing and using VibeSync, you accept and agree to be bound by the terms and provision of this agreement.\n\n2. Use License\nPermission is granted to temporarily download one copy of the materials on VibeSync for personal, non-commercial transitory viewing only.\n\n3. User Content\nYou retain all rights to the content you post on VibeSync. By posting content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, and distribute your content.\n\n4. Privacy\nYour use of VibeSync is also governed by our Privacy Policy.\n\n5. Prohibited Uses\nYou may not use VibeSync:\n- For any unlawful purpose\n- To harass, abuse, or harm another person\n- To impersonate or attempt to impersonate VibeSync or another user\n- To upload viruses or malicious code\n\n6. Account Termination\nWe may terminate or suspend your account immediately, without prior notice, for conduct that we believe violates these Terms.\n\n7. Limitation of Liability\nVibeSync shall not be liable for any indirect, incidental, special, consequential or punitive damages.\n\n8. Changes to Terms\nWe reserve the right to modify these terms at any time. We will notify users of any changes.\n\n9. Contact Us\nIf you have any questions about these Terms, please contact us at legal@vibesync.com";case"Privacy Policy":return"Last Updated: January 1, 2025\n\n1. Information We Collect\nWe collect information you provide directly to us, including:\n- Account information (username, email, password)\n- Profile information (bio, profile picture, cover image)\n- Content you post (posts, comments, messages)\n- Usage data (interactions, preferences)\n\n2. How We Use Your Information\nWe use the information we collect to:\n- Provide, maintain, and improve our services\n- Personalize your experience\n- Send you technical notices and support messages\n- Respond to your comments and questions\n- Protect against fraud and abuse\n\n3. Information Sharing\nWe do not sell your personal information. We may share your information:\n- With your consent\n- To comply with legal obligations\n- With service providers who assist us\n- In connection with a merger or acquisition\n\n4. Data Security\nWe implement appropriate security measures to protect your information. However, no method of transmission over the Internet is 100% secure.\n\n5. Your Rights\nYou have the right to:\n- Access your personal information\n- Correct inaccurate information\n- Delete your account and data\n- Export your data\n- Opt-out of marketing communications\n\n6. Cookies and Tracking\nWe use cookies and similar tracking technologies to track activity and hold certain information.\n\n7. Children's Privacy\nOur service is not intended for children under 13. We do not knowingly collect information from children under 13.\n\n8. International Data Transfers\nYour information may be transferred to and maintained on servers located outside of your jurisdiction.\n\n9. Changes to Privacy Policy\nWe may update this Privacy Policy from time to time. We will notify you of any changes.\n\n10. Contact Us\nFor privacy-related questions, contact us at privacy@vibesync.com";case"Community Guidelines":return"Last Updated: January 1, 2025\n\nWelcome to VibeSync! Our community guidelines help create a safe and positive environment for everyone.\n\n1. Be Respectful\n- Treat others with kindness and respect\n- No hate speech, harassment, or bullying\n- Respect different opinions and perspectives\n\n2. Authentic Content\n- Post original content or give proper credit\n- No impersonation or fake accounts\n- Be honest and transparent\n\n3. Safety First\n- No violence, threats, or dangerous content\n- No self-harm or suicide content\n- Report concerning behavior\n\n4. Privacy Matters\n- Respect others' privacy\n- Don't share personal information without consent\n- No doxxing or stalking\n\n5. Legal Compliance\n- No illegal activities or content\n- Respect intellectual property rights\n- Follow local laws and regulations\n\n6. Appropriate Content\n- No nudity or sexual content\n- No graphic violence or gore\n- Age-appropriate content only\n\n7. Spam and Manipulation\n- No spam or fake engagement\n- No misleading information\n- No manipulation of features\n\n8. Reporting Violations\nIf you see content that violates these guidelines:\n- Use the report feature\n- Block or mute problematic accounts\n- Contact our support team\n\n9. Consequences\nViolations may result in:\n- Content removal\n- Account warnings\n- Temporary suspension\n- Permanent ban\n\n10. Appeals\nIf you believe your content was removed in error, you can appeal the decision through our support system.\n\nTogether, we can build a vibrant and safe community!";case"Copyright / DMCA Policy":return"Last Updated: January 1, 2025\n\nVibeSync respects the intellectual property rights of others and expects users to do the same.\n\n1. Copyright Infringement Notification\nIf you believe your copyrighted work has been infringed, please provide:\n- Your contact information\n- Description of the copyrighted work\n- Location of the infringing material\n- A statement of good faith belief\n- A statement of accuracy under penalty of perjury\n- Your physical or electronic signature\n\n2. DMCA Agent Contact\nSend notifications to:\nDMCA Agent\nVibeSync Inc.\nEmail: dmca@vibesync.com\n\n3. Counter-Notification\nIf you believe your content was removed in error, you may file a counter-notification including:\n- Your contact information\n- Identification of removed content\n- Statement under penalty of perjury\n- Consent to jurisdiction\n- Your physical or electronic signature\n\n4. Repeat Infringer Policy\nWe will terminate accounts of repeat infringers in appropriate circumstances.\n\n5. Fair Use\nWe respect fair use and will consider fair use defenses in appropriate cases.\n\n6. Response Time\nWe aim to respond to valid DMCA notices within 24-48 hours.\n\n7. False Claims\nSubmitting false copyright claims may result in legal liability.\n\n8. Music and Audio\nSpecial considerations apply to music and audio content. We work with rights holders to ensure proper licensing.\n\n9. User Responsibility\nUsers are responsible for ensuring they have rights to content they upload.\n\n10. Questions\nFor copyright questions, contact copyright@vibesync.com";default:return r}})()})})]})})})}const O=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"90%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700",flex:1},closeButton:{padding:4},content:{padding:20},documentText:{fontSize:15,lineHeight:24,whiteSpace:"pre-wrap"}});var W=o(76266);function E({visible:e,onClose:t,type:o}){const{colors:n}=(0,y.useTheme)(),[d,h]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[x,j]=(0,r.useState)("");return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:M.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[M.container,{backgroundColor:n.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[M.header,{borderBottomColor:n.border}],children:[(0,b.jsx)(a.default,{style:[M.title,{color:n.text}],children:(()=>{switch(o){case"contact":return"Contact Support";case"bug":return"Report a Bug";case"feedback":return"Submit Feedback";default:return"Support"}})()}),(0,b.jsx)(l.default,{onPress:t,style:M.closeButton,children:(0,b.jsx)(g.default,{size:24,color:n.text})})]}),(0,b.jsx)(i.default,{style:M.content,showsVerticalScrollIndicator:!1,children:(0,b.jsxs)(s.default,{style:M.form,children:[(0,b.jsxs)(s.default,{style:M.inputGroup,children:[(0,b.jsx)(a.default,{style:[M.label,{color:n.text}],children:"Email"}),(0,b.jsx)(S.default,{style:[M.input,{backgroundColor:n.cardLight,color:n.text}],placeholder:"your.email@example.com",placeholderTextColor:n.textSecondary,value:x,onChangeText:j,keyboardType:"email-address",autoCapitalize:"none"})]}),(0,b.jsxs)(s.default,{style:M.inputGroup,children:[(0,b.jsx)(a.default,{style:[M.label,{color:n.text}],children:"Subject"}),(0,b.jsx)(S.default,{style:[M.input,{backgroundColor:n.cardLight,color:n.text}],placeholder:"Brief description",placeholderTextColor:n.textSecondary,value:d,onChangeText:h})]}),(0,b.jsxs)(s.default,{style:M.inputGroup,children:[(0,b.jsx)(a.default,{style:[M.label,{color:n.text}],children:"Message"}),(0,b.jsx)(S.default,{style:[M.textArea,{backgroundColor:n.cardLight,color:n.text}],placeholder:(()=>{switch(o){case"bug":return"Describe the bug you encountered...";case"feedback":return"Share your feedback with us...";default:return"How can we help you?"}})(),placeholderTextColor:n.textSecondary,value:m,onChangeText:p,multiline:!0,numberOfLines:8,textAlignVertical:"top"})]}),"bug"===o&&(0,b.jsx)(s.default,{style:[M.infoBox,{backgroundColor:n.glass}],children:(0,b.jsx)(a.default,{style:[M.infoText,{color:n.textSecondary}],children:"Please include steps to reproduce the bug and any error messages you saw."})}),(0,b.jsxs)(l.default,{style:[M.submitButton,{backgroundColor:n.primary}],onPress:()=>{d.trim()&&m.trim()?c.default.alert("Success","Your message has been sent. We'll get back to you soon!",[{text:"OK",onPress:()=>{h(""),p(""),j(""),t()}}]):c.default.alert("Error","Please fill in all fields")},children:[(0,b.jsx)(W.default,{size:18,color:n.textInverse}),(0,b.jsx)(a.default,{style:[M.submitText,{color:n.textInverse}],children:"Send Message"})]})]})})]})})})}const M=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"90%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700"},closeButton:{padding:4},content:{flex:1},form:{padding:20},inputGroup:{marginBottom:20},label:{fontSize:15,fontWeight:"600",marginBottom:8},input:{paddingHorizontal:16,paddingVertical:14,borderRadius:12,fontSize:15},textArea:{paddingHorizontal:16,paddingVertical:14,borderRadius:12,fontSize:15,minHeight:150},infoBox:{padding:12,borderRadius:12,marginBottom:20},infoText:{fontSize:13,lineHeight:18},submitButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:16,borderRadius:12},submitText:{fontSize:16,fontWeight:"600"}});var N=o(50263),H=o(46422);const U=[{category:"Account",question:"How do I create an account?",answer:'Tap "Sign Up" on the login screen, enter your details, and follow the verification steps. You can also sign up using Google, Facebook, or Apple.'},{category:"Account",question:"How do I reset my password?",answer:'Go to Settings > Change Password, or use "Forgot Password" on the login screen. You\'ll receive a verification code via email.'},{category:"Account",question:"How do I get verified?",answer:"Verified badges are given to notable public figures, celebrities, and brands. Submit a verification request through Settings > Account."},{category:"Privacy",question:"Who can see my posts?",answer:"You can control post visibility in Settings > Privacy. Choose between Public (everyone), Friends Only, or Private."},{category:"Privacy",question:"How do I block someone?",answer:'Go to their profile, tap the menu icon, and select "Block User". They won\'t be able to see your content or contact you.'},{category:"Privacy",question:"What is screenshot protection?",answer:"Screenshot protection prevents others from taking screenshots of your messages. You'll be notified if someone attempts to screenshot."},{category:"Features",question:"What are Vibes?",answer:"Vibes are short-form video content similar to reels. Create engaging videos with music, filters, and effects."},{category:"Features",question:"How do voice posts work?",answer:"Voice posts let you share audio messages up to 60 seconds. Tap the microphone icon when creating a post."},{category:"Features",question:"What is VibeScore?",answer:"VibeScore is your engagement rating based on interactions, content quality, and community participation. Higher scores unlock features."},{category:"Messaging",question:"What are View Once messages?",answer:"View Once messages disappear after being opened once. Perfect for sensitive content you don't want saved."},{category:"Messaging",question:"Can I make voice/video calls?",answer:"Yes! Open any conversation and tap the phone or video icon to start a call."},{category:"Content",question:"How do I report inappropriate content?",answer:'Tap the menu icon on any post and select "Report". Choose the reason and submit. Our team reviews all reports.'},{category:"Content",question:"Can I edit posts after publishing?",answer:'Yes, tap the menu icon on your post and select "Edit". You have 24 hours to edit after posting.'},{category:"Technical",question:"Why is the app running slow?",answer:"Try clearing cache in Settings > Data & Storage > Clear Cache. Also ensure you have the latest app version."},{category:"Technical",question:"How do I enable notifications?",answer:"Go to Settings > Notifications and toggle on the types of notifications you want to receive."}];function q({visible:e,onClose:t}){const{colors:o}=(0,y.useTheme)(),[n,d]=(0,r.useState)(null),c=Array.from(new Set(U.map((e=>e.category))));return(0,b.jsx)(u.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,b.jsx)(f.default,{style:_.overlay,onPress:t,children:(0,b.jsxs)(f.default,{style:[_.container,{backgroundColor:o.card}],onPress:e=>e.stopPropagation(),children:[(0,b.jsxs)(s.default,{style:[_.header,{borderBottomColor:o.border}],children:[(0,b.jsx)(a.default,{style:[_.title,{color:o.text}],children:"Frequently Asked Questions"}),(0,b.jsx)(l.default,{onPress:t,style:_.closeButton,children:(0,b.jsx)(g.default,{size:24,color:o.text})})]}),(0,b.jsxs)(i.default,{style:_.content,showsVerticalScrollIndicator:!1,children:[c.map((e=>(0,b.jsxs)(s.default,{style:_.categorySection,children:[(0,b.jsx)(a.default,{style:[_.categoryTitle,{color:o.primary}],children:e}),U.filter((t=>t.category===e)).map(((e,t)=>{const r=U.indexOf(e),i=n===r;return(0,b.jsxs)(l.default,{style:[_.faqItem,{backgroundColor:o.cardLight}],onPress:()=>d(i?null:r),activeOpacity:.7,children:[(0,b.jsxs)(s.default,{style:_.questionRow,children:[(0,b.jsx)(a.default,{style:[_.question,{color:o.text}],children:e.question}),i?(0,b.jsx)(N.default,{size:20,color:o.textSecondary}):(0,b.jsx)(H.default,{size:20,color:o.textSecondary})]}),i&&(0,b.jsx)(a.default,{style:[_.answer,{color:o.textSecondary}],children:e.answer})]},r)}))]},e))),(0,b.jsxs)(s.default,{style:[_.contactBox,{backgroundColor:o.glass}],children:[(0,b.jsx)(a.default,{style:[_.contactTitle,{color:o.text}],children:"Still have questions?"}),(0,b.jsx)(a.default,{style:[_.contactText,{color:o.textSecondary}],children:"Contact our support team at support@vibesync.com"})]})]})]})})})}const _=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},container:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"90%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},title:{fontSize:20,fontWeight:"700",flex:1},closeButton:{padding:4},content:{flex:1},categorySection:{paddingHorizontal:20,paddingTop:20},categoryTitle:{fontSize:18,fontWeight:"700",marginBottom:12},faqItem:{borderRadius:12,padding:16,marginBottom:8},questionRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:12},question:{fontSize:15,fontWeight:"600",flex:1},answer:{fontSize:14,lineHeight:20,marginTop:12},contactBox:{margin:20,padding:20,borderRadius:16,alignItems:"center"},contactTitle:{fontSize:16,fontWeight:"600",marginBottom:8},contactText:{fontSize:14,textAlign:"center"}});var $=o(78833),Y=o(49637),G=o(93861),J=o(63239),K=o(29267),Q=o(1822),Z=o(52321),X=o(26810),ee=o(8979),te=o(83527),oe=o(51281),re=o(95196),ne=o(41537),ae=o(40804),se=o(23259),ie=o(665),le=o(50008),de=o(81539),ce=o(25924);const ue="@vibesync_settings";function fe(){const{logout:e}=(0,ce.useAuth)(),{colors:t,userPreference:o,setTheme:n}=(0,y.useTheme)(),g=(0,$.useSafeAreaInsets)(),[j,w]=(0,r.useState)({theme:o,accentColor:"#3B82F6",fontSize:"medium",language:"English",notifications:{push:!0,email:!1,sms:!1,likes:!0,comments:!0,follows:!0,messages:!0,syncSessions:!0,playlistActivity:!0,vibeTab:!0,influencerUpdates:!0},privacy:{profileVisibility:"public",showOnlineStatus:!0,allowMessageRequests:!0,screenshotProtection:!1,whoCanMessageMe:"everyone",whoCanSeeMyVibes:"public",contentFilters:!1},messaging:{screenshotProtection:!1,notifyOnScreenshotAttempt:!0,defaultViewOnce:!1},security:{twoFactorEnabled:!1,biometricEnabled:!1},discoverability:{suggestedFollows:!0,contactsSync:!1,locationDiscovery:!1,vibeScoreVisible:!0},data:{dataSaverMode:!1,backgroundPlay:!0,autoDownload:!1}}),[S,v]=(0,r.useState)(!1),[k,I]=(0,r.useState)(!1),[T,B]=(0,r.useState)(!1),[F,P]=(0,r.useState)(!1),[D,A]=(0,r.useState)(!1),[V,O]=(0,r.useState)(!1),[W,M]=(0,r.useState)(!1),[N,H]=(0,r.useState)(!1),[U,_]=(0,r.useState)(!1),[fe,he]=(0,r.useState)({title:"",content:""}),[me,pe]=(0,r.useState)(!1),[ye,xe]=(0,r.useState)("contact"),[be,je]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=await x.default.getItem(ue);if(e){const t=JSON.parse(e);w((e=>Object.assign({},e,t,{theme:t.theme||e.theme,notifications:Object.assign({},e.notifications,t.notifications),privacy:Object.assign({},e.privacy,t.privacy),messaging:Object.assign({},e.messaging,t.messaging),security:Object.assign({},e.security,t.security),discoverability:Object.assign({},e.discoverability,t.discoverability),data:Object.assign({},e.data,t.data)})))}}catch(e){console.error("[Settings] Error loading settings:",e)}})()}),[]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{(async()=>{try{await x.default.setItem(ue,JSON.stringify(j))}catch(e){console.error("[Settings] Error saving settings:",e)}})()}),500);return()=>clearTimeout(e)}),[j]);const Ce=(e,t)=>{w((o=>Object.assign({},o,{notifications:Object.assign({},o.notifications,{[e]:t})})))},we=(e,t)=>{w((o=>Object.assign({},o,{security:Object.assign({},o.security,{[e]:t})})))},Se=e=>{n(e),w((t=>Object.assign({},t,{theme:e})))};return(0,b.jsxs)(s.default,{style:[ge.container,{backgroundColor:t.background}],children:[(0,b.jsx)(Y.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:t.background},headerTintColor:t.text,headerTitle:"Settings",headerLeft:()=>(0,b.jsx)(l.default,{onPress:()=>Y.router.back(),style:ge.backButton,children:(0,b.jsx)(G.default,{size:24,color:t.text})})}}),(0,b.jsxs)(i.default,{style:[ge.scrollView,{backgroundColor:t.background}],showsVerticalScrollIndicator:!1,contentContainerStyle:[ge.scrollContent,{paddingBottom:g.bottom+40}],children:[(0,b.jsxs)(s.default,{style:[ge.sectionHeader,{backgroundColor:t.glass}],children:[(0,b.jsx)(J.default,{size:20,color:t.primary}),(0,b.jsx)(a.default,{style:[ge.sectionTitle,{color:t.text}],children:"Account & Security"})]}),(0,b.jsxs)(s.default,{style:[ge.card,{backgroundColor:t.card}],children:[(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>Y.router.push("/edit-profile"),children:[(0,b.jsx)(K.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Profile Information"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>Y.router.push("/change-password"),children:[(0,b.jsx)(J.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Change Password"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(Z.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Two-Factor Authentication"}),(0,b.jsx)(d.default,{value:j.security.twoFactorEnabled,onValueChange:e=>we("twoFactorEnabled",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(X.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Biometric / PIN Lock"}),(0,b.jsx)(d.default,{value:j.security.biometricEnabled,onValueChange:e=>we("biometricEnabled",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>O(!0),children:[(0,b.jsx)(m.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Active Sessions"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>{c.default.alert("Deactivate Account","Your account will be temporarily deactivated. You can reactivate it by logging in again.",[{text:"Cancel",style:"cancel"},{text:"Deactivate",style:"destructive",onPress:()=>{c.default.alert("Account Deactivated","Your account has been deactivated.")}}])},children:[(0,b.jsx)(ee.default,{size:18,color:t.warning}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.warning}],children:"Deactivate Account"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomWidth:0}],onPress:()=>{c.default.alert("Delete Account","This action is permanent and cannot be undone. All your data will be deleted.",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:()=>{c.default.alert("Account Deleted","Your account has been permanently deleted.")}}])},children:[(0,b.jsx)(te.default,{size:18,color:t.error}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.error}],children:"Delete Account"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]})]}),(0,b.jsxs)(s.default,{style:[ge.sectionHeader,{backgroundColor:t.glass}],children:[(0,b.jsx)(oe.default,{size:20,color:t.primary}),(0,b.jsx)(a.default,{style:[ge.sectionTitle,{color:t.text}],children:"Appearance & Personalization"})]}),(0,b.jsxs)(s.default,{style:[ge.card,{backgroundColor:t.card}],children:[(0,b.jsxs)(s.default,{style:[ge.themeSection,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Theme"}),(0,b.jsxs)(s.default,{style:ge.themeOptions,children:[(0,b.jsxs)(l.default,{style:[ge.themeOption,{backgroundColor:t.cardLight},"light"===o&&{backgroundColor:t.primary}],onPress:()=>Se("light"),children:[(0,b.jsx)(re.default,{size:16,color:"light"===o?t.textInverse:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.themeOptionText,{color:"light"===o?t.textInverse:t.textSecondary}],children:"Light"})]}),(0,b.jsxs)(l.default,{style:[ge.themeOption,{backgroundColor:t.cardLight},"dark"===o&&{backgroundColor:t.primary}],onPress:()=>Se("dark"),children:[(0,b.jsx)(ne.default,{size:16,color:"dark"===o?t.textInverse:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.themeOptionText,{color:"dark"===o?t.textInverse:t.textSecondary}],children:"Dark"})]}),(0,b.jsxs)(l.default,{style:[ge.themeOption,{backgroundColor:t.cardLight},"system"===o&&{backgroundColor:t.primary}],onPress:()=>Se("system"),children:[(0,b.jsx)(h.default,{size:16,color:"system"===o?t.textInverse:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.themeOptionText,{color:"system"===o?t.textInverse:t.textSecondary}],children:"System"})]})]})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>I(!0),children:[(0,b.jsx)(oe.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Accent Color"}),(0,b.jsxs)(s.default,{style:ge.languageValue,children:[(0,b.jsx)(s.default,{style:[ge.colorPreview,{backgroundColor:j.accentColor}]}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>B(!0),children:[(0,b.jsx)(ae.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Font Size"}),(0,b.jsxs)(s.default,{style:ge.languageValue,children:[(0,b.jsx)(a.default,{style:[ge.settingValue,{color:t.textSecondary,textTransform:"capitalize"}],children:j.fontSize}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomWidth:0}],onPress:()=>v(!0),children:[(0,b.jsx)(se.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Language"}),(0,b.jsxs)(s.default,{style:ge.languageValue,children:[(0,b.jsx)(a.default,{style:[ge.settingValue,{color:t.textSecondary}],children:j.language}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]})]})]}),(0,b.jsxs)(s.default,{style:[ge.sectionHeader,{backgroundColor:t.glass}],children:[(0,b.jsx)(ie.default,{size:20,color:t.primary}),(0,b.jsx)(a.default,{style:[ge.sectionTitle,{color:t.text}],children:"Notifications"})]}),(0,b.jsxs)(s.default,{style:[ge.card,{backgroundColor:t.card}],children:[(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Push Notifications"}),(0,b.jsx)(d.default,{value:j.notifications.push,onValueChange:e=>Ce("push",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Email Alerts"}),(0,b.jsx)(d.default,{value:j.notifications.email,onValueChange:e=>Ce("email",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"SMS Alerts"}),(0,b.jsx)(d.default,{value:j.notifications.sms,onValueChange:e=>Ce("sms",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Messages"}),(0,b.jsx)(d.default,{value:j.notifications.messages,onValueChange:e=>Ce("messages",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Likes"}),(0,b.jsx)(d.default,{value:j.notifications.likes,onValueChange:e=>Ce("likes",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomColor:t.border}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Comments"}),(0,b.jsx)(d.default,{value:j.notifications.comments,onValueChange:e=>Ce("comments",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]}),(0,b.jsxs)(s.default,{style:[ge.settingItem,{borderBottomWidth:0}],children:[(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"New Followers"}),(0,b.jsx)(d.default,{value:j.notifications.follows,onValueChange:e=>Ce("follows",e),trackColor:{false:t.border,true:t.primary},thumbColor:t.text})]})]}),(0,b.jsxs)(s.default,{style:[ge.sectionHeader,{backgroundColor:t.glass}],children:[(0,b.jsx)(le.default,{size:20,color:t.primary}),(0,b.jsx)(a.default,{style:[ge.sectionTitle,{color:t.text}],children:"Legal & About"})]}),(0,b.jsxs)(s.default,{style:[ge.card,{backgroundColor:t.card}],children:[(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>Y.router.push("/privacy-policy"),children:[(0,b.jsx)(Z.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Privacy Policy"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomColor:t.border}],onPress:()=>Y.router.push("/terms-of-service"),children:[(0,b.jsx)(le.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Terms of Service"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]}),(0,b.jsxs)(l.default,{style:[ge.settingItem,{borderBottomWidth:0}],onPress:()=>je(!0),children:[(0,b.jsx)(de.default,{size:18,color:t.textSecondary}),(0,b.jsx)(a.default,{style:[ge.settingLabel,{color:t.text}],children:"Help & FAQ"}),(0,b.jsx)(Q.default,{size:18,color:t.textSecondary})]})]}),(0,b.jsx)(s.default,{style:ge.section,children:(0,b.jsxs)(l.default,{style:[ge.logoutButton,{backgroundColor:t.card}],onPress:()=>{c.default.alert("Logout","Are you sure you want to logout?",[{text:"Cancel",style:"cancel"},{text:"Logout",style:"destructive",onPress:()=>{e(),Y.router.replace("/auth")}}])},children:[(0,b.jsx)(p.default,{size:20,color:t.error}),(0,b.jsx)(a.default,{style:[ge.logoutText,{color:t.error}],children:"Logout"})]})}),(0,b.jsx)(s.default,{style:ge.bottomPadding})]}),(0,b.jsx)(u.default,{visible:S,transparent:!0,animationType:"slide",onRequestClose:()=>v(!1),children:(0,b.jsx)(f.default,{style:ge.modalOverlay,onPress:()=>v(!1),children:(0,b.jsxs)(s.default,{style:[ge.modalContent,{backgroundColor:t.card}],children:[(0,b.jsx)(s.default,{style:[ge.modalHeader,{borderBottomColor:t.border}],children:(0,b.jsx)(a.default,{style:[ge.modalTitle,{color:t.text}],children:"Select Language"})}),(0,b.jsx)(i.default,{style:ge.modalScroll,children:["English","Spanish","French","German","Portuguese","Chinese","Japanese","Arabic","Hindi"].map((e=>(0,b.jsx)(l.default,{style:[ge.modalOption,{borderBottomColor:t.border},j.language===e&&{backgroundColor:t.glass}],onPress:()=>{w((t=>Object.assign({},t,{language:e}))),v(!1)},children:(0,b.jsx)(a.default,{style:[ge.modalOptionText,{color:j.language===e?t.primary:t.text}],children:e})},e)))})]})})}),(0,b.jsx)(C,{visible:V,onClose:()=>O(!1)}),(0,b.jsx)(z,{visible:W,onClose:()=>M(!1)}),(0,b.jsx)(R,{visible:N,onClose:()=>H(!1)}),(0,b.jsx)(L,{visible:U,onClose:()=>_(!1),title:fe.title,content:fe.content}),(0,b.jsx)(E,{visible:me,onClose:()=>pe(!1),type:ye}),(0,b.jsx)(q,{visible:be,onClose:()=>je(!1)})]})}const ge=n.default.create({container:{flex:1},backButton:{padding:8,marginLeft:8},scrollView:{flex:1},scrollContent:{paddingBottom:40},section:{marginTop:24,paddingHorizontal:16},sectionHeader:{flexDirection:"row",alignItems:"center",marginTop:24,marginBottom:12,marginHorizontal:16,paddingHorizontal:12,paddingVertical:8,borderRadius:12},sectionTitle:{fontSize:16,fontWeight:"700",marginLeft:8},card:{marginHorizontal:16,borderRadius:16,overflow:"hidden"},settingItem:{flexDirection:"row",alignItems:"center",paddingVertical:16,paddingHorizontal:16,borderBottomWidth:1,gap:12},settingLabel:{fontSize:15,flex:1,fontWeight:"500"},settingValue:{fontSize:15,marginRight:4},languageValue:{flexDirection:"row",alignItems:"center"},themeSection:{paddingVertical:16,paddingHorizontal:16,borderBottomWidth:1},themeOptions:{flexDirection:"row",marginTop:12,gap:8},themeOption:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:12,paddingHorizontal:12,borderRadius:12,gap:6},themeOptionText:{fontSize:13,fontWeight:"600"},colorPreview:{width:24,height:24,borderRadius:12},logoutButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:16,borderRadius:16,gap:8},logoutText:{fontSize:16,fontWeight:"600"},bottomPadding:{height:40},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%"},modalHeader:{paddingVertical:20,paddingHorizontal:20,borderBottomWidth:1},modalTitle:{fontSize:18,fontWeight:"700",textAlign:"center"},modalScroll:{maxHeight:400},modalOption:{flexDirection:"row",alignItems:"center",paddingVertical:16,paddingHorizontal:20,borderBottomWidth:1},modalOptionText:{fontSize:16,fontWeight:"500"}})},32065:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>q});var r=o(36665),n=o(73668),a=o(73929),s=o(51226),i=o(6283),l=o(15648),d=o(2772),c=o(16773),u=o(67236),f=o(49582),g=o(60397);const h=({value:e,onChangeText:t,placeholder:o="Search",style:r,testID:n})=>(0,g.jsxs)(a.default,{style:[m.container,r],testID:n,children:[(0,g.jsx)(u.default,{size:18,color:f.Colors.textSecondary,style:m.icon}),(0,g.jsx)(c.default,{style:m.input,value:e,onChangeText:t,placeholder:o,placeholderTextColor:f.Colors.textSecondary,selectionColor:f.Colors.primary})]}),m=n.default.create({container:{flexDirection:"row",alignItems:"center",backgroundColor:f.Colors.cardLight,borderRadius:8,paddingHorizontal:12,paddingVertical:8},icon:{marginRight:8},input:{flex:1,color:f.Colors.text,fontSize:16,padding:0}});var p=o(34927),y=o(43316),x=o(54407);const b=({user:e,onFollowPress:t,onUserPress:o,testID:r})=>(0,g.jsxs)(a.default,{style:j.container,testID:r,children:[(0,g.jsxs)(a.default,{style:j.userInfo,children:[(0,g.jsx)(a.default,{children:(0,g.jsx)(p.Avatar,{uri:e.profileImage,size:50})}),(0,g.jsxs)(a.default,{style:j.nameContainer,children:[(0,g.jsxs)(a.default,{style:j.nameRow,children:[(0,g.jsx)(i.default,{style:j.displayName,children:e.displayName}),e.isVerified&&(0,g.jsx)(x.VerifiedBadge,{size:14})]}),(0,g.jsxs)(i.default,{style:j.username,children:["@",e.username]}),(0,g.jsx)(i.default,{style:j.bio,children:e.bio}),e.location&&(0,g.jsx)(i.default,{style:j.location,children:e.location})]})]}),(0,g.jsx)(y.Button,{title:"Follow",onPress:()=>t(e.id),variant:"outline",size:"small",style:j.followButton})]}),j=n.default.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12,paddingHorizontal:16,borderBottomWidth:1,borderBottomColor:f.Colors.border},userInfo:{flexDirection:"row",alignItems:"center",flex:1},nameContainer:{marginLeft:12,flex:1},nameRow:{flexDirection:"row",alignItems:"center",gap:4},displayName:{color:f.Colors.text,fontWeight:"600",fontSize:16},username:{color:f.Colors.primary,fontSize:14,marginTop:2},bio:{color:f.Colors.textSecondary,fontSize:14,marginTop:2},location:{color:f.Colors.textMuted,fontSize:12,marginTop:2},followButton:{minWidth:80}});var C=o(20530),w=o(60893),S=o(46422),v=o(4622),k=o(10),I=o(59542),T=o(70106),B=o(38206),z=o(70139),F=o(49637),P=o(52790),D=o(67026);const[A,R]=(0,P.default)((()=>{const[e]=(0,r.useState)("5"),[t,o]=(0,r.useState)(null),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)("5km"),[c,u]=(0,r.useState)([]),[f,g]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),p=(0,r.useMemo)((()=>({5:["1","2","4"],1:["2","3","4"],2:["1","3","5"],3:["1","2","4"],4:["1","2","3","5"]})),[]),y=(0,r.useMemo)((()=>({1:{latitude:34.0522,longitude:-118.2437,city:"Los Angeles",lastUpdated:(new Date).toISOString()},2:{latitude:25.7617,longitude:-80.1918,city:"Miami",lastUpdated:(new Date).toISOString()},3:{latitude:47.6062,longitude:-122.3321,city:"Seattle",lastUpdated:(new Date).toISOString()},4:{latitude:40.7128,longitude:-74.006,city:"New York",lastUpdated:(new Date).toISOString()},5:{latitude:37.7749,longitude:-122.4194,city:"San Francisco",lastUpdated:(new Date).toISOString()}})),[]),x=(0,r.useCallback)((async()=>{try{return console.log("Location permission not required on web"),!0}catch(e){return console.error("Error requesting location permission:",e),!1}}),[]),b=(0,r.useCallback)((async()=>{try{return console.log("Contacts not available on web"),!1}catch(e){return console.error("Error requesting contacts permission:",e),!1}}),[]),j=(0,r.useCallback)((async()=>{try{g(!0);{const t=y[e];return o(t),g(!1),t}}catch(t){return console.error("Error getting location:",t),g(!1),null}}),[e,n,y,x]),C=(0,r.useCallback)(((o=l)=>{if(!t)return[];const r=(e=>{switch(e){case"1km":return 1;case"5km":default:return 5;case"20km":return 20;case"city":return 50}})(o),n=[];return D.mockUsers.forEach((o=>{if(o.id===e)return;const a=y[o.id];if(!a)return;const s=((e,t,o,r)=>{const n=(o-e)*Math.PI/180,a=(r-t)*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371})(t.latitude,t.longitude,a.latitude,a.longitude);if(s<=r){const e=[];o.bio?.includes("\ud83c\udfac")&&Math.random()>.5&&e.push("Movies"),o.bio?.includes("\ud83c\udfa8")&&Math.random()>.5&&e.push("Art"),o.bio?.includes("\ud83d\udcbb")&&Math.random()>.5&&e.push("Tech"),n.push({user:o,distance:Math.round(10*s)/10,distanceUnit:"km",sharedInterests:e,isRecentlyActive:Math.random()>.3,activityHeatScore:10*Math.random()})}})),n.sort(((e,t)=>e.distance-t.distance))}),[t,l,e,y]),w=(0,r.useCallback)((()=>{const t=p[e]||[],o=[];return D.mockUsers.forEach((r=>{if(r.id===e)return;if(t.includes(r.id))return;const n=Object.keys(p).filter((e=>p[e]?.includes(r.id))).filter((e=>t.includes(e))).map((e=>D.mockUsers.find((t=>t.id===e)))).filter((e=>void 0!==e));n.length>0&&o.push({user:r,mutualFollowers:n,mutualCount:n.length,connectionStrength:n.length*(r.isVerified?1.5:1)})})),o.sort(((e,t)=>t.connectionStrength-e.connectionStrength))}),[e,p]),S=(0,r.useCallback)((async()=>{try{return m(!0),console.log("Contacts sync not available on web"),m(!1),[]}catch(e){return console.error("Error syncing contacts:",e),m(!1),[]}}),[s,e,b]),v=(0,r.useCallback)(((e,t,o,r)=>{let n=0,a=0,s=0;const i=[];t&&(n=Math.max(0,10-t.distance),t.isRecentlyActive&&(n+=2),t.sharedInterests.length>0&&(n+=t.sharedInterests.length,i.push(`${t.sharedInterests.length} shared interests`)),i.push(`${t.distance}km away`)),o&&(a=o.connectionStrength,i.push(`${o.mutualCount} mutual connections`)),r&&(s=15,r.isNewUser&&(s+=5,i.push("Just joined VibeSync")),i.push("From your contacts")),e.isVerified&&(n*=1.2,a*=1.2,s*=1.2,i.push("Verified user"));const l=n+a+s;return{userId:e.id,proximityScore:n,mutualScore:a,contactScore:s,totalScore:l,reasons:i}}),[]),k=(0,r.useCallback)((()=>{const e=C(),t=w(),o=c,r=new Map;return e.forEach((e=>{const n=t.find((t=>t.user.id===e.user.id)),a=o.find((t=>t.user.id===e.user.id)),s=v(e.user,e,n,a);r.set(e.user.id,{user:e.user,score:s,primaryReason:a?"contact":n?"hybrid":"proximity",distance:e.distance,mutualCount:n?.mutualCount,isContact:!!a,metadata:{sharedInterests:e.sharedInterests,mutualFollowers:n?.mutualFollowers,contactInfo:a?.contactName,activityLevel:e.isRecentlyActive?"high":"medium"}})})),t.forEach((e=>{if(!r.has(e.user.id)){const t=o.find((t=>t.user.id===e.user.id)),n=v(e.user,void 0,e,t);r.set(e.user.id,{user:e.user,score:n,primaryReason:t?"contact":"mutual",mutualCount:e.mutualCount,isContact:!!t,metadata:{mutualFollowers:e.mutualFollowers,contactInfo:t?.contactName,activityLevel:"medium"}})}})),o.forEach((e=>{if(!r.has(e.user.id)){const t=v(e.user,void 0,void 0,e);r.set(e.user.id,{user:e.user,score:t,primaryReason:"contact",isContact:!0,metadata:{contactInfo:e.contactName,activityLevel:e.isNewUser?"high":"low"}})}})),Array.from(r.values()).sort(((e,t)=>t.score.totalScore-e.score.totalScore))}),[C,w,c,v]);return(0,r.useEffect)((()=>{j()}),[j]),(0,r.useMemo)((()=>({currentUserId:e,userLocation:t,locationPermission:n,contactsPermission:s,distanceFilter:l,syncedContacts:c,isLoadingLocation:f,isLoadingContacts:h,setDistanceFilter:d,requestLocationPermission:x,requestContactsPermission:b,getCurrentLocation:j,getProximitySuggestions:C,getMutualConnections:w,syncContacts:S,getHybridSuggestions:k})),[e,t,n,s,l,c,f,h,x,b,j,C,w,S,k])})),V=[{label:"1km",value:"1km"},{label:"5km",value:"5km"},{label:"20km",value:"20km"},{label:"City",value:"city"}];function L(){const e=(0,F.useRouter)(),{distanceFilter:t,setDistanceFilter:o,getHybridSuggestions:n,syncContacts:s,isLoadingContacts:c,requestLocationPermission:u,requestContactsPermission:h}=R(),[m,y]=(0,r.useState)([]),[x,b]=(0,r.useState)(!1),[j,P]=(0,r.useState)(!1),[D,A]=(0,r.useState)("all"),[L,W]=(0,r.useState)(new Set),[E,M]=(0,r.useState)(null),N=(0,r.useCallback)((()=>{b(!0);const e=n();y(e),b(!1)}),[n]),H=m.filter((e=>"all"===D||("proximity"===D?"proximity"===e.primaryReason||"hybrid"===e.primaryReason:"mutual"===D?"mutual"===e.primaryReason||"hybrid"===e.primaryReason:"contact"!==D||e.isContact)));(0,r.useEffect)((()=>{N()}),[t,N]);const U=e=>e.isContact?"From contacts":e.distance?`${e.distance}km away`:e.mutualCount?`${e.mutualCount} mutual`:"Suggested for you",q=(e,t)=>{console.log(`${t} user:`,e),M(null),"hide"===t&&y((t=>t.filter((t=>t.user.id!==e))))};return(0,g.jsxs)(a.default,{style:O.container,children:[(0,g.jsxs)(a.default,{style:O.header,children:[(0,g.jsx)(i.default,{style:O.title,children:"Discover People"}),(0,g.jsxs)(l.default,{style:O.filterButton,onPress:()=>P(!j),children:[(0,g.jsx)(i.default,{style:O.filterButtonText,children:"Filters"}),(0,g.jsx)(S.default,{size:16,color:f.Colors.textSecondary})]})]}),j&&(0,g.jsxs)(a.default,{style:O.filtersContainer,children:[(0,g.jsxs)(a.default,{style:O.filterSection,children:[(0,g.jsx)(i.default,{style:O.filterLabel,children:"Distance"}),(0,g.jsx)(a.default,{style:O.filterOptions,children:V.map((e=>(0,g.jsx)(l.default,{style:[O.filterChip,t===e.value&&O.filterChipActive],onPress:()=>o(e.value),children:(0,g.jsx)(i.default,{style:[O.filterChipText,t===e.value&&O.filterChipTextActive],children:e.label})},e.value)))})]}),(0,g.jsxs)(a.default,{style:O.actionButtons,children:[(0,g.jsxs)(l.default,{style:O.actionButton,onPress:async()=>{await u(),N()},children:[(0,g.jsx)(v.default,{size:16,color:f.Colors.primary}),(0,g.jsx)(i.default,{style:O.actionButtonText,children:"Enable Location"})]}),(0,g.jsxs)(l.default,{style:O.actionButton,onPress:async()=>{await h(),await s(),N()},disabled:c,children:[c?(0,g.jsx)(C.default,{size:"small",color:f.Colors.primary}):(0,g.jsx)(k.default,{size:16,color:f.Colors.primary}),(0,g.jsx)(i.default,{style:O.actionButtonText,children:"Sync Contacts"})]})]})]}),(0,g.jsxs)(a.default,{style:O.tabs,children:[(0,g.jsx)(l.default,{style:[O.tab,"all"===D&&O.tabActive],onPress:()=>A("all"),children:(0,g.jsx)(i.default,{style:[O.tabText,"all"===D&&O.tabTextActive],children:"All"})}),(0,g.jsxs)(l.default,{style:[O.tab,"proximity"===D&&O.tabActive],onPress:()=>A("proximity"),children:[(0,g.jsx)(v.default,{size:14,color:"proximity"===D?f.Colors.primary:f.Colors.textSecondary}),(0,g.jsx)(i.default,{style:[O.tabText,"proximity"===D&&O.tabTextActive],children:"Nearby"})]}),(0,g.jsxs)(l.default,{style:[O.tab,"mutual"===D&&O.tabActive],onPress:()=>A("mutual"),children:[(0,g.jsx)(I.default,{size:14,color:"mutual"===D?f.Colors.primary:f.Colors.textSecondary}),(0,g.jsx)(i.default,{style:[O.tabText,"mutual"===D&&O.tabTextActive],children:"Mutual"})]}),(0,g.jsxs)(l.default,{style:[O.tab,"contact"===D&&O.tabActive],onPress:()=>A("contact"),children:[(0,g.jsx)(k.default,{size:14,color:"contact"===D?f.Colors.success:f.Colors.textSecondary}),(0,g.jsx)(i.default,{style:[O.tabText,"contact"===D&&O.tabTextActive],children:"Contacts"})]})]}),x?(0,g.jsx)(a.default,{style:O.loadingContainer,children:(0,g.jsx)(C.default,{size:"large",color:f.Colors.primary})}):(0,g.jsxs)(d.default,{style:O.suggestionsList,showsVerticalScrollIndicator:!1,children:[H.map(((t,o)=>{const r=L.has(t.user.id),n=(e=>{if(e.metadata.mutualFollowers&&e.metadata.mutualFollowers.length>0){const t=e.metadata.mutualFollowers[0].displayName;if(e.mutualCount&&e.mutualCount>1){const o=e.metadata.mutualFollowers[1]?.displayName;return o?`Followed by ${t} and ${o}`:`Followed by ${t} and ${e.mutualCount-1} other${e.mutualCount-1>1?"s":""}`}return`Followed by ${t}`}return null})(t);return(0,g.jsxs)(a.default,{children:[(0,g.jsxs)(l.default,{style:O.suggestionRow,onPress:()=>e.push(`/user/${t.user.id}`),activeOpacity:.7,children:[(0,g.jsx)(p.Avatar,{source:t.user.profileImage,size:50}),(0,g.jsxs)(a.default,{style:O.userInfoColumn,children:[(0,g.jsxs)(a.default,{style:O.nameRowCompact,children:[(0,g.jsx)(i.default,{style:O.displayNameCompact,numberOfLines:1,children:t.user.displayName}),t.user.isVerified&&(0,g.jsx)(a.default,{style:O.verifiedBadgeContainer,children:(0,g.jsx)(T.default,{size:10,color:f.Colors.text,strokeWidth:3})})]}),(0,g.jsx)(i.default,{style:O.suggestionInfo,numberOfLines:1,children:n||U(t)})]}),(0,g.jsxs)(a.default,{style:O.actionsRow,children:[(0,g.jsx)(l.default,{style:[O.followButtonCompact,r&&O.followingButton],onPress:e=>{var o;e.stopPropagation(),o=t.user.id,W((e=>{const t=new Set(e);return t.has(o)?t.delete(o):t.add(o),t}))},activeOpacity:.8,children:r?(0,g.jsx)(a.default,{style:O.followingButtonContent,children:(0,g.jsx)(i.default,{style:O.followingButtonText,children:"Following"})}):(0,g.jsx)(w.LinearGradient,{colors:["#667eea","#764ba2"],start:{x:0,y:0},end:{x:1,y:0},style:O.followButtonGradientCompact,children:(0,g.jsx)(i.default,{style:O.followButtonTextCompact,children:"Follow"})})}),(0,g.jsx)(l.default,{style:O.menuButton,onPress:e=>{e.stopPropagation(),M(E===t.user.id?null:t.user.id)},children:(0,g.jsx)(B.default,{size:18,color:f.Colors.textSecondary})})]})]}),E===t.user.id&&(0,g.jsxs)(a.default,{style:O.menuDropdown,children:[(0,g.jsx)(l.default,{style:O.menuItem,onPress:()=>q(t.user.id,"hide"),children:(0,g.jsx)(i.default,{style:O.menuItemText,children:"Hide suggestion"})}),(0,g.jsx)(a.default,{style:O.menuDivider}),(0,g.jsx)(l.default,{style:O.menuItem,onPress:()=>q(t.user.id,"report"),children:(0,g.jsx)(i.default,{style:[O.menuItemText,O.menuItemDanger],children:"Report user"})})]}),o<H.length-1&&(0,g.jsx)(a.default,{style:O.divider})]},t.user.id)})),0===H.length&&(0,g.jsxs)(a.default,{style:O.emptyState,children:[(0,g.jsx)(z.default,{size:48,color:f.Colors.textSecondary}),(0,g.jsx)(i.default,{style:O.emptyText,children:"No suggestions found"}),(0,g.jsx)(i.default,{style:O.emptySubtext,children:"Try adjusting your filters or sync contacts"})]})]})]})}const O=n.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:12},title:{fontSize:20,fontWeight:"700",color:f.Colors.text},filterButton:{flexDirection:"row",alignItems:"center",gap:4,paddingHorizontal:12,paddingVertical:6,backgroundColor:f.Colors.card,borderRadius:16},filterButtonText:{fontSize:14,color:f.Colors.textSecondary,fontWeight:"500"},filtersContainer:{backgroundColor:f.Colors.card,marginHorizontal:16,marginBottom:12,padding:16,borderRadius:16,gap:16},filterSection:{gap:8},filterLabel:{fontSize:14,fontWeight:"600",color:f.Colors.text},filterOptions:{flexDirection:"row",gap:8},filterChip:{paddingHorizontal:16,paddingVertical:8,backgroundColor:f.Colors.background,borderRadius:20,borderWidth:1,borderColor:f.Colors.border},filterChipActive:{backgroundColor:f.Colors.primary,borderColor:f.Colors.primary},filterChipText:{fontSize:14,color:f.Colors.textSecondary,fontWeight:"500"},filterChipTextActive:{color:f.Colors.text},actionButtons:{flexDirection:"row",gap:8},actionButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:6,paddingVertical:10,backgroundColor:f.Colors.background,borderRadius:12,borderWidth:1,borderColor:f.Colors.border},actionButtonText:{fontSize:13,color:f.Colors.text,fontWeight:"500"},tabs:{flexDirection:"row",paddingHorizontal:16,gap:8,marginBottom:12},tab:{flexDirection:"row",alignItems:"center",gap:4,paddingHorizontal:16,paddingVertical:8,backgroundColor:f.Colors.card,borderRadius:20},tabActive:{backgroundColor:f.Colors.primary},tabText:{fontSize:14,color:f.Colors.textSecondary,fontWeight:"500"},tabTextActive:{color:f.Colors.text},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},suggestionsList:{flex:1},suggestionRow:{flexDirection:"row",alignItems:"center",paddingVertical:14,paddingHorizontal:16,gap:12},userInfoColumn:{flex:1,gap:2},nameRowCompact:{flexDirection:"row",alignItems:"center",gap:6},displayNameCompact:{fontSize:16,fontWeight:"700",color:f.Colors.text},verifiedBadgeContainer:{width:16,height:16,borderRadius:8,backgroundColor:f.Colors.primary,alignItems:"center",justifyContent:"center"},suggestionInfo:{fontSize:13,color:f.Colors.textSecondary},actionsRow:{flexDirection:"row",alignItems:"center",gap:8},followButtonCompact:{borderRadius:20,overflow:"hidden",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},followButtonGradientCompact:{paddingHorizontal:20,paddingVertical:8},followButtonTextCompact:{fontSize:14,fontWeight:"600",color:"#FFFFFF"},followingButton:{backgroundColor:f.Colors.card,borderWidth:1,borderColor:f.Colors.border,shadowOpacity:0,elevation:0},followingButtonContent:{paddingHorizontal:20,paddingVertical:8},followingButtonText:{fontSize:14,fontWeight:"600",color:f.Colors.textSecondary},menuButton:{padding:4},menuDropdown:{backgroundColor:f.Colors.card,marginHorizontal:16,marginTop:-8,marginBottom:8,borderRadius:12,borderWidth:1,borderColor:f.Colors.border,overflow:"hidden",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.15,shadowRadius:8,elevation:5},menuItem:{paddingVertical:12,paddingHorizontal:16},menuItemText:{fontSize:14,color:f.Colors.text,fontWeight:"500"},menuItemDanger:{color:f.Colors.error},menuDivider:{height:1,backgroundColor:f.Colors.border,opacity:.3},divider:{height:1,backgroundColor:f.Colors.border,marginLeft:78,opacity:.1},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60,gap:12},emptyText:{fontSize:16,fontWeight:"600",color:f.Colors.text},emptySubtext:{fontSize:14,color:f.Colors.textSecondary,textAlign:"center"}});var W=o(36412),E=o(35647),M=o(3356);const N=[{tag:"vibesync",count:12500,trending:!0},{tag:"music",count:8900,trending:!0},{tag:"art",count:7200,trending:!1},{tag:"photography",count:6800,trending:!0},{tag:"travel",count:5400,trending:!1},{tag:"food",count:4900,trending:!1},{tag:"fitness",count:4200,trending:!0},{tag:"fashion",count:3800,trending:!1}],H=()=>{const{colors:e}=(0,W.useTheme)();return(0,g.jsxs)(a.default,{style:U.container,children:[(0,g.jsxs)(a.default,{style:U.header,children:[(0,g.jsx)(E.default,{size:20,color:e.primary}),(0,g.jsx)(i.default,{style:[U.headerTitle,{color:e.text}],children:"Trending Hashtags"})]}),(0,g.jsx)(d.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:U.scrollContent,children:N.map(((t,o)=>{return(0,g.jsxs)(l.default,{style:[U.hashtagCard,{backgroundColor:e.cardLight,borderColor:e.border}],onPress:()=>{return e=t.tag,void F.router.push(`/hashtag/${e}`);var e},children:[(0,g.jsxs)(a.default,{style:U.hashtagHeader,children:[(0,g.jsx)(a.default,{style:[U.hashtagIcon,{backgroundColor:"rgba(135, 206, 235, 0.15)"}],children:(0,g.jsx)(M.default,{size:18,color:"#87CEEB"})}),t.trending&&(0,g.jsx)(a.default,{style:U.trendingBadge,children:(0,g.jsx)(E.default,{size:12,color:"#FF6B6B"})})]}),(0,g.jsxs)(i.default,{style:[U.hashtagTag,{color:"#87CEEB"}],children:["#",t.tag]}),(0,g.jsxs)(i.default,{style:[U.hashtagCount,{color:e.textSecondary}],children:[(r=t.count,r>=1e6?(r/1e6).toFixed(1).replace(/\.0$/,"")+"M":r>=1e3?(r/1e3).toFixed(1).replace(/\.0$/,"")+"K":r.toString())," posts"]})]},o);var r}))})]})},U=n.default.create({container:{marginVertical:16},header:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,marginBottom:12,gap:8},headerTitle:{fontSize:18,fontWeight:"700"},scrollContent:{paddingHorizontal:16,gap:12},hashtagCard:{width:140,padding:16,borderRadius:16,borderWidth:1},hashtagHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},hashtagIcon:{width:36,height:36,borderRadius:18,justifyContent:"center",alignItems:"center"},trendingBadge:{width:24,height:24,borderRadius:12,backgroundColor:"rgba(255, 107, 107, 0.15)",justifyContent:"center",alignItems:"center"},hashtagTag:{fontSize:16,fontWeight:"700",marginBottom:4},hashtagCount:{fontSize:12,fontWeight:"500"}});function q(){const{colors:e}=(0,W.useTheme)(),[t,o]=(0,r.useState)(""),[n,c]=(0,r.useState)("suggestions"),[u]=(0,r.useState)(D.mockUsers),f=e=>{console.log("Follow pressed for user:",e)},m=e=>{F.router.push(`/user/${e}`)},p=u.filter((e=>e.displayName.toLowerCase().includes(t.toLowerCase())||e.username.toLowerCase().includes(t.toLowerCase())||e.bio&&e.bio.toLowerCase().includes(t.toLowerCase())));return(0,g.jsxs)(a.default,{style:_.container,children:[(0,g.jsx)(h,{value:t,onChangeText:o,placeholder:"Search people, music, vibes...",style:_.searchBar}),(0,g.jsxs)(a.default,{style:_.tabsContainer,children:[(0,g.jsx)(l.default,{style:[_.tab,"suggestions"===n&&_.activeTab],onPress:()=>c("suggestions"),children:(0,g.jsx)(i.default,{style:[_.tabText,"suggestions"===n&&_.activeTabText],children:"Suggestions"})}),(0,g.jsx)(l.default,{style:[_.tab,"people"===n&&_.activeTab],onPress:()=>c("people"),children:(0,g.jsx)(i.default,{style:[_.tabText,"people"===n&&_.activeTabText],children:"Search"})})]}),"suggestions"===n?(0,g.jsxs)(d.default,{showsVerticalScrollIndicator:!1,children:[(0,g.jsx)(H,{}),(0,g.jsx)(L,{})]}):(0,g.jsx)(s.default,{data:p,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,g.jsx)(b,{user:e,onFollowPress:f,onUserPress:m}),ListEmptyComponent:()=>(0,g.jsx)(a.default,{style:_.emptyContainer,children:(0,g.jsx)(i.default,{style:_.emptyText,children:t?`No results found for "${t}"`:"No users found"})}),showsVerticalScrollIndicator:!1})]})}const _=n.default.create({container:{flex:1,backgroundColor:f.Colors.background},searchBar:{margin:16},tabsContainer:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:f.Colors.border},tab:{flex:1,paddingVertical:12,alignItems:"center"},activeTab:{borderBottomWidth:2,borderBottomColor:f.Colors.primary},tabText:{color:f.Colors.textSecondary,fontSize:16},activeTabText:{color:f.Colors.text,fontWeight:"600"},emptyContainer:{flex:1,alignItems:"center",justifyContent:"center",padding:24},emptyText:{color:f.Colors.textSecondary,fontSize:16,textAlign:"center"}})},34248:(e,t,o)=>{"use strict";o.r(t),o.d(t,{PostCard:()=>he});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(51690),d=o(15009),c=o(9443),u=o(5894),f=o(73894),g=o(29771),h=o(34927),m=o(54407),p=o(78264),y=o(2772),x=o(36393),b=o(36412),j=o(25924),C=o(76156),w=o(83527),S=o(84001),v=o(70990),k=o(78950),I=o(32785),T=o(83647),B=o(86976),z=o(25786),F=o(8979),P=o(29723),D=o(54962),A=o(18004),R=o(53122),V=o(34253),L=o(76221),O=o(90046),W=o(60397);const E=({visible:e,onClose:t,postId:o,postAuthorId:l,isFollowing:d=!1,commentsEnabled:c=!0,likesVisible:u=!0,isPinned:f=!1,onEdit:g,onDelete:h,onPin:m,onToggleComments:E,onToggleLikes:N,onViewInsights:H,onCopyLink:U,onSave:q,onShare:_,onReport:$,onMute:Y,onFollow:G,onUnfollow:J,onBlock:K,onVoiceReply:Q,onRemixVibez:Z})=>{const{colors:X}=(0,b.useTheme)(),{user:ee}=(0,j.useAuth)(),te=ee?.id===l,oe=[{id:"edit",label:"Edit Post",icon:(0,W.jsx)(C.default,{size:20,color:X.text}),onPress:()=>{g?.(),t()}},{id:"delete",label:"Delete Post",icon:(0,W.jsx)(w.default,{size:20,color:X.error}),onPress:()=>{h?.(),t()},destructive:!0},{id:"pin",label:f?"Unpin from Profile":"Pin to Profile",icon:(0,W.jsx)(S.default,{size:20,color:X.text}),onPress:()=>{m?.(),t()}},{id:"toggle-comments",label:c?"Turn Off Comments":"Turn On Comments",icon:(0,W.jsx)(v.default,{size:20,color:X.text}),onPress:()=>{E?.(),t()}},{id:"toggle-likes",label:u?"Hide Like Counts":"Show Like Counts",icon:(0,W.jsx)(k.default,{size:20,color:X.text}),onPress:()=>{N?.(),t()}},{id:"insights",label:"View Insights",icon:(0,W.jsx)(I.default,{size:20,color:X.text}),onPress:()=>{H?.(),t()},divider:!0},{id:"copy-link",label:"Copy Link",icon:(0,W.jsx)(T.default,{size:20,color:X.text}),onPress:()=>{U?.(),t()}}],re=[{id:"save",label:"Save Post",icon:(0,W.jsx)(B.default,{size:20,color:X.text}),onPress:()=>{q?.(),t()}},{id:"share",label:"Share Post",icon:(0,W.jsx)(z.default,{size:20,color:X.text}),onPress:()=>{_?.(),t()}},{id:"copy-link",label:"Copy Link",icon:(0,W.jsx)(T.default,{size:20,color:X.text}),onPress:()=>{U?.(),t()},divider:!0},{id:"report",label:"Report Post",icon:(0,W.jsx)(F.default,{size:20,color:X.error}),onPress:()=>{$?.(),t()},destructive:!0},{id:"mute",label:"Mute Author",icon:(0,W.jsx)(P.default,{size:20,color:X.text}),onPress:()=>{Y?.(),t()}},{id:"follow-toggle",label:d?"Unfollow Author":"Follow Author",icon:d?(0,W.jsx)(D.default,{size:20,color:X.text}):(0,W.jsx)(A.default,{size:20,color:X.text}),onPress:()=>{d?J?.():G?.(),t()}},{id:"block",label:"Block Author",icon:(0,W.jsx)(R.default,{size:20,color:X.error}),onPress:()=>{K?.(),t()},destructive:!0}],ne=[{id:"voice-reply",label:"Reply with Voice",icon:(0,W.jsx)(V.default,{size:20,color:X.primary}),onPress:()=>{Q?.(),t()}},{id:"remix-vibez",label:"Remix with Vibez",icon:(0,W.jsx)(L.default,{size:20,color:X.primary}),onPress:()=>{Z?.(),t()}}],ae=te?oe:[...re,...ne];return(0,W.jsx)(p.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,statusBarTranslucent:!0,children:(0,W.jsxs)(i.default,{style:M.overlay,activeOpacity:1,onPress:t,children:[(0,W.jsx)(x.default,{intensity:80,style:n.default.absoluteFill,tint:"dark"}),(0,W.jsx)(s.default,{style:M.container,children:(0,W.jsxs)(i.default,{activeOpacity:1,onPress:e=>e.stopPropagation(),style:[M.menuContainer,{backgroundColor:X.card,borderColor:X.border}],children:[(0,W.jsxs)(s.default,{style:M.header,children:[(0,W.jsx)(a.default,{style:[M.headerTitle,{color:X.text}],children:te?"Post Options":"Actions"}),(0,W.jsx)(i.default,{onPress:t,style:M.closeButton,children:(0,W.jsx)(O.default,{size:24,color:X.textSecondary})})]}),(0,W.jsx)(y.default,{style:M.optionsList,showsVerticalScrollIndicator:!1,children:ae.map(((e,t)=>(0,W.jsxs)(r.Fragment,{children:[(0,W.jsxs)(i.default,{style:[M.option,e.destructive&&M.destructiveOption],onPress:e.onPress,activeOpacity:.7,children:[(0,W.jsx)(s.default,{style:M.optionIcon,children:e.icon}),(0,W.jsx)(a.default,{style:[M.optionLabel,{color:e.destructive?X.error:X.text}],children:e.label})]}),e.divider&&(0,W.jsx)(s.default,{style:[M.divider,{backgroundColor:X.border}]})]},e.id)))})]})})]})})},M=n.default.create({overlay:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{justifyContent:"flex-end",paddingBottom:20},menuContainer:{marginHorizontal:16,borderRadius:24,borderWidth:1,overflow:"hidden",maxHeight:"80%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},headerTitle:{fontSize:18,fontWeight:"700"},closeButton:{padding:4},optionsList:{paddingVertical:8},option:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:16},destructiveOption:{backgroundColor:"rgba(239, 68, 68, 0.05)"},optionIcon:{marginRight:16,width:24,alignItems:"center"},optionLabel:{fontSize:16,fontWeight:"500"},divider:{height:1,marginVertical:8,marginHorizontal:20}});var N=o(16773),H=o(44767),U=o(47640),q=o(52790);const _="engagement_data",[$,Y]=(0,q.default)((()=>{const{user:e}=(0,j.useAuth)(),[t,o]=(0,r.useState)({likes:[],revibes:[],savedPosts:[],collections:[{id:"default",name:"Saved",postIds:[],createdAt:(new Date).toISOString()}],commentLikes:[]}),n=(0,r.useCallback)((async()=>{try{const e=await U.default.getItem(_);e&&o(JSON.parse(e))}catch(e){console.error("Error loading engagement data:",e)}}),[]);(0,r.useEffect)((()=>{n()}),[n]);const a=(0,r.useCallback)((async e=>{try{await U.default.setItem(_,JSON.stringify(e)),o(e)}catch(t){console.error("Error saving engagement data:",t)}}),[]),s=(0,r.useCallback)((async(o,r)=>{if(!e)return!1;const n=e.id===r;if(t.likes.find((t=>t.postId===o&&t.userId===e.id))){const r=t.likes.filter((t=>!(t.postId===o&&t.userId===e.id)));return await a(Object.assign({},t,{likes:r})),!1}{const r={postId:o,userId:e.id,timestamp:(new Date).toISOString(),isAuthorLike:n};return await a(Object.assign({},t,{likes:[...t.likes,r]})),!0}}),[e,t,a]),i=(0,r.useCallback)((async(o,r)=>{if(!e)return!1;if(t.revibes.find((t=>t.postId===o&&t.userId===e.id))){const r=t.revibes.filter((t=>!(t.postId===o&&t.userId===e.id)));return await a(Object.assign({},t,{revibes:r})),!1}{const n={id:`revibe_${Date.now()}`,postId:o,userId:e.id,caption:r,timestamp:(new Date).toISOString()};return await a(Object.assign({},t,{revibes:[...t.revibes,n]})),!0}}),[e,t,a]),l=(0,r.useCallback)((async(o,r="default")=>{if(!e)return!1;const n=t.collections.find((e=>e.id===r));if(!n)return!1;if(n.postIds.includes(o)){const e=t.collections.map((e=>e.id===r?Object.assign({},e,{postIds:e.postIds.filter((e=>e!==o))}):e)),n=e.flatMap((e=>e.postIds));return await a(Object.assign({},t,{collections:e,savedPosts:n})),!1}{const e=t.collections.map((e=>e.id===r?Object.assign({},e,{postIds:[...e.postIds,o]}):e)),n=e.flatMap((e=>e.postIds));return await a(Object.assign({},t,{collections:e,savedPosts:n})),!0}}),[e,t,a]),d=(0,r.useCallback)((async o=>{if(!e)return null;const r={id:`collection_${Date.now()}`,name:o,createdAt:(new Date).toISOString(),postIds:[]};return await a(Object.assign({},t,{collections:[...t.collections,r]})),r}),[e,t,a]),c=(0,r.useCallback)((async e=>{if("default"===e)return!1;const o=t.collections.filter((t=>t.id!==e)),r=o.flatMap((e=>e.postIds));return await a(Object.assign({},t,{collections:o,savedPosts:r})),!0}),[t,a]),u=(0,r.useCallback)((async(o,r)=>{if(!e)return!1;const n=e.id===r;if(t.commentLikes.find((t=>t.commentId===o&&t.userId===e.id))){const r=t.commentLikes.filter((t=>!(t.commentId===o&&t.userId===e.id)));return await a(Object.assign({},t,{commentLikes:r})),!1}{const r={commentId:o,userId:e.id,timestamp:(new Date).toISOString(),isAuthorLike:n};return await a(Object.assign({},t,{commentLikes:[...t.commentLikes,r]})),!0}}),[e,t,a]),f=(0,r.useCallback)((o=>!!e&&t.likes.some((t=>t.postId===o&&t.userId===e.id))),[e,t.likes]),g=(0,r.useCallback)((o=>!!e&&t.revibes.some((t=>t.postId===o&&t.userId===e.id))),[e,t.revibes]),h=(0,r.useCallback)((e=>t.savedPosts.includes(e)),[t.savedPosts]),m=(0,r.useCallback)((o=>!!e&&t.commentLikes.some((t=>t.commentId===o&&t.userId===e.id))),[e,t.commentLikes]),p=(0,r.useCallback)((e=>t.likes.filter((t=>t.postId===e))),[t.likes]),y=(0,r.useCallback)((e=>t.revibes.filter((t=>t.postId===e))),[t.revibes]),x=(0,r.useCallback)((e=>t.commentLikes.filter((t=>t.commentId===e))),[t.commentLikes]),b=(0,r.useCallback)((e=>{const o=t.collections.find((t=>t.id===e));return o?.postIds||[]}),[t.collections]);return(0,r.useMemo)((()=>({likes:t.likes,revibes:t.revibes,savedPosts:t.savedPosts,collections:t.collections,commentLikes:t.commentLikes,likePost:s,revibePost:i,savePost:l,createCollection:d,deleteCollection:c,likeComment:u,isPostLiked:f,isPostRevibed:g,isPostSaved:h,isCommentLiked:m,getPostLikes:p,getPostRevibes:y,getCommentLikes:x,getSavedPostsByCollection:b})),[t.likes,t.revibes,t.savedPosts,t.collections,t.commentLikes,s,i,l,d,c,u,f,g,h,m,p,y,x,b])}));var G=o(308);const J=({visible:e,onClose:t,post:o,onRevibe:l})=>{const{colors:d}=(0,b.useTheme)(),{revibePost:c,isPostRevibed:u}=Y(),[f,g]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),j=u(o.id);return(0,W.jsx)(p.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,children:(0,W.jsxs)(H.default,{behavior:"height",style:K.container,children:[(0,W.jsx)(i.default,{style:K.backdrop,activeOpacity:1,onPress:t,children:(0,W.jsx)(x.default,{intensity:80,style:n.default.absoluteFill})}),(0,W.jsxs)(s.default,{style:[K.sheet,{backgroundColor:d.card}],children:[(0,W.jsxs)(s.default,{style:K.header,children:[(0,W.jsxs)(s.default,{style:K.headerLeft,children:[(0,W.jsx)(s.default,{style:[K.iconContainer,{backgroundColor:d.primary+"20"}],children:(0,W.jsx)(G.default,{size:24,color:d.primary})}),(0,W.jsx)(a.default,{style:[K.title,{color:d.text}],children:j?"Undo Revibe?":"Revibe to your followers?"})]}),(0,W.jsx)(i.default,{onPress:t,style:K.closeButton,children:(0,W.jsx)(O.default,{size:24,color:d.textSecondary})})]}),(0,W.jsxs)(y.default,{style:K.content,showsVerticalScrollIndicator:!1,children:[(0,W.jsxs)(s.default,{style:[K.postPreview,{backgroundColor:d.background}],children:[(0,W.jsxs)(a.default,{style:[K.postAuthor,{color:d.textSecondary}],children:["@",o.username]}),(0,W.jsx)(a.default,{style:[K.postContent,{color:d.text}],numberOfLines:3,children:o.content})]}),!j&&(0,W.jsxs)(s.default,{style:K.captionContainer,children:[(0,W.jsx)(a.default,{style:[K.captionLabel,{color:d.textSecondary}],children:"Add a caption (optional)"}),(0,W.jsx)(N.default,{style:[K.captionInput,{backgroundColor:d.background,color:d.text,borderColor:d.border}],placeholder:"What's on your mind?",placeholderTextColor:d.textSecondary,value:f,onChangeText:g,multiline:!0,maxLength:280,textAlignVertical:"top"}),(0,W.jsxs)(a.default,{style:[K.charCount,{color:d.textSecondary}],children:[f.length,"/280"]})]})]}),(0,W.jsxs)(s.default,{style:K.actions,children:[(0,W.jsx)(i.default,{style:[K.cancelButton,{backgroundColor:d.background}],onPress:t,children:(0,W.jsx)(a.default,{style:[K.cancelText,{color:d.text}],children:"Cancel"})}),(0,W.jsxs)(i.default,{style:[K.revibeButton,{backgroundColor:j?d.error:d.primary,opacity:h?.6:1}],onPress:async()=>{m(!0);try{await c(o.id,f.trim()||void 0)?(console.log("Post revibed successfully"),l?.(o.id,f.trim()||void 0)):console.log("Post unrevibed"),g(""),t()}catch(e){console.error("Error revibing post:",e)}finally{m(!1)}},disabled:h,children:[(0,W.jsx)(G.default,{size:20,color:"#FFFFFF"}),(0,W.jsx)(a.default,{style:K.revibeText,children:h?"Processing...":j?"Undo Revibe":"Revibe"})]})]})]})]})})},K=n.default.create({container:{flex:1,justifyContent:"flex-end"},backdrop:Object.assign({},n.default.absoluteFillObject),sheet:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%",paddingBottom:34},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:20,paddingBottom:16},headerLeft:{flexDirection:"row",alignItems:"center",flex:1},iconContainer:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",marginRight:12},title:{fontSize:18,fontWeight:"700",flex:1},closeButton:{padding:4},content:{paddingHorizontal:20},postPreview:{padding:16,borderRadius:16,marginBottom:20},postAuthor:{fontSize:14,fontWeight:"600",marginBottom:8},postContent:{fontSize:14,lineHeight:20},captionContainer:{marginBottom:20},captionLabel:{fontSize:14,fontWeight:"600",marginBottom:8},captionInput:{borderWidth:1,borderRadius:12,padding:12,fontSize:15,minHeight:100},charCount:{fontSize:12,textAlign:"right",marginTop:4},actions:{flexDirection:"row",paddingHorizontal:20,paddingTop:16,gap:12},cancelButton:{flex:1,paddingVertical:14,borderRadius:12,alignItems:"center",justifyContent:"center"},cancelText:{fontSize:16,fontWeight:"600"},revibeButton:{flex:1,paddingVertical:14,borderRadius:12,alignItems:"center",justifyContent:"center",flexDirection:"row",gap:8},revibeText:{fontSize:16,fontWeight:"700",color:"#FFFFFF"}});var Q=o(75752),Z=o(70106),X=o(7592);const ee=({visible:e,onClose:t,postId:o,onSave:d})=>{const{colors:c}=(0,b.useTheme)(),{collections:u,savePost:f,createCollection:g,deleteCollection:h,getSavedPostsByCollection:m}=Y(),[j,C]=(0,r.useState)(!1),[w,S]=(0,r.useState)(""),[v,k]=(0,r.useState)(!1);return(0,W.jsxs)(p.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,children:[(0,W.jsx)(i.default,{style:te.container,activeOpacity:1,onPress:t,children:(0,W.jsx)(x.default,{intensity:80,style:n.default.absoluteFill})}),(0,W.jsxs)(s.default,{style:[te.sheet,{backgroundColor:c.card}],children:[(0,W.jsxs)(s.default,{style:te.header,children:[(0,W.jsxs)(s.default,{style:te.headerLeft,children:[(0,W.jsx)(s.default,{style:[te.iconContainer,{backgroundColor:c.primary+"20"}],children:(0,W.jsx)(B.default,{size:24,color:c.primary})}),(0,W.jsx)(a.default,{style:[te.title,{color:c.text}],children:"Save to Collection"})]}),(0,W.jsx)(i.default,{onPress:t,style:te.closeButton,children:(0,W.jsx)(O.default,{size:24,color:c.textSecondary})})]}),(0,W.jsxs)(y.default,{style:te.content,showsVerticalScrollIndicator:!1,children:[u.map((e=>{const r=(n=e.id,m(n).includes(o));var n;const g=m(e.id).length;return(0,W.jsxs)(i.default,{style:[te.collectionItem,{backgroundColor:r?c.primary+"10":c.background,borderColor:r?c.primary:c.border}],onPress:()=>(async e=>{try{const r=await f(o,e),n=u.find((t=>t.id===e));r?(console.log(`Post saved to ${n?.name}`),l.default.alert("Saved",`Post saved to ${n?.name}`)):(console.log(`Post removed from ${n?.name}`),l.default.alert("Removed",`Post removed from ${n?.name}`)),d?.(o,e),t()}catch(r){console.error("Error saving post:",r),l.default.alert("Error","Failed to save post")}})(e.id),onLongPress:()=>{"default"!==e.id&&((e,t)=>{l.default.alert("Delete Collection",`Are you sure you want to delete "${t}"?`,[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:async()=>{await h(e),l.default.alert("Deleted",`Collection "${t}" deleted`)}}])})(e.id,e.name)},children:[(0,W.jsxs)(s.default,{style:te.collectionLeft,children:[(0,W.jsx)(s.default,{style:[te.collectionIcon,{backgroundColor:r?c.primary+"20":c.card}],children:(0,W.jsx)(Q.default,{size:20,color:r?c.primary:c.textSecondary})}),(0,W.jsxs)(s.default,{style:te.collectionInfo,children:[(0,W.jsx)(a.default,{style:[te.collectionName,{color:c.text}],children:e.name}),(0,W.jsxs)(a.default,{style:[te.collectionCount,{color:c.textSecondary}],children:[g," ",1===g?"post":"posts"]})]})]}),r&&(0,W.jsx)(s.default,{style:[te.checkmark,{backgroundColor:c.primary}],children:(0,W.jsx)(Z.default,{size:16,color:"#FFFFFF"})})]},e.id)})),j?(0,W.jsxs)(s.default,{style:[te.newCollectionForm,{backgroundColor:c.background}],children:[(0,W.jsx)(N.default,{style:[te.newCollectionInput,{backgroundColor:c.card,color:c.text,borderColor:c.border}],placeholder:"Collection name",placeholderTextColor:c.textSecondary,value:w,onChangeText:S,maxLength:30,autoFocus:!0}),(0,W.jsxs)(s.default,{style:te.newCollectionActions,children:[(0,W.jsx)(i.default,{style:[te.newCollectionCancel,{backgroundColor:c.card}],onPress:()=>{C(!1),S("")},children:(0,W.jsx)(a.default,{style:[te.newCollectionCancelText,{color:c.text}],children:"Cancel"})}),(0,W.jsx)(i.default,{style:[te.newCollectionCreate,{backgroundColor:c.primary,opacity:v||!w.trim()?.5:1}],onPress:async()=>{if(w.trim()){k(!0);try{const e=await g(w.trim());e&&(console.log("Collection created:",e.name),await f(o,e.id),l.default.alert("Success",`Saved to new collection: ${e.name}`),S(""),C(!1),t())}catch(e){console.error("Error creating collection:",e),l.default.alert("Error","Failed to create collection")}finally{k(!1)}}else l.default.alert("Error","Please enter a collection name")},disabled:v||!w.trim(),children:(0,W.jsx)(a.default,{style:te.newCollectionCreateText,children:v?"Creating...":"Create"})})]})]}):(0,W.jsxs)(i.default,{style:[te.newCollectionButton,{backgroundColor:c.background}],onPress:()=>C(!0),children:[(0,W.jsx)(s.default,{style:[te.newCollectionIcon,{backgroundColor:c.primary+"20"}],children:(0,W.jsx)(X.default,{size:20,color:c.primary})}),(0,W.jsx)(a.default,{style:[te.newCollectionText,{color:c.primary}],children:"Create New Collection"})]})]})]})]})},te=n.default.create({container:{flex:1,justifyContent:"flex-end"},sheet:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"70%",paddingBottom:34},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:20,paddingBottom:16,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.05)"},headerLeft:{flexDirection:"row",alignItems:"center",flex:1},iconContainer:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",marginRight:12},title:{fontSize:18,fontWeight:"700",flex:1},closeButton:{padding:4},content:{paddingHorizontal:20,paddingTop:16},collectionItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:16,borderRadius:16,marginBottom:12,borderWidth:2},collectionLeft:{flexDirection:"row",alignItems:"center",flex:1},collectionIcon:{width:40,height:40,borderRadius:12,alignItems:"center",justifyContent:"center",marginRight:12},collectionInfo:{flex:1},collectionName:{fontSize:16,fontWeight:"600",marginBottom:2},collectionCount:{fontSize:13},checkmark:{width:24,height:24,borderRadius:12,alignItems:"center",justifyContent:"center"},newCollectionButton:{flexDirection:"row",alignItems:"center",padding:16,borderRadius:16,marginBottom:12},newCollectionIcon:{width:40,height:40,borderRadius:12,alignItems:"center",justifyContent:"center",marginRight:12},newCollectionText:{fontSize:16,fontWeight:"600"},newCollectionForm:{padding:16,borderRadius:16,marginBottom:12},newCollectionInput:{borderWidth:1,borderRadius:12,padding:12,fontSize:15,marginBottom:12},newCollectionActions:{flexDirection:"row",gap:12},newCollectionCancel:{flex:1,paddingVertical:12,borderRadius:12,alignItems:"center",justifyContent:"center"},newCollectionCancelText:{fontSize:15,fontWeight:"600"},newCollectionCreate:{flex:1,paddingVertical:12,borderRadius:12,alignItems:"center",justifyContent:"center"},newCollectionCreateText:{fontSize:15,fontWeight:"700",color:"#FFFFFF"}});var oe=o(8345),re=o(11835),ne=o(25275),ae=o(13854),se=o(37286),ie=o(21191),le=o(99323),de=o(49637),ce=o(10038);const ue=e=>e>=1e6?(e/1e6).toFixed(1).replace(/\\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\\.0$/,"")+"K":e.toString(),fe=(e,t)=>{const o=[],r=/(#\w+|@\w+)/g;let n,s=0;for(;null!==(n=r.exec(e));){n.index>s&&o.push((0,W.jsx)(a.default,{style:{color:t.text},children:e.slice(s,n.index)},`text-${s}`));const l=n[0].startsWith("#"),d=n[0].startsWith("@");o.push((0,W.jsx)(i.default,{onPress:()=>{if(n&&l){const e=n[0].slice(1);console.log("Navigate to hashtag:",e),de.router.push(`/hashtag/${e}`)}else if(n&&d){const e=n[0].slice(1);console.log("Navigate to user:",e),de.router.push(`/user/${e}`)}},children:(0,W.jsx)(a.default,{style:{color:l?"#1DA1F2":t.primary,fontWeight:"600"},children:n[0]})},`link-${n.index}`)),s=r.lastIndex}return s<e.length&&o.push((0,W.jsx)(a.default,{style:{color:t.text},children:e.slice(s)},`text-${s}`)),o.length>0?o:[(0,W.jsx)(a.default,{style:{color:t.text},children:e},"full-text")]},ge=({post:e,onLikePress:t,onCommentPress:o,onSharePress:n,onSavePress:p,onUserPress:y,onPress:x,onLike:C,onComment:w,onShare:S,showFullContent:v=!1,testID:k})=>{const{colors:I}=(0,b.useTheme)();(0,j.useAuth)();const{likePost:T,isPostLiked:z,isPostRevibed:F,isPostSaved:P,getPostLikes:D,getPostRevibes:A}=Y(),[R,V]=(0,r.useState)(!1),[L,O]=(0,r.useState)(!1),[M,N]=(0,r.useState)(!1),[H,U]=(0,r.useState)(!1),[q,_]=(0,r.useState)(!1),[$,K]=(0,r.useState)(!1),Q=(0,r.useRef)(new d.default.Value(1)).current,Z=(0,r.useRef)(new d.default.Value(1)).current,X=(0,r.useRef)(new d.default.Value(1)).current,te=(0,r.useMemo)((()=>z(e.id)),[z,e.id]),ge=(0,r.useMemo)((()=>F(e.id)),[F,e.id]),he=(0,r.useMemo)((()=>P(e.id)),[P,e.id]),pe=(0,r.useMemo)((()=>e.likes+D(e.id).length),[e.likes,D,e.id]),ye=(0,r.useMemo)((()=>e.shares+A(e.id).length),[e.shares,A,e.id]),xe=e=>{d.default.sequence([d.default.timing(e,{toValue:1.3,duration:150,useNativeDriver:!0}),d.default.spring(e,{toValue:1,friction:3,tension:40,useNativeDriver:!0})]).start()},be=()=>{xe(X),N(!0)};return(0,W.jsxs)(s.default,{style:[me.container,{backgroundColor:I.background,borderBottomColor:I.border}],testID:k,children:[(0,W.jsxs)(s.default,{style:me.header,children:[(0,W.jsxs)(i.default,{style:me.userInfo,onPress:()=>{de.router.push(`/user/${e.userId}`),y?.(e.userId)},children:[(0,W.jsx)(h.Avatar,{uri:e.profileImage,size:40}),(0,W.jsxs)(s.default,{style:me.nameContainer,children:[(0,W.jsxs)(s.default,{style:me.nameRow,children:[(0,W.jsxs)(a.default,{style:[me.username,{color:I.text}],children:["@",e.username]}),e.isVerified&&(0,W.jsx)(m.VerifiedBadge,{size:14})]}),(0,W.jsx)(a.default,{style:[me.timestamp,{color:I.textSecondary}],children:e.timestamp})]})]}),(0,W.jsx)(i.default,{style:me.moreButton,onPress:()=>V(!0),children:(0,W.jsx)(ne.default,{size:20,color:I.textSecondary})})]}),(0,W.jsx)(i.default,{activeOpacity:.95,onPress:()=>{de.router.push(`/post/${e.id}`),x?.(e.id)},children:(0,W.jsx)(s.default,{style:me.content,children:fe(e.content,I)})}),e.voiceNote&&(0,W.jsx)(s.default,{style:me.voiceNoteContainer,children:(0,W.jsx)(le.VoiceNotePlayer,{uri:e.voiceNote.url,duration:e.voiceNote.duration,waveform:e.voiceNote.waveform,size:"medium"})}),e.image&&(0,W.jsx)(i.default,{activeOpacity:.95,onPress:()=>{de.router.push(`/post/${e.id}`),x?.(e.id)},children:(0,W.jsx)(u.Image,{source:{uri:e.image},style:me.image,contentFit:"cover",transition:300})}),e.video&&(0,W.jsx)(i.default,{activeOpacity:.95,onPress:()=>{de.router.push(`/post/${e.id}`),x?.(e.id)},children:(0,W.jsx)(f.default,{source:{uri:e.video},style:me.video,useNativeControls:!0,resizeMode:g.ResizeMode.COVER,isLooping:!0,shouldPlay:!1})}),(0,W.jsxs)(s.default,{style:me.actions,children:[(0,W.jsxs)(s.default,{style:me.actionGroup,children:[(0,W.jsxs)(i.default,{style:me.actionButton,onPress:async()=>{xe(Q),await T(e.id,e.userId),t?.(e.id),C?.(e.id)},children:[(0,W.jsx)(d.default.View,{style:{transform:[{scale:Q}]},children:(0,W.jsx)(ae.default,{size:22,color:te?I.error:I.textSecondary,fill:te?I.error:"transparent"})}),(0,W.jsx)(a.default,{style:[me.actionText,{color:te?I.error:I.textSecondary}],children:ue(pe)})]}),(0,W.jsxs)(i.default,{style:me.actionButton,onPress:()=>{de.router.push(`/post/${e.id}?scrollToComments=true`),o?.(e.id),w?.(e.id)},children:[(0,W.jsx)(se.default,{size:22,color:I.textSecondary}),(0,W.jsx)(a.default,{style:[me.actionText,{color:I.textSecondary}],children:ue(e.comments)})]}),(0,W.jsxs)(i.default,{style:me.actionButton,onPress:()=>{xe(Z),O(!0)},children:[(0,W.jsx)(d.default.View,{style:{transform:[{scale:Z}]},children:(0,W.jsx)(G.default,{size:22,color:ge?I.success:I.textSecondary})}),(0,W.jsx)(a.default,{style:[me.actionText,{color:ge?I.success:I.textSecondary}],children:ue(ye)})]}),(0,W.jsxs)(s.default,{style:me.actionButton,children:[(0,W.jsx)(ie.default,{size:22,color:I.textSecondary}),(0,W.jsx)(a.default,{style:[me.actionText,{color:I.textSecondary}],children:ue(e.views)})]})]}),(0,W.jsx)(i.default,{onPress:be,children:(0,W.jsx)(d.default.View,{style:{transform:[{scale:X}]},children:(0,W.jsx)(B.default,{size:22,color:he?I.primary:I.textSecondary,fill:he?I.primary:"transparent"})})})]}),(0,W.jsx)(E,{visible:R,onClose:()=>V(!1),postId:e.id,postAuthorId:e.userId,isFollowing:$,onEdit:()=>{console.log("Edit post:",e.id),l.default.alert("Edit Post","Edit functionality coming soon")},onDelete:()=>{l.default.alert("Delete Post","Are you sure you want to delete this post?",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:()=>{console.log("Delete post:",e.id)}}])},onPin:()=>{console.log("Pin post:",e.id),l.default.alert("Success","Post pinned to profile")},onToggleComments:()=>{console.log("Toggle comments:",e.id),l.default.alert("Success","Comments toggled")},onToggleLikes:()=>{console.log("Toggle likes visibility:",e.id),l.default.alert("Success","Like counts visibility toggled")},onViewInsights:()=>{console.log("View insights:",e.id),l.default.alert("Insights",`Views: ${e.views}\\nLikes: ${pe}\\nComments: ${e.comments}\\nRevibes: ${ye}`)},onCopyLink:async()=>{const t=`vibesync://post/${e.id}`;await c.setStringAsync(t),l.default.alert("Success","Link copied to clipboard")},onSave:be,onShare:()=>{_(!0)},onReport:()=>{l.default.alert("Report Post","Why are you reporting this post?",[{text:"Cancel",style:"cancel"},{text:"Spam",onPress:()=>console.log("Report: Spam")},{text:"Inappropriate",onPress:()=>console.log("Report: Inappropriate")},{text:"Harassment",onPress:()=>console.log("Report: Harassment")}])},onMute:()=>{console.log("Mute author:",e.userId),l.default.alert("Success",`You won't see posts from @${e.username}`)},onFollow:()=>{K(!0),console.log("Follow author:",e.userId),l.default.alert("Success",`You are now following @${e.username}`)},onUnfollow:()=>{K(!1),console.log("Unfollow author:",e.userId),l.default.alert("Success",`You unfollowed @${e.username}`)},onBlock:()=>{l.default.alert("Block User",`Are you sure you want to block @${e.username}?`,[{text:"Cancel",style:"cancel"},{text:"Block",style:"destructive",onPress:()=>{console.log("Block author:",e.userId),l.default.alert("Success",`@${e.username} has been blocked`)}}])},onVoiceReply:()=>{console.log("Voice reply to post:",e.id),l.default.alert("Voice Reply","Voice reply feature coming soon")},onRemixVibez:()=>{console.log("Remix with Vibez:",e.id),de.router.push("/studio/video-editor")}}),(0,W.jsx)(J,{visible:L,onClose:()=>O(!1),post:e,onRevibe:(e,t)=>{console.log("Revibed post:",e,t),n?.(e),S?.(e)}}),(0,W.jsx)(ee,{visible:M,onClose:()=>N(!1),postId:e.id,onSave:(e,t)=>{console.log("Saved post to collection:",e,t),p?.(e)}}),(0,W.jsx)(oe.CommentDrawer,{visible:H,onClose:()=>U(!1),post:e,comments:ce.mockComments.filter((t=>t.postId===e.id)),onComment:(e,t,o)=>{console.log("Posted comment:",e,t,o),x?.(e)}}),(0,W.jsx)(re.ShareSheet,{visible:q,onClose:()=>_(!1),content:e,contentType:"post"})]})};ge.displayName="PostCard";const he=r.memo(ge,((e,t)=>e.post.id===t.post.id&&e.post.likes===t.post.likes&&e.post.comments===t.post.comments&&e.post.shares===t.post.shares&&e.post.views===t.post.views)),me=n.default.create({container:{borderBottomWidth:1,paddingVertical:12},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,marginBottom:12},userInfo:{flexDirection:"row",alignItems:"center"},nameContainer:{marginLeft:12},nameRow:{flexDirection:"row",alignItems:"center",gap:4},username:{fontWeight:"600",fontSize:14},timestamp:{fontSize:12,marginTop:2},moreButton:{padding:4},content:{fontSize:14,lineHeight:20,paddingHorizontal:16,marginBottom:12,flexDirection:"row",flexWrap:"wrap"},image:{width:"100%",height:300,marginBottom:12},video:{width:"100%",height:400,marginBottom:12,backgroundColor:"#000"},actions:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16},actionGroup:{flexDirection:"row",alignItems:"center"},actionButton:{flexDirection:"row",alignItems:"center",marginRight:16},actionText:{fontSize:14,marginLeft:6},voiceNoteContainer:{marginBottom:12,paddingHorizontal:16}})},34927:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Avatar:()=>j,default:()=>w});var r=o(36665),n=o(73668),a=o(73929),s=o(15648),i=o(49582),l=o(29267),d=o(98587),c=o(5894),u=o(20530),f=o(78454);const g=`${f.cacheDirectory}images/`,h=104857600;const m=new class{cacheMap=new Map;initialized=!1;async initialize(){this.initialized}async loadCacheMap(){try{const e=await f.readDirectoryAsync(g);for(const t of e){const e=`${g}${t}`,o=await f.getInfoAsync(e);o.exists&&!o.isDirectory&&this.cacheMap.set(t,{uri:e,timestamp:o.modificationTime||Date.now(),size:o.size||0})}}catch(e){console.warn("[ImageCache] Load cache map error:",e)}}getCacheKey(e){return e.replace(/[^a-z0-9]/gi,"_").toLowerCase()}async get(e){return e}async set(e,t){}async download(e){return e}async enforceMaxSize(){const e=Array.from(this.cacheMap.entries()),t=e.reduce(((e,[,t])=>e+t.size),0);if(t>h){e.sort(((e,t)=>e[1].timestamp-t[1].timestamp));let r=t;for(const[t,n]of e){if(r<=83886080)break;try{await f.deleteAsync(n.uri,{idempotent:!0}),this.cacheMap.delete(t),r-=n.size}catch(o){console.warn("[ImageCache] Delete error:",o)}}}}async clear(){}getCacheSize(){return Array.from(this.cacheMap.values()).reduce(((e,t)=>e+t.size),0)}};var p=o(60397);const y=["uri","width","height","blurhash","priority","cachePolicy","style"],x=n.default.create({loadingContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.05)"}}),b=(0,r.memo)((e=>{let{uri:t,width:o,height:s,blurhash:i,priority:l="normal",cachePolicy:f="memory-disk",style:g}=e,h=(0,d.default)(e,y);const[b,j]=(0,r.useState)(t),[C,w]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{let e=!0;const o=async()=>{if(t)try{if("memory"!==f){const o=await m.get(t);o&&e&&j(o)}}catch(o){console.warn("[OptimizedImage] Cache load error:",o)}finally{e&&w(!1)}else w(!1)};if("high"!==l){const e=setTimeout(o,"normal"===l?0:100);return()=>clearTimeout(e)}return o(),()=>{e=!1}}),[t,l,f]),(0,p.jsxs)(a.default,{style:[{width:o,height:s},g],children:[(0,p.jsx)(c.Image,Object.assign({source:{uri:b},style:[n.default.absoluteFill,g],placeholder:i,contentFit:"cover",transition:200,cachePolicy:f,priority:l},h)),C&&(0,p.jsx)(a.default,{style:[n.default.absoluteFill,x.loadingContainer],children:(0,p.jsx)(u.default,{size:"small",color:"#999"})})]})}),((e,t)=>e.uri===t.uri&&e.width===t.width&&e.height===t.height&&e.priority===t.priority)),j=(0,r.memo)((({uri:e,source:t,size:o=40,style:r,borderColor:n=i.Colors.primary,borderWidth:d=0,testID:c,onPress:u})=>{const f=e||t,g=(0,p.jsx)(a.default,{style:[C.container,{width:o,height:o,borderRadius:o/2,borderWidth:d,borderColor:n},r],testID:c,children:f?(0,p.jsx)(b,{uri:f,width:o-2*d,height:o-2*d,style:[C.image,{width:o-2*d,height:o-2*d,borderRadius:(o-2*d)/2}],priority:"high",cachePolicy:"memory-disk"}):(0,p.jsx)(a.default,{style:[C.placeholder,{width:o-2*d,height:o-2*d,borderRadius:(o-2*d)/2}],children:(0,p.jsx)(l.default,{size:o/2,color:i.Colors.textSecondary})})});return u?(0,p.jsx)(s.default,{onPress:u,activeOpacity:.7,children:g}):g}),((e,t)=>e.uri===t.uri&&e.source===t.source&&e.size===t.size&&e.borderWidth===t.borderWidth)),C=n.default.create({container:{justifyContent:"center",alignItems:"center",overflow:"hidden"},image:{backgroundColor:i.Colors.cardLight},placeholder:{backgroundColor:i.Colors.cardLight,justifyContent:"center",alignItems:"center"}}),w=j},36027:(e,t,o)=>{"use strict";o.r(t),o.d(t,{StatusProvider:()=>d,useStatus:()=>c});var r=o(36665),n=o(52790),a=o(47640),s=o(3894);const i="@vibesync_statuses",l="@vibesync_viewed_statuses",[d,c]=(0,n.default)((()=>{const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)([]),[d,c]=(0,r.useState)(new Set),[u,f]=(0,r.useState)(!0),g=(0,r.useCallback)((()=>{const e=new Date;t((t=>{const o=t.map((t=>Object.assign({},t,{statuses:t.statuses.filter((t=>t.isPinned||new Date(t.expiresAt)>e))}))).filter((e=>e.statuses.length>0));return o.length!==t.length&&p(o),o}))}),[]);(0,r.useEffect)((()=>{h(),m();const e=setInterval(g,6e4);return()=>clearInterval(e)}),[g]);const h=async()=>{try{const e=await a.default.getItem(i);if(e){const o=JSON.parse(e);t(o)}else t(s.mockUserStatusGroups),await a.default.setItem(i,JSON.stringify(s.mockUserStatusGroups))}catch(e){console.error("[StatusStore] Error loading statuses:",e),t(s.mockUserStatusGroups)}finally{f(!1)}},m=async()=>{try{const e=await a.default.getItem(l);e&&c(new Set(JSON.parse(e)))}catch(e){console.error("[StatusStore] Error loading viewed statuses:",e)}},p=async e=>{try{await a.default.setItem(i,JSON.stringify(e))}catch(t){console.error("[StatusStore] Error saving statuses:",t)}},y=(0,r.useCallback)((async(e,o,r)=>{const a=`status-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;n((e=>[...e,{statusId:a,progress:0,status:"uploading"}]));try{await x(a);const s=Object.assign({id:a,userId:"current-user",username:"You",avatar:"https://i.pravatar.cc/150?img=50",verified:!1,type:e},"photo"===e||"video"===e?{media:o}:{},"text"===e?{textContent:o}:{},"voice"===e?{voiceContent:o}:{},{overlays:r?.overlays,caption:r?.caption,createdAt:(new Date).toISOString(),expiresAt:new Date(Date.now()+864e5).toISOString(),isPinned:!1,privacy:r?.privacy||"public",analytics:{views:0,replies:0,shares:0,viewers:[]}});return t((e=>{const t=e.findIndex((e=>"current-user"===e.userId));let o;if(t>=0)o=[...e],o[t]=Object.assign({},o[t],{statuses:[s,...o[t].statuses],lastStatusAt:s.createdAt});else{o=[{userId:"current-user",username:"You",avatar:"https://i.pravatar.cc/150?img=50",verified:!1,statuses:[s],hasUnviewed:!1,lastStatusAt:s.createdAt},...e]}return p(o),o})),n((e=>e.map((e=>e.statusId===a?Object.assign({},e,{progress:100,status:"success"}):e)))),setTimeout((()=>{n((e=>e.filter((e=>e.statusId!==a))))}),2e3),console.log("[StatusStore] Status uploaded successfully:",a),a}catch(s){throw console.error("[StatusStore] Upload error:",s),n((e=>e.map((e=>e.statusId===a?Object.assign({},e,{status:"error",error:"Upload failed"}):e)))),s}}),[]),x=e=>new Promise((t=>{let o=0;const r=setInterval((()=>{o+=30*Math.random(),o>=100?(o=100,clearInterval(r),n((t=>t.map((t=>t.statusId===e?Object.assign({},t,{progress:100,status:"processing"}):t)))),setTimeout((()=>t()),500)):n((t=>t.map((t=>t.statusId===e?Object.assign({},t,{progress:Math.floor(o)}):t))))}),200)})),b=(0,r.useCallback)((e=>{c((t=>{const o=new Set(t);return o.add(e),(async e=>{try{await a.default.setItem(l,JSON.stringify(Array.from(e)))}catch(t){console.error("[StatusStore] Error saving viewed statuses:",t)}})(o),o})),t((t=>t.map((t=>Object.assign({},t,{hasUnviewed:t.statuses.some((t=>!d.has(t.id)&&t.id!==e))})))))}),[d]),j=(0,r.useCallback)(((e,o)=>{t((t=>{const r=t.map((t=>Object.assign({},t,{statuses:t.statuses.map((t=>{if(t.id===e){if(!t.analytics.viewers.some((e=>e.userId===o.userId)))return Object.assign({},t,{analytics:Object.assign({},t.analytics,{views:t.analytics.views+1,viewers:[...t.analytics.viewers,o]})})}return t}))})));return p(r),r}))}),[]),C=(0,r.useCallback)((e=>{t((t=>{const o=t.map((t=>Object.assign({},t,{statuses:t.statuses.filter((t=>t.id!==e))}))).filter((e=>e.statuses.length>0));return p(o),o}))}),[]),w=(0,r.useCallback)((e=>{t((t=>{const o=t.map((t=>Object.assign({},t,{statuses:t.statuses.map((t=>t.id===e?Object.assign({},t,{isPinned:!t.isPinned}):t))})));return p(o),o}))}),[]),S=(0,r.useCallback)((e=>{t((t=>{const o=t.map((t=>t.userId===e?Object.assign({},t,{statuses:t.statuses.map((e=>Object.assign({},e,{isMuted:!0})))}):t));return p(o),o}))}),[]),v=(0,r.useCallback)((e=>{t((t=>{const o=t.filter((t=>t.userId!==e));return p(o),o}))}),[]),k=(0,r.useCallback)((t=>{for(const o of e){const e=o.statuses.find((e=>e.id===t));if(e)return e}}),[e]),I=(0,r.useCallback)((t=>{const o=e.find((e=>e.userId===t));return o?.statuses||[]}),[e]);return(0,r.useMemo)((()=>({statusGroups:e,uploadProgress:o,viewedStatuses:d,isLoading:u,uploadStatus:y,markStatusAsViewed:b,addStatusView:j,deleteStatus:C,pinStatus:w,muteUserStatus:S,hideUserStatus:v,getStatusById:k,getUserStatuses:I})),[e,o,d,u,y,b,j,C,w,S,v,k,I])}))},36412:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ThemeProvider:()=>d,useTheme:()=>c});var r=o(36665),n=o(47640),a=o(70414),s=o(52790),i=o(49582);const l="@vibesync_theme",[d,c]=(0,s.default)((()=>{const[e,t]=(0,r.useState)("dark"),[o,s]=(0,r.useState)(a.default.getColorScheme()),[d,c]=(0,r.useState)("system");(0,r.useEffect)((()=>{const e=a.default.addChangeListener((({colorScheme:e})=>{console.log("System theme changed to:",e),s(e)}));return()=>e?.remove()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=await n.default.getItem(l);if(e){const t=e;c(t),console.log("Loaded theme preference:",t)}}catch(e){console.error("Error loading theme:",e)}})()}),[]),(0,r.useEffect)((()=>{let e;e="system"===d?"light"===o?"light":"dark":d,console.log("Setting active theme:",e,"from preference:",d,"system:",o),t(e)}),[d,o]);const u=(0,r.useCallback)((async e=>{try{await n.default.setItem(l,e),c(e),console.log("Theme preference saved:",e)}catch(t){console.error("Error saving theme:",t)}}),[]),f=(0,r.useCallback)((()=>{u("dark"===e?"light":"dark")}),[e,u]),g=(0,r.useMemo)((()=>"dark"===e?i.DarkTheme:i.LightTheme),[e]);return{theme:e,colors:g,isDark:"dark"===e,isLight:"light"===e,setTheme:u,toggleTheme:f,systemTheme:o,userPreference:d}}))},36929:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>h});var r=o(36665),n=o(73668),a=o(73929),s=o(6283),i=o(15009),l=o(40484),d=o(49637),c=o(23049),u=o(25924),f=o(36412),g=o(60397);function h(){const{isAuthenticated:e,isLoading:t}=(0,u.useAuth)(),{colors:o}=(0,f.useTheme)(),n=r.useRef(new i.default.Value(0)).current,h=r.useRef(new i.default.Value(.8)).current;return(0,r.useEffect)((()=>{i.default.parallel([i.default.timing(n,{toValue:1,duration:800,useNativeDriver:!0}),i.default.timing(h,{toValue:1,duration:800,useNativeDriver:!0})]).start()}),[n,h]),(0,r.useEffect)((()=>{if(!t){const t=setTimeout((()=>{try{e?d.router.replace("/(tabs)"):d.router.replace("/auth")}catch(t){console.warn("Navigation error:",t),setTimeout((()=>{try{e?d.router.replace("/(tabs)"):d.router.replace("/auth")}catch(t){console.error("Retry navigation failed:",t)}}),500)}}),1500);return()=>clearTimeout(t)}}),[e,t]),(0,g.jsxs)(a.default,{style:[m.container,{backgroundColor:o.background}],children:[(0,g.jsx)(c.StatusBar,{style:"light"}),(0,g.jsxs)(i.default.View,{style:[m.content,{opacity:n,transform:[{scale:h}]}],children:[(0,g.jsx)(l.default,{source:{uri:"https://pub-e001eb4506b145aa938b5d3badbff6a5.r2.dev/attachments/k7tu86i3z6m51kdeomv1w"},style:m.logo,resizeMode:"contain"}),(0,g.jsx)(s.default,{style:[m.appName,{color:o.text}],children:"VibeSync"}),(0,g.jsx)(s.default,{style:[m.tagline,{color:o.textSecondary}],children:"Connect & Experience"})]})]})}const m=n.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},content:{alignItems:"center"},logo:{width:320,height:320,marginBottom:32},appName:{fontSize:36,fontWeight:"bold",letterSpacing:1},tagline:{fontSize:16,marginTop:8,fontWeight:"500"}})},38663:(e,t,o)=>{"use strict";o.r(t),o.d(t,{StudioProvider:()=>s,useStudio:()=>i});var r=o(36665),n=o(52790);const a={brightness:0,contrast:0,saturation:0,exposure:0,temperature:0,tint:0,highlights:0,shadows:0,whites:0,blacks:0,clarity:0,sharpness:0,grain:0,vignette:0},[s,i]=(0,n.default)((()=>{const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)(null),s=(0,r.useCallback)(((e,o,r,s,i,l)=>{const d={id:Date.now().toString(),type:e,name:o,aspectRatio:r,resolution:s,frameRate:i,mediaUri:l,createdAt:new Date,updatedAt:new Date,edits:{filters:[],adjustments:Object.assign({},a),effects:[],textLayers:[],stickers:[],overlays:[],audioTracks:[],transitions:"video"===e?[]:void 0,trimData:"video"===e?{startTime:0,endTime:0,clips:[]}:void 0}};return t((e=>[d,...e])),n(d),d}),[]),i=(0,r.useCallback)(((e,r)=>{t((t=>t.map((t=>t.id===e?Object.assign({},t,r,{updatedAt:new Date}):t)))),o?.id===e&&n((e=>e?Object.assign({},e,r,{updatedAt:new Date}):null))}),[o]),l=(0,r.useCallback)((e=>{t((t=>t.filter((t=>t.id!==e)))),o?.id===e&&n(null)}),[o]),d=(0,r.useCallback)((o=>{const r=e.find((e=>e.id===o));if(!r)return;const n=Object.assign({},r,{id:Date.now().toString(),name:`${r.name} (Copy)`,createdAt:new Date,updatedAt:new Date});t((e=>[n,...e]))}),[e]),c=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{filters:[...o.edits.filters,e]})})}),[o,i]),u=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{adjustments:Object.assign({},o.edits.adjustments,e)})})}),[o,i]),f=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{effects:[...o.edits.effects,e]})})}),[o,i]),g=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{textLayers:[...o.edits.textLayers,e]})})}),[o,i]),h=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{stickers:[...o.edits.stickers,e]})})}),[o,i]),m=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{overlays:[...o.edits.overlays,e]})})}),[o,i]),p=(0,r.useCallback)((e=>{o&&i(o.id,{edits:Object.assign({},o.edits,{audioTracks:[...o.edits.audioTracks,e]})})}),[o,i]),y=(0,r.useCallback)((()=>{o&&i(o.id,{edits:Object.assign({},o.edits,{adjustments:Object.assign({},a)})})}),[o,i]);return(0,r.useMemo)((()=>({projects:e,currentProject:o,setCurrentProject:n,createProject:s,updateProject:i,deleteProject:l,duplicateProject:d,addFilter:c,updateAdjustments:u,addEffect:f,addTextLayer:g,addSticker:h,addOverlay:m,addAudioTrack:p,resetAdjustments:y})),[e,o,n,s,i,l,d,c,u,f,g,h,m,p,y])}))},39966:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>x});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(40484),c=o(49582),u=o(43316),f=o(25924),g=o(49637),h=o(23049),m=o(57459),p=o(21191),y=o(60397);function x(){const{login:e}=(0,f.useAuth)(),[t,o]=(0,r.useState)(""),[n,x]=(0,r.useState)(""),[j,C]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),[v,k]=(0,r.useState)("");return(0,y.jsxs)(s.default,{style:b.container,children:[(0,y.jsx)(h.StatusBar,{style:"light"}),(0,y.jsxs)(s.default,{style:b.logoContainer,children:[(0,y.jsx)(d.default,{source:{uri:"https://pub-e001eb4506b145aa938b5d3badbff6a5.r2.dev/attachments/rai378jqc4xtisgilk6wz"},style:b.logo,resizeMode:"contain"}),(0,y.jsx)(a.default,{style:b.appName,children:"VibeSync"}),(0,y.jsx)(a.default,{style:b.tagline,children:"Connect & Experience"})]}),(0,y.jsxs)(s.default,{style:b.formContainer,children:[(0,y.jsx)(a.default,{style:b.title,children:"Login"}),v?(0,y.jsx)(a.default,{style:b.errorText,children:v}):null,(0,y.jsxs)(s.default,{style:b.inputGroup,children:[(0,y.jsx)(a.default,{style:b.label,children:"Email"}),(0,y.jsx)(i.default,{style:b.input,placeholder:"Enter your email",placeholderTextColor:c.Colors.textSecondary,value:t,onChangeText:e=>{o(e),k("")},autoCapitalize:"none",keyboardType:"email-address",autoComplete:"email"})]}),(0,y.jsxs)(s.default,{style:b.inputGroup,children:[(0,y.jsx)(a.default,{style:b.label,children:"Password"}),(0,y.jsxs)(s.default,{style:b.passwordContainer,children:[(0,y.jsx)(i.default,{style:[b.input,b.passwordInput],placeholder:"Enter your password",placeholderTextColor:c.Colors.textSecondary,value:n,onChangeText:e=>{x(e),k("")},secureTextEntry:!j,autoComplete:"password"}),(0,y.jsx)(l.default,{style:b.eyeIcon,onPress:()=>C(!j),children:j?(0,y.jsx)(m.default,{size:20,color:c.Colors.textSecondary}):(0,y.jsx)(p.default,{size:20,color:c.Colors.textSecondary})})]})]}),(0,y.jsx)(u.Button,{title:"Login",onPress:async()=>{if(t&&n)if((e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(t)){S(!0),k("");try{console.log("[Auth Screen] Attempting login..."),await e(t,n),console.log("[Auth Screen] Login successful, navigating to tabs"),g.router.replace("/(tabs)")}catch(o){console.error("[Auth Screen] Login error:",o);let e="Invalid email or password";o.message?.includes("Backend is not available")?e=o.message:o.message?.includes("Backend server is not running")?e="Backend is not running. Start it with: bun backend/server.ts":o.message?.includes("Cannot connect to backend")?e="Cannot connect to backend. Please start the backend server.":o.message?.includes("fetch")||o.message?.includes("Network")?e="Network error. Backend may not be running. For demo mode, use: test@example.com / Test123!":o.message?.includes("JSON Parse")?e="Backend is returning invalid data. Please restart the backend server. For demo mode, use: test@example.com / Test123!":o.message?.includes("Backend is not available")?e=o.message:o.message?.includes("Cannot connect")?e="Cannot connect to backend. For demo mode, use: test@example.com / Test123!":o.message?.includes("not responding")?e="Backend is not responding. For demo mode, use: test@example.com / Test123!":o.message?.includes("Invalid credentials")?e="Invalid email or password. To create an account, click Sign Up below.":o.message&&(e=o.message),k(e)}finally{S(!1)}}else k("Please enter a valid email address");else k("Please enter both email and password")},loading:w,disabled:w,style:b.authButton}),(0,y.jsx)(l.default,{onPress:()=>g.router.push("/forgot-password"),style:b.forgotPasswordContainer,children:(0,y.jsx)(a.default,{style:b.forgotPasswordText,children:"Forgot Password?"})}),(0,y.jsxs)(s.default,{style:b.switchContainer,children:[(0,y.jsx)(a.default,{style:b.switchText,children:"Don't have an account?"}),(0,y.jsx)(l.default,{onPress:()=>g.router.push("/register"),children:(0,y.jsx)(a.default,{style:b.switchButton,children:"Sign Up"})})]}),(0,y.jsx)(a.default,{style:b.demoText,children:"Demo: test@example.com / Test123!"})]})]})}const b=n.default.create({container:{flex:1,backgroundColor:c.Colors.background,padding:16},logoContainer:{alignItems:"center",marginTop:60,marginBottom:40},logo:{width:100,height:100,marginBottom:16},appName:{color:c.Colors.text,fontSize:28,fontWeight:"bold"},tagline:{color:c.Colors.textSecondary,fontSize:16,marginTop:4},formContainer:{flex:1},title:{color:c.Colors.text,fontSize:24,fontWeight:"bold",marginBottom:24},errorText:{color:c.Colors.error,marginBottom:16,padding:12,backgroundColor:c.Colors.error+"20",borderRadius:8},inputGroup:{marginBottom:16},label:{color:c.Colors.text,fontSize:14,fontWeight:"600",marginBottom:8},input:{backgroundColor:c.Colors.cardLight,borderRadius:8,padding:16,color:c.Colors.text,fontSize:16},passwordContainer:{position:"relative"},passwordInput:{paddingRight:50},eyeIcon:{position:"absolute",right:16,top:16},authButton:{marginTop:8},switchContainer:{flexDirection:"row",justifyContent:"center",marginTop:16},switchText:{color:c.Colors.textSecondary,fontSize:14},switchButton:{color:c.Colors.primary,fontSize:14,fontWeight:"600",marginLeft:4},forgotPasswordContainer:{alignItems:"flex-end",marginTop:8,marginBottom:8},forgotPasswordText:{color:c.Colors.primary,fontSize:14,fontWeight:"600"},demoText:{color:c.Colors.textSecondary,fontSize:12,textAlign:"center",marginTop:16}})},42356:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>E});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(2772),d=o(51690),c=o(78264),u=o(61171),f=o(49637),g=o(5894),h=o(48801),m=o(49050),p=o(70139),y=o(28291),x=o(11868),b=o(40804),j=o(8538),C=o(5563),w=o(95287),S=o(34366),v=o(18477),k=o(93861),I=o(29122),T=o(50856),B=o(3085),z=o(11448),F=o(36412),P=o(43316),D=o(38663);const A=[{id:"cinematic",name:"Cinematic",icon:"\ud83c\udfac",description:"Hollywood-grade color grading"},{id:"professional",name:"Professional",icon:"\u2b50",description:"Industry-standard color tools"},{id:"film",name:"Film Simulation",icon:"\ud83c\udf9e\ufe0f",description:"Classic film stock emulation"},{id:"creative",name:"Creative",icon:"\u2728",description:"Artistic effects & styles"},{id:"lighting",name:"Lighting",icon:"\ud83d\udca1",description:"Advanced lighting effects"},{id:"vintage",name:"Vintage",icon:"\ud83d\udcf7",description:"Retro & nostalgic looks"},{id:"beauty",name:"Beauty",icon:"\ud83d\udc84",description:"Portrait enhancement"},{id:"basic",name:"Basic",icon:"\ud83c\udfa8",description:"Essential adjustments"}],R=[{id:"original",name:"Original",category:"basic",description:"No filter applied",preview:"#808080",settings:{}},{id:"vivid",name:"Vivid",category:"basic",description:"Enhanced colors",preview:"#ff6347",settings:{saturation:30,vibrance:25,contrast:15}},{id:"dramatic",name:"Dramatic",category:"basic",description:"High contrast",preview:"#2a2a2a",settings:{contrast:50,clarity:30,shadows:-20,blacks:-15}},{id:"warm",name:"Warm",category:"basic",description:"Warm color temperature",preview:"#ff8c42",settings:{temperature:25,tint:5}},{id:"cool",name:"Cool",category:"basic",description:"Cool color temperature",preview:"#4a90e2",settings:{temperature:-25,tint:-5}},{id:"black-white",name:"Black & White",category:"basic",description:"Classic monochrome",preview:"#000000",settings:{saturation:-100,contrast:20}},{id:"teal-orange",name:"Teal & Orange",category:"cinematic",description:"Classic blockbuster look",preview:"#1a7a8a",settings:{temperature:15,tint:-5,saturation:20,contrast:25,highlights:-10,shadows:-15,vibrance:30}},{id:"desaturated-grit",name:"Desaturated Grit",category:"cinematic",description:"Crime/drama mood",preview:"#4a4a4a",settings:{saturation:-40,contrast:35,clarity:40,shadows:-20,blacks:-15,grain:15}},{id:"golden-hour",name:"Golden Hour",category:"cinematic",description:"Warm sunset tones",preview:"#ff9a3c",settings:{temperature:35,tint:10,exposure:5,highlights:-5,saturation:15,vibrance:25}},{id:"cyberpunk-neon",name:"Cyberpunk Neon",category:"cinematic",description:"Neon purples, blues, pinks",preview:"#ff00ff",settings:{saturation:60,vibrance:50,contrast:30,shadows:-25,blacks:-30,tint:15,hue:280}},{id:"monochrome-noir",name:"Monochrome Noir",category:"cinematic",description:"Cinematic black & white",preview:"#1a1a1a",settings:{saturation:-100,contrast:45,clarity:35,highlights:-15,shadows:-25,blacks:-20,grain:10}},{id:"bleach-bypass",name:"Bleach Bypass",category:"cinematic",description:"Washed-out war movie style",preview:"#8a8a7a",settings:{saturation:-30,contrast:40,highlights:20,shadows:-10,clarity:30}},{id:"hdr-boost",name:"HDR Boost",category:"professional",description:"Enhanced dynamic range",preview:"#ff8c42",settings:{highlights:-30,shadows:30,whites:10,blacks:-10,clarity:25,vibrance:20}},{id:"studio-portrait",name:"Studio Portrait",category:"professional",description:"Professional portrait lighting",preview:"#ffd1b3",settings:{exposure:10,highlights:-15,shadows:15,temperature:5,saturation:-5,clarity:-10,sharpen:20}},{id:"landscape-vivid",name:"Landscape Vivid",category:"professional",description:"Enhanced nature colors",preview:"#4a9d5f",settings:{vibrance:40,saturation:15,clarity:30,contrast:20,highlights:-10,shadows:5}},{id:"color-match",name:"Color Match",category:"professional",description:"Balanced color correction",preview:"#7a8a9a",settings:{temperature:0,tint:0,exposure:5,contrast:10,highlights:-5,shadows:5}},{id:"kodak-portra",name:"Kodak Portra",category:"film",description:"Classic portrait film",preview:"#ffd1c1",settings:{temperature:8,tint:5,saturation:-5,contrast:-5,highlights:-10,shadows:10,grain:8}},{id:"fuji-velvia",name:"Fuji Velvia",category:"film",description:"Vibrant landscape film",preview:"#ff6a3c",settings:{saturation:35,vibrance:30,contrast:20,clarity:15,grain:5}},{id:"polaroid-sx70",name:"Polaroid SX-70",category:"film",description:"Instant film aesthetic",preview:"#f0e68c",settings:{temperature:15,saturation:-10,contrast:-15,exposure:10,vignette:20,grain:25}},{id:"tri-x-400",name:"Tri-X 400",category:"film",description:"Classic B&W film",preview:"#3a3a3a",settings:{saturation:-100,contrast:30,grain:20,clarity:20,blacks:-10}},{id:"glitch-art",name:"Glitch Art",category:"creative",description:"Digital distortion effect",preview:"#ff00aa",isPremium:!0,settings:{saturation:80,contrast:50,hue:180,vibrance:60}},{id:"vhs-tape",name:"VHS Tape",category:"creative",description:"Retro video aesthetic",preview:"#8b4789",settings:{saturation:-20,contrast:-10,grain:40,vignette:30,temperature:-5}},{id:"neon-glow",name:"Neon Glow",category:"creative",description:"Vibrant neon effect",preview:"#00ffff",isPremium:!0,settings:{saturation:70,vibrance:80,contrast:35,highlights:20,clarity:-20}},{id:"dreamy-soft",name:"Dreamy Soft",category:"creative",description:"Soft ethereal look",preview:"#ffd1ff",settings:{exposure:15,highlights:-20,clarity:-30,saturation:-10,temperature:10}},{id:"day-to-night",name:"Day to Night",category:"lighting",description:"Transform day shots to night",preview:"#1a2a4a",isPremium:!0,settings:{exposure:-40,temperature:-20,tint:-10,highlights:-30,shadows:-20,saturation:-15}},{id:"golden-light",name:"Golden Light",category:"lighting",description:"Add sunset lighting",preview:"#ffb347",settings:{temperature:30,tint:8,exposure:8,highlights:-5,vibrance:20}},{id:"studio-light",name:"Studio Light",category:"lighting",description:"Brighten faces, darken backgrounds",preview:"#ffffff",settings:{exposure:15,highlights:-10,shadows:-15,contrast:20,clarity:15}},{id:"moody-dark",name:"Moody Dark",category:"lighting",description:"Dramatic low-key lighting",preview:"#2a2a2a",settings:{exposure:-15,shadows:-25,blacks:-20,contrast:30,clarity:25}},{id:"vintage-film",name:"Vintage Film",category:"vintage",description:"Grainy warm tones",preview:"#8b7355",settings:{temperature:20,tint:15,saturation:-20,contrast:-10,grain:30,vignette:25}},{id:"sepia-tone",name:"Sepia Tone",category:"vintage",description:"Classic sepia look",preview:"#704214",settings:{saturation:-100,temperature:40,tint:20,contrast:-5,grain:15}},{id:"faded-memories",name:"Faded Memories",category:"vintage",description:"Washed-out nostalgic",preview:"#c9b8a8",settings:{exposure:10,contrast:-20,saturation:-30,highlights:-15,grain:20,vignette:15}},{id:"retro-80s",name:"Retro 80s",category:"vintage",description:"80s color palette",preview:"#ff6b9d",settings:{saturation:40,temperature:10,tint:15,contrast:15,grain:12}},{id:"beauty-glow",name:"Beauty Glow",category:"beauty",description:"Soft skin enhancement",preview:"#ffe4e1",settings:{highlights:20,shadows:10,clarity:-25,saturation:5,temperature:5,exposure:5}},{id:"skin-smooth",name:"Skin Smooth",category:"beauty",description:"Natural skin smoothing",preview:"#ffd1b3",settings:{clarity:-30,sharpen:-10,highlights:10,shadows:5,temperature:3}},{id:"portrait-enhance",name:"Portrait Enhance",category:"beauty",description:"Overall portrait improvement",preview:"#ffb3ba",settings:{exposure:8,highlights:-10,shadows:15,clarity:-15,saturation:10,sharpen:15}}],V=e=>R.filter((t=>t.category===e));var L=o(60397);const O=[{id:"filters",name:"Filters",icon:p.default},{id:"adjust",name:"Adjust",icon:y.default},{id:"effects",name:"Effects",icon:x.default},{id:"text",name:"Text",icon:b.default},{id:"stickers",name:"Stickers",icon:j.default},{id:"overlays",name:"Overlays",icon:C.default},{id:"frames",name:"Frames",icon:w.default},{id:"crop",name:"Crop",icon:S.default}],W=[{id:"glitch",name:"Glitch"},{id:"vhs",name:"VHS"},{id:"sparkle",name:"Sparkle"},{id:"neon-glow",name:"Neon Glow"},{id:"blur",name:"Blur"},{id:"bokeh",name:"Bokeh"},{id:"lens-flare",name:"Lens Flare"},{id:"light-leak",name:"Light Leak"},{id:"dust",name:"Dust & Scratches"}];function E(){const{colors:e}=(0,F.useTheme)(),t=(0,f.useLocalSearchParams)(),{currentProject:o,createProject:n}=(0,D.useStudio)(),[p,y]=(0,r.useState)(t.mediaUri||o?.mediaUri||null),[S,E]=(0,r.useState)(null),[N,H]=(0,r.useState)("basic"),[U,q]=(0,r.useState)(R[0]),[_,$]=(0,r.useState)(100),[Y,G]=(0,r.useState)(0),[J,K]=(0,r.useState)(0),[Q,Z]=(0,r.useState)(0),[X,ee]=(0,r.useState)(0),[te,oe]=(0,r.useState)(!1),re=e=>{oe(!1),d.default.alert("Export Started",`Exporting image in ${e}...`)},ne=()=>{G(0),K(0),Z(0),ee(0)};return(0,L.jsxs)(u.SafeAreaView,{style:[M.container,{backgroundColor:e.background}],edges:["top"],children:[(0,L.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),(0,L.jsxs)(s.default,{style:[M.header,{backgroundColor:e.background,borderBottomColor:e.border}],children:[(0,L.jsx)(i.default,{onPress:()=>f.router.back(),style:M.headerButton,children:(0,L.jsx)(k.default,{size:24,color:e.text})}),(0,L.jsxs)(s.default,{style:M.headerActions,children:[(0,L.jsx)(i.default,{style:M.headerButton,children:(0,L.jsx)(I.default,{size:20,color:e.textSecondary})}),(0,L.jsx)(i.default,{style:M.headerButton,children:(0,L.jsx)(T.default,{size:20,color:e.textSecondary})}),(0,L.jsx)(i.default,{style:M.headerButton,children:(0,L.jsx)(B.default,{size:20,color:e.text})}),(0,L.jsx)(i.default,{onPress:()=>{d.default.alert("Post Image","Post this edited image to your feed?",[{text:"Cancel",style:"cancel"},{text:"Post",onPress:()=>{d.default.alert("Success","Image posted to your feed!"),f.router.back()}}])},style:[M.headerButton,{backgroundColor:e.primary,paddingHorizontal:12,borderRadius:8}],children:(0,L.jsx)(a.default,{style:{color:e.textInverse,fontWeight:"600",fontSize:14},children:"Post"})}),(0,L.jsx)(i.default,{onPress:()=>{oe(!0)},style:M.headerButton,children:(0,L.jsx)(z.default,{size:20,color:e.primary})})]})]}),p?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(s.default,{style:M.canvas,children:(0,L.jsx)(s.default,{style:[M.imagePreview,{backgroundColor:e.card}],children:(0,L.jsx)(g.Image,{source:{uri:p},style:M.imageContent,contentFit:"contain"})})}),(0,L.jsx)(s.default,{style:[M.toolbar,{backgroundColor:e.card}],children:(0,L.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:M.toolbarContent,children:O.map((t=>{const o=t.icon;return(0,L.jsxs)(i.default,{style:[M.toolButton,S===t.id&&{backgroundColor:e.primary}],onPress:()=>E(S===t.id?null:t.id),children:[(0,L.jsx)(o,{size:20,color:S===t.id?e.textInverse:e.text}),(0,L.jsx)(a.default,{style:[M.toolButtonText,{color:S===t.id?e.textInverse:e.text}],children:t.name})]},t.id)}))})}),S&&(0,L.jsx)(s.default,{style:[M.toolPanel,{backgroundColor:e.card}],children:(()=>{if(!S)return null;switch(S){case"filters":const t=V(N);return(0,L.jsxs)(s.default,{style:M.filterContainer,children:[(0,L.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:M.filterCategoryScroll,contentContainerStyle:M.filterCategoryContent,children:A.map((t=>(0,L.jsxs)(i.default,{style:[M.categoryChip,{backgroundColor:e.card},N===t.id&&{backgroundColor:e.primary,borderColor:e.primary,borderWidth:2}],onPress:()=>H(t.id),children:[(0,L.jsx)(a.default,{style:M.categoryEmoji,children:t.icon}),(0,L.jsx)(a.default,{style:[M.categoryName,{color:N===t.id?e.textInverse:e.text}],children:t.name})]},t.id)))}),(0,L.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:M.filterScroll,contentContainerStyle:M.filterScrollContent,children:t.map((t=>(0,L.jsxs)(i.default,{style:[M.filterItem,U.id===t.id&&{borderColor:e.primary,borderWidth:3}],onPress:()=>q(t),children:[(0,L.jsx)(s.default,{style:[M.filterPreview,{backgroundColor:t.preview}],children:t.isPremium&&(0,L.jsx)(s.default,{style:[M.premiumBadge,{backgroundColor:e.primary}],children:(0,L.jsx)(a.default,{style:[M.premiumText,{color:e.textInverse}],children:"PRO"})})}),(0,L.jsx)(a.default,{style:[M.filterName,{color:e.text}],numberOfLines:1,children:t.name}),(0,L.jsx)(a.default,{style:[M.filterDescription,{color:e.textSecondary}],numberOfLines:1,children:t.description})]},t.id)))}),"original"!==U.id&&(0,L.jsxs)(s.default,{style:[M.intensityControl,{backgroundColor:e.card}],children:[(0,L.jsx)(a.default,{style:[M.intensityLabel,{color:e.text}],children:"Intensity"}),(0,L.jsxs)(a.default,{style:[M.intensityValue,{color:e.primary}],children:[_,"%"]})]})]});case"adjust":return(0,L.jsxs)(l.default,{style:M.toolContent,children:[(0,L.jsx)(s.default,{style:M.adjustmentItem,children:(0,L.jsxs)(s.default,{style:M.adjustmentHeader,children:[(0,L.jsx)(a.default,{style:[M.adjustmentLabel,{color:e.text}],children:"Brightness"}),(0,L.jsx)(a.default,{style:[M.adjustmentValue,{color:e.textSecondary}],children:Y})]})}),(0,L.jsx)(s.default,{style:M.adjustmentItem,children:(0,L.jsxs)(s.default,{style:M.adjustmentHeader,children:[(0,L.jsx)(a.default,{style:[M.adjustmentLabel,{color:e.text}],children:"Contrast"}),(0,L.jsx)(a.default,{style:[M.adjustmentValue,{color:e.textSecondary}],children:J})]})}),(0,L.jsx)(s.default,{style:M.adjustmentItem,children:(0,L.jsxs)(s.default,{style:M.adjustmentHeader,children:[(0,L.jsx)(a.default,{style:[M.adjustmentLabel,{color:e.text}],children:"Saturation"}),(0,L.jsx)(a.default,{style:[M.adjustmentValue,{color:e.textSecondary}],children:Q})]})}),(0,L.jsx)(s.default,{style:M.adjustmentItem,children:(0,L.jsxs)(s.default,{style:M.adjustmentHeader,children:[(0,L.jsx)(a.default,{style:[M.adjustmentLabel,{color:e.text}],children:"Exposure"}),(0,L.jsx)(a.default,{style:[M.adjustmentValue,{color:e.textSecondary}],children:X})]})}),(0,L.jsxs)(i.default,{style:[M.resetButton,{backgroundColor:e.card}],onPress:ne,children:[(0,L.jsx)(v.default,{size:16,color:e.text}),(0,L.jsx)(a.default,{style:[M.resetButtonText,{color:e.text}],children:"Reset All"})]})]});case"effects":return(0,L.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:M.toolContent,children:W.map((t=>(0,L.jsxs)(i.default,{style:[M.effectItem,{backgroundColor:e.card}],onPress:()=>d.default.alert("Effect",`Applied ${t.name}`),children:[(0,L.jsx)(x.default,{size:24,color:e.primary}),(0,L.jsx)(a.default,{style:[M.effectName,{color:e.text}],children:t.name})]},t.id)))});case"text":return(0,L.jsx)(s.default,{style:M.toolContent,children:(0,L.jsxs)(i.default,{style:[M.addButton,{backgroundColor:e.primary}],onPress:()=>d.default.alert("Add Text","Text editor coming soon"),children:[(0,L.jsx)(b.default,{size:20,color:e.textInverse}),(0,L.jsx)(a.default,{style:[M.addButtonText,{color:e.textInverse}],children:"Add Text Layer"})]})});case"stickers":return(0,L.jsx)(s.default,{style:M.toolContent,children:(0,L.jsxs)(i.default,{style:[M.addButton,{backgroundColor:e.primary}],onPress:()=>d.default.alert("Add Sticker","Sticker library coming soon"),children:[(0,L.jsx)(j.default,{size:20,color:e.textInverse}),(0,L.jsx)(a.default,{style:[M.addButtonText,{color:e.textInverse}],children:"Add Sticker"})]})});case"overlays":return(0,L.jsx)(s.default,{style:M.toolContent,children:(0,L.jsxs)(i.default,{style:[M.addButton,{backgroundColor:e.primary}],onPress:()=>d.default.alert("Add Overlay","Overlay library coming soon"),children:[(0,L.jsx)(C.default,{size:20,color:e.textInverse}),(0,L.jsx)(a.default,{style:[M.addButtonText,{color:e.textInverse}],children:"Add Overlay"})]})});case"frames":return(0,L.jsx)(s.default,{style:M.toolContent,children:(0,L.jsxs)(i.default,{style:[M.addButton,{backgroundColor:e.primary}],onPress:()=>d.default.alert("Add Frame","Frame library coming soon"),children:[(0,L.jsx)(w.default,{size:20,color:e.textInverse}),(0,L.jsx)(a.default,{style:[M.addButtonText,{color:e.textInverse}],children:"Add Frame"})]})});case"crop":return(0,L.jsxs)(s.default,{style:M.toolContent,children:[(0,L.jsx)(a.default,{style:[M.cropInfo,{color:e.textSecondary}],children:"Drag corners to crop image"}),(0,L.jsx)(s.default,{style:M.aspectRatios,children:["1:1","4:5","16:9","9:16","Free"].map((t=>(0,L.jsx)(i.default,{style:[M.aspectRatioButton,{backgroundColor:e.card}],onPress:()=>d.default.alert("Aspect Ratio",`Set to ${t}`),children:(0,L.jsx)(a.default,{style:[M.aspectRatioText,{color:e.text}],children:t})},t)))})]});default:return null}})()})]}):(0,L.jsxs)(s.default,{style:M.emptyState,children:[(0,L.jsx)(C.default,{size:64,color:e.textSecondary}),(0,L.jsx)(a.default,{style:[M.emptyStateTitle,{color:e.text}],children:"No Image Selected"}),(0,L.jsx)(P.Button,{title:"Choose Image",onPress:async()=>{try{const{status:e}=await h.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void d.default.alert("Permission needed","Please grant camera roll permissions.");const t=await h.launchImageLibraryAsync({mediaTypes:m.MediaTypeOptions.Images,allowsEditing:!1,quality:1});!t.canceled&&t.assets[0]&&(y(t.assets[0].uri),o||n("image","New Image Project","1:1","1080p",void 0,t.assets[0].uri))}catch(e){console.error("Error picking image:",e),d.default.alert("Error","Failed to pick image.")}},style:M.emptyStateButton})]}),(0,L.jsx)(c.default,{visible:te,transparent:!0,animationType:"slide",children:(0,L.jsx)(s.default,{style:M.modalOverlay,children:(0,L.jsxs)(s.default,{style:[M.modalContent,{backgroundColor:e.card}],children:[(0,L.jsx)(a.default,{style:[M.modalTitle,{color:e.text}],children:"Export Image"}),(0,L.jsx)(i.default,{style:[M.exportOption,{backgroundColor:e.background}],onPress:()=>re("1080p"),children:(0,L.jsx)(a.default,{style:[M.exportOptionText,{color:e.text}],children:"1080p HD"})}),(0,L.jsx)(i.default,{style:[M.exportOption,{backgroundColor:e.background}],onPress:()=>re("2K"),children:(0,L.jsx)(a.default,{style:[M.exportOptionText,{color:e.text}],children:"2K"})}),(0,L.jsx)(i.default,{style:[M.exportOption,{backgroundColor:e.background}],onPress:()=>re("4K"),children:(0,L.jsx)(a.default,{style:[M.exportOptionText,{color:e.text}],children:"4K Ultra HD"})}),(0,L.jsx)(i.default,{style:[M.modalCancel,{backgroundColor:e.background}],onPress:()=>oe(!1),children:(0,L.jsx)(a.default,{style:[M.modalCancelText,{color:e.textSecondary}],children:"Cancel"})})]})})})]})}const M=n.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},headerButton:{padding:8},headerActions:{flexDirection:"row",alignItems:"center",gap:8},emptyState:{flex:1,justifyContent:"center",alignItems:"center",gap:16},emptyStateTitle:{fontSize:20,fontWeight:"600"},emptyStateButton:{marginTop:16},canvas:{flex:1,padding:16},imagePreview:{flex:1,borderRadius:12,overflow:"hidden"},imageContent:{width:"100%",height:"100%"},toolbar:{paddingVertical:12},toolbarContent:{paddingHorizontal:16,gap:8},toolButton:{flexDirection:"column",alignItems:"center",paddingHorizontal:16,paddingVertical:8,borderRadius:8,gap:4},toolButtonText:{fontSize:10,fontWeight:"600"},toolPanel:{height:240,borderTopWidth:1,borderTopColor:"#333"},toolContent:{padding:16},filterContainer:{flex:1},filterCategoryScroll:{maxHeight:50,borderBottomWidth:1,borderBottomColor:"#333"},filterCategoryContent:{paddingHorizontal:12,paddingVertical:8,gap:8},categoryChip:{flexDirection:"row",alignItems:"center",paddingHorizontal:12,paddingVertical:6,borderRadius:20,gap:6},categoryEmoji:{fontSize:14},categoryName:{fontSize:11,fontWeight:"600"},filterScroll:{flex:1},filterScrollContent:{paddingHorizontal:12,paddingVertical:12,gap:12},filterItem:{alignItems:"center",width:80,borderRadius:8,padding:4},filterPreview:{width:72,height:72,borderRadius:8,marginBottom:6,position:"relative",justifyContent:"flex-end",alignItems:"flex-end"},premiumBadge:{paddingHorizontal:6,paddingVertical:2,borderRadius:4,margin:4},premiumText:{fontSize:8,fontWeight:"700"},filterName:{fontSize:11,fontWeight:"600",marginBottom:2},filterDescription:{fontSize:9,textAlign:"center"},intensityControl:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:8,borderTopWidth:1,borderTopColor:"#333"},intensityLabel:{fontSize:12,fontWeight:"600"},intensityValue:{fontSize:14,fontWeight:"700"},adjustmentItem:{marginBottom:16},adjustmentHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},adjustmentLabel:{fontSize:14,fontWeight:"600"},adjustmentValue:{fontSize:14,fontWeight:"600"},resetButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,borderRadius:8,gap:8,marginTop:8},resetButtonText:{fontSize:14,fontWeight:"600"},effectItem:{alignItems:"center",padding:12,borderRadius:8,marginRight:12,minWidth:80},effectName:{fontSize:12,marginTop:4},addButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:16,borderRadius:12,gap:8},addButtonText:{fontSize:14,fontWeight:"600"},cropInfo:{fontSize:12,textAlign:"center",marginBottom:12},aspectRatios:{flexDirection:"row",gap:8,justifyContent:"center"},aspectRatioButton:{paddingHorizontal:16,paddingVertical:8,borderRadius:8},aspectRatioText:{fontSize:12,fontWeight:"600"},modalOverlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"flex-end"},modalContent:{borderTopLeftRadius:20,borderTopRightRadius:20,padding:24},modalTitle:{fontSize:20,fontWeight:"700",marginBottom:20},exportOption:{padding:16,borderRadius:12,marginBottom:12},exportOptionText:{fontSize:16,fontWeight:"600",textAlign:"center"},modalCancel:{padding:16,borderRadius:12,marginTop:8},modalCancelText:{fontSize:16,textAlign:"center"}})},43316:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Button:()=>d});o(36665);var r=o(73668),n=o(6283),a=o(15648),s=o(20530),i=o(49582),l=o(60397);const d=({title:e,onPress:t,variant:o="primary",size:r="medium",disabled:d=!1,loading:u=!1,style:f,textStyle:g,testID:h})=>(0,l.jsx)(a.default,{style:[c.button,(()=>{switch(o){case"primary":default:return c.primaryButton;case"secondary":return c.secondaryButton;case"outline":return c.outlineButton}})(),(()=>{switch(r){case"small":return c.smallButton;case"medium":default:return c.mediumButton;case"large":return c.largeButton}})(),d&&c.disabledButton,f],onPress:t,disabled:d||u,testID:h,children:u?(0,l.jsx)(s.default,{color:"outline"===o?i.Colors.primary:i.Colors.text}):(0,l.jsx)(n.default,{style:[c.text,(()=>{switch(o){case"primary":default:return c.primaryText;case"secondary":return c.secondaryText;case"outline":return c.outlineText}})(),(()=>{switch(r){case"small":return c.smallText;case"medium":default:return c.mediumText;case"large":return c.largeText}})(),d&&c.disabledText,g],children:e})}),c=r.default.create({button:{borderRadius:8,justifyContent:"center",alignItems:"center"},primaryButton:{backgroundColor:i.Colors.primary},secondaryButton:{backgroundColor:i.Colors.cardLight},outlineButton:{backgroundColor:"transparent",borderWidth:1,borderColor:i.Colors.primary},disabledButton:{opacity:.6},text:{fontWeight:"600"},primaryText:{color:i.Colors.text},secondaryText:{color:i.Colors.text},outlineText:{color:i.Colors.primary},disabledText:{color:i.Colors.textSecondary},smallButton:{paddingVertical:6,paddingHorizontal:12},mediumButton:{paddingVertical:10,paddingHorizontal:16},largeButton:{paddingVertical:14,paddingHorizontal:20},smallText:{fontSize:12},mediumText:{fontSize:14},largeText:{fontSize:16}})},44408:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(2772),l=o(15648),d=o(16773),c=o(15009),u=o(49637),f=o(60893),g=o(5894),h=o(78833),m=o(31329),p=o(13854),y=o(6941),x=o(34253),b=o(25786),j=o(90046),C=o(88885),w=o(60397);const S=["\u2764\ufe0f","\ud83d\ude02","\ud83d\ude31","\ud83d\udd25","\ud83d\udc4f","\ud83d\udcaf"];function v(){const{id:e}=(0,u.useLocalSearchParams)(),t=(0,h.useSafeAreaInsets)(),{currentSpill:o,joinSpill:s,leaveSpill:c,isMuted:v,toggleMute:z,hasRequestedMic:F,requestMic:P,sendReaction:D,sendComment:A}=(0,C.useSpill)(),[R,V]=(0,r.useState)(""),[L,O]=(0,r.useState)(!1),[W,E]=(0,r.useState)([]);(0,r.useEffect)((()=>(e&&s(e),()=>{c()})),[e]);return o?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Stack.Screen,{options:{headerShown:!1}}),(0,w.jsxs)(f.LinearGradient,{colors:["#0B0D1A","#1A1535","#2E256E"],style:B.container,children:[(0,w.jsxs)(n.default,{style:[B.header,{paddingTop:t.top+12}],children:[(0,w.jsxs)(n.default,{style:B.headerLeft,children:[(0,w.jsxs)(n.default,{style:B.liveBadge,children:[(0,w.jsx)(n.default,{style:B.liveIndicator}),(0,w.jsx)(a.default,{style:B.liveText,children:"LIVE"})]}),(0,w.jsxs)(a.default,{style:B.listenerCount,children:["\ud83d\udc65 ",T(o.listenerCount)]})]}),(0,w.jsx)(l.default,{onPress:()=>{c(),u.router.back()},style:B.closeButton,children:(0,w.jsx)(j.default,{size:24,color:"#FFFFFF"})})]}),(0,w.jsxs)(i.default,{style:B.content,showsVerticalScrollIndicator:!1,children:[(0,w.jsxs)(n.default,{style:B.topicSection,children:[(0,w.jsx)(a.default,{style:B.topicName,children:o.topicName}),(0,w.jsx)(a.default,{style:B.topicSubtitle,children:"Live Discussion"})]}),(0,w.jsxs)(n.default,{style:B.hostsSection,children:[(0,w.jsx)(a.default,{style:B.sectionTitle,children:"Hosts & Speakers"}),(0,w.jsxs)(n.default,{style:B.participantsGrid,children:[(0,w.jsx)(k,{avatar:o.hostAvatar,name:o.hostName,role:"Host",isSpeaking:!0}),o.cohosts.map((e=>(0,w.jsx)(k,{avatar:e.avatar,name:e.name,role:"Co-host",isSpeaking:e.isSpeaking},e.id))),o.participants.filter((e=>"speaker"===e.role)).map((e=>(0,w.jsx)(k,{avatar:e.avatar,name:e.name,role:"Speaker",isSpeaking:e.isSpeaking},e.id)))]})]}),(0,w.jsxs)(n.default,{style:B.audienceSection,children:[(0,w.jsx)(a.default,{style:B.sectionTitle,children:"Audience"}),(0,w.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsx)(n.default,{style:B.audienceGrid,children:o.participants.filter((e=>"listener"===e.role)).slice(0,20).map((e=>(0,w.jsx)(g.Image,{source:{uri:e.avatar},style:B.audienceAvatar,contentFit:"cover"},e.id)))})})]}),(0,w.jsxs)(n.default,{style:B.commentsSection,children:[(0,w.jsx)(a.default,{style:B.sectionTitle,children:"Live Comments"}),o.comments.slice(-5).map((e=>(0,w.jsxs)(n.default,{style:B.commentItem,children:[(0,w.jsx)(a.default,{style:B.commentUsername,children:e.username}),(0,w.jsx)(a.default,{style:B.commentText,children:e.text})]},e.id)))]})]}),W.map((e=>(0,w.jsx)(I,{emoji:e.emoji,x:e.x},e.id))),(0,w.jsxs)(n.default,{style:[B.bottomBar,{paddingBottom:t.bottom+12}],children:[(0,w.jsx)(n.default,{style:B.commentInputContainer,children:(0,w.jsx)(d.default,{style:B.commentInput,placeholder:"Add a comment...",placeholderTextColor:"#8E8E93",value:R,onChangeText:V,onSubmitEditing:()=>{R.trim()&&(A(R),V(""))},returnKeyType:"send"})}),(0,w.jsxs)(n.default,{style:B.actionButtons,children:[(0,w.jsx)(l.default,{style:[B.actionButton,v?B.mutedButton:B.activeButton],onPress:z,children:v?(0,w.jsx)(y.default,{size:20,color:"#FFFFFF"}):(0,w.jsx)(x.default,{size:20,color:"#FFFFFF"})}),!F&&(0,w.jsx)(l.default,{style:B.actionButton,onPress:P,children:(0,w.jsx)(m.default,{size:20,color:"#FFFFFF"})}),(0,w.jsx)(l.default,{style:B.actionButton,onPress:()=>O(!L),children:(0,w.jsx)(p.default,{size:20,color:"#FFFFFF"})}),(0,w.jsx)(l.default,{style:B.actionButton,children:(0,w.jsx)(b.default,{size:20,color:"#FFFFFF"})})]}),L&&(0,w.jsx)(n.default,{style:B.reactionsBar,children:S.map((e=>(0,w.jsx)(l.default,{style:B.reactionButton,onPress:()=>(e=>{D(e);const t=`reaction-${Date.now()}`;E((o=>[...o,{id:t,emoji:e,x:300*Math.random()}])),setTimeout((()=>{E((e=>e.filter((e=>e.id!==t))))}),3e3)})(e),children:(0,w.jsx)(a.default,{style:B.reactionEmoji,children:e})},e)))})]})]})]}):(0,w.jsx)(n.default,{style:B.loadingContainer,children:(0,w.jsx)(a.default,{style:B.loadingText,children:"Loading Spill..."})})}function k({avatar:e,name:t,role:o,isSpeaking:s}){const i=(0,r.useRef)(new c.default.Value(1)).current;return(0,r.useEffect)((()=>{if(s){const e=c.default.loop(c.default.sequence([c.default.timing(i,{toValue:1.15,duration:500,useNativeDriver:!0}),c.default.timing(i,{toValue:1,duration:500,useNativeDriver:!0})]));return e.start(),()=>e.stop()}}),[s,i]),(0,w.jsxs)(n.default,{style:B.participantContainer,children:[(0,w.jsxs)(c.default.View,{style:[B.participantAvatarContainer,{transform:[{scale:i}]}],children:[s&&(0,w.jsx)(n.default,{style:B.speakingRing}),(0,w.jsx)(g.Image,{source:{uri:e},style:B.participantAvatar,contentFit:"cover"})]}),(0,w.jsx)(a.default,{style:B.participantName,numberOfLines:1,children:t}),(0,w.jsx)(a.default,{style:B.participantRole,children:o})]})}function I({emoji:e,x:t}){const o=(0,r.useRef)(new c.default.Value(0)).current,n=(0,r.useRef)(new c.default.Value(1)).current;return(0,r.useEffect)((()=>{c.default.parallel([c.default.timing(o,{toValue:-300,duration:3e3,useNativeDriver:!0}),c.default.timing(n,{toValue:0,duration:3e3,useNativeDriver:!0})]).start()}),[o,n]),(0,w.jsx)(c.default.Text,{style:[B.floatingReaction,{left:t,transform:[{translateY:o}],opacity:n}],children:e})}function T(e){return e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}const B=s.default.create({container:{flex:1},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#0B0D1A"},loadingText:{fontSize:16,color:"#FFFFFF"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingBottom:12},headerLeft:{flexDirection:"row",alignItems:"center",gap:12},liveBadge:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 59, 48, 0.2)",paddingHorizontal:10,paddingVertical:6,borderRadius:14,gap:6},liveIndicator:{width:8,height:8,borderRadius:4,backgroundColor:"#FF3B30"},liveText:{fontSize:12,fontWeight:"700",color:"#FF3B30"},listenerCount:{fontSize:14,fontWeight:"600",color:"#FFFFFF"},closeButton:{width:40,height:40,borderRadius:20,backgroundColor:"rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},content:{flex:1,paddingHorizontal:16},topicSection:{alignItems:"center",marginVertical:24},topicName:{fontSize:32,fontWeight:"700",color:"#FFFFFF",marginBottom:8},topicSubtitle:{fontSize:16,color:"#8E8E93"},hostsSection:{marginBottom:32},sectionTitle:{fontSize:18,fontWeight:"700",color:"#FFFFFF",marginBottom:16},participantsGrid:{flexDirection:"row",flexWrap:"wrap",gap:16},participantContainer:{alignItems:"center",width:80},participantAvatarContainer:{position:"relative",marginBottom:8},speakingRing:{position:"absolute",top:-4,left:-4,right:-4,bottom:-4,borderRadius:40,borderWidth:3,borderColor:"#7B61FF"},participantAvatar:{width:64,height:64,borderRadius:32},participantName:{fontSize:12,fontWeight:"600",color:"#FFFFFF",marginBottom:2},participantRole:{fontSize:10,color:"#8E8E93"},audienceSection:{marginBottom:32},audienceGrid:{flexDirection:"row",gap:8},audienceAvatar:{width:40,height:40,borderRadius:20},commentsSection:{marginBottom:32},commentItem:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:12,padding:12,marginBottom:8},commentUsername:{fontSize:13,fontWeight:"600",color:"#7B61FF",marginBottom:4},commentText:{fontSize:14,color:"#FFFFFF"},bottomBar:{paddingHorizontal:16,paddingTop:12,backgroundColor:"rgba(11, 13, 26, 0.95)",borderTopWidth:1,borderTopColor:"rgba(255, 255, 255, 0.1)"},commentInputContainer:{marginBottom:12},commentInput:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:20,paddingHorizontal:16,paddingVertical:10,fontSize:14,color:"#FFFFFF"},actionButtons:{flexDirection:"row",justifyContent:"space-around",gap:12},actionButton:{width:48,height:48,borderRadius:24,backgroundColor:"rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},mutedButton:{backgroundColor:"rgba(255, 59, 48, 0.2)"},activeButton:{backgroundColor:"#7B61FF"},reactionsBar:{flexDirection:"row",justifyContent:"space-around",marginTop:12,paddingVertical:8,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:20},reactionButton:{padding:8},reactionEmoji:{fontSize:24},floatingReaction:{position:"absolute",bottom:200,fontSize:32}})},44815:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(20530),c=o(49637),u=o(78833),f=o(93861),g=o(23259),h=o(52321),m=o(36412),p=o(50812),y=o(61861),x=o(60397);function b(){const{colors:e}=(0,m.useTheme)(),t=(0,u.useSafeAreaInsets)(),[o,n]=(0,r.useState)(null),[b,C]=(0,r.useState)(""),[w,S]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{S(!0);const e=(0,p.detectRegion)();n(e);const t=(0,y.getLegalContent)(e.region);C(t.privacyPolicy)}catch(e){console.error("[PrivacyPolicy] Error loading content:",e)}finally{S(!1)}})()}),[]);return(0,x.jsxs)(s.default,{style:[j.container,{backgroundColor:e.background}],children:[(0,x.jsx)(c.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:e.background},headerTintColor:e.text,headerTitle:"Privacy Policy",headerLeft:()=>(0,x.jsx)(l.default,{onPress:()=>c.router.back(),style:j.backButton,children:(0,x.jsx)(f.default,{size:24,color:e.text})})}}),w?(0,x.jsxs)(s.default,{style:j.loadingContainer,children:[(0,x.jsx)(d.default,{size:"large",color:e.primary}),(0,x.jsx)(a.default,{style:[j.loadingText,{color:e.textSecondary}],children:"Loading privacy policy..."})]}):(0,x.jsxs)(x.Fragment,{children:[o&&(0,x.jsxs)(s.default,{style:[j.regionBanner,{backgroundColor:e.glass}],children:[(0,x.jsx)(g.default,{size:16,color:e.primary}),(0,x.jsxs)(a.default,{style:[j.regionText,{color:e.textSecondary}],children:["Showing ",(0,p.getRegionName)(o.region)," version"]})]}),(0,x.jsxs)(i.default,{style:j.scrollView,contentContainerStyle:[j.content,{paddingBottom:t.bottom+40}],showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(s.default,{style:[j.header,{backgroundColor:e.glass}],children:[(0,x.jsx)(h.default,{size:32,color:e.primary}),(0,x.jsx)(a.default,{style:[j.headerTitle,{color:e.text}],children:"Your Privacy Matters"}),(0,x.jsx)(a.default,{style:[j.headerSubtitle,{color:e.textSecondary}],children:"We're committed to protecting your personal information"})]}),(0,x.jsx)(s.default,{style:[j.contentCard,{backgroundColor:e.card}],children:(t=>{const o=t.split("\n"),r=[];return o.forEach(((t,o)=>{t.startsWith("# ")?r.push((0,x.jsx)(a.default,{style:[j.h1,{color:e.text}],children:t.replace("# ","")},o)):t.startsWith("## ")?r.push((0,x.jsx)(a.default,{style:[j.h2,{color:e.text}],children:t.replace("## ","")},o)):t.startsWith("### ")?r.push((0,x.jsx)(a.default,{style:[j.h3,{color:e.text}],children:t.replace("### ","")},o)):t.startsWith("- ")?r.push((0,x.jsxs)(s.default,{style:j.bulletContainer,children:[(0,x.jsx)(a.default,{style:[j.bullet,{color:e.textSecondary}],children:"\u2022"}),(0,x.jsx)(a.default,{style:[j.bulletText,{color:e.textSecondary}],children:t.replace("- ","")})]},o)):t.startsWith("**")&&t.endsWith("**")?r.push((0,x.jsx)(a.default,{style:[j.bold,{color:e.text}],children:t.replace(/\*\*/g,"")},o)):"---"===t.trim()?r.push((0,x.jsx)(s.default,{style:[j.divider,{backgroundColor:e.border}]},o)):""!==t.trim()?r.push((0,x.jsx)(a.default,{style:[j.paragraph,{color:e.textSecondary}],children:t},o)):r.push((0,x.jsx)(s.default,{style:j.spacing},o))})),r})(b)})]})]})]})}const j=n.default.create({container:{flex:1},backButton:{padding:8,marginLeft:8},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",gap:16},loadingText:{fontSize:14},regionBanner:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:8,paddingHorizontal:16,gap:8},regionText:{fontSize:12,fontWeight:"500"},scrollView:{flex:1},content:{padding:16},header:{alignItems:"center",padding:24,borderRadius:16,marginBottom:16},headerTitle:{fontSize:24,fontWeight:"700",marginTop:12,textAlign:"center"},headerSubtitle:{fontSize:14,marginTop:8,textAlign:"center"},contentCard:{borderRadius:16,padding:20},h1:{fontSize:24,fontWeight:"700",marginTop:24,marginBottom:12},h2:{fontSize:20,fontWeight:"700",marginTop:20,marginBottom:10},h3:{fontSize:16,fontWeight:"600",marginTop:16,marginBottom:8},paragraph:{fontSize:14,lineHeight:22,marginBottom:8},bulletContainer:{flexDirection:"row",marginBottom:6,paddingLeft:8},bullet:{fontSize:14,marginRight:8,marginTop:2},bulletText:{flex:1,fontSize:14,lineHeight:22},bold:{fontSize:14,fontWeight:"700",marginBottom:8},divider:{height:1,marginVertical:16},spacing:{height:8}})},45111:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var r=o(49637),n=o(60397);function a(){return(0,n.jsx)(r.Stack,{children:(0,n.jsx)(r.Stack.Screen,{name:"(tabs)"})})}},46480:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>P});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(15648),d=o(16773),c=o(82660),u=o(78264),f=o(35708),g=o(49637),h=o(63953),m=o(34927),p=o(25275),y=o(69661),x=o(76156),b=o(67236),j=o(46422),C=o(90046),w=o(18004),S=o(59542),v=o(67026),k=o(36412),I=o(8979),T=o(70106),B=o(60397);function z({conversation:e,senderName:t,senderImage:o,senderUsername:r,onAccept:n,onDecline:i,onViewProfile:d}){const{colors:c}=(0,k.useTheme)();return(0,B.jsxs)(s.default,{style:[F.container,{backgroundColor:c.card}],children:[(0,B.jsx)(s.default,{style:F.header,children:(0,B.jsxs)(l.default,{onPress:d,style:F.profileSection,children:[(0,B.jsx)(m.Avatar,{uri:o,size:64}),(0,B.jsxs)(s.default,{style:F.profileInfo,children:[(0,B.jsx)(a.default,{style:[F.name,{color:c.text}],children:t}),(0,B.jsxs)(a.default,{style:[F.username,{color:c.textSecondary}],children:["@",r]})]})]})}),(0,B.jsx)(s.default,{style:[F.messagePreview,{backgroundColor:c.background}],children:(0,B.jsx)(a.default,{style:[F.messageText,{color:c.textSecondary}],numberOfLines:2,children:(()=>{if(!e.lastMessage)return"Sent you a message";const t=e.lastMessage;switch(t.type){case"image":return"\ud83d\udcf7 Sent a photo";case"video":return"\ud83c\udfa5 Sent a video";case"voice":return"\ud83c\udfa4 Sent a voice message";case"gif":return"Sent a GIF";case"sticker":return"Sent a sticker";default:return t.content}})()})}),(0,B.jsxs)(s.default,{style:[F.warningBanner,{backgroundColor:c.glass}],children:[(0,B.jsx)(I.default,{size:16,color:c.warning}),(0,B.jsx)(a.default,{style:[F.warningText,{color:c.textSecondary}],children:"You don't follow each other"})]}),(0,B.jsxs)(s.default,{style:F.actions,children:[(0,B.jsxs)(l.default,{style:[F.actionButton,F.declineButton,{backgroundColor:c.background}],onPress:i,children:[(0,B.jsx)(C.default,{size:20,color:c.error}),(0,B.jsx)(a.default,{style:[F.actionText,{color:c.error}],children:"Decline"})]}),(0,B.jsxs)(l.default,{style:[F.actionButton,F.acceptButton,{backgroundColor:c.primary}],onPress:n,children:[(0,B.jsx)(T.default,{size:20,color:"#fff"}),(0,B.jsx)(a.default,{style:[F.actionText,{color:"#fff"}],children:"Accept"})]})]})]})}const F=n.default.create({container:{marginHorizontal:16,marginVertical:8,borderRadius:16,padding:16,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},header:{marginBottom:16},profileSection:{flexDirection:"row",alignItems:"center",gap:12},profileInfo:{flex:1},name:{fontSize:18,fontWeight:"700",marginBottom:4},username:{fontSize:14},messagePreview:{padding:12,borderRadius:12,marginBottom:12},messageText:{fontSize:14,lineHeight:20},warningBanner:{flexDirection:"row",alignItems:"center",gap:8,padding:12,borderRadius:8,marginBottom:16},warningText:{fontSize:12,flex:1},actions:{flexDirection:"row",gap:12},actionButton:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:12,borderRadius:12,gap:8},declineButton:{borderWidth:1,borderColor:"rgba(239, 68, 68, 0.3)"},acceptButton:{},actionText:{fontSize:14,fontWeight:"600"}});function P(){const{colors:e}=(0,k.useTheme)(),{getActiveConversations:t,getMessageRequests:o,getTotalUnreadCount:n,selectConversation:I,togglePin:T,toggleMute:F,archiveConversation:P,deleteConversation:A,acceptRequest:R,declineRequest:V}=(0,h.useDM)(),[L,O]=(0,r.useState)(""),[W,E]=(0,r.useState)(!1),[M,N]=(0,r.useState)(!1),[H,U]=(0,r.useState)(!1),[q,_]=(0,r.useState)(!1),$=M?o():t(),Y=o().length,G=(n(),e=>{const t=(new Date).getTime()-e.getTime(),o=Math.floor(t/6e4),r=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<1?"now":o<60?`${o}m`:r<24?`${r}h`:n<7?`${n}d`:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),J=e=>{const t=e.participants.find((e=>"current-user"!==e));return v.mockUsers.find((e=>e.id===t))||v.mockUsers[0]},K=e=>{if("group"===e.type)return e.name||"Group Chat";return J(e).displayName},Q=e=>{if("group"===e.type)return e.image;return J(e).profileImage},Z=e=>{if(!e.lastMessage)return"Tap to chat";const t=e.lastMessage,o="current-user"===t.senderId?"You: ":"";if(t.deletedForEveryone)return"\ud83d\udeab This message was deleted";switch(t.type){case"image":return`${o}\ud83d\udcf7 Photo`;case"video":return`${o}\ud83c\udfa5 Video`;case"voice":return`${o}\ud83c\udfa4 Voice message`;default:return`${o}${t.content}`}},X=$.filter((e=>{if(!L)return!0;return K(e).toLowerCase().includes(L.toLowerCase())}));return(0,B.jsxs)(s.default,{style:[D.container,{backgroundColor:e.background}],children:[(0,B.jsx)(g.Stack.Screen,{options:{title:"Messages",headerStyle:{backgroundColor:e.background},headerTitleStyle:{color:e.text,fontSize:22,fontWeight:"bold"},headerTintColor:e.text,headerRight:()=>(0,B.jsxs)(s.default,{style:D.headerRightContainer,children:[(0,B.jsx)(l.default,{style:D.headerButton,onPress:()=>g.router.push("/messages-settings"),children:(0,B.jsx)(y.default,{size:24,color:e.text})}),(0,B.jsx)(l.default,{style:D.headerButton,onPress:()=>U(!0),children:(0,B.jsx)(x.default,{size:24,color:e.text})})]})}}),(0,B.jsx)(s.default,{style:[D.searchContainer,{backgroundColor:e.background}],children:(0,B.jsxs)(s.default,{style:[D.searchBar,{backgroundColor:e.card}],children:[(0,B.jsx)(b.default,{size:18,color:e.textSecondary}),(0,B.jsx)(d.default,{style:[D.searchInput,{color:e.text}],placeholder:"Search",placeholderTextColor:e.textSecondary,value:L,onChangeText:O})]})}),Y>0&&!M&&(0,B.jsxs)(l.default,{style:[D.requestsBanner,{backgroundColor:e.background,borderBottomColor:e.border}],onPress:()=>N(!0),children:[(0,B.jsxs)(s.default,{style:D.requestsLeft,children:[(0,B.jsx)(a.default,{style:[D.requestsText,{color:e.text}],children:"Message Requests"}),(0,B.jsx)(a.default,{style:[D.requestsCount,{color:e.primary}],children:Y})]}),(0,B.jsx)(j.default,{size:20,color:e.textSecondary,style:{transform:[{rotate:"-90deg"}]}})]}),M&&(0,B.jsx)(s.default,{style:[D.requestsHeader,{backgroundColor:e.background,borderBottomColor:e.border}],children:(0,B.jsx)(l.default,{onPress:()=>N(!1),children:(0,B.jsx)(a.default,{style:[D.backToInbox,{color:e.primary}],children:"\u2039 Back"})})}),0===X.length?(0,B.jsxs)(s.default,{style:D.emptyContainer,children:[(0,B.jsx)(s.default,{style:[D.emptyIconContainer,{backgroundColor:e.card}],children:(0,B.jsx)(x.default,{size:64,color:e.textSecondary,strokeWidth:1.5})}),(0,B.jsx)(a.default,{style:[D.emptyTitle,{color:e.text}],children:L?"No results found":M?"No message requests":"No messages yet"}),(0,B.jsx)(a.default,{style:[D.emptyMessage,{color:e.textSecondary}],children:L?"Try searching for something else":M?"Message requests from people you don't follow will appear here":"Send a message to start a conversation"}),!L&&!M&&(0,B.jsx)(l.default,{style:[D.sendMessageButton,{backgroundColor:e.primary}],onPress:()=>U(!0),children:(0,B.jsx)(a.default,{style:D.sendMessageButtonText,children:"Send Message"})})]}):(0,B.jsx)(i.default,{data:X,keyExtractor:e=>e.id,renderItem:({item:t})=>{if(M&&t.isRequest){const e=J(t);return(0,B.jsx)(z,{conversation:t,senderName:e.displayName,senderImage:e.profileImage||"",senderUsername:e.username,onAccept:()=>{R(t.id)},onDecline:()=>{V(t.id)},onViewProfile:()=>{g.router.push(`/user/${e.id}`)}})}const o=(J(t).id,Math.random()>.5);return(0,B.jsxs)(l.default,{style:[D.conversationItem,{backgroundColor:e.background}],onPress:()=>{return I((e=t).id),void g.router.push(`/chat/${e.id}`);var e},activeOpacity:.9,children:[(0,B.jsxs)(s.default,{style:D.avatarContainer,children:[(0,B.jsx)(m.Avatar,{uri:Q(t),size:56}),o&&(0,B.jsx)(s.default,{style:[D.onlineDot,{backgroundColor:"#44b700"}]})]}),(0,B.jsxs)(s.default,{style:D.conversationContent,children:[(0,B.jsxs)(s.default,{style:D.conversationHeader,children:[(0,B.jsxs)(s.default,{style:D.nameContainer,children:[(0,B.jsx)(a.default,{style:[D.userName,{color:e.text}],numberOfLines:1,children:K(t)}),o&&(0,B.jsx)(s.default,{style:D.onlineBadge,children:(0,B.jsx)(a.default,{style:D.onlineBadgeText,children:"Active"})})]}),(0,B.jsxs)(s.default,{style:D.headerRight,children:[t.lastMessage&&(0,B.jsx)(a.default,{style:[D.timestamp,{color:e.textSecondary}],children:G(new Date(t.lastMessage.createdAt))}),(0,B.jsx)(l.default,{style:D.menuButton,onPress:()=>_(!0),children:(0,B.jsx)(p.default,{size:20,color:e.textSecondary})})]})]}),(0,B.jsxs)(s.default,{style:D.messagePreview,children:[(0,B.jsx)(a.default,{style:[D.lastMessage,{color:e.textSecondary},t.unreadCount>0&&[D.unreadMessage,{color:e.text}]],numberOfLines:1,children:Z(t)}),t.unreadCount>0&&(0,B.jsx)(s.default,{style:[D.unreadBadge,{backgroundColor:e.primary}],children:(0,B.jsx)(a.default,{style:D.unreadBadgeText,children:t.unreadCount})})]})]})]})},showsVerticalScrollIndicator:!1,contentContainerStyle:D.listContainer,refreshControl:(0,B.jsx)(c.default,{refreshing:W,onRefresh:()=>{E(!0),setTimeout((()=>E(!1)),1e3)},tintColor:e.primary})}),(0,B.jsx)(u.default,{visible:H,animationType:"slide",transparent:!0,onRequestClose:()=>U(!1),children:(0,B.jsx)(f.default,{style:D.modalOverlay,onPress:()=>U(!1),children:(0,B.jsxs)(f.default,{style:[D.modalContent,{backgroundColor:e.card}],onPress:e=>e.stopPropagation(),children:[(0,B.jsxs)(s.default,{style:[D.modalHeader,{borderBottomColor:e.border}],children:[(0,B.jsx)(a.default,{style:[D.modalTitle,{color:e.text}],children:"New Message"}),(0,B.jsx)(l.default,{onPress:()=>U(!1),children:(0,B.jsx)(C.default,{size:24,color:e.text})})]}),(0,B.jsxs)(s.default,{style:D.modalBody,children:[(0,B.jsxs)(s.default,{style:[D.searchBar,{backgroundColor:e.background,marginHorizontal:16,marginBottom:16}],children:[(0,B.jsx)(b.default,{size:18,color:e.textSecondary}),(0,B.jsx)(d.default,{style:[D.searchInput,{color:e.text}],placeholder:"Search people to message...",placeholderTextColor:e.textSecondary,autoFocus:!0})]}),(0,B.jsxs)(l.default,{style:[D.modalOption,{borderBottomColor:e.border}],onPress:()=>{U(!1)},children:[(0,B.jsx)(s.default,{style:[D.modalOptionIcon,{backgroundColor:e.primary}],children:(0,B.jsx)(w.default,{size:24,color:"#fff"})}),(0,B.jsxs)(s.default,{style:D.modalOptionText,children:[(0,B.jsx)(a.default,{style:[D.modalOptionTitle,{color:e.text}],children:"New Chat"}),(0,B.jsx)(a.default,{style:[D.modalOptionSubtitle,{color:e.textSecondary}],children:"Start a conversation"})]})]}),(0,B.jsxs)(l.default,{style:D.modalOption,onPress:()=>{U(!1)},children:[(0,B.jsx)(s.default,{style:[D.modalOptionIcon,{backgroundColor:e.primary}],children:(0,B.jsx)(S.default,{size:24,color:"#fff"})}),(0,B.jsxs)(s.default,{style:D.modalOptionText,children:[(0,B.jsx)(a.default,{style:[D.modalOptionTitle,{color:e.text}],children:"New Group"}),(0,B.jsx)(a.default,{style:[D.modalOptionSubtitle,{color:e.textSecondary}],children:"Create a group chat"})]})]})]})]})})}),(0,B.jsx)(u.default,{visible:q,animationType:"slide",transparent:!0,onRequestClose:()=>_(!1),children:(0,B.jsx)(f.default,{style:D.modalOverlay,onPress:()=>_(!1),children:(0,B.jsxs)(f.default,{style:[D.modalContent,{backgroundColor:e.card}],onPress:e=>e.stopPropagation(),children:[(0,B.jsxs)(s.default,{style:[D.modalHeader,{borderBottomColor:e.border}],children:[(0,B.jsx)(a.default,{style:[D.modalTitle,{color:e.text}],children:"Message Settings"}),(0,B.jsx)(l.default,{onPress:()=>_(!1),children:(0,B.jsx)(C.default,{size:24,color:e.text})})]}),(0,B.jsxs)(s.default,{style:D.modalBody,children:[(0,B.jsx)(l.default,{style:[D.settingsOption,{borderBottomColor:e.border}],onPress:()=>_(!1),children:(0,B.jsx)(a.default,{style:[D.settingsOptionText,{color:e.text}],children:"Mute notifications"})}),(0,B.jsx)(l.default,{style:[D.settingsOption,{borderBottomColor:e.border}],onPress:()=>_(!1),children:(0,B.jsx)(a.default,{style:[D.settingsOptionText,{color:e.text}],children:"Mark as unread"})}),(0,B.jsx)(l.default,{style:[D.settingsOption,{borderBottomColor:e.border}],onPress:()=>_(!1),children:(0,B.jsx)(a.default,{style:[D.settingsOptionText,{color:e.text}],children:"Archive chat"})}),(0,B.jsx)(l.default,{style:D.settingsOption,onPress:()=>_(!1),children:(0,B.jsx)(a.default,{style:[D.settingsOptionText,{color:e.error}],children:"Delete chat"})})]})]})})})]})}const D=n.default.create({container:{flex:1},headerRightContainer:{flexDirection:"row",marginRight:16,gap:16},headerButton:{padding:4},searchContainer:{paddingHorizontal:16,paddingTop:12,paddingBottom:12},searchBar:{flexDirection:"row",alignItems:"center",borderRadius:10,paddingHorizontal:12,height:45,gap:8},searchInput:{flex:1,fontSize:16,paddingVertical:0},requestsBanner:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},requestsLeft:{flexDirection:"row",alignItems:"center",gap:8},requestsText:{fontSize:16,fontWeight:"600"},requestsCount:{fontSize:16,fontWeight:"700"},requestsHeader:{paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},backToInbox:{fontSize:16,fontWeight:"600"},listContainer:{paddingBottom:20},conversationItem:{flexDirection:"row",alignItems:"flex-start",paddingHorizontal:16,paddingVertical:16},avatarContainer:{position:"relative",marginRight:12},onlineDot:{position:"absolute",bottom:2,right:2,width:16,height:16,borderRadius:8,borderWidth:3,borderColor:"#fff"},conversationContent:{flex:1},conversationHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},nameContainer:{flexDirection:"row",alignItems:"center",flex:1,gap:8},onlineBadge:{backgroundColor:"rgba(68, 183, 0, 0.15)",paddingHorizontal:8,paddingVertical:2,borderRadius:10},onlineBadgeText:{color:"#44b700",fontSize:11,fontWeight:"600"},headerRight:{flexDirection:"row",alignItems:"center",gap:8},menuButton:{padding:4},userName:{fontSize:16,fontWeight:"600"},timestamp:{fontSize:13,marginLeft:4},messagePreview:{flexDirection:"row",alignItems:"center",gap:8},lastMessage:{fontSize:15,flex:1},unreadMessage:{fontWeight:"600"},unreadBadge:{minWidth:20,height:20,borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:6},unreadBadgeText:{color:"#fff",fontSize:12,fontWeight:"700"},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:40},emptyIconContainer:{width:120,height:120,borderRadius:60,justifyContent:"center",alignItems:"center",marginBottom:24},emptyTitle:{fontSize:22,fontWeight:"bold",marginBottom:8,textAlign:"center"},emptyMessage:{fontSize:16,textAlign:"center",lineHeight:22,marginBottom:32},sendMessageButton:{paddingVertical:14,paddingHorizontal:32,borderRadius:24},sendMessageButtonText:{color:"#fff",fontSize:16,fontWeight:"600"},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"flex-end"},modalContent:{borderTopLeftRadius:20,borderTopRightRadius:20,paddingBottom:40},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1},modalTitle:{fontSize:20,fontWeight:"bold"},modalBody:{paddingTop:8},modalOption:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1},modalOptionIcon:{width:48,height:48,borderRadius:24,justifyContent:"center",alignItems:"center",marginRight:16},modalOptionText:{flex:1},modalOptionTitle:{fontSize:16,fontWeight:"600",marginBottom:2},modalOptionSubtitle:{fontSize:14},settingsOption:{paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1},settingsOptionText:{fontSize:16}})},48993:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var r=o(36665),n=o(73668),a=o(73929),s=o(51226),i=o(6283),l=o(15648),d=o(49637),c=o(34248),u=o(36412),f=o(29621),g=o(3356),h=o(35647),m=o(60397);function p(){const{tag:e}=(0,d.useLocalSearchParams)(),{colors:t}=(0,u.useTheme)(),[o]=(0,r.useState)(f.mockPosts.filter((t=>t.content.toLowerCase().includes(`#${e?.toLowerCase()}`)))),n=e=>{console.log("Like pressed for post:",e)},p=e=>{d.router.push(`/post/${e}`)},x=e=>{console.log("Share pressed for post:",e)},b=e=>{console.log("Save pressed for post:",e)},j=e=>{d.router.push(`/user/${e}`)},C=e=>{d.router.push(`/post/${e}`)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Stack.Screen,{options:{title:`#${e}`,headerStyle:{backgroundColor:t.background},headerTintColor:t.text,headerTitleStyle:{color:"#87CEEB"}}}),(0,m.jsxs)(a.default,{style:[y.container,{backgroundColor:t.background}],children:[(0,m.jsxs)(a.default,{style:y.header,children:[(0,m.jsxs)(a.default,{style:y.hashtagInfo,children:[(0,m.jsx)(a.default,{style:y.hashtagIconContainer,children:(0,m.jsx)(g.default,{size:28,color:"#87CEEB"})}),(0,m.jsxs)(a.default,{style:y.hashtagTextContainer,children:[(0,m.jsxs)(i.default,{style:[y.hashtagTitle,{color:"#87CEEB"}],children:["#",e]}),(0,m.jsxs)(i.default,{style:[y.postCount,{color:t.textSecondary}],children:[o.length," ",1===o.length?"post":"posts"]})]})]}),(0,m.jsxs)(l.default,{style:y.followHashtagButton,children:[(0,m.jsx)(h.default,{size:20,color:"#87CEEB"}),(0,m.jsx)(i.default,{style:y.followHashtagText,children:"Follow"})]})]}),o.length>0?(0,m.jsx)(s.default,{data:o,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,m.jsx)(c.PostCard,{post:e,onPress:C,onLike:n,onComment:p,onShare:x,onSavePress:b,onUserPress:j}),showsVerticalScrollIndicator:!1,contentContainerStyle:y.contentContainer}):(0,m.jsxs)(a.default,{style:y.emptyState,children:[(0,m.jsx)(g.default,{size:48,color:t.textSecondary}),(0,m.jsx)(i.default,{style:[y.emptyTitle,{color:t.text}],children:"No posts found"}),(0,m.jsxs)(i.default,{style:[y.emptySubtitle,{color:t.textSecondary}],children:["Be the first to post with #",e]})]})]})]})}const y=n.default.create({container:{flex:1},header:{padding:16,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},hashtagInfo:{flexDirection:"row",alignItems:"center",flex:1},hashtagIconContainer:{width:56,height:56,borderRadius:28,backgroundColor:"rgba(135, 206, 235, 0.15)",justifyContent:"center",alignItems:"center",marginRight:12},hashtagTextContainer:{flex:1},hashtagTitle:{fontSize:24,fontWeight:"bold",marginBottom:4},postCount:{fontSize:14,fontWeight:"500"},followHashtagButton:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(135, 206, 235, 0.15)",paddingHorizontal:16,paddingVertical:8,borderRadius:20,gap:6},followHashtagText:{color:"#87CEEB",fontSize:14,fontWeight:"600"},contentContainer:{paddingBottom:100},emptyState:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:32},emptyTitle:{fontSize:20,fontWeight:"bold",marginTop:16,marginBottom:8},emptySubtitle:{fontSize:16,textAlign:"center",lineHeight:24}})},49582:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Colors:()=>a,DarkTheme:()=>r,LightTheme:()=>n});const r={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",background:"#000000",backgroundSecondary:"#0A0A0A",card:"#121212",cardLight:"#1E1E1E",text:"#FFFFFF",textSecondary:"#A0A0A0",textMuted:"#6B7280",textInverse:"#000000",border:"#2A2A2A",borderLight:"#3A3A3A",error:"#EF4444",success:"#10B981",warning:"#F59E0B",info:"#3B82F6",notification:"#EF4444",transparent:"transparent",overlay:"rgba(0, 0, 0, 0.5)",glass:"rgba(255, 255, 255, 0.1)",glassLight:"rgba(255, 255, 255, 0.15)",shadow:"rgba(0, 0, 0, 0.3)"},n={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",background:"#FFFFFF",backgroundSecondary:"#F8F9FA",card:"#FFFFFF",cardLight:"#F1F5F9",text:"#000000",textSecondary:"#6B7280",textMuted:"#9CA3AF",textInverse:"#FFFFFF",border:"#E5E7EB",borderLight:"#F3F4F6",error:"#EF4444",success:"#10B981",warning:"#F59E0B",info:"#3B82F6",notification:"#EF4444",transparent:"transparent",overlay:"rgba(0, 0, 0, 0.5)",glass:"rgba(0, 0, 0, 0.1)",glassLight:"rgba(0, 0, 0, 0.05)",shadow:"rgba(0, 0, 0, 0.1)"},a=r},50159:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});o(36665);var r=o(73929),n=o(6283),a=o(73668),s=o(2772),i=o(15648),l=o(49637),d=o(61171),c=o(13854),u=o(37286),f=o(25786),g=o(35647),h=o(18004),m=o(59542),p=o(90046),y=o(49582),x=o(60397);function b(){const{data:e}=(0,l.useLocalSearchParams)();let t=null;try{t=e?JSON.parse(e):null}catch(a){console.error("Failed to parse analytics:",a)}if(!t)return(0,x.jsx)(r.default,{style:j.container,children:(0,x.jsx)(n.default,{style:j.errorText,children:"Analytics not available"})});return(0,x.jsxs)(d.SafeAreaView,{style:j.container,edges:["top"],children:[(0,x.jsx)(l.Stack.Screen,{options:{headerShown:!1}}),(0,x.jsxs)(r.default,{style:j.header,children:[(0,x.jsx)(n.default,{style:j.headerTitle,children:"Live Analytics"}),(0,x.jsx)(i.default,{onPress:()=>l.router.replace("/(tabs)"),style:j.closeButton,testID:"close-button",children:(0,x.jsx)(p.default,{size:24,color:y.Colors.text})})]}),(0,x.jsxs)(s.default,{style:j.content,contentContainerStyle:j.contentContainer,showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(r.default,{style:j.summaryCard,children:[(0,x.jsx)(n.default,{style:j.summaryTitle,children:"Great job! \ud83c\udf89"}),(0,x.jsx)(n.default,{style:j.summarySubtitle,children:"Your live session has ended"}),(0,x.jsxs)(r.default,{style:j.durationContainer,children:[(0,x.jsx)(n.default,{style:j.durationLabel,children:"Duration"}),(0,x.jsx)(n.default,{style:j.durationValue,children:(o=t.duration,`${Math.floor(o/6e4)}:${Math.floor(o%6e4/1e3).toString().padStart(2,"0")}`)})]})]}),(0,x.jsxs)(r.default,{style:j.statsGrid,children:[(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(m.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.peakViewers}),(0,x.jsx)(n.default,{style:j.statLabel,children:"Peak Viewers"})]}),(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(m.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.totalViews}),(0,x.jsx)(n.default,{style:j.statLabel,children:"Total Views"})]}),(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(c.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.likeCount}),(0,x.jsx)(n.default,{style:j.statLabel,children:"Likes"})]}),(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(u.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.commentCount}),(0,x.jsx)(n.default,{style:j.statLabel,children:"Comments"})]}),(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(f.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.shareCount}),(0,x.jsx)(n.default,{style:j.statLabel,children:"Shares"})]}),(0,x.jsxs)(r.default,{style:j.statCard,children:[(0,x.jsx)(r.default,{style:j.statIconContainer,children:(0,x.jsx)(h.default,{size:24,color:y.Colors.primary})}),(0,x.jsx)(n.default,{style:j.statValue,children:t.newFollowers}),(0,x.jsx)(n.default,{style:j.statLabel,children:"New Followers"})]})]}),(0,x.jsxs)(r.default,{style:j.section,children:[(0,x.jsxs)(r.default,{style:j.sectionHeader,children:[(0,x.jsx)(g.default,{size:20,color:y.Colors.text}),(0,x.jsx)(n.default,{style:j.sectionTitle,children:"Engagement"})]}),(0,x.jsxs)(r.default,{style:j.engagementCard,children:[(0,x.jsxs)(r.default,{style:j.engagementRow,children:[(0,x.jsx)(n.default,{style:j.engagementLabel,children:"Engagement Rate"}),(0,x.jsxs)(n.default,{style:j.engagementValue,children:[(100*t.engagementRate).toFixed(1),"%"]})]}),(0,x.jsxs)(r.default,{style:j.engagementRow,children:[(0,x.jsx)(n.default,{style:j.engagementLabel,children:"Avg. Watch Time"}),(0,x.jsx)(n.default,{style:j.engagementValue,children:(e=>`${Math.floor(e/6e4)}m`)(t.averageWatchTime)})]}),(0,x.jsxs)(r.default,{style:j.engagementRow,children:[(0,x.jsx)(n.default,{style:j.engagementLabel,children:"Unique Viewers"}),(0,x.jsx)(n.default,{style:j.engagementValue,children:t.uniqueViewers})]})]})]}),(0,x.jsxs)(r.default,{style:j.actions,children:[(0,x.jsx)(i.default,{style:j.primaryButton,onPress:()=>l.router.replace("/(tabs)"),children:(0,x.jsx)(n.default,{style:j.primaryButtonText,children:"Done"})}),(0,x.jsxs)(i.default,{style:j.secondaryButton,onPress:()=>console.log("Share analytics"),children:[(0,x.jsx)(f.default,{size:20,color:y.Colors.primary}),(0,x.jsx)(n.default,{style:j.secondaryButtonText,children:"Share Results"})]})]})]})]});var o}const j=a.default.create({container:{flex:1,backgroundColor:y.Colors.background},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:y.Colors.border},headerTitle:{fontSize:20,fontWeight:"700",color:y.Colors.text},closeButton:{padding:8},content:{flex:1},contentContainer:{padding:16},summaryCard:{backgroundColor:y.Colors.card,borderRadius:16,padding:24,alignItems:"center",marginBottom:24},summaryTitle:{fontSize:28,fontWeight:"700",color:y.Colors.text,marginBottom:8},summarySubtitle:{fontSize:16,color:y.Colors.textSecondary,marginBottom:24},durationContainer:{alignItems:"center"},durationLabel:{fontSize:14,color:y.Colors.textSecondary,marginBottom:4},durationValue:{fontSize:32,fontWeight:"700",color:y.Colors.primary},statsGrid:{flexDirection:"row",flexWrap:"wrap",gap:12,marginBottom:24},statCard:{flex:1,minWidth:"30%",backgroundColor:y.Colors.card,borderRadius:12,padding:16,alignItems:"center"},statIconContainer:{width:48,height:48,borderRadius:24,backgroundColor:`${y.Colors.primary}20`,alignItems:"center",justifyContent:"center",marginBottom:12},statValue:{fontSize:24,fontWeight:"700",color:y.Colors.text,marginBottom:4},statLabel:{fontSize:12,color:y.Colors.textSecondary,textAlign:"center"},section:{marginBottom:24},sectionHeader:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:12},sectionTitle:{fontSize:18,fontWeight:"700",color:y.Colors.text},engagementCard:{backgroundColor:y.Colors.card,borderRadius:12,padding:16},engagementRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12,borderBottomWidth:1,borderBottomColor:y.Colors.border},engagementLabel:{fontSize:16,color:y.Colors.text},engagementValue:{fontSize:16,fontWeight:"600",color:y.Colors.primary},actions:{gap:12,marginBottom:24},primaryButton:{backgroundColor:y.Colors.primary,borderRadius:12,padding:16,alignItems:"center"},primaryButtonText:{fontSize:18,fontWeight:"700",color:"#FFFFFF"},secondaryButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,backgroundColor:y.Colors.card,borderRadius:12,padding:16,borderWidth:1,borderColor:y.Colors.border},secondaryButtonText:{fontSize:16,fontWeight:"600",color:y.Colors.primary},errorText:{fontSize:16,color:y.Colors.text,textAlign:"center"}})},50812:(e,t,o)=>{"use strict";o.r(t),o.d(t,{detectRegion:()=>a,getRegionName:()=>s});var r=o(89454);const n=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","UK"];function a(){try{const e=r.getLocales()[0],t=e?.regionCode?.toUpperCase()||"US";let o="OTHER";return n.includes(t)?o="EU":"US"===t||"CA"===t?o="US_CA":"ZA"===t&&(o="ZA"),console.log("[RegionDetection] Detected region:",{region:o,countryCode:t}),{region:o,countryCode:t,countryName:e?.regionCode||"Unknown"}}catch(e){return console.error("[RegionDetection] Error detecting region:",e),{region:"OTHER",countryCode:"US",countryName:"Unknown"}}}function s(e){switch(e){case"EU":return"European Union";case"US_CA":return"United States / Canada";case"ZA":return"South Africa";default:return"International"}}},52417:(e,t,o)=>{"use strict";o.r(t),o.d(t,{QRCodeShareModal:()=>v});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(78264),d=o(68703),c=o(51690),u=o(26725),f=o(49582),g=o(18993),h=o(25786),m=o(90046),p=o(60893),y=o(36393),x=o(46581),b=o(34927),j=o(9443),C=(o(73727),o(60397));const{width:w}=u.default.get("window"),S=Math.min(.6*w,280),v=({visible:e,onClose:t,user:o})=>{const[n,u]=(0,r.useState)("gradient"),w=(0,r.useRef)(null),v=`https://vibesync.app/u/${o.username}`,I="white"===n?"#000000":f.Colors.text,T="white"===n?"#FFFFFF":"#000000",B="white"===n?"#000000":"#FFFFFF";return(0,C.jsx)(l.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,children:(0,C.jsx)(y.default,{intensity:80,style:k.modalOverlay,children:(0,C.jsx)(s.default,{style:k.modalContainer,children:(0,C.jsxs)(s.default,{style:k.modalContent,children:[(0,C.jsxs)(s.default,{style:k.header,children:[(0,C.jsx)(a.default,{style:k.title,children:"Share Profile"}),(0,C.jsx)(i.default,{onPress:t,style:k.closeButton,children:(0,C.jsx)(m.default,{size:24,color:f.Colors.text})})]}),(0,C.jsx)(s.default,{style:k.qrContainer,ref:w,collapsable:!1,children:(0,C.jsx)(p.LinearGradient,{colors:{gradient:["#3B82F6","#06B6D4","#10B981"],white:["#FFFFFF","#FFFFFF"],black:["#000000","#000000"]}[n],start:{x:0,y:0},end:{x:1,y:1},style:k.qrBackground,children:(0,C.jsxs)(s.default,{style:k.qrContent,children:[(0,C.jsxs)(s.default,{style:k.profileInfo,children:[(0,C.jsx)(b.Avatar,{uri:o.profileImage,size:60,borderWidth:3,borderColor:I}),(0,C.jsx)(a.default,{style:[k.displayName,{color:I}],children:o.displayName}),(0,C.jsxs)(a.default,{style:[k.username,{color:I,opacity:.7}],children:["@",o.username]})]}),(0,C.jsx)(s.default,{style:k.qrCodeWrapper,children:(0,C.jsx)(x.default,{value:v,size:S,backgroundColor:T,color:B,logo:o.profileImage?{uri:o.profileImage}:void 0,logoSize:.2*S,logoBackgroundColor:T,logoBorderRadius:.1*S})}),(0,C.jsx)(a.default,{style:[k.scanText,{color:I,opacity:.8}],children:"Scan to view profile"}),(0,C.jsx)(a.default,{style:[k.brandText,{color:I,opacity:.6}],children:"VibeSync"})]})})}),(0,C.jsxs)(i.default,{style:k.bgToggleButton,onPress:()=>{const e=["gradient","white","black"],t=(e.indexOf(n)+1)%e.length;u(e[t]),console.log("[QRCode] Background changed to:",e[t])},children:[(0,C.jsxs)(a.default,{style:k.bgToggleText,children:["gradient"===n?"Gradient":"white"===n?"White":"Black"," Background"]}),(0,C.jsx)(a.default,{style:k.bgToggleHint,children:"Tap to change"})]}),(0,C.jsxs)(s.default,{style:k.actionsContainer,children:[(0,C.jsx)(i.default,{style:k.actionButton,onPress:async()=>{try{(await d.default.share({message:`Check out ${o.displayName}'s profile on VibeSync!\n${v}`,url:v,title:`${o.displayName} on VibeSync`})).action===d.default.sharedAction&&console.log("[QRCode] Profile shared successfully")}catch(e){console.error("[QRCode] Error sharing:",e),c.default.alert("Error","Failed to share profile. Please try again.")}},children:(0,C.jsxs)(p.LinearGradient,{colors:["#3B82F6","#2563EB"],start:{x:0,y:0},end:{x:1,y:0},style:k.actionGradient,children:[(0,C.jsx)(h.default,{size:20,color:f.Colors.text}),(0,C.jsx)(a.default,{style:k.actionText,children:"Share"})]})}),(0,C.jsx)(i.default,{style:k.actionButton,onPress:async()=>{try{await j.setStringAsync(v),c.default.alert("Success","Profile link copied to clipboard!"),console.log("[QRCode] Profile link copied:",v)}catch(e){console.error("[QRCode] Error copying link:",e),c.default.alert("Error","Failed to copy link. Please try again.")}},children:(0,C.jsxs)(s.default,{style:k.actionSecondary,children:[(0,C.jsx)(g.default,{size:20,color:f.Colors.text}),(0,C.jsx)(a.default,{style:k.actionText,children:"Copy Link"})]})}),!1]})]})})})})},k=n.default.create({modalOverlay:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContainer:{width:"90%",maxWidth:400},modalContent:{backgroundColor:f.Colors.card,borderRadius:24,padding:24},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{fontSize:24,fontWeight:"700",color:f.Colors.text},closeButton:{padding:4},qrContainer:{borderRadius:20,overflow:"hidden",marginBottom:16},qrBackground:{padding:24,alignItems:"center"},qrContent:{alignItems:"center"},profileInfo:{alignItems:"center",marginBottom:20},displayName:{fontSize:20,fontWeight:"700",marginTop:12},username:{fontSize:15,marginTop:4},qrCodeWrapper:{backgroundColor:"#FFFFFF",padding:16,borderRadius:16,marginBottom:16},scanText:{fontSize:14,fontWeight:"600",marginBottom:4},brandText:{fontSize:12,fontWeight:"700",letterSpacing:1},bgToggleButton:{alignItems:"center",paddingVertical:12,marginBottom:16},bgToggleText:{color:f.Colors.text,fontSize:14,fontWeight:"600"},bgToggleHint:{color:f.Colors.textSecondary,fontSize:12,marginTop:2},actionsContainer:{flexDirection:"row",gap:12},actionButton:{flex:1,borderRadius:16,overflow:"hidden"},actionGradient:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:14},actionSecondary:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:14,backgroundColor:f.Colors.cardLight,borderRadius:16},actionText:{color:f.Colors.text,fontSize:14,fontWeight:"600"}})},52844:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>S});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(51690),c=o(2772),u=o(49637),f=o(93861),g=o(70106),h=o(57459),m=o(21191),p=o(3421),y=o(90046),x=o(49582),b=o(43316),j=o(23049),C=o(25924),w=o(60397);function S(){const{logout:e}=(0,C.useAuth)(),[t,o]=(0,r.useState)(""),[n,S]=(0,r.useState)(""),[k,I]=(0,r.useState)(""),[T,B]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[P,D]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),[V,L]=(0,r.useState)(""),[O,W]=(0,r.useState)(!1),E=(e=>{let t=0;return e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t<=1?"weak":t<=2?"medium":"strong"})(n),M=[{label:"At least 8 characters",met:(N=n).length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(N)},{label:"One number",met:/[0-9]/.test(N)},{label:"One special character (optional)",met:/[^A-Za-z0-9]/.test(N)}];var N;const H=M.slice(0,3).every((e=>e.met)),U=()=>{switch(E){case"weak":return x.Colors.error;case"medium":return"#FFA500";case"strong":return x.Colors.success;default:return x.Colors.border}};return(0,w.jsxs)(s.default,{style:v.container,children:[(0,w.jsx)(j.StatusBar,{style:"light"}),(0,w.jsx)(u.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:x.Colors.background},headerTintColor:x.Colors.text,headerTitle:"Change Password",headerLeft:()=>(0,w.jsx)(l.default,{onPress:()=>u.router.back(),style:v.backButton,children:(0,w.jsx)(f.default,{size:24,color:x.Colors.text})})}}),(0,w.jsx)(c.default,{style:v.scrollView,showsVerticalScrollIndicator:!1,children:(0,w.jsxs)(s.default,{style:v.content,children:[(0,w.jsx)(s.default,{style:v.iconContainer,children:(0,w.jsx)(s.default,{style:v.iconCircle,children:(0,w.jsx)(a.default,{style:v.iconText,children:"\ud83d\udd10"})})}),(0,w.jsx)(a.default,{style:v.title,children:"Change Your Password"}),(0,w.jsx)(a.default,{style:v.subtitle,children:"Keep your account secure by using a strong password"}),V?(0,w.jsx)(a.default,{style:v.errorText,children:V}):null,(0,w.jsxs)(s.default,{style:v.inputContainer,children:[(0,w.jsx)(a.default,{style:v.inputLabel,children:"Current Password"}),(0,w.jsxs)(s.default,{style:v.inputWrapper,children:[(0,w.jsx)(i.default,{style:v.input,placeholder:"Enter current password",placeholderTextColor:x.Colors.textSecondary,value:t,onChangeText:e=>{o(e),L("")},secureTextEntry:!T,autoCapitalize:"none"}),(0,w.jsx)(l.default,{style:v.eyeIcon,onPress:()=>B(!T),children:T?(0,w.jsx)(h.default,{size:20,color:x.Colors.textSecondary}):(0,w.jsx)(m.default,{size:20,color:x.Colors.textSecondary})})]})]}),(0,w.jsxs)(s.default,{style:v.inputContainer,children:[(0,w.jsx)(a.default,{style:v.inputLabel,children:"New Password"}),(0,w.jsxs)(s.default,{style:v.inputWrapper,children:[(0,w.jsx)(i.default,{style:v.input,placeholder:"Enter new password",placeholderTextColor:x.Colors.textSecondary,value:n,onChangeText:e=>{S(e),L("")},secureTextEntry:!z,autoCapitalize:"none"}),(0,w.jsx)(l.default,{style:v.eyeIcon,onPress:()=>F(!z),children:z?(0,w.jsx)(h.default,{size:20,color:x.Colors.textSecondary}):(0,w.jsx)(m.default,{size:20,color:x.Colors.textSecondary})})]})]}),n.length>0&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(s.default,{style:v.strengthContainer,children:[(0,w.jsx)(s.default,{style:v.strengthBarBackground,children:(0,w.jsx)(s.default,{style:[v.strengthBarFill,{width:(()=>{switch(E){case"weak":return"33%";case"medium":return"66%";case"strong":return"100%";default:return"0%"}})(),backgroundColor:U()}]})}),(0,w.jsx)(a.default,{style:[v.strengthText,{color:U()}],children:E.charAt(0).toUpperCase()+E.slice(1)})]}),(0,w.jsx)(s.default,{style:v.requirementsContainer,children:M.map(((e,t)=>(0,w.jsxs)(s.default,{style:v.requirementItem,children:[e.met?(0,w.jsx)(g.default,{size:16,color:x.Colors.success}):(0,w.jsx)(y.default,{size:16,color:x.Colors.textSecondary}),(0,w.jsx)(a.default,{style:[v.requirementText,e.met&&v.requirementTextMet],children:e.label})]},t)))})]}),(0,w.jsxs)(s.default,{style:v.inputContainer,children:[(0,w.jsx)(a.default,{style:v.inputLabel,children:"Confirm New Password"}),(0,w.jsxs)(s.default,{style:v.inputWrapper,children:[(0,w.jsx)(i.default,{style:v.input,placeholder:"Confirm new password",placeholderTextColor:x.Colors.textSecondary,value:k,onChangeText:e=>{I(e),L("")},secureTextEntry:!P,autoCapitalize:"none"}),(0,w.jsx)(l.default,{style:v.eyeIcon,onPress:()=>D(!P),children:P?(0,w.jsx)(h.default,{size:20,color:x.Colors.textSecondary}):(0,w.jsx)(m.default,{size:20,color:x.Colors.textSecondary})})]})]}),(0,w.jsxs)(l.default,{style:v.logoutOption,onPress:()=>W(!O),children:[(0,w.jsxs)(s.default,{style:v.logoutOptionLeft,children:[(0,w.jsx)(p.default,{size:20,color:x.Colors.text}),(0,w.jsxs)(s.default,{style:v.logoutOptionText,children:[(0,w.jsx)(a.default,{style:v.logoutOptionTitle,children:"Logout from all devices"}),(0,w.jsx)(a.default,{style:v.logoutOptionSubtitle,children:"Sign out from all other devices after changing password"})]})]}),(0,w.jsx)(s.default,{style:[v.checkbox,O&&v.checkboxActive],children:O&&(0,w.jsx)(g.default,{size:16,color:x.Colors.text})})]}),(0,w.jsx)(b.Button,{title:"Change Password",onPress:async()=>{if(t)if(H)if(n===k)if(t!==n){R(!0),L("");try{await new Promise((e=>setTimeout(e,1500))),d.default.alert("Password Changed Successfully","Your password has been changed successfully."+(O?" You have been logged out from all devices.":""),[{text:"OK",onPress:()=>{O?(e(),u.router.replace("/auth")):u.router.back()}}])}catch(o){L("Failed to change password. Please try again."),console.error(o)}finally{R(!1)}}else L("New password must be different from current password");else L("Passwords do not match");else L("New password does not meet requirements");else L("Please enter your current password")},loading:A,disabled:A||!t||!H||!k,style:v.changeButton}),(0,w.jsx)(s.default,{style:v.infoBox,children:(0,w.jsx)(a.default,{style:v.infoText,children:"\ud83d\udd12 You will receive an email notification confirming your password change"})})]})})]})}const v=n.default.create({container:{flex:1,backgroundColor:x.Colors.background},backButton:{padding:8,marginLeft:8},scrollView:{flex:1},content:{padding:24,paddingBottom:40},iconContainer:{alignItems:"center",marginTop:20,marginBottom:24},iconCircle:{width:80,height:80,borderRadius:40,backgroundColor:x.Colors.cardLight,justifyContent:"center",alignItems:"center"},iconText:{fontSize:40},title:{fontSize:28,fontWeight:"bold",color:x.Colors.text,marginBottom:8,textAlign:"center"},subtitle:{fontSize:14,color:x.Colors.textSecondary,textAlign:"center",marginBottom:32,lineHeight:20},errorText:{color:x.Colors.error,marginBottom:16,fontSize:14},inputContainer:{marginBottom:16},inputLabel:{fontSize:14,fontWeight:"600",color:x.Colors.text,marginBottom:8},inputWrapper:{position:"relative"},input:{backgroundColor:x.Colors.cardLight,borderRadius:12,padding:16,paddingRight:48,color:x.Colors.text,fontSize:16},eyeIcon:{position:"absolute",right:16,top:18},strengthContainer:{marginBottom:16},strengthBarBackground:{height:4,backgroundColor:x.Colors.border,borderRadius:2,overflow:"hidden",marginBottom:8},strengthBarFill:{height:"100%",borderRadius:2},strengthText:{fontSize:12,fontWeight:"600",textAlign:"right"},requirementsContainer:{backgroundColor:x.Colors.cardLight,borderRadius:12,padding:16,marginBottom:16},requirementItem:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8},requirementText:{fontSize:14,color:x.Colors.textSecondary},requirementTextMet:{color:x.Colors.success},logoutOption:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:x.Colors.cardLight,borderRadius:12,padding:16,marginBottom:24},logoutOptionLeft:{flexDirection:"row",alignItems:"center",gap:12,flex:1},logoutOptionText:{flex:1},logoutOptionTitle:{fontSize:14,fontWeight:"600",color:x.Colors.text,marginBottom:4},logoutOptionSubtitle:{fontSize:12,color:x.Colors.textSecondary,lineHeight:16},checkbox:{width:24,height:24,borderRadius:6,borderWidth:2,borderColor:x.Colors.border,justifyContent:"center",alignItems:"center"},checkboxActive:{backgroundColor:x.Colors.primary,borderColor:x.Colors.primary},changeButton:{marginBottom:16},infoBox:{backgroundColor:x.Colors.cardLight,borderRadius:12,padding:16,borderLeftWidth:4,borderLeftColor:x.Colors.primary},infoText:{color:x.Colors.textSecondary,fontSize:14,lineHeight:20}})},54407:(e,t,o)=>{"use strict";o.r(t),o.d(t,{VerifiedBadge:()=>l,default:()=>c});o(36665);var r=o(73668),n=o(73929),a=o(70106),s=o(49582),i=o(60397);const l=({size:e=16,testID:t})=>(0,i.jsx)(n.default,{style:[d.badge,{width:e,height:e,borderRadius:e/2}],testID:t,children:(0,i.jsx)(a.default,{size:.6*e,color:s.Colors.text,strokeWidth:3})}),d=r.default.create({badge:{backgroundColor:s.Colors.primary,justifyContent:"center",alignItems:"center"}}),c=l},55239:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ProfileViewsProvider:()=>c,useProfileViews:()=>u});var r=o(36665),n=o(47640),a=o(52790),s=o(67026);const i="@vibesync/profile_views",l="@vibesync/vibe_likes",d="@vibesync/profile_views_enabled",[c,u]=(0,a.default)((()=>{const[e,t]=(0,r.useState)({}),[o,a]=(0,r.useState)({}),[c,u]=(0,r.useState)(!0),[f,g]=(0,r.useState)({}),[h,m]=(0,r.useState)({});(0,r.useEffect)((()=>{p()}),[]);const p=async()=>{try{const[e,o,r]=await Promise.all([n.default.getItem(i),n.default.getItem(l),n.default.getItem(d)]);if(e){const o=JSON.parse(e),r=y(o);t(r),x(r)}o&&a(JSON.parse(o)),r&&g(JSON.parse(r))}catch(e){console.error("[ProfileViews] Error loading data:",e)}finally{u(!1)}},y=e=>{const t=Date.now(),o={};return Object.keys(e).forEach((r=>{o[r]=e[r].filter((e=>{const o=new Date(e.timestamp).getTime();return t-o<=2592e6}))})),o},x=e=>{const t={};Object.keys(e).forEach((o=>{t[o]={},e[o].forEach((e=>{t[o][e.viewerId]||(t[o][e.viewerId]=0),t[o][e.viewerId]++}))})),m(t)},b=async(e,t,o)=>{try{const r=[n.default.setItem(i,JSON.stringify(e)),n.default.setItem(l,JSON.stringify(t))];o&&r.push(n.default.setItem(d,JSON.stringify(o))),await Promise.all(r)}catch(r){console.error("[ProfileViews] Error saving data:",r)}},j=(0,r.useCallback)((async(r,n)=>{if(r===n)return;const a=!1!==f[n],i=!1!==f[r];if(!a||!i)return void console.log("[ProfileViews] View not tracked - viewer or owner has views disabled");const l=s.mockUsers.find((e=>e.id===n));if(!l)return;const d=e[r]||[];if(d.find((e=>e.viewerId===n&&Date.now()-new Date(e.timestamp).getTime()<36e5)))return;const c={id:`view_${r}_${n}_${Date.now()}`,profileOwnerId:r,viewerId:n,viewerUsername:l.username,viewerDisplayName:l.displayName,viewerProfileImage:l.profileImage,viewerIsVerified:l.isVerified,timestamp:(new Date).toISOString(),deviceId:`device_${Math.random().toString(36).substr(2,9)}`,isPrivateView:!1},u=Object.assign({},e,{[r]:[c,...d].slice(0,100)});t(u),x(u),await b(u,o),console.log(`[ProfileViews] Tracked view: ${l.username} viewed ${r}`)}),[e,o,f]),C=(0,r.useCallback)((t=>{const o=e[t];return o&&0!==o.length?o:[]}),[e]),w=(0,r.useCallback)(((e,t="week")=>{const o=C(e),r=Date.now(),n={day:864e5,week:6048e5,month:2592e6,all:1/0};return o.filter((e=>{const o=new Date(e.timestamp).getTime();return r-o<=n[t]})).length}),[C]),S=(0,r.useCallback)((async(t,r)=>{const n=s.mockUsers.find((e=>e.id===r));if(!n)return;const i=o[t]||[];if(i.find((e=>e.userId===r))){const n=Object.assign({},o,{[t]:i.filter((e=>e.userId!==r))});return a(n),void await b(e,n)}const l={id:`like_${t}_${r}_${Date.now()}`,vibeId:t,userId:r,username:n.username,displayName:n.displayName,profileImage:n.profileImage,isVerified:n.isVerified,timestamp:(new Date).toISOString()},d=Object.assign({},o,{[t]:[l,...i]});a(d),await b(e,d),console.log(`[ProfileViews] Tracked like: ${n.username} liked vibe ${t}`)}),[o,e]),v=(0,r.useCallback)((e=>{const t=o[e];return t&&0!==t.length?t:[]}),[o]),k=(0,r.useCallback)(((e,t)=>v(e).filter((e=>t.includes(e.userId)))),[v]),I=(0,r.useCallback)((async(t,r)=>{const n=Object.assign({},f,{[t]:r});g(n),await b(e,o,n),console.log(`[ProfileViews] Profile views ${r?"enabled":"disabled"} for user ${t}`)}),[f,e,o]),T=(0,r.useCallback)((e=>!1!==f[e]),[f]),B=(0,r.useCallback)(((e,t)=>h[e]?.[t]||0),[h]),z=(0,r.useCallback)(((e,t=5)=>{const o=h[e]||{};return Object.entries(o).map((([e,t])=>({viewerId:e,count:t}))).sort(((e,t)=>t.count-e.count)).slice(0,t)}),[h]),F=(0,r.useCallback)(((e,t="week")=>{const o=C(e),r=Date.now(),n={day:864e5,week:6048e5};return o.filter((e=>{const o=new Date(e.timestamp).getTime();return r-o<=n[t]})).length}),[C]);return(0,r.useMemo)((()=>({profileViews:e,vibeLikes:o,isLoading:c,profileViewsEnabled:f,trackProfileView:j,getProfileViews:C,getProfileViewsCount:w,trackVibeLike:S,getVibeLikes:v,getFriendsWhoLiked:k,toggleProfileViewsEnabled:I,isProfileViewsEnabled:T,getRepeatVisitorCount:B,getTopRepeatVisitors:z,getNewVisitorsCount:F})),[e,o,c,f,j,C,w,S,v,k,I,T,B,z,F])}))},56136:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(78833),c=o(49637),u=o(49582),f=o(25924),g=o(55239),h=o(34927),m=o(54407),p=o(93861),y=o(30462),x=o(64584),b=o(21191),j=o(35647),C=o(59542),w=o(60893),S=o(60397);function v(){const{user:e,isAuthenticated:t}=(0,f.useAuth)(),{getProfileViews:o,getProfileViewsCount:n}=(0,g.useProfileViews)(),[v,I]=(0,r.useState)("week"),[T,B]=(0,r.useState)("all"),z=(0,d.useSafeAreaInsets)();r.useEffect((()=>{t||c.router.replace("/auth")}),[t]);const F=(0,r.useMemo)((()=>e?o(e.id):[]),[e,o]),P=(0,r.useMemo)((()=>{let e=[...F];const t=Date.now(),o={day:864e5,week:6048e5,month:2592e6,all:1/0};if(e=e.filter((e=>{const r=new Date(e.timestamp).getTime();return t-r<=o[v]})),"verified"===T)e=e.filter((e=>e.viewerIsVerified));else if("recent"===T){const t=Date.now()-864e5;e=e.filter((e=>new Date(e.timestamp).getTime()>t))}return e.filter((e=>!e.isPrivateView))}),[F,v,T]),D=(0,r.useMemo)((()=>e?{day:n(e.id,"day"),week:n(e.id,"week"),month:n(e.id,"month"),all:F.length}:{day:0,week:0,month:0,all:0}),[e,n,F]),A=e=>{const t=Date.now()-new Date(e).getTime(),o=Math.floor(t/6e4),r=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<1?"Just now":o<60?`${o}m ago`:r<24?`${r}h ago`:1===n?"Yesterday":`${n}d ago`},R=({item:e})=>(0,S.jsxs)(l.default,{style:k.viewItem,onPress:()=>{return t=e.viewerId,void c.router.push(`/user/${t}`);var t},activeOpacity:.7,children:[(0,S.jsx)(h.Avatar,{uri:e.viewerProfileImage,size:56}),(0,S.jsxs)(s.default,{style:k.viewInfo,children:[(0,S.jsxs)(s.default,{style:k.viewNameRow,children:[(0,S.jsx)(a.default,{style:k.viewName,numberOfLines:1,children:e.viewerDisplayName}),e.viewerIsVerified&&(0,S.jsx)(m.VerifiedBadge,{size:16})]}),(0,S.jsxs)(a.default,{style:k.viewUsername,numberOfLines:1,children:["@",e.viewerUsername]}),(0,S.jsxs)(s.default,{style:k.timeContainer,children:[(0,S.jsx)(x.default,{size:12,color:u.Colors.textSecondary}),(0,S.jsx)(a.default,{style:k.timeText,children:A(e.timestamp)})]})]})]});return e?(0,S.jsxs)(s.default,{style:[k.container,{paddingBottom:z.bottom}],children:[(0,S.jsx)(c.Stack.Screen,{options:{title:"Profile Views",headerStyle:{backgroundColor:u.Colors.background},headerTitleStyle:{color:u.Colors.text,fontWeight:"700"},headerTintColor:u.Colors.text,headerLeft:()=>(0,S.jsx)(l.default,{onPress:()=>c.router.back(),style:k.headerBackButton,children:(0,S.jsx)(p.default,{size:24,color:u.Colors.text})})}}),(0,S.jsxs)(i.default,{style:k.scrollView,showsVerticalScrollIndicator:!1,stickyHeaderIndices:[1],children:[(0,S.jsx)(s.default,{style:k.statsSection,children:(0,S.jsx)(w.LinearGradient,{colors:["rgba(59, 130, 246, 0.15)","rgba(6, 182, 212, 0.15)"],start:{x:0,y:0},end:{x:1,y:1},style:k.statsGradient,children:(0,S.jsxs)(s.default,{style:k.statsGrid,children:[(0,S.jsxs)(s.default,{style:k.statCard,children:[(0,S.jsx)(s.default,{style:k.statIconContainer,children:(0,S.jsx)(y.default,{size:20,color:u.Colors.primary})}),(0,S.jsx)(a.default,{style:k.statNumber,children:D.day}),(0,S.jsx)(a.default,{style:k.statLabel,children:"Today"})]}),(0,S.jsxs)(s.default,{style:k.statCard,children:[(0,S.jsx)(s.default,{style:k.statIconContainer,children:(0,S.jsx)(j.default,{size:20,color:u.Colors.primary})}),(0,S.jsx)(a.default,{style:k.statNumber,children:D.week}),(0,S.jsx)(a.default,{style:k.statLabel,children:"This Week"})]}),(0,S.jsxs)(s.default,{style:k.statCard,children:[(0,S.jsx)(s.default,{style:k.statIconContainer,children:(0,S.jsx)(C.default,{size:20,color:u.Colors.primary})}),(0,S.jsx)(a.default,{style:k.statNumber,children:D.month}),(0,S.jsx)(a.default,{style:k.statLabel,children:"This Month"})]}),(0,S.jsxs)(s.default,{style:k.statCard,children:[(0,S.jsx)(s.default,{style:k.statIconContainer,children:(0,S.jsx)(b.default,{size:20,color:u.Colors.primary})}),(0,S.jsx)(a.default,{style:k.statNumber,children:D.all}),(0,S.jsx)(a.default,{style:k.statLabel,children:"All Time"})]})]})})}),(0,S.jsx)(s.default,{style:k.filtersSection,children:(0,S.jsxs)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:k.filtersContainer,children:[(0,S.jsx)(a.default,{style:k.filterLabel,children:"Time:"}),["day","week","month","all"].map((e=>(0,S.jsx)(l.default,{style:[k.filterChip,v===e&&k.filterChipActive],onPress:()=>I(e),children:(0,S.jsx)(a.default,{style:[k.filterChipText,v===e&&k.filterChipTextActive],children:"day"===e?"Today":"week"===e?"Week":"month"===e?"Month":"All"})},e))),(0,S.jsx)(s.default,{style:k.filterDivider}),(0,S.jsx)(a.default,{style:k.filterLabel,children:"Filter:"}),["all","verified","recent"].map((e=>(0,S.jsx)(l.default,{style:[k.filterChip,T===e&&k.filterChipActive],onPress:()=>B(e),children:(0,S.jsx)(a.default,{style:[k.filterChipText,T===e&&k.filterChipTextActive],children:"all"===e?"All":"verified"===e?"Verified":"Recent"})},e)))]})}),(0,S.jsxs)(s.default,{style:k.listSection,children:[(0,S.jsxs)(s.default,{style:k.listHeader,children:[(0,S.jsxs)(a.default,{style:k.listTitle,children:[P.length," ",1===P.length?"View":"Views"]}),(0,S.jsx)(a.default,{style:k.listSubtitle,children:"People who viewed your profile"})]}),P.length>0?(0,S.jsx)(s.default,{style:k.viewsList,children:P.map((e=>(0,S.jsx)(s.default,{children:R({item:e})},e.id)))}):(0,S.jsxs)(s.default,{style:k.emptyContainer,children:[(0,S.jsx)(s.default,{style:k.emptyIconContainer,children:(0,S.jsx)(b.default,{size:48,color:u.Colors.textSecondary})}),(0,S.jsx)(a.default,{style:k.emptyTitle,children:"No views yet"}),(0,S.jsx)(a.default,{style:k.emptyText,children:"day"===v?"No one has viewed your profile today":"week"===v?"No one has viewed your profile this week":"month"===v?"No one has viewed your profile this month":"No one has viewed your profile yet"})]})]})]})]}):null}const k=n.default.create({container:{flex:1,backgroundColor:u.Colors.background},headerBackButton:{marginLeft:16,padding:4},scrollView:{flex:1},statsSection:{padding:20},statsGradient:{borderRadius:20,padding:20,borderWidth:1,borderColor:"rgba(59, 130, 246, 0.2)"},statsGrid:{flexDirection:"row",flexWrap:"wrap",gap:12},statCard:{flex:1,minWidth:"45%",backgroundColor:u.Colors.card,borderRadius:16,padding:16,alignItems:"center",borderWidth:1,borderColor:u.Colors.border},statIconContainer:{width:40,height:40,borderRadius:20,backgroundColor:"rgba(59, 130, 246, 0.15)",justifyContent:"center",alignItems:"center",marginBottom:8},statNumber:{color:u.Colors.text,fontSize:28,fontWeight:"700",marginBottom:4},statLabel:{color:u.Colors.textSecondary,fontSize:13,fontWeight:"500"},filtersSection:Object.assign({backgroundColor:u.Colors.background,paddingVertical:12,borderBottomWidth:1,borderBottomColor:u.Colors.border},void 0),filtersContainer:{paddingHorizontal:20,flexDirection:"row",alignItems:"center",gap:8},filterLabel:{color:u.Colors.textSecondary,fontSize:14,fontWeight:"600",marginRight:4},filterChip:{paddingHorizontal:16,paddingVertical:8,borderRadius:20,backgroundColor:u.Colors.cardLight,borderWidth:1,borderColor:u.Colors.border},filterChipActive:{backgroundColor:u.Colors.primary,borderColor:u.Colors.primary},filterChipText:{color:u.Colors.text,fontSize:14,fontWeight:"600"},filterChipTextActive:{color:u.Colors.text},filterDivider:{width:1,height:24,backgroundColor:u.Colors.border,marginHorizontal:8},listSection:{flex:1,paddingTop:20},listHeader:{paddingHorizontal:20,marginBottom:16},listTitle:{color:u.Colors.text,fontSize:20,fontWeight:"700",marginBottom:4},listSubtitle:{color:u.Colors.textSecondary,fontSize:14},viewsList:{paddingHorizontal:20,paddingBottom:40},viewItem:{flexDirection:"row",alignItems:"center",paddingVertical:12,gap:12,borderBottomWidth:1,borderBottomColor:u.Colors.border},viewInfo:{flex:1},viewNameRow:{flexDirection:"row",alignItems:"center",gap:6,marginBottom:4},viewName:{color:u.Colors.text,fontSize:16,fontWeight:"600",flex:1},viewUsername:{color:u.Colors.textSecondary,fontSize:14,marginBottom:4},timeContainer:{flexDirection:"row",alignItems:"center",gap:4},timeText:{color:u.Colors.textSecondary,fontSize:12},emptyContainer:{alignItems:"center",justifyContent:"center",paddingVertical:60,paddingHorizontal:40},emptyIconContainer:{width:96,height:96,borderRadius:48,backgroundColor:u.Colors.cardLight,justifyContent:"center",alignItems:"center",marginBottom:20},emptyTitle:{color:u.Colors.text,fontSize:20,fontWeight:"700",marginBottom:8},emptyText:{color:u.Colors.textSecondary,fontSize:15,textAlign:"center",lineHeight:22}})},58411:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(2772),d=o(4701),c=o(49637),u=o(36412),f=o(11835),g=o(29621),h=o(7023),m=o(58397),p=o(25786),y=o(76221),x=o(60397);function b(){const{colors:e}=(0,u.useTheme)(),[t,o]=(0,r.useState)(!1),[n,b]=(0,r.useState)(null),[C,w]=(0,r.useState)("post");return(0,x.jsxs)(d.default,{style:[j.container,{backgroundColor:e.background}],children:[(0,x.jsx)(c.Stack.Screen,{options:{title:"Share Demo",headerStyle:{backgroundColor:e.card},headerTintColor:e.text,headerShadowVisible:!1}}),(0,x.jsxs)(l.default,{style:j.scrollView,contentContainerStyle:j.content,showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(s.default,{style:j.section,children:[(0,x.jsx)(a.default,{style:[j.title,{color:e.text}],children:"VibeSync Share Content Flow"}),(0,x.jsx)(a.default,{style:[j.description,{color:e.textSecondary}],children:"Test the unique share sheet with VibeStreak indicators, multi-select, and Quick Vibe reactions."})]}),(0,x.jsxs)(s.default,{style:j.section,children:[(0,x.jsx)(a.default,{style:[j.sectionTitle,{color:e.text}],children:"Features"}),(0,x.jsxs)(s.default,{style:j.featureList,children:[(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"VibeStreak flame badges for friends you've interacted with in the last 7 days"})]}),(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"Multi-select friends with glowing borders"})]}),(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"Quick Vibe reactions (\ud83d\udd25, \ud83d\ude02, \ud83d\udc9c, \u2728) for instant sharing"})]}),(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"Content preview box showing thumbnail and caption"})]}),(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"Search bar to quickly find friends"})]}),(0,x.jsxs)(s.default,{style:j.featureItem,children:[(0,x.jsx)(s.default,{style:[j.featureBullet,{backgroundColor:e.primary}]}),(0,x.jsx)(a.default,{style:[j.featureText,{color:e.text}],children:"Horizontal scroll of frequent contacts at the top"})]})]})]}),(0,x.jsxs)(s.default,{style:j.section,children:[(0,x.jsx)(a.default,{style:[j.sectionTitle,{color:e.text}],children:"Try It Out"}),(0,x.jsxs)(i.default,{style:[j.demoButton,{backgroundColor:e.primary}],onPress:()=>{b(g.mockPosts[0]),w("post"),o(!0)},activeOpacity:.8,children:[(0,x.jsx)(p.default,{size:24,color:"#FFF"}),(0,x.jsxs)(s.default,{style:j.buttonTextContainer,children:[(0,x.jsx)(a.default,{style:j.buttonTitle,children:"Share a Post"}),(0,x.jsx)(a.default,{style:j.buttonSubtitle,children:"Share a text post with images"})]})]}),(0,x.jsxs)(i.default,{style:[j.demoButton,{backgroundColor:"#FF6B35"}],onPress:()=>{b(h.mockVibes[0]),w("vibe"),o(!0)},activeOpacity:.8,children:[(0,x.jsx)(y.default,{size:24,color:"#FFF"}),(0,x.jsxs)(s.default,{style:j.buttonTextContainer,children:[(0,x.jsx)(a.default,{style:j.buttonTitle,children:"Share a Vibe"}),(0,x.jsx)(a.default,{style:j.buttonSubtitle,children:"Share a short video reel"})]})]}),(0,x.jsxs)(i.default,{style:[j.demoButton,{backgroundColor:"#10B981"}],onPress:()=>{b({id:"song-1",title:"Summer Nights",artist:"The Weeknd",content:"Summer Nights - The Weeknd"}),w("song"),o(!0)},activeOpacity:.8,children:[(0,x.jsx)(m.default,{size:24,color:"#FFF"}),(0,x.jsxs)(s.default,{style:j.buttonTextContainer,children:[(0,x.jsx)(a.default,{style:j.buttonTitle,children:"Share a Song"}),(0,x.jsx)(a.default,{style:j.buttonSubtitle,children:"Share a music track"})]})]})]}),(0,x.jsxs)(s.default,{style:j.section,children:[(0,x.jsx)(a.default,{style:[j.sectionTitle,{color:e.text}],children:"How It Works"}),(0,x.jsxs)(s.default,{style:j.stepsList,children:[(0,x.jsxs)(s.default,{style:j.stepItem,children:[(0,x.jsx)(s.default,{style:[j.stepNumber,{backgroundColor:e.primary}],children:(0,x.jsx)(a.default,{style:j.stepNumberText,children:"1"})}),(0,x.jsx)(a.default,{style:[j.stepText,{color:e.text}],children:"Tap any share button above to open the share sheet"})]}),(0,x.jsxs)(s.default,{style:j.stepItem,children:[(0,x.jsx)(s.default,{style:[j.stepNumber,{backgroundColor:e.primary}],children:(0,x.jsx)(a.default,{style:j.stepNumberText,children:"2"})}),(0,x.jsx)(a.default,{style:[j.stepText,{color:e.text}],children:"Search or scroll to find friends (look for flame badges!)"})]}),(0,x.jsxs)(s.default,{style:j.stepItem,children:[(0,x.jsx)(s.default,{style:[j.stepNumber,{backgroundColor:e.primary}],children:(0,x.jsx)(a.default,{style:j.stepNumberText,children:"3"})}),(0,x.jsx)(a.default,{style:[j.stepText,{color:e.text}],children:"Select multiple friends by tapping their avatars"})]}),(0,x.jsxs)(s.default,{style:j.stepItem,children:[(0,x.jsx)(s.default,{style:[j.stepNumber,{backgroundColor:e.primary}],children:(0,x.jsx)(a.default,{style:j.stepNumberText,children:"4"})}),(0,x.jsx)(a.default,{style:[j.stepText,{color:e.text}],children:"Toggle Quick Vibe and pick a reaction, or write a custom message"})]}),(0,x.jsxs)(s.default,{style:j.stepItem,children:[(0,x.jsx)(s.default,{style:[j.stepNumber,{backgroundColor:e.primary}],children:(0,x.jsx)(a.default,{style:j.stepNumberText,children:"5"})}),(0,x.jsx)(a.default,{style:[j.stepText,{color:e.text}],children:"Tap the send button to share with all selected friends"})]})]})]})]}),n&&(0,x.jsx)(f.ShareSheet,{visible:t,onClose:()=>o(!1),content:n,contentType:C})]})}const j=n.default.create({container:{flex:1},scrollView:{flex:1},content:{padding:20,paddingBottom:40},section:{marginBottom:32},title:{fontSize:28,fontWeight:"700",marginBottom:12},description:{fontSize:16,lineHeight:24},sectionTitle:{fontSize:22,fontWeight:"700",marginBottom:16},featureList:{gap:12},featureItem:{flexDirection:"row",alignItems:"flex-start",gap:12},featureBullet:{width:8,height:8,borderRadius:4,marginTop:6},featureText:{flex:1,fontSize:16,lineHeight:24},demoButton:{flexDirection:"row",alignItems:"center",padding:20,borderRadius:16,marginBottom:16,gap:16},buttonTextContainer:{flex:1},buttonTitle:{fontSize:18,fontWeight:"700",color:"#FFF",marginBottom:4},buttonSubtitle:{fontSize:14,color:"rgba(255, 255, 255, 0.8)"},stepsList:{gap:16},stepItem:{flexDirection:"row",alignItems:"flex-start",gap:16},stepNumber:{width:32,height:32,borderRadius:16,alignItems:"center",justifyContent:"center"},stepNumberText:{fontSize:16,fontWeight:"700",color:"#FFF"},stepText:{flex:1,fontSize:16,lineHeight:24,paddingTop:4}})},61861:(e,t,o)=>{"use strict";function r(e){switch(e){case"EU":return{privacyPolicy:'# Privacy Policy (GDPR - European Union)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync ("we," "our," or "us") is committed to protecting your privacy in accordance with the General Data Protection Regulation (GDPR). This Privacy Policy explains how we collect, use, disclose, and safeguard your information.\n\n## Legal Basis for Processing\n\nWe process your personal data based on:\n- **Consent**: You have given clear consent for specific purposes\n- **Contract**: Processing is necessary to fulfill our service agreement\n- **Legal Obligation**: Required by EU or member state law\n- **Legitimate Interests**: For our business operations, balanced against your rights\n\n## Information We Collect\n\n### Personal Information\n- Account Information: Username, email address, encrypted password, profile picture, bio\n- Profile Data: Display name, location, date of birth\n- Contact Information: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your explicit consent)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Your GDPR Rights\n\nYou have the right to:\n- **Access**: Request a copy of your personal data\n- **Rectification**: Correct inaccurate or incomplete data\n- **Erasure**: Request deletion of your data ("right to be forgotten")\n- **Restrict Processing**: Limit how we use your data\n- **Data Portability**: Receive your data in a machine-readable format\n- **Object**: Object to processing based on legitimate interests\n- **Withdraw Consent**: Withdraw consent at any time\n- **Lodge a Complaint**: File a complaint with your supervisory authority\n\nTo exercise these rights, contact us at privacy@vibesync.app or our Data Protection Officer at dpo@vibesync.app.\n\n## Data Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers (Data Processors)\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\nAll processors are bound by GDPR-compliant data processing agreements.\n\n### For Legal Reasons\n- To comply with EU laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## International Data Transfers\n\nYour data may be transferred outside the EU. We ensure adequate protection through:\n- EU Standard Contractual Clauses\n- Adequacy decisions by the European Commission\n- Other approved safeguards under GDPR\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n- Pseudonymization and anonymization where possible\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children\'s Privacy\n\nVibeSync is not intended for users under 16 years old in the EU. We do not knowingly collect information from children under 16. If we discover we have collected such information, we will delete it immediately.\n\n## Automated Decision-Making\n\nWe may use automated systems for:\n- Content recommendations\n- Spam and abuse detection\n- Ad targeting (if applicable)\n\nYou have the right to object to automated decision-making that has legal or significant effects.\n\n## Contact Information\n\n**Data Protection Officer**: dpo@vibesync.app  \n**Privacy Inquiries**: privacy@vibesync.app  \n**Address**: [Your EU Representative Address]\n\n## Supervisory Authority\n\nYou have the right to lodge a complaint with your local data protection authority.\n\n## Changes to This Policy\n\nWe will notify you of material changes via:\n- In-app notification\n- Email notification\n- Update to "Last Updated" date\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**',termsOfService:'# Terms of Service (European Union)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync ("the App"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 16 years old to use VibeSync in the EU\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others\' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App\'s operation\n- Access others\' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### "AS IS" Service\n- VibeSync is provided "as is" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 9. Limitation of Liability\n\nTo the extent permitted by EU law:\n- We are not liable for indirect, incidental, or consequential damages\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\nNothing in these Terms excludes or limits our liability for:\n- Death or personal injury caused by negligence\n- Fraud or fraudulent misrepresentation\n- Any liability that cannot be excluded under EU law\n\n## 10. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by EU law and the laws of [Your EU Country]\n- Disputes will be resolved in [Your EU Country] courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n### EU Online Dispute Resolution\n- EU consumers can access the ODR platform at: https://ec.europa.eu/consumers/odr\n\n## 11. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don\'t agree to changes, stop using the App\n\n## 12. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**Data Protection Officer**: dpo@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**'};case"US_CA":return{privacyPolicy:'# Privacy Policy (CCPA - United States)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application.\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your permission)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\n### For Legal Reasons\n- To comply with laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Your California Privacy Rights (CCPA)\n\nIf you are a California resident, you have the right to:\n\n### Right to Know\n- Request disclosure of personal information we collect, use, and share\n- Request specific pieces of personal information we hold about you\n\n### Right to Delete\n- Request deletion of your personal information\n- Exceptions apply for legal compliance and service provision\n\n### Right to Opt-Out\n- We do NOT sell your personal information\n- If we ever do, you can opt-out at any time\n\n### Right to Non-Discrimination\n- We will not discriminate against you for exercising your CCPA rights\n- Same service quality and pricing for all users\n\n### How to Exercise Your Rights\n- Email: privacy@vibesync.app\n- In-app: Settings > Privacy > Data Rights\n- We will respond within 45 days\n\n### Verification\n- We may request information to verify your identity\n- This protects your personal information from unauthorized access\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n\nHowever, no method of transmission over the internet is 100% secure.\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children\'s Privacy\n\nVibeSync is not intended for users under 13 years old. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## Do Not Track Signals\n\nWe do not currently respond to "Do Not Track" browser signals.\n\n## Changes to This Policy\n\nWe may update this Privacy Policy from time to time. We will notify you of significant changes via:\n- In-app notification\n- Email notification\n- Update to "Last Updated" date\n\nContinued use of VibeSync after changes constitutes acceptance.\n\n## Contact Us\n\n**Email**: privacy@vibesync.app  \n**Address**: [Your Company Address]  \n**Support**: In-app Help & Support section\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**',termsOfService:'# Terms of Service (United States)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync ("the App"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others\' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App\'s operation\n- Access others\' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement (DMCA)\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n- Counter-notification process available per DMCA\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### "AS IS" Service\n- VibeSync is provided "as is" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n### No Professional Advice\n- Content on VibeSync is not professional advice\n- Do not rely on user content for medical, legal, or financial decisions\n\n## 9. Limitation of Liability\n\nTo the maximum extent permitted by law:\n- We are not liable for indirect, incidental, or consequential damages\n- Our total liability is limited to $100 or the amount you paid us (if any)\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\n## 10. Indemnification\n\nYou agree to indemnify and hold us harmless from claims, damages, and expenses arising from:\n- Your use of VibeSync\n- Your content\n- Your violation of these Terms\n- Your violation of others\' rights\n\n## 11. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by the laws of the State of [Your State]\n- Disputes will be resolved in [Your State] courts\n\n### Arbitration Agreement\n- Disputes will be resolved through binding arbitration\n- You waive the right to class action lawsuits\n- Arbitration is conducted under AAA rules\n- Small claims court option available\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n## 12. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don\'t agree to changes, stop using the App\n\n## 13. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**DMCA Agent**: dmca@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**'};case"ZA":return{privacyPolicy:'# Privacy Policy (POPIA - South Africa)\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync ("we," "our," or "us") is committed to protecting your privacy in accordance with the Protection of Personal Information Act (POPIA). This Privacy Policy explains how we collect, use, disclose, and safeguard your information.\n\n## POPIA Compliance\n\nWe comply with POPIA\'s eight conditions for lawful processing:\n1. Accountability\n2. Processing limitation\n3. Purpose specification\n4. Further processing limitation\n5. Information quality\n6. Openness\n7. Security safeguards\n8. Data subject participation\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n- **South African ID Number**: Not collected\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your explicit consent)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## Purpose of Processing\n\nWe process your personal information for the following purposes:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Legal Basis for Processing\n\nWe process your information based on:\n- **Consent**: You have given explicit consent\n- **Contract**: Necessary to provide our services\n- **Legal Obligation**: Required by South African law\n- **Legitimate Interest**: For our business operations\n\n## Your POPIA Rights\n\nYou have the right to:\n- **Access**: Request a copy of your personal information\n- **Correction**: Update or correct your information\n- **Deletion**: Request deletion of your information\n- **Objection**: Object to processing of your information\n- **Restriction**: Request restriction of processing\n- **Data Portability**: Receive your data in a portable format\n- **Withdraw Consent**: Withdraw consent at any time\n\nTo exercise these rights, contact our Information Officer at info@vibesync.app.\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers (Operators)\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\nAll operators are bound by POPIA-compliant agreements.\n\n### For Legal Reasons\n- To comply with South African laws and regulations\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Cross-Border Data Transfers\n\nYour data may be transferred outside South Africa. We ensure adequate protection through:\n- Ensuring recipient countries have adequate data protection laws\n- Contractual agreements with data processors\n- Your explicit consent where required\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n- Integrity and confidentiality safeguards\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\nWe do not retain information longer than necessary for the purpose.\n\n## Children\'s Privacy\n\nVibeSync is not intended for users under 18 years old without parental consent. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## Direct Marketing\n\nWe may send you marketing communications with your consent. You can opt-out at any time by:\n- Clicking unsubscribe in emails\n- Adjusting notification settings in the app\n- Contacting us at privacy@vibesync.app\n\n## Information Officer\n\nOur Information Officer is responsible for POPIA compliance:\n\n**Name**: [Information Officer Name]  \n**Email**: info@vibesync.app  \n**Phone**: [Phone Number]  \n**Address**: [Physical Address]\n\n## Complaints\n\nIf you believe we have violated POPIA, you can:\n1. Contact our Information Officer\n2. Lodge a complaint with the Information Regulator:\n   - Website: https://www.justice.gov.za/inforeg/\n   - Email: inforeg@justice.gov.za\n   - Phone: 012 406 4818\n\n## Changes to This Policy\n\nWe will notify you of material changes via:\n- In-app notification\n- Email notification\n- Update to "Last Updated" date\n\n## Contact Us\n\n**Information Officer**: info@vibesync.app  \n**Privacy Inquiries**: privacy@vibesync.app  \n**Address**: [Your South African Address]\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**',termsOfService:'# Terms of Service (South Africa)\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync ("the App"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others\' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any South African laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App\'s operation\n- Access others\' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by South African copyright and trademark laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy and POPIA Compliance\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information in accordance with POPIA. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Consumer Protection\n\nWe comply with the Consumer Protection Act (CPA). You have rights under the CPA including:\n- Right to fair and honest dealing\n- Right to information in plain language\n- Right to fair value and good quality\n- Right to safe products\n\n## 9. Disclaimers\n\n### "AS IS" Service\n- VibeSync is provided "as is" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 10. Limitation of Liability\n\nTo the extent permitted by South African law:\n- We are not liable for indirect, incidental, or consequential damages\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\nNothing in these Terms excludes or limits our liability for:\n- Death or personal injury caused by negligence\n- Fraud or fraudulent misrepresentation\n- Any liability that cannot be excluded under South African law\n\n## 11. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by the laws of South Africa\n- Disputes will be resolved in South African courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n### Alternative Dispute Resolution\n- Disputes may be referred to mediation or arbitration\n- AFSA (Arbitration Foundation of Southern Africa) rules apply\n\n## 12. Electronic Communications Act\n\nWe comply with the Electronic Communications and Transactions Act (ECTA). Electronic communications and signatures are valid and enforceable.\n\n## 13. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don\'t agree to changes, stop using the App\n\n## 14. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app  \n**Information Officer**: info@vibesync.app  \n**Address**: [Your South African Address]\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**'};default:return{privacyPolicy:'# Privacy Policy\n\n**Last Updated: January 13, 2025**\n\n## Introduction\n\nVibeSync ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application.\n\n## Information We Collect\n\n### Personal Information\n- **Account Information**: Username, email address, password (encrypted), profile picture, bio\n- **Profile Data**: Display name, location, date of birth\n- **Contact Information**: Phone number (optional)\n\n### Content You Create\n- Posts, comments, messages, stories, and status updates\n- Photos, videos, and voice recordings you upload\n- Live streaming content\n\n### Usage Information\n- Device information (model, OS version, unique identifiers)\n- Log data (IP address, access times, pages viewed)\n- Location data (with your permission)\n- Interaction data (likes, follows, shares, views)\n\n### Permissions We Request\n- **Camera**: To take photos and videos for posts and stories\n- **Microphone**: To record voice notes and live audio\n- **Photo Library**: To upload existing photos and videos\n- **Location**: To tag posts and find nearby users (optional)\n- **Contacts**: To find friends on VibeSync (optional)\n- **Notifications**: To send you updates and messages\n\n## How We Use Your Information\n\nWe use your information to:\n- Provide, maintain, and improve our services\n- Create and manage your account\n- Enable communication between users\n- Personalize your experience and content recommendations\n- Send notifications about activity on your account\n- Detect and prevent fraud, spam, and abuse\n- Comply with legal obligations\n- Analyze usage patterns to improve our app\n\n## Information Sharing\n\nWe do NOT sell your personal information. We may share information:\n\n### With Other Users\n- Your public profile information (username, bio, profile picture)\n- Content you post publicly (posts, comments, stories)\n- Your follower/following lists (if public)\n\n### With Service Providers\n- Cloud hosting providers (AWS, Google Cloud)\n- Analytics services (Firebase, Mixpanel)\n- Email service providers (SendGrid)\n- Payment processors (for future features)\n\n### For Legal Reasons\n- To comply with laws, regulations, or legal requests\n- To protect our rights, privacy, safety, or property\n- In connection with a merger, acquisition, or sale of assets\n\n## Data Security\n\nWe implement industry-standard security measures:\n- Encryption of data in transit (HTTPS/TLS)\n- Encrypted password storage (bcrypt)\n- Secure token-based authentication (JWT)\n- Regular security audits\n- Access controls and monitoring\n\nHowever, no method of transmission over the internet is 100% secure.\n\n## Your Rights and Choices\n\nYou have the right to:\n- **Access**: Request a copy of your personal data\n- **Correction**: Update or correct your information\n- **Deletion**: Request deletion of your account and data\n- **Portability**: Export your data in a machine-readable format\n- **Opt-Out**: Disable notifications, location tracking, or contact syncing\n- **Restrict Processing**: Limit how we use your data\n\nTo exercise these rights, contact us at privacy@vibesync.app\n\n## Data Retention\n\nWe retain your information:\n- **Active Accounts**: As long as your account is active\n- **Deleted Accounts**: 30 days after deletion (for recovery)\n- **Legal Requirements**: Longer if required by law\n- **Stories/Status**: Automatically deleted after 24 hours\n- **Messages**: Until you delete them\n\n## Children\'s Privacy\n\nVibeSync is not intended for users under 13 years old. We do not knowingly collect information from children under 13. If we discover we have collected such information, we will delete it immediately.\n\n## International Data Transfers\n\nYour information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers.\n\n## Changes to This Policy\n\nWe may update this Privacy Policy from time to time. We will notify you of significant changes via:\n- In-app notification\n- Email notification\n- Update to "Last Updated" date\n\nContinued use of VibeSync after changes constitutes acceptance.\n\n## Contact Us\n\n**Email**: privacy@vibesync.app  \n**Support**: In-app Help & Support section\n\n---\n\n**By using VibeSync, you agree to this Privacy Policy.**',termsOfService:'# Terms of Service\n\n**Last Updated: January 13, 2025**\n\n## 1. Acceptance of Terms\n\nBy accessing or using VibeSync ("the App"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the App.\n\n## 2. Eligibility\n\n- You must be at least 13 years old to use VibeSync\n- If you are under 18, you must have parental consent\n- You must provide accurate and complete registration information\n- You are responsible for maintaining the security of your account\n\n## 3. User Accounts\n\n### Account Creation\n- You must create an account to use most features\n- One person may not maintain more than one account\n- You may not impersonate others or create fake accounts\n- You are responsible for all activity on your account\n\n### Account Security\n- Keep your password confidential\n- Notify us immediately of unauthorized access\n- We are not liable for losses from unauthorized account use\n\n### Account Termination\n- You may delete your account at any time\n- We may suspend or terminate accounts that violate these Terms\n- We reserve the right to refuse service to anyone\n\n## 4. User Content\n\n### Your Content\n- You retain ownership of content you post\n- You grant us a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content\n- You are responsible for your content and its legality\n- You represent that you have rights to post your content\n\n### Prohibited Content\nYou may NOT post content that:\n- Is illegal, harmful, or violates others\' rights\n- Contains hate speech, harassment, or bullying\n- Is sexually explicit or pornographic\n- Promotes violence or dangerous activities\n- Contains spam, scams, or malware\n- Infringes intellectual property rights\n- Impersonates others or is misleading\n- Violates privacy or shares personal information without consent\n\n### Content Moderation\n- We may remove content that violates these Terms\n- We may use automated systems to detect violations\n- We are not obligated to monitor all content\n- Removal decisions are at our discretion\n\n## 5. Acceptable Use\n\nYou agree NOT to:\n- Violate any laws or regulations\n- Harass, abuse, or harm others\n- Spam or send unsolicited messages\n- Scrape, crawl, or use bots on the App\n- Reverse engineer or decompile the App\n- Interfere with the App\'s operation\n- Access others\' accounts without permission\n- Collect user data without consent\n- Use the App for commercial purposes without authorization\n\n## 6. Intellectual Property\n\n### Our Rights\n- VibeSync and its content are protected by copyright, trademark, and other laws\n- Our logo, design, and features are our property\n- You may not use our intellectual property without permission\n\n### Copyright Infringement\n- We respect intellectual property rights\n- Report copyright violations to dmca@vibesync.app\n- We will remove infringing content and may terminate repeat offenders\n\n## 7. Privacy\n\nYour privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information. By using VibeSync, you agree to our Privacy Policy.\n\n## 8. Disclaimers\n\n### "AS IS" Service\n- VibeSync is provided "as is" without warranties\n- We do not guarantee uninterrupted or error-free service\n- We do not guarantee accuracy or reliability of content\n\n### User Interactions\n- We are not responsible for user conduct or content\n- You interact with other users at your own risk\n- We do not endorse user content or opinions\n\n## 9. Limitation of Liability\n\nTo the maximum extent permitted by law:\n- We are not liable for indirect, incidental, or consequential damages\n- Our total liability is limited to $100 or the amount you paid us (if any)\n- We are not liable for user content or conduct\n- We are not liable for service interruptions or data loss\n\n## 10. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by applicable law\n- Disputes will be resolved in appropriate courts\n\n### Informal Resolution\n- Contact us first to resolve disputes informally\n- Email: legal@vibesync.app\n\n## 11. Changes to Terms\n\n- We may modify these Terms at any time\n- We will notify you of material changes\n- Continued use after changes constitutes acceptance\n- If you don\'t agree to changes, stop using the App\n\n## 12. Contact Information\n\n**Legal Inquiries**: legal@vibesync.app  \n**Support**: support@vibesync.app\n\n---\n\n**By using VibeSync, you agree to these Terms of Service.**'}}}o.r(t),o.d(t,{getLegalContent:()=>r})},63914:(e,t,o)=>{"use strict";o.r(t),o.d(t,{NotificationProvider:()=>s,useNotifications:()=>i});var r=o(36665),n=o(47640),a=o(52790);const[s,i]=(0,a.default)((()=>{const[e,t]=(0,r.useState)({notifications:[],unreadCount:0});(0,r.useEffect)((()=>{o()}),[]);const o=async()=>{try{const e=await n.default.getItem("notifications");if(e){const o=JSON.parse(e),r=o.filter((e=>!e.isRead)).length;t((e=>Object.assign({},e,{notifications:o,unreadCount:r})))}}catch(e){console.error("Error loading notifications:",e)}},a=async e=>{try{await n.default.setItem("notifications",JSON.stringify(e))}catch(t){console.error("Error saving notifications:",t)}},s=e=>{t((t=>{const o=[e,...t.notifications],r=o.filter((e=>!e.isRead)).length;return a(o),Object.assign({},t,{notifications:o,unreadCount:r})}))};return{notifications:e.notifications,unreadCount:e.unreadCount,addNotification:s,markAsRead:e=>{t((t=>{const o=t.notifications.map((t=>t.id===e?Object.assign({},t,{isRead:!0}):t)),r=o.filter((e=>!e.isRead)).length;return a(o),Object.assign({},t,{notifications:o,unreadCount:r})}))},markAllAsRead:()=>{t((e=>{const t=e.notifications.map((e=>Object.assign({},e,{isRead:!0})));return a(t),Object.assign({},e,{notifications:t,unreadCount:0})}))},clearNotifications:()=>{t((e=>Object.assign({},e,{notifications:[],unreadCount:0}))),n.default.removeItem("notifications")},sendLocalNotification:async(e,t,o)=>{console.log("Local notification:",{title:e,body:t,data:o}),s({id:Date.now().toString(),title:e,message:t,type:"general",isRead:!1,createdAt:(new Date).toISOString(),userId:o?.userId||"system",actionData:o})},createMockNotifications:()=>{const e=[{id:"1",title:"New Like",message:"John liked your post",type:"like",isRead:!1,createdAt:new Date(Date.now()-3e5).toISOString(),userId:"user1",actionData:{postId:"post1"}},{id:"2",title:"New Message",message:"Sarah sent you a message",type:"message",isRead:!1,createdAt:new Date(Date.now()-9e5).toISOString(),userId:"user2",actionData:{conversationId:"conv1"}},{id:"3",title:"New Follower",message:"Mike started following you",type:"follow",isRead:!0,createdAt:new Date(Date.now()-36e5).toISOString(),userId:"user3",actionData:{userId:"user3"}}];t((t=>{const o=e.filter((e=>!e.isRead)).length;return Object.assign({},t,{notifications:e,unreadCount:o})}))}}}))},63953:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DMProvider:()=>d,useDM:()=>c});var r=o(36665),n=o(47640),a=o(52790);const s={"conv-1":[{id:"msg-1",conversationId:"conv-1",senderId:"user-6",type:"text",content:"Hey! How are you doing?",status:"seen",reactions:[],createdAt:new Date(Date.now()-36e5),updatedAt:new Date(Date.now()-36e5)},{id:"msg-2",conversationId:"conv-1",senderId:"current-user",type:"text",content:"I'm great! Just finished working on some new vibes \ud83c\udfb5",status:"seen",reactions:[{userId:"user-6",emoji:"\u2764\ufe0f",createdAt:new Date(Date.now()-3e6)}],createdAt:new Date(Date.now()-3e6),updatedAt:new Date(Date.now()-3e6)},{id:"msg-3",conversationId:"conv-1",senderId:"user-6",type:"text",content:"That sounds awesome! Can you share them?",status:"seen",reactions:[],createdAt:new Date(Date.now()-24e5),updatedAt:new Date(Date.now()-24e5)},{id:"msg-4",conversationId:"conv-1",senderId:"current-user",type:"image",content:"Check this out!",mediaUrl:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200",status:"seen",reactions:[{userId:"user-6",emoji:"\ud83d\udd25",createdAt:new Date(Date.now()-18e5)}],createdAt:new Date(Date.now()-18e5),updatedAt:new Date(Date.now()-18e5)},{id:"msg-5",conversationId:"conv-1",senderId:"user-6",type:"voice",content:"",mediaUrl:"https://www2.cs.uic.edu/~i101/SoundFiles/BabyElephantWalk60.wav",duration:15,status:"seen",reactions:[],createdAt:new Date(Date.now()-9e5),updatedAt:new Date(Date.now()-9e5)}],"conv-2":[{id:"msg-6",conversationId:"conv-2",senderId:"user-7",type:"text",content:"Are we still meeting tomorrow?",status:"delivered",reactions:[],createdAt:new Date(Date.now()-72e5),updatedAt:new Date(Date.now()-72e5)},{id:"msg-7",conversationId:"conv-2",senderId:"current-user",type:"text",content:"Yes! 3pm at the usual spot",status:"delivered",reactions:[],createdAt:new Date(Date.now()-36e5),updatedAt:new Date(Date.now()-36e5)},{id:"msg-8",conversationId:"conv-2",senderId:"user-7",type:"image",content:"This place looks amazing!",mediaUrl:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=200",status:"delivered",reactions:[{userId:"current-user",emoji:"\ud83d\ude0d",createdAt:new Date(Date.now()-18e5)}],createdAt:new Date(Date.now()-18e5),updatedAt:new Date(Date.now()-18e5)}],"conv-3":[{id:"msg-9",conversationId:"conv-3",senderId:"user-9",type:"text",content:"@everyone Meeting starts in 10 minutes!",status:"seen",reactions:[{userId:"current-user",emoji:"\ud83d\udc4d",createdAt:new Date(Date.now()-6e5)},{userId:"user-11",emoji:"\ud83d\udc4d",createdAt:new Date(Date.now()-58e4)}],createdAt:new Date(Date.now()-6e5),updatedAt:new Date(Date.now()-6e5)},{id:"msg-10",conversationId:"conv-3",senderId:"user-11",type:"text",content:"On my way!",status:"seen",reactions:[],createdAt:new Date(Date.now()-3e5),updatedAt:new Date(Date.now()-3e5)},{id:"msg-11",conversationId:"conv-3",senderId:"current-user",type:"text",content:"Just joined!",status:"seen",reactions:[],createdAt:new Date(Date.now()-12e4),updatedAt:new Date(Date.now()-12e4)}],"conv-4":[{id:"msg-12",conversationId:"conv-4",senderId:"user-13",type:"text",content:"Your wellness tips have been life-changing! \ud83d\ude4f",status:"delivered",reactions:[],createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-864e5)},{id:"msg-13",conversationId:"conv-4",senderId:"current-user",type:"text",content:"Thank you so much! That means the world to me \u2764\ufe0f",status:"delivered",reactions:[],createdAt:new Date(Date.now()-828e5),updatedAt:new Date(Date.now()-828e5)}],"conv-5":[{id:"msg-14",conversationId:"conv-5",senderId:"user-14",type:"text",content:"Did you watch the game last night? \u26bd",status:"seen",reactions:[],createdAt:new Date(Date.now()-432e5),updatedAt:new Date(Date.now()-432e5)},{id:"msg-15",conversationId:"conv-5",senderId:"current-user",type:"text",content:"Yes! What a match! The final goal was incredible \ud83d\udd25",status:"seen",reactions:[{userId:"user-14",emoji:"\u26bd",createdAt:new Date(Date.now()-396e5)}],createdAt:new Date(Date.now()-396e5),updatedAt:new Date(Date.now()-396e5)},{id:"msg-16",conversationId:"conv-5",senderId:"user-14",type:"voice",content:"",mediaUrl:"https://www2.cs.uic.edu/~i101/SoundFiles/PinkPanther30.wav",duration:22,status:"seen",reactions:[],createdAt:new Date(Date.now()-36e6),updatedAt:new Date(Date.now()-36e6)}],"conv-6":[{id:"msg-17",conversationId:"conv-6",senderId:"user-8",type:"text",content:"New beat is fire! \ud83d\udd25\ud83c\udfb5",status:"delivered",reactions:[],createdAt:new Date(Date.now()-216e5),updatedAt:new Date(Date.now()-216e5)},{id:"msg-18",conversationId:"conv-6",senderId:"current-user",type:"text",content:"Thanks bro! Took me weeks to perfect it",status:"delivered",reactions:[],createdAt:new Date(Date.now()-18e6),updatedAt:new Date(Date.now()-18e6)}],"conv-7":[{id:"msg-19",conversationId:"conv-7",senderId:"user-15",type:"image",content:"Look at this dish I made!",mediaUrl:"https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=200",status:"seen",reactions:[{userId:"current-user",emoji:"\ud83d\ude0b",createdAt:new Date(Date.now()-144e5)}],createdAt:new Date(Date.now()-144e5),updatedAt:new Date(Date.now()-144e5)},{id:"msg-20",conversationId:"conv-7",senderId:"current-user",type:"text",content:"That looks delicious! Recipe please? \ud83d\ude4f",status:"seen",reactions:[],createdAt:new Date(Date.now()-108e5),updatedAt:new Date(Date.now()-108e5)}],"conv-8":[{id:"msg-21",conversationId:"conv-8",senderId:"user-12",type:"text",content:"Check out this new track!",status:"seen",reactions:[],createdAt:new Date(Date.now()-432e6),updatedAt:new Date(Date.now()-432e6)},{id:"msg-22",conversationId:"conv-8",senderId:"user-10",type:"text",content:"Love it! Adding to my playlist \ud83c\udfb5",status:"seen",reactions:[],createdAt:new Date(Date.now()-4284e5),updatedAt:new Date(Date.now()-4284e5)},{id:"msg-23",conversationId:"conv-8",senderId:"current-user",type:"text",content:"This is amazing! Who's the artist?",status:"seen",reactions:[],createdAt:new Date(Date.now()-4248e5),updatedAt:new Date(Date.now()-4248e5)}]},i=[{id:"conv-1",type:"direct",participants:["current-user","user-6"],lastMessage:s["conv-1"][s["conv-1"].length-1],unreadCount:0,isPinned:!0,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-6048e5),updatedAt:new Date(Date.now()-9e5)},{id:"conv-2",type:"direct",participants:["current-user","user-7"],lastMessage:s["conv-2"][s["conv-2"].length-1],unreadCount:1,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-2592e5),updatedAt:new Date(Date.now()-18e5)},{id:"conv-3",type:"group",name:"Fashion Squad",image:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=200",description:"Fashion enthusiasts unite!",participants:["current-user","user-9","user-11","user-4"],lastMessage:s["conv-3"][s["conv-3"].length-1],unreadCount:0,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-2592e6),updatedAt:new Date(Date.now()-12e4)},{id:"conv-4",type:"direct",participants:["current-user","user-13"],lastMessage:s["conv-4"][s["conv-4"].length-1],unreadCount:0,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-432e6),updatedAt:new Date(Date.now()-828e5)},{id:"conv-5",type:"direct",participants:["current-user","user-14"],lastMessage:s["conv-5"][s["conv-5"].length-1],unreadCount:0,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-1728e5),updatedAt:new Date(Date.now()-36e6)},{id:"conv-6",type:"direct",participants:["current-user","user-8"],lastMessage:s["conv-6"][s["conv-6"].length-1],unreadCount:1,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-3456e5),updatedAt:new Date(Date.now()-18e6)},{id:"conv-7",type:"direct",participants:["current-user","user-15"],lastMessage:s["conv-7"][s["conv-7"].length-1],unreadCount:0,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-5184e5),updatedAt:new Date(Date.now()-108e5)},{id:"conv-8",type:"group",name:"Music Lovers",image:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200",description:"Share your favorite music",participants:["current-user","user-8","user-10","user-12"],lastMessage:s["conv-8"][s["conv-8"].length-1],unreadCount:0,isPinned:!1,isMuted:!0,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-3888e6),updatedAt:new Date(Date.now()-4248e5)},{id:"conv-9",type:"group",name:"Fitness Crew",image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=200",description:"Get fit together!",participants:["current-user","user-6","user-13","user-10"],lastMessage:{id:"msg-24",conversationId:"conv-9",senderId:"user-6",type:"text",content:"Morning workout at 6am tomorrow! Who's in? \ud83d\udcaa",status:"seen",reactions:[{userId:"current-user",emoji:"\ud83d\udcaa",createdAt:new Date(Date.now()-1728e5)},{userId:"user-13",emoji:"\ud83d\udcaa",createdAt:new Date(Date.now()-1727e5)}],createdAt:new Date(Date.now()-1728e5),updatedAt:new Date(Date.now()-1728e5)},unreadCount:0,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!1,createdAt:new Date(Date.now()-1728e6),updatedAt:new Date(Date.now()-1728e5)},{id:"conv-10",type:"direct",participants:["current-user","user-2"],lastMessage:{id:"msg-25",conversationId:"conv-10",senderId:"user-2",type:"text",content:"Hey, I love your content!",status:"delivered",reactions:[],createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-864e5)},unreadCount:1,isPinned:!1,isMuted:!1,isArchived:!1,isRequest:!0,createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-864e5)}];new Date(Date.now()-2592e6),new Date(Date.now()-2592e6),new Date(Date.now()-216e7),new Date(Date.now()-1728e6),s["conv-3"][s["conv-3"].length-1],new Date(Date.now()-2592e6),new Date(Date.now()-12e4),new Date(Date.now()-3888e6),new Date(Date.now()-3888e6),new Date(Date.now()-3456e6),new Date(Date.now()-3024e6),s["conv-8"][s["conv-8"].length-1],new Date(Date.now()-3888e6),new Date(Date.now()-4248e5),new Date(Date.now()-1728e6),new Date(Date.now()-1728e6),new Date(Date.now()-15552e5),new Date(Date.now()-1296e6),i.find((e=>"conv-9"===e.id)),new Date(Date.now()-1728e6),new Date(Date.now()-1728e5);var l=o(25924);const[d,c]=(0,a.default)((()=>{const{user:e}=(0,l.useAuth)(),[t,o]=(0,r.useState)({conversations:[],messages:{},drafts:{},typingIndicators:[],selectedConversation:null});(0,r.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=await n.default.getItem("dm-data");if(e){const t=JSON.parse(e);o((e=>Object.assign({},e,{conversations:t.conversations||i,messages:t.messages||s})))}else o((e=>Object.assign({},e,{conversations:i,messages:s})))}catch(e){console.error("[DM] Error loading data:",e),o((e=>Object.assign({},e,{conversations:i,messages:s})))}},d=async(e,t)=>{try{await n.default.setItem("dm-data",JSON.stringify({conversations:e,messages:t}))}catch(o){console.error("[DM] Error saving data:",o)}},c=(0,r.useCallback)(((e,t)=>{o((o=>{const r=Object.assign({},o.messages);return Object.keys(r).forEach((o=>{r[o]=r[o].map((o=>o.id===e?Object.assign({},o,{status:t}):o))})),Object.assign({},o,{messages:r})}))}),[]),u=(0,r.useCallback)(((t,r,n="text",a)=>{if(!e)return;const s={id:`msg-${Date.now()}`,conversationId:t,senderId:"current-user",type:n,content:r,mediaUrl:a?.mediaUrl,thumbnailUrl:a?.thumbnailUrl,duration:a?.duration,fileName:a?.fileName,fileSize:a?.fileSize,replyTo:a?.replyTo,status:"sending",reactions:[],createdAt:new Date,updatedAt:new Date};o((e=>{const o=e.messages[t]||[],r=Object.assign({},e.messages,{[t]:[...o,s]}),n=e.conversations.map((e=>e.id===t?Object.assign({},e,{lastMessage:s,updatedAt:new Date}):e));return d(n,r),Object.assign({},e,{conversations:n,messages:r,drafts:Object.assign({},e.drafts,{[t]:{conversationId:t,text:""}})})})),setTimeout((()=>{c(s.id,"sent"),setTimeout((()=>c(s.id,"delivered")),1e3),setTimeout((()=>c(s.id,"seen")),2e3)}),500)}),[e,c]),f=(0,r.useCallback)(((t,r,n)=>{e&&o((e=>{const o=e.messages[r]||[],a=Object.assign({},e.messages,{[r]:o.map((e=>{if(e.id===t){return e.reactions.find((e=>"current-user"===e.userId))?Object.assign({},e,{reactions:e.reactions.filter((e=>"current-user"!==e.userId))}):Object.assign({},e,{reactions:[...e.reactions,{userId:"current-user",emoji:n,createdAt:new Date}]})}return e}))});return Object.assign({},e,{messages:a})}))}),[e]),g=(0,r.useCallback)(((e,t,r=!1)=>{o((o=>{const n=o.messages[t]||[],a=Object.assign({},o.messages,{[t]:n.map((t=>t.id===e?r?Object.assign({},t,{deletedForEveryone:!0,content:"This message was deleted"}):Object.assign({},t,{deletedForMe:!0}):t))});return Object.assign({},o,{messages:a})}))}),[]),h=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{unreadCount:0}):t));return Object.assign({},t,{conversations:o})}))}),[]),m=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{isPinned:!t.isPinned}):t));return d(o,t.messages),Object.assign({},t,{conversations:o})}))}),[]),p=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{isMuted:!t.isMuted}):t));return d(o,t.messages),Object.assign({},t,{conversations:o})}))}),[]),y=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{isArchived:!0}):t));return d(o,t.messages),Object.assign({},t,{conversations:o})}))}),[]),x=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.filter((t=>t.id!==e)),r=Object.assign({},t.messages);return delete r[e],d(o,r),Object.assign({},t,{conversations:o,messages:r})}))}),[]),b=(0,r.useCallback)((e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{isRequest:!1}):t));return d(o,t.messages),Object.assign({},t,{conversations:o})}))}),[]),j=(0,r.useCallback)((e=>{x(e)}),[x]),C=(0,r.useCallback)(((e,t,r)=>{o((o=>Object.assign({},o,{drafts:Object.assign({},o.drafts,{[e]:{conversationId:e,text:t,replyTo:r}})})))}),[]),w=(0,r.useCallback)(((t,r)=>{e&&o((e=>{if(r){const o={conversationId:t,userId:"current-user",timestamp:new Date};return Object.assign({},e,{typingIndicators:[...e.typingIndicators.filter((e=>e.conversationId!==t)),o]})}return Object.assign({},e,{typingIndicators:e.typingIndicators.filter((e=>e.conversationId!==t))})}))}),[e]),S=(0,r.useCallback)((e=>{o((t=>Object.assign({},t,{selectedConversation:e}))),e&&h(e)}),[h]),v=(0,r.useCallback)((e=>t.conversations.find((t=>t.id===e))),[t.conversations]),k=(0,r.useCallback)((e=>t.messages[e]||[]),[t.messages]),I=(0,r.useCallback)((e=>t.drafts[e]),[t.drafts]),T=(0,r.useCallback)((e=>t.typingIndicators.filter((t=>t.conversationId===e&&"current-user"!==t.userId)).map((e=>e.userId))),[t.typingIndicators]),B=(0,r.useCallback)((()=>t.conversations.filter((e=>!e.isArchived&&!e.isRequest)).sort(((e,t)=>e.isPinned&&!t.isPinned?-1:!e.isPinned&&t.isPinned?1:new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()))),[t.conversations]),z=(0,r.useCallback)((()=>t.conversations.filter((e=>e.isArchived))),[t.conversations]),F=(0,r.useCallback)((()=>t.conversations.filter((e=>e.isRequest))),[t.conversations]),P=(0,r.useCallback)((()=>t.conversations.filter((e=>!e.isArchived&&!e.isRequest)).reduce(((e,t)=>e+t.unreadCount),0)),[t.conversations]);return(0,r.useMemo)((()=>({conversations:t.conversations,messages:t.messages,selectedConversation:t.selectedConversation,sendMessage:u,addReaction:f,deleteMessage:g,markAsRead:h,togglePin:m,toggleMute:p,archiveConversation:y,deleteConversation:x,acceptRequest:b,declineRequest:j,saveDraft:C,setTyping:w,selectConversation:S,getConversation:v,getMessages:k,getDraft:I,getTypingUsers:T,getActiveConversations:B,getArchivedConversations:z,getMessageRequests:F,getTotalUnreadCount:P})),[t,u,f,g,h,m,p,y,x,b,j,C,w,S,v,k,I,T,B,z,F,P])}))},64160:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(16773),l=o(15648),d=o(2772),c=o(74037),u=o(49637),f=o(61171),g=o(23259),h=o(15078),m=o(59542),p=o(90046),y=o(9102),x=o(49582),b=o(60397);const j={primary:x.Colors.primary,background:{primary:x.Colors.background,secondary:x.Colors.backgroundSecondary},text:{primary:x.Colors.text,secondary:x.Colors.textSecondary},border:x.Colors.border};function C(){const{startLive:e}=(0,y.useLiveStreaming)(),[t,o]=(0,r.useState)(""),[s,x]=(0,r.useState)(""),[C,S]=(0,r.useState)("everyone"),[v,k]=(0,r.useState)(!0),[I,T]=(0,r.useState)(!0),[B,z]=(0,r.useState)(!1),F=[{value:"everyone",label:"Everyone",icon:g.default,description:"Anyone can watch your live"},{value:"followers",label:"Followers",icon:m.default,description:"Only your followers can watch"},{value:"close-friends",label:"Close Friends",icon:h.default,description:"Only close friends can watch"}];return(0,b.jsxs)(f.SafeAreaView,{style:w.container,edges:["top"],children:[(0,b.jsx)(u.Stack.Screen,{options:{headerShown:!1}}),(0,b.jsxs)(n.default,{style:w.header,children:[(0,b.jsx)(l.default,{onPress:()=>u.router.back(),style:w.closeButton,testID:"close-button",children:(0,b.jsx)(p.default,{size:24,color:j.text.primary})}),(0,b.jsx)(a.default,{style:w.headerTitle,children:"Go Live"}),(0,b.jsx)(n.default,{style:w.placeholder})]}),(0,b.jsxs)(d.default,{style:w.content,contentContainerStyle:w.contentContainer,showsVerticalScrollIndicator:!1,children:[(0,b.jsxs)(n.default,{style:w.section,children:[(0,b.jsx)(a.default,{style:w.sectionTitle,children:"Title (Optional)"}),(0,b.jsx)(i.default,{style:w.input,placeholder:"What's your live about?",placeholderTextColor:j.text.secondary,value:t,onChangeText:o,maxLength:100,testID:"title-input"})]}),(0,b.jsxs)(n.default,{style:w.section,children:[(0,b.jsx)(a.default,{style:w.sectionTitle,children:"Description (Optional)"}),(0,b.jsx)(i.default,{style:[w.input,w.textArea],placeholder:"Tell viewers more about your live...",placeholderTextColor:j.text.secondary,value:s,onChangeText:x,maxLength:500,multiline:!0,numberOfLines:4,textAlignVertical:"top",testID:"description-input"})]}),(0,b.jsxs)(n.default,{style:w.section,children:[(0,b.jsx)(a.default,{style:w.sectionTitle,children:"Who can watch"}),F.map((e=>{const t=e.icon,o=C===e.value;return(0,b.jsxs)(l.default,{style:[w.audienceOption,o&&w.audienceOptionSelected],onPress:()=>S(e.value),testID:`audience-${e.value}`,children:[(0,b.jsx)(n.default,{style:w.audienceIconContainer,children:(0,b.jsx)(t,{size:24,color:o?j.primary:j.text.secondary})}),(0,b.jsxs)(n.default,{style:w.audienceTextContainer,children:[(0,b.jsx)(a.default,{style:[w.audienceLabel,o&&w.audienceLabelSelected],children:e.label}),(0,b.jsx)(a.default,{style:w.audienceDescription,children:e.description})]}),(0,b.jsx)(n.default,{style:[w.radioOuter,o&&w.radioOuterSelected],children:o&&(0,b.jsx)(n.default,{style:w.radioInner})})]},e.value)}))]}),(0,b.jsxs)(n.default,{style:w.section,children:[(0,b.jsxs)(n.default,{style:w.settingRow,children:[(0,b.jsxs)(n.default,{style:w.settingTextContainer,children:[(0,b.jsx)(a.default,{style:w.settingLabel,children:"Enable Comments"}),(0,b.jsx)(a.default,{style:w.settingDescription,children:"Let viewers comment during your live"})]}),(0,b.jsx)(c.default,{value:v,onValueChange:k,trackColor:{false:j.border,true:j.primary},thumbColor:j.background.primary,testID:"comments-switch"})]}),(0,b.jsxs)(n.default,{style:w.settingRow,children:[(0,b.jsxs)(n.default,{style:w.settingTextContainer,children:[(0,b.jsx)(a.default,{style:w.settingLabel,children:"Share to Feed"}),(0,b.jsx)(a.default,{style:w.settingDescription,children:"Post replay to your profile after live ends"})]}),(0,b.jsx)(c.default,{value:I,onValueChange:T,trackColor:{false:j.border,true:j.primary},thumbColor:j.background.primary,testID:"share-switch"})]})]})]}),(0,b.jsx)(n.default,{style:w.footer,children:(0,b.jsx)(l.default,{style:[w.startButton,B&&w.startButtonDisabled],onPress:async()=>{z(!0);try{const o=await e(t||void 0,s||void 0,C,v,I);u.router.replace(`/live/${o.id}`)}catch(o){console.error("Failed to start live:",o),z(!1)}},disabled:B,testID:"start-live-button",children:(0,b.jsx)(a.default,{style:w.startButtonText,children:B?"Starting...":"Start Live"})})})]})}const w=s.default.create({container:{flex:1,backgroundColor:j.background.primary},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:j.border},closeButton:{padding:8},headerTitle:{fontSize:18,fontWeight:"600",color:j.text.primary},placeholder:{width:40},content:{flex:1},contentContainer:{padding:16},section:{marginBottom:24},sectionTitle:{fontSize:16,fontWeight:"600",color:j.text.primary,marginBottom:12},input:{backgroundColor:j.background.secondary,borderRadius:12,padding:16,fontSize:16,color:j.text.primary,borderWidth:1,borderColor:j.border},textArea:{height:100,paddingTop:16},audienceOption:{flexDirection:"row",alignItems:"center",padding:16,backgroundColor:j.background.secondary,borderRadius:12,marginBottom:12,borderWidth:2,borderColor:"transparent"},audienceOptionSelected:{borderColor:j.primary,backgroundColor:`${j.primary}10`},audienceIconContainer:{marginRight:12},audienceTextContainer:{flex:1},audienceLabel:{fontSize:16,fontWeight:"600",color:j.text.primary,marginBottom:4},audienceLabelSelected:{color:j.primary},audienceDescription:{fontSize:14,color:j.text.secondary},radioOuter:{width:24,height:24,borderRadius:12,borderWidth:2,borderColor:j.border,alignItems:"center",justifyContent:"center"},radioOuterSelected:{borderColor:j.primary},radioInner:{width:12,height:12,borderRadius:6,backgroundColor:j.primary},settingRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:16,borderBottomWidth:1,borderBottomColor:j.border},settingTextContainer:{flex:1,marginRight:16},settingLabel:{fontSize:16,fontWeight:"600",color:j.text.primary,marginBottom:4},settingDescription:{fontSize:14,color:j.text.secondary},footer:{padding:16,borderTopWidth:1,borderTopColor:j.border},startButton:{backgroundColor:j.primary,borderRadius:12,padding:16,alignItems:"center"},startButtonDisabled:{opacity:.6},startButtonText:{fontSize:18,fontWeight:"700",color:"#FFFFFF"}})},64458:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>j});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(2772),l=o(15648),d=o(74037),c=o(61171),u=o(49637),f=o(15519),g=o(46856),h=o(36412),m=o(52790);const[p,y]=(0,m.default)((()=>{const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)({userId:"current-user",enabledCategories:["shopping","fashion","technology","food","entertainment"],disabledBrands:[],personalizedAds:!0,dataSharing:!0}),a=(0,r.useCallback)(((e,o,r)=>{const n={adId:e,userId:"current-user",action:o,timestamp:(new Date).toISOString(),metadata:r};t((e=>[...e,n])),console.log(`[Ad Engagement] ${o} on ad ${e}`,r)}),[]),s=(0,r.useCallback)((e=>{n((t=>Object.assign({},t,e)))}),[]),i=(0,r.useCallback)((e=>{n((t=>Object.assign({},t,{disabledBrands:[...t.disabledBrands,e]})))}),[]),l=(0,r.useCallback)((e=>{n((t=>Object.assign({},t,{disabledBrands:t.disabledBrands.filter((t=>t!==e))})))}),[]),d=(0,r.useCallback)((e=>{n((t=>{const o=t.enabledCategories.includes(e);return Object.assign({},t,{enabledCategories:o?t.enabledCategories.filter((t=>t!==e)):[...t.enabledCategories,e]})}))}),[]),c=(0,r.useCallback)((t=>{const o=e.filter((e=>e.adId===t));return{views:o.filter((e=>"view"===e.action)).length,clicks:o.filter((e=>"click"===e.action)).length,likes:o.filter((e=>"like"===e.action)).length,comments:o.filter((e=>"comment"===e.action)).length,shares:o.filter((e=>"share"===e.action)).length,saves:o.filter((e=>"save"===e.action)).length,hides:o.filter((e=>"hide"===e.action)).length,reports:o.filter((e=>"report"===e.action)).length}}),[e]);return{engagements:e,preferences:o,trackEngagement:a,updatePreferences:s,disableBrand:i,enableBrand:l,toggleCategory:d,getEngagementStats:c}}));var x=o(60397);const b=[{id:"shopping",label:"Shopping & Retail",icon:"\ud83d\udecd\ufe0f"},{id:"fashion",label:"Fashion & Beauty",icon:"\ud83d\udc57"},{id:"technology",label:"Technology & Gadgets",icon:"\ud83d\udcf1"},{id:"food",label:"Food & Dining",icon:"\ud83c\udf54"},{id:"entertainment",label:"Entertainment & Media",icon:"\ud83c\udfac"},{id:"travel",label:"Travel & Tourism",icon:"\u2708\ufe0f"},{id:"fitness",label:"Health & Fitness",icon:"\ud83d\udcaa"},{id:"automotive",label:"Automotive",icon:"\ud83d\ude97"},{id:"finance",label:"Finance & Banking",icon:"\ud83d\udcb0"},{id:"education",label:"Education & Learning",icon:"\ud83d\udcda"}];function j(){const{colors:e}=(0,h.useTheme)(),{preferences:t,updatePreferences:o,toggleCategory:r}=y();return(0,x.jsxs)(c.SafeAreaView,{style:[C.container,{backgroundColor:e.background}],edges:["top"],children:[(0,x.jsxs)(n.default,{style:[C.header,{borderBottomColor:e.border}],children:[(0,x.jsx)(l.default,{style:C.backButton,onPress:()=>u.router.back(),children:(0,x.jsx)(f.default,{size:24,color:e.text})}),(0,x.jsx)(a.default,{style:[C.headerTitle,{color:e.text}],children:"Ad Preferences"}),(0,x.jsx)(n.default,{style:C.headerRight})]}),(0,x.jsxs)(i.default,{style:C.content,showsVerticalScrollIndicator:!1,contentContainerStyle:C.contentContainer,children:[(0,x.jsxs)(n.default,{style:[C.section,{backgroundColor:e.card}],children:[(0,x.jsxs)(n.default,{style:C.sectionHeader,children:[(0,x.jsx)(a.default,{style:[C.sectionTitle,{color:e.text}],children:"Personalization"}),(0,x.jsx)(g.default,{size:18,color:e.textSecondary})]}),(0,x.jsx)(a.default,{style:[C.sectionDescription,{color:e.textSecondary}],children:"Control how ads are personalized for you based on your activity and interests."}),(0,x.jsxs)(n.default,{style:[C.settingRow,{borderTopColor:e.border}],children:[(0,x.jsxs)(n.default,{style:C.settingInfo,children:[(0,x.jsx)(a.default,{style:[C.settingLabel,{color:e.text}],children:"Personalized Ads"}),(0,x.jsx)(a.default,{style:[C.settingDescription,{color:e.textSecondary}],children:"Show ads based on your interests and activity"})]}),(0,x.jsx)(d.default,{value:t.personalizedAds,onValueChange:e=>{o({personalizedAds:e})},trackColor:{false:e.border,true:e.primary},thumbColor:"#fff"})]}),(0,x.jsxs)(n.default,{style:[C.settingRow,{borderTopColor:e.border}],children:[(0,x.jsxs)(n.default,{style:C.settingInfo,children:[(0,x.jsx)(a.default,{style:[C.settingLabel,{color:e.text}],children:"Data Sharing"}),(0,x.jsx)(a.default,{style:[C.settingDescription,{color:e.textSecondary}],children:"Share anonymized data with advertisers"})]}),(0,x.jsx)(d.default,{value:t.dataSharing,onValueChange:e=>{o({dataSharing:e})},trackColor:{false:e.border,true:e.primary},thumbColor:"#fff"})]})]}),(0,x.jsxs)(n.default,{style:[C.section,{backgroundColor:e.card}],children:[(0,x.jsx)(n.default,{style:C.sectionHeader,children:(0,x.jsx)(a.default,{style:[C.sectionTitle,{color:e.text}],children:"Ad Categories"})}),(0,x.jsx)(a.default,{style:[C.sectionDescription,{color:e.textSecondary}],children:"Choose which types of ads you want to see. Disabled categories will show fewer ads."}),b.map(((o,s)=>(0,x.jsxs)(n.default,{style:[C.categoryRow,s>0&&{borderTopColor:e.border,borderTopWidth:1}],children:[(0,x.jsxs)(n.default,{style:C.categoryInfo,children:[(0,x.jsx)(a.default,{style:C.categoryIcon,children:o.icon}),(0,x.jsx)(a.default,{style:[C.categoryLabel,{color:e.text}],children:o.label})]}),(0,x.jsx)(d.default,{value:t.enabledCategories.includes(o.id),onValueChange:()=>r(o.id),trackColor:{false:e.border,true:e.primary},thumbColor:"#fff"})]},o.id)))]}),(0,x.jsxs)(n.default,{style:[C.infoBox,{backgroundColor:e.card,borderColor:e.border}],children:[(0,x.jsx)(g.default,{size:20,color:e.primary}),(0,x.jsx)(a.default,{style:[C.infoText,{color:e.textSecondary}],children:"Your ad preferences help us show you more relevant content. You can change these settings at any time."})]}),(0,x.jsxs)(n.default,{style:[C.section,{backgroundColor:e.card}],children:[(0,x.jsx)(a.default,{style:[C.sectionTitle,{color:e.text}],children:"About Ads on VibeSync"}),(0,x.jsxs)(a.default,{style:[C.aboutText,{color:e.textSecondary}],children:["Ads help us keep VibeSync free for everyone. We work with trusted brands to show you relevant products and services.","\n\n",'All ads are clearly labeled as "Sponsored" and you can always hide or report ads that don\'t interest you.',"\n\n","Your privacy is important to us. We never sell your personal information to advertisers."]})]})]})]})}const C=s.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},backButton:{padding:4},headerTitle:{fontSize:18,fontWeight:"700"},headerRight:{width:32},content:{flex:1},contentContainer:{padding:16,paddingBottom:40},section:{borderRadius:12,padding:16,marginBottom:16},sectionHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:8},sectionTitle:{fontSize:16,fontWeight:"700"},sectionDescription:{fontSize:14,lineHeight:20,marginBottom:16},settingRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12,borderTopWidth:1},settingInfo:{flex:1,marginRight:16},settingLabel:{fontSize:15,fontWeight:"600",marginBottom:4},settingDescription:{fontSize:13,lineHeight:18},categoryRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12},categoryInfo:{flexDirection:"row",alignItems:"center",flex:1,marginRight:16},categoryIcon:{fontSize:24,marginRight:12},categoryLabel:{fontSize:15,fontWeight:"500"},infoBox:{flexDirection:"row",padding:16,borderRadius:12,borderWidth:1,marginBottom:16,gap:12},infoText:{flex:1,fontSize:13,lineHeight:18},aboutText:{fontSize:14,lineHeight:22,marginTop:8}})},66072:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});o(36665);var r=o(73929),n=o(6283),a=o(73668),s=o(60397);function i(){return(0,s.jsx)(r.default,{style:l.container,children:(0,s.jsx)(n.default,{style:l.text,children:"Hello World!"})})}const l=a.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},text:{fontSize:24,fontWeight:"bold"}})},67026:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockUsers:()=>r,users:()=>n});const r=[{id:"1",username:"sarah_vibes",displayName:"Sarah Chen",bio:"Movie enthusiast \ud83c\udfac | Living my best life",location:"Los Angeles, CA",profileImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:1240,following:356,followersCount:1240,followingCount:356,posts:42,vibeScore:9.2},{id:"2",username:"mike_foodie",displayName:"Mike Rodriguez",bio:"Foodie & chef \ud83d\udc68\u200d\ud83c\udf73 | Sharing culinary adventures",location:"Miami, FL",profileImage:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:890,following:412,followersCount:890,followingCount:412,posts:28,vibeScore:7.5},{id:"3",username:"taylor_sync",displayName:"Taylor Kim",bio:"Tech enthusiast \ud83d\udcbb | Building the future",location:"Seattle, WA",profileImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:567,following:231,followersCount:567,followingCount:231,posts:15,vibeScore:6.8},{id:"4",username:"emma_artist",displayName:"Emma Wilson",bio:"Digital artist \ud83c\udfa8 | Creating magic pixel by pixel",location:"New York, NY",profileImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:1120,following:345,followersCount:1120,followingCount:345,posts:67,vibeScore:8.9},{id:"5",username:"alexj",displayName:"Alex Johnson",bio:"Music lover | \u2728 Vibe curator | \u2b50 Living life in sync",location:"San Francisco, CA",profileImage:"https://images.unsplash.com/photo-1603415526960-f7e0328c63b1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:1247,following:892,followersCount:1247,followingCount:892,posts:4,vibeScore:8.7},{id:"6",username:"jamal_fitness",displayName:"Jamal Washington",bio:"Fitness coach \ud83d\udcaa | Transforming lives one rep at a time",location:"Atlanta, GA",profileImage:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:2340,following:567,followersCount:2340,followingCount:567,posts:89,vibeScore:9.5},{id:"7",username:"priya_travels",displayName:"Priya Sharma",bio:"Travel blogger \u2708\ufe0f | Exploring the world one city at a time",location:"Mumbai, India",profileImage:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:3450,following:890,followersCount:3450,followingCount:890,posts:156,vibeScore:9.8},{id:"8",username:"carlos_music",displayName:"Carlos Silva",bio:"Music producer \ud83c\udfb5 | Creating beats that move souls",location:"S\xe3o Paulo, Brazil",profileImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:1890,following:456,followersCount:1890,followingCount:456,posts:78,vibeScore:8.4},{id:"9",username:"yuki_fashion",displayName:"Yuki Tanaka",bio:"Fashion designer \ud83d\udc57 | Tokyo street style",location:"Tokyo, Japan",profileImage:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:4560,following:1234,followersCount:4560,followingCount:1234,posts:234,vibeScore:9.6},{id:"10",username:"marcus_tech",displayName:"Marcus Brown",bio:"Software engineer \ud83d\udc68\u200d\ud83d\udcbb | Building the future of tech",location:"Chicago, IL",profileImage:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:987,following:345,followersCount:987,followingCount:345,posts:45,vibeScore:7.8},{id:"11",username:"fatima_beauty",displayName:"Fatima Al-Rashid",bio:"Beauty influencer \ud83d\udc84 | Makeup artist & skincare enthusiast",location:"Dubai, UAE",profileImage:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:5670,following:1567,followersCount:5670,followingCount:1567,posts:345,vibeScore:9.7},{id:"12",username:"liam_photo",displayName:"Liam O'Connor",bio:"Photographer \ud83d\udcf8 | Capturing moments that matter",location:"Dublin, Ireland",profileImage:"https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:2340,following:678,followersCount:2340,followingCount:678,posts:123,vibeScore:8.6},{id:"13",username:"aisha_wellness",displayName:"Aisha Okonkwo",bio:"Wellness coach \ud83e\uddd8\u200d\u2640\ufe0f | Mind, body, soul harmony",location:"Lagos, Nigeria",profileImage:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:3890,following:1234,followersCount:3890,followingCount:1234,posts:189,vibeScore:9.3},{id:"14",username:"diego_sports",displayName:"Diego Martinez",bio:"Sports journalist \u26bd | Covering the beautiful game",location:"Barcelona, Spain",profileImage:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1522778119026-d647f0596c20?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!0,followers:6780,following:2345,followersCount:6780,followingCount:2345,posts:456,vibeScore:9.4},{id:"15",username:"mei_chef",displayName:"Mei Wong",bio:"Chef \ud83c\udf5c | Authentic Asian cuisine",location:"Hong Kong",profileImage:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?ixlib=rb-1.2.1&auto=format&fit=crop&w=250&q=80",coverImage:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",isVerified:!1,followers:2890,following:890,followersCount:2890,followingCount:890,posts:167,vibeScore:8.9}],n=r.map((e=>Object.assign({},e,{avatar:e.profileImage,name:e.displayName,verified:e.isVerified,isFollowing:Math.random()>.5})))},68174:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>oe});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(15648),l=o(78264),d=o(2772),c=o(51690),u=o(49637),f=o(12543),g=o(5563),h=o(40804),m=o(34253),p=o(48801),y=o(49050),x=o(36412),b=o(36027),j=o(15009),C=o(90046),w=o(95287),S=o(88532),v=o(58358),k=o(70106),I=o(64825),T=o(60397);function B({onComplete:e,onCancel:t,maxDuration:o=60}){const{colors:s}=(0,x.useTheme)(),[l,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[h,p]=(0,r.useState)(0),[y,b]=(0,r.useState)(null),[B,F]=(0,r.useState)([]),P=(0,r.useRef)(null),D=(0,r.useRef)(null),A=(0,r.useRef)(null),R=(0,r.useRef)(new j.default.Value(1)).current;(0,r.useEffect)((()=>(V(),()=>{L()})),[]);(0,r.useEffect)((()=>{l&&!c?j.default.loop(j.default.sequence([j.default.timing(R,{toValue:1.2,duration:800,useNativeDriver:!0}),j.default.timing(R,{toValue:1,duration:800,useNativeDriver:!0})])).start():R.setValue(1)}),[l,c]);const V=async()=>{try{0}catch(e){console.error("[VoiceStatusRecorder] Setup error:",e)}},L=async()=>{if(A.current&&(clearInterval(A.current),A.current=null),P.current)try{const e=await P.current.getStatusAsync();(e.isRecording||e.canRecord&&!e.isDoneRecording)&&await P.current.stopAndUnloadAsync()}catch(e){(e instanceof Error?e.message:String(e)).includes("already been unloaded")||console.error("[VoiceStatusRecorder] Cleanup recording error:",e)}finally{P.current=null}if(D.current)try{(await D.current.getStatusAsync()).isLoaded&&await D.current.unloadAsync()}catch(e){(e instanceof Error?e.message:String(e)).includes("already been unloaded")||console.error("[VoiceStatusRecorder] Cleanup sound error:",e)}finally{D.current=null}},O=e=>{e.didJustFinish&&g(!1)},W=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return(0,T.jsxs)(n.default,{style:[z.container,{backgroundColor:s.background}],children:[(0,T.jsxs)(n.default,{style:z.header,children:[(0,T.jsx)(i.default,{onPress:async()=>{await L(),t()},style:z.headerButton,children:(0,T.jsx)(C.default,{size:24,color:s.text})}),(0,T.jsx)(a.default,{style:[z.title,{color:s.text}],children:"Voice Status"}),(0,T.jsx)(n.default,{style:z.headerButton})]}),(0,T.jsxs)(n.default,{style:z.content,children:[(0,T.jsx)(n.default,{style:z.waveformContainer,children:B.length>0?(0,T.jsx)(n.default,{style:z.waveform,children:B.map(((e,t)=>(0,T.jsx)(n.default,{style:[z.waveformBar,{height:100*e,backgroundColor:l?"#667eea":s.textSecondary}]},t)))}):(0,T.jsxs)(n.default,{style:z.placeholder,children:[(0,T.jsx)(m.default,{size:64,color:s.textSecondary}),(0,T.jsx)(a.default,{style:[z.placeholderText,{color:s.textSecondary}],children:"Tap to start recording"})]})}),(0,T.jsxs)(n.default,{style:z.timerContainer,children:[(0,T.jsx)(a.default,{style:[z.timer,{color:s.text}],children:W(h)}),(0,T.jsxs)(a.default,{style:[z.maxDuration,{color:s.textSecondary}],children:["/ ",W(o)]})]}),(0,T.jsx)(n.default,{style:z.controls,children:y?(0,T.jsxs)(n.default,{style:z.playbackControls,children:[(0,T.jsx)(i.default,{onPress:f?async()=>{try{D.current&&(await D.current.pauseAsync(),g(!1))}catch(e){console.error("[VoiceStatusRecorder] Pause error:",e)}}:async()=>{try{if(!y)return;D.current&&await D.current.unloadAsync();const{sound:e}=await I.Sound.createAsync({uri:y},{shouldPlay:!0},O);D.current=e,g(!0),console.log("[VoiceStatusRecorder] Playback started")}catch(e){console.error("[VoiceStatusRecorder] Playback error:",e)}},style:[z.playButton,{backgroundColor:s.card}],children:f?(0,T.jsx)(S.default,{size:24,color:s.text}):(0,T.jsx)(v.default,{size:24,color:s.text})}),(0,T.jsx)(i.default,{onPress:()=>{y&&h>0&&e({uri:y,duration:Math.floor(h),waveform:B})},style:[z.completeButton,{backgroundColor:"#4ECDC4"}],children:(0,T.jsx)(k.default,{size:28,color:"#FFFFFF"})})]}):(0,T.jsx)(j.default.View,{style:{transform:[{scale:R}]},children:(0,T.jsx)(i.default,{onPress:l?async()=>{try{if(!P.current)return;await P.current.stopAndUnloadAsync();const e=P.current.getURI();A.current&&clearInterval(A.current),d(!1),u(!1),b(e),console.log("[VoiceStatusRecorder] Recording stopped:",e)}catch(e){console.error("[VoiceStatusRecorder] Stop recording error:",e)}}:async()=>{try{return void console.log("[VoiceStatusRecorder] Web recording not fully supported")}catch(e){console.error("[VoiceStatusRecorder] Start recording error:",e)}},style:[z.recordButton,{backgroundColor:l?"#FF6B6B":"#667eea"}],children:l?(0,T.jsx)(w.default,{size:32,color:"#FFFFFF",fill:"#FFFFFF"}):(0,T.jsx)(m.default,{size:32,color:"#FFFFFF"})})})})]})]})}const z=s.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:"rgba(255,255,255,0.1)"},headerButton:{width:40,height:40,alignItems:"center",justifyContent:"center"},title:{fontSize:18,fontWeight:"600"},content:{flex:1,alignItems:"center",justifyContent:"center",paddingHorizontal:24},waveformContainer:{width:"100%",height:200,alignItems:"center",justifyContent:"center",marginBottom:40},waveform:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:150,gap:3},waveformBar:{width:4,borderRadius:2,minHeight:4},placeholder:{alignItems:"center",gap:16},placeholderText:{fontSize:16},timerContainer:{flexDirection:"row",alignItems:"baseline",marginBottom:40},timer:{fontSize:48,fontWeight:"700"},maxDuration:{fontSize:20,marginLeft:8},controls:{alignItems:"center"},recordButton:{width:80,height:80,borderRadius:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},playbackControls:{flexDirection:"row",gap:20,alignItems:"center"},playButton:{width:60,height:60,borderRadius:30,alignItems:"center",justifyContent:"center"},completeButton:{width:80,height:80,borderRadius:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8}});var F=o(16773),P=o(60893),D=o(3894);function A({onComplete:e,onCancel:t}){const{colors:o}=(0,x.useTheme)(),[l,c]=(0,r.useState)(""),[u,f]=(0,r.useState)(D.statusBackgrounds[0]),[g,h]=(0,r.useState)("center");return(0,T.jsxs)(n.default,{style:R.container,children:[(0,T.jsxs)(n.default,{style:[R.header,{backgroundColor:o.card}],children:[(0,T.jsx)(i.default,{onPress:t,style:R.headerButton,children:(0,T.jsx)(C.default,{size:24,color:o.text})}),(0,T.jsx)(a.default,{style:[R.headerTitle,{color:o.text}],children:"Text Status"}),(0,T.jsx)(i.default,{onPress:()=>{l.trim()&&e({text:l.trim(),backgroundColor:"solid"===u.type?u.colors[0]:void 0,gradient:"gradient"===u.type?u.colors:void 0,textAlign:g,fontSize:32})},style:R.headerButton,disabled:!l.trim(),children:(0,T.jsx)(k.default,{size:24,color:l.trim()?"#4ECDC4":o.textSecondary})})]}),(0,T.jsxs)(n.default,{style:R.preview,children:["gradient"===u.type?(0,T.jsx)(P.LinearGradient,{colors:u.colors,style:s.default.absoluteFill,start:{x:0,y:0},end:{x:1,y:1}}):(0,T.jsx)(n.default,{style:[s.default.absoluteFill,{backgroundColor:u.colors[0]}]}),(0,T.jsx)(F.default,{style:[R.textInput,{textAlign:g}],value:l,onChangeText:c,placeholder:"Type something...",placeholderTextColor:"rgba(255,255,255,0.5)",multiline:!0,maxLength:200,autoFocus:!0})]}),(0,T.jsxs)(n.default,{style:[R.controls,{backgroundColor:o.card}],children:[(0,T.jsx)(d.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,T.jsx)(n.default,{style:R.backgroundPicker,children:D.statusBackgrounds.map((e=>(0,T.jsx)(i.default,{onPress:()=>f(e),style:[R.bgOption,u.id===e.id&&R.bgOptionSelected],children:"gradient"===e.type?(0,T.jsx)(P.LinearGradient,{colors:e.colors,style:R.bgPreview,start:{x:0,y:0},end:{x:1,y:1}}):(0,T.jsx)(n.default,{style:[R.bgPreview,{backgroundColor:e.colors[0]}]})},e.id)))})}),(0,T.jsx)(n.default,{style:R.alignmentControls,children:["left","center","right"].map((e=>(0,T.jsx)(i.default,{onPress:()=>h(e),style:[R.alignButton,{backgroundColor:g===e?o.primary:o.background}],children:(0,T.jsx)(a.default,{style:[R.alignText,{color:g===e?"#FFFFFF":o.text}],children:e[0].toUpperCase()})},e)))})]})]})}const R=s.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12},headerButton:{width:40,height:40,alignItems:"center",justifyContent:"center"},headerTitle:{fontSize:18,fontWeight:"600"},preview:{flex:1,justifyContent:"center",alignItems:"center",padding:24},textInput:{fontSize:32,fontWeight:"600",color:"#FFFFFF",width:"100%",textShadowColor:"rgba(0,0,0,0.3)",textShadowOffset:{width:0,height:2},textShadowRadius:4},controls:{padding:16,gap:16},backgroundPicker:{flexDirection:"row",gap:12,paddingVertical:8},bgOption:{borderRadius:12,padding:3,borderWidth:2,borderColor:"transparent"},bgOptionSelected:{borderColor:"#FFFFFF"},bgPreview:{width:50,height:50,borderRadius:10},alignmentControls:{flexDirection:"row",gap:12,justifyContent:"center"},alignButton:{width:50,height:50,borderRadius:25,alignItems:"center",justifyContent:"center"},alignText:{fontSize:16,fontWeight:"600"}});var V=o(40484),L=o(20530),O=o(8538),W=o(60765),E=o(70139);const M=["#FFFFFF","#FF6B6B","#4ECDC4","#FFD93D","#667eea","#f093fb"],N=[24,32,40,48];function H({mediaUri:e,mediaType:t,onComplete:o,onCancel:s}){const{colors:l}=(0,x.useTheme)(),[c,u]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1),[m,p]=(0,r.useState)([]),[y,b]=(0,r.useState)(null),[j,w]=(0,r.useState)(!1),[S,v]=(0,r.useState)(""),[I,B]=(0,r.useState)(M[0]),[z,D]=(0,r.useState)(N[1]);return(0,T.jsxs)(n.default,{style:[U.container,{backgroundColor:l.background}],children:[(0,T.jsxs)(n.default,{style:U.header,children:[(0,T.jsx)(i.default,{onPress:s,style:U.closeButton,children:(0,T.jsx)(C.default,{size:28,color:l.text})}),(0,T.jsx)(a.default,{style:[U.headerTitle,{color:l.text}],children:"photo"===t?"Photo Status":"Video Status"}),(0,T.jsx)(i.default,{onPress:async()=>{g(!0);try{await o({uri:e,type:t,caption:c.trim()||void 0,overlays:m.length>0?m:void 0})}catch(r){console.error("[MediaStatusCreator] Post error:",r)}finally{g(!1)}},disabled:f,style:[U.postButton,{backgroundColor:"#667eea"}],children:f?(0,T.jsx)(L.default,{size:"small",color:"#FFFFFF"}):(0,T.jsx)(a.default,{style:U.postButtonText,children:"Post"})})]}),(0,T.jsxs)(n.default,{style:U.previewContainer,children:["photo"===t?(0,T.jsx)(V.default,{source:{uri:e},style:U.mediaPreview,resizeMode:"cover"}):(0,T.jsx)(n.default,{style:[U.mediaPreview,{backgroundColor:l.card}],children:(0,T.jsx)(a.default,{style:[U.videoPlaceholder,{color:l.textSecondary}],children:"Video Preview"})}),m.map((e=>(0,T.jsx)(i.default,{style:[U.textOverlay,{left:`${e.position.x}%`,top:`${e.position.y}%`,transform:[{rotate:`${e.rotation}deg`}]}],onPress:()=>b(e.id),onLongPress:()=>{return t=e.id,p(m.filter((e=>e.id!==t))),void b(null);var t},children:(0,T.jsx)(a.default,{style:[U.overlayText,{color:e.color,fontSize:e.fontSize,textShadowColor:"rgba(0,0,0,0.5)",textShadowOffset:{width:0,height:2},textShadowRadius:4}],children:e.text})},e.id)))]}),j?(0,T.jsxs)(n.default,{style:[U.textEditorContainer,{backgroundColor:l.card}],children:[(0,T.jsxs)(n.default,{style:U.textEditorHeader,children:[(0,T.jsx)(a.default,{style:[U.textEditorTitle,{color:l.text}],children:"Add Text"}),(0,T.jsx)(i.default,{onPress:()=>w(!1),children:(0,T.jsx)(C.default,{size:24,color:l.text})})]}),(0,T.jsx)(F.default,{style:[U.textEditorInput,{color:l.text,borderColor:l.border}],placeholder:"Type your text...",placeholderTextColor:l.textSecondary,value:S,onChangeText:v,multiline:!0,maxLength:100,autoFocus:!0}),(0,T.jsxs)(n.default,{style:U.colorPicker,children:[(0,T.jsx)(a.default,{style:[U.pickerLabel,{color:l.text}],children:"Color"}),(0,T.jsx)(d.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,T.jsx)(n.default,{style:U.colorOptions,children:M.map((e=>(0,T.jsx)(i.default,{onPress:()=>B(e),style:[U.colorOption,{backgroundColor:e},I===e&&U.colorOptionSelected],children:I===e&&(0,T.jsx)(k.default,{size:16,color:"#000"})},e)))})})]}),(0,T.jsxs)(n.default,{style:U.fontSizePicker,children:[(0,T.jsx)(a.default,{style:[U.pickerLabel,{color:l.text}],children:"Size"}),(0,T.jsx)(n.default,{style:U.fontSizeOptions,children:N.map((e=>(0,T.jsx)(i.default,{onPress:()=>D(e),style:[U.fontSizeOption,{backgroundColor:z===e?"#667eea":l.background}],children:(0,T.jsx)(a.default,{style:[U.fontSizeText,{color:z===e?"#FFFFFF":l.text}],children:e})},e)))})]}),(0,T.jsx)(i.default,{onPress:()=>{if(!S.trim())return;const e={id:`overlay-${Date.now()}`,text:S.trim(),position:{x:50,y:50},color:I,fontSize:z,rotation:0};p([...m,e]),v(""),w(!1)},disabled:!S.trim(),style:[U.addTextButton,{backgroundColor:S.trim()?"#4ECDC4":l.background}],children:(0,T.jsx)(a.default,{style:[U.addTextButtonText,{color:S.trim()?"#FFFFFF":l.textSecondary}],children:"Add Text"})})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(n.default,{style:U.toolsContainer,children:[(0,T.jsxs)(i.default,{style:[U.toolButton,{backgroundColor:l.card}],onPress:()=>w(!0),children:[(0,T.jsx)(P.LinearGradient,{colors:["#667eea","#764ba2"],style:U.toolGradient,start:{x:0,y:0},end:{x:1,y:1},children:(0,T.jsx)(h.default,{size:24,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[U.toolLabel,{color:l.text}],children:"Text"})]}),(0,T.jsxs)(i.default,{style:[U.toolButton,{backgroundColor:l.card}],children:[(0,T.jsx)(P.LinearGradient,{colors:["#f093fb","#f5576c"],style:U.toolGradient,start:{x:0,y:0},end:{x:1,y:1},children:(0,T.jsx)(O.default,{size:24,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[U.toolLabel,{color:l.text}],children:"Emoji"})]}),(0,T.jsxs)(i.default,{style:[U.toolButton,{backgroundColor:l.card}],children:[(0,T.jsx)(P.LinearGradient,{colors:["#4facfe","#00f2fe"],style:U.toolGradient,start:{x:0,y:0},end:{x:1,y:1},children:(0,T.jsx)(W.default,{size:24,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[U.toolLabel,{color:l.text}],children:"Sticker"})]}),(0,T.jsxs)(i.default,{style:[U.toolButton,{backgroundColor:l.card}],children:[(0,T.jsx)(P.LinearGradient,{colors:["#43e97b","#38f9d7"],style:U.toolGradient,start:{x:0,y:0},end:{x:1,y:1},children:(0,T.jsx)(E.default,{size:24,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[U.toolLabel,{color:l.text}],children:"Filter"})]})]}),(0,T.jsxs)(n.default,{style:[U.captionContainer,{backgroundColor:l.card}],children:[(0,T.jsx)(F.default,{style:[U.captionInput,{color:l.text}],placeholder:"Add a caption...",placeholderTextColor:l.textSecondary,value:c,onChangeText:u,multiline:!0,maxLength:200}),(0,T.jsxs)(a.default,{style:[U.charCount,{color:l.textSecondary}],children:[c.length,"/200"]})]})]})]})}const U=s.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,paddingTop:12},closeButton:{padding:8},headerTitle:{fontSize:18,fontWeight:"600"},postButton:{paddingHorizontal:20,paddingVertical:8,borderRadius:20,minWidth:70,alignItems:"center"},postButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"600"},previewContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:16,position:"relative"},mediaPreview:{width:"100%",height:"100%",borderRadius:16,justifyContent:"center",alignItems:"center"},videoPlaceholder:{fontSize:16},textOverlay:{position:"absolute",padding:8},overlayText:{fontWeight:"700"},toolsContainer:{flexDirection:"row",justifyContent:"space-around",paddingHorizontal:16,paddingVertical:12},toolButton:{alignItems:"center",borderRadius:12,overflow:"hidden"},toolGradient:{padding:12,borderRadius:12,alignItems:"center",justifyContent:"center"},toolLabel:{fontSize:12,marginTop:6,fontWeight:"500"},captionContainer:{margin:16,padding:16,borderRadius:12},captionInput:{fontSize:16,minHeight:60,textAlignVertical:"top"},charCount:{fontSize:12,textAlign:"right",marginTop:8},textEditorContainer:{padding:20,borderTopLeftRadius:24,borderTopRightRadius:24,gap:16},textEditorHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},textEditorTitle:{fontSize:20,fontWeight:"700"},textEditorInput:{fontSize:18,minHeight:80,borderWidth:1,borderRadius:12,padding:12,textAlignVertical:"top"},colorPicker:{gap:12},pickerLabel:{fontSize:16,fontWeight:"600"},colorOptions:{flexDirection:"row",gap:12},colorOption:{width:50,height:50,borderRadius:25,alignItems:"center",justifyContent:"center",borderWidth:3,borderColor:"transparent"},colorOptionSelected:{borderColor:"#667eea"},fontSizePicker:{gap:12},fontSizeOptions:{flexDirection:"row",gap:12},fontSizeOption:{paddingHorizontal:20,paddingVertical:12,borderRadius:12},fontSizeText:{fontSize:16,fontWeight:"600"},addTextButton:{paddingVertical:16,borderRadius:12,alignItems:"center"},addTextButtonText:{fontSize:16,fontWeight:"600"}});var q=o(69902),_=o(58765),$=o(52147);function Y({uploads:e,onDismiss:t,onRetry:o}){const{colors:r}=(0,x.useTheme)();return 0===e.length?null:(0,T.jsx)(n.default,{style:J.container,pointerEvents:"box-none",children:e.map((e=>(0,T.jsx)(G,{upload:e,onDismiss:t,onRetry:o},e.statusId)))})}function G({upload:e,onDismiss:t,onRetry:o}){const{colors:l}=(0,x.useTheme)(),d=(0,r.useRef)(new j.default.Value(0)).current,c=(0,r.useRef)(new j.default.Value(.8)).current,u=(0,r.useRef)(new j.default.Value(0)).current;(0,r.useEffect)((()=>{j.default.parallel([j.default.spring(c,{toValue:1,tension:50,friction:7,useNativeDriver:!0}),j.default.timing(u,{toValue:1,duration:200,useNativeDriver:!0})]).start()}),[]),(0,r.useEffect)((()=>{j.default.timing(d,{toValue:e.progress,duration:300,useNativeDriver:!1}).start()}),[e.progress]),(0,r.useEffect)((()=>{"success"===e.status&&setTimeout((()=>{j.default.parallel([j.default.timing(c,{toValue:.8,duration:200,useNativeDriver:!0}),j.default.timing(u,{toValue:0,duration:200,useNativeDriver:!0})]).start((()=>{t?.(e.statusId)}))}),2e3)}),[e.status]);const f=d.interpolate({inputRange:[0,100],outputRange:["0%","100%"]});return(0,T.jsxs)(j.default.View,{style:[J.card,{backgroundColor:l.card,transform:[{scale:c}],opacity:u}],children:[(0,T.jsxs)(n.default,{style:J.cardContent,children:[(0,T.jsx)(n.default,{style:J.iconContainer,children:(()=>{switch(e.status){case"success":return(0,T.jsx)(q.default,{size:24,color:"#4ECDC4"});case"error":return(0,T.jsx)(_.default,{size:24,color:"#FF6B6B"});default:return(0,T.jsx)($.default,{size:24,color:"#667eea"})}})()}),(0,T.jsxs)(n.default,{style:J.textContainer,children:[(0,T.jsx)(a.default,{style:[J.statusText,{color:l.text}],children:(()=>{switch(e.status){case"uploading":return`Uploading... ${e.progress}%`;case"processing":return"Processing...";case"success":return"Status uploaded successfully!";case"error":return e.error||"Upload failed";default:return"Uploading..."}})()}),"uploading"===e.status&&(0,T.jsx)(n.default,{style:[J.progressBar,{backgroundColor:l.background}],children:(0,T.jsx)(j.default.View,{style:[J.progressFill,{width:f,backgroundColor:(()=>{switch(e.status){case"success":return"#4ECDC4";case"error":return"#FF6B6B";default:return"#667eea"}})()}]})}),"error"===e.status&&o&&(0,T.jsx)(i.default,{onPress:()=>o(e.statusId),style:[J.retryButton,{backgroundColor:"#667eea"}],children:(0,T.jsx)(a.default,{style:J.retryText,children:"Retry"})})]}),("error"===e.status||"success"===e.status)&&t&&(0,T.jsx)(i.default,{onPress:()=>t(e.statusId),style:J.closeButton,children:(0,T.jsx)(C.default,{size:20,color:l.textSecondary})})]}),"success"===e.status&&(0,T.jsx)(n.default,{style:J.successOverlay,children:(0,T.jsx)(P.LinearGradient,{colors:["rgba(78, 205, 196, 0.1)","rgba(78, 205, 196, 0)"],style:s.default.absoluteFill})})]})}const J=s.default.create({container:{position:"absolute",top:60,left:16,right:16,zIndex:1e3,gap:12},card:{borderRadius:16,padding:16,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.15,shadowRadius:12,elevation:8,overflow:"hidden"},cardContent:{flexDirection:"row",alignItems:"center",gap:12},iconContainer:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(102, 126, 234, 0.1)"},textContainer:{flex:1,gap:8},statusText:{fontSize:14,fontWeight:"600"},progressBar:{height:4,borderRadius:2,overflow:"hidden"},progressFill:{height:"100%",borderRadius:2},retryButton:{paddingHorizontal:16,paddingVertical:8,borderRadius:8,alignSelf:"flex-start"},retryText:{color:"#FFFFFF",fontSize:14,fontWeight:"600"},closeButton:{padding:4},successOverlay:Object.assign({},s.default.absoluteFillObject,{pointerEvents:"none"})});var K=o(78454),Q=o(86039),Z=o(71980);async function X(e,t=.8){try{console.log("[MediaUpload] Compressing image:",e);const o=await(0,Q.manipulateAsync)(e,[{resize:{width:1080}}],{compress:t,format:Z.SaveFormat.JPEG}),r=await K.getInfoAsync(o.uri);return{uri:o.uri,size:r.size||0,width:o.width,height:o.height}}catch(o){throw console.error("[MediaUpload] Image compression error:",o),new Error("Failed to compress image")}}async function ee(e,t,o,r=3e4){return new Promise(((n,a)=>{let s=0;let i=0;const l=setTimeout((()=>{clearInterval(d),a(new Error("Upload timeout"))}),r),d=setInterval((()=>{i++,s=Math.min(5*i,100),o?.(s),s>=100&&(clearInterval(d),clearTimeout(l),setTimeout((()=>{n({uri:e,size:t})}),500))}),150)}))}function te(e,t,o=52428800){return new Promise((async t=>{try{const r=(await K.getInfoAsync(e)).size||0;if(r>o)return console.warn("[MediaUpload] File too large:",function(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]}(r)),void t(!1);t(!0)}catch(r){console.error("[MediaUpload] Validation error:",r),t(!1)}}))}function oe(){const{colors:e}=(0,x.useTheme)(),{uploadStatus:t,uploadProgress:o}=(0,b.useStatus)(),[s,j]=(0,r.useState)(null),[C,w]=(0,r.useState)(null),[S,v]=(0,r.useState)(null),k=async()=>{try{const{status:e}=await p.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void c.default.alert("Permission Required","Permission to access media library is required!");const t=await p.launchImageLibraryAsync({mediaTypes:y.MediaTypeOptions.Images,allowsEditing:!0,aspect:[9,16],quality:.8});if(!t.canceled&&t.assets[0]){const e=t.assets[0].uri;if(!await te(e))return void c.default.alert("File Too Large","Please select a smaller image (max 50MB)");w({uri:e,type:"photo"}),j("photo")}}catch(e){console.error("[CreateStatus] Pick image error:",e),c.default.alert("Error","Failed to pick image")}},I=async e=>{try{const o=await async function(e,t,o={}){const{onProgress:r,maxRetries:n=3,timeout:a=2e4}=o;let s=0,i=null;for(;s<n;)try{console.log(`[MediaUpload] Voice upload attempt ${s+1}/${n}`);const o=(await K.getInfoAsync(e)).size||0,i=await ee(e,o,r,a);return console.log("[MediaUpload] Voice upload successful:",i),Object.assign({},i,{duration:t})}catch(l){if(i=l,s++,s<n){const e=Math.min(1e3*Math.pow(2,s),5e3);console.log(`[MediaUpload] Retrying in ${e}ms...`),await new Promise((t=>setTimeout(t,e)))}}throw i||new Error("Voice upload failed after maximum retries")}(e.uri,e.duration,{onProgress:e=>{console.log("[CreateStatus] Voice upload progress:",e)}});await t("voice",{uri:o.uri,duration:e.duration,waveform:e.waveform,gradient:["#667eea","#764ba2"]}),j(null),u.router.back()}catch(o){console.error("[CreateStatus] Voice upload error:",o),c.default.alert("Upload Failed","Failed to upload voice status. Please try again."),v({type:"voice",data:e})}},z=async e=>{try{await t("text",e),j(null),u.router.back()}catch(o){console.error("[CreateStatus] Text upload error:",o),c.default.alert("Upload Failed","Failed to upload text status. Please try again."),v({type:"text",data:e})}},F=async e=>{try{const o=await async function(e,t,o={}){const{onProgress:r,maxRetries:n=3,timeout:a=3e4,compressionQuality:s=.8}=o;let i=0,l=null;for(;i<n;)try{console.log(`[MediaUpload] Upload attempt ${i+1}/${n}`);let o=e,l=0,d={};if("photo"===t){const t=await X(e,s);o=t.uri,l=t.size,d={width:t.width,height:t.height}}else l=(await K.getInfoAsync(e)).size||0;const c=await ee(o,l,r,a);return console.log("[MediaUpload] Upload successful:",c),Object.assign({},c,d)}catch(d){if(l=d,i++,i<n){const e=Math.min(1e3*Math.pow(2,i),5e3);console.log(`[MediaUpload] Retrying in ${e}ms...`),await new Promise((t=>setTimeout(t,e)))}}throw l||new Error("Upload failed after maximum retries")}(e.uri,e.type,{onProgress:e=>{console.log("[CreateStatus] Media upload progress:",e)},compressionQuality:.8}),r="video"===e.type?"video":"photo";await t(r,o.uri,{caption:e.caption,overlays:e.overlays}),j(null),w(null),u.router.back()}catch(o){console.error("[CreateStatus] Media upload error:",o),c.default.alert("Upload Failed","Failed to upload status. Please try again."),v({type:e.type,data:e})}};return(0,T.jsxs)(n.default,{style:[re.container,{backgroundColor:e.background}],children:[(0,T.jsx)(u.Stack.Screen,{options:{headerShown:!0,title:"Create Status",headerStyle:{backgroundColor:e.card},headerTintColor:e.text}}),(0,T.jsx)(Y,{uploads:o,onDismiss:e=>{console.log("[CreateStatus] Dismissing progress:",e)},onRetry:async e=>{if(S)try{"voice"===S.type?await I(S.data):"text"===S.type?await z(S.data):await F(S.data),v(null)}catch(t){console.error("[CreateStatus] Retry error:",t)}}}),(0,T.jsxs)(d.default,{contentContainerStyle:re.content,children:[(0,T.jsx)(a.default,{style:[re.title,{color:e.text}],children:"Share your moment"}),(0,T.jsx)(a.default,{style:[re.subtitle,{color:e.textSecondary}],children:"Choose how you want to express yourself"}),(0,T.jsxs)(n.default,{style:re.optionsGrid,children:[(0,T.jsxs)(i.default,{style:[re.optionCard,{backgroundColor:e.card}],onPress:async()=>{try{return void k()}catch(e){console.error("[CreateStatus] Take photo error:",e),c.default.alert("Error","Failed to take photo")}},children:[(0,T.jsx)(n.default,{style:[re.iconContainer,{backgroundColor:"#667eea"}],children:(0,T.jsx)(f.default,{size:32,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[re.optionTitle,{color:e.text}],children:"Camera"}),(0,T.jsx)(a.default,{style:[re.optionDesc,{color:e.textSecondary}],children:"Take a photo"})]}),(0,T.jsxs)(i.default,{style:[re.optionCard,{backgroundColor:e.card}],onPress:k,children:[(0,T.jsx)(n.default,{style:[re.iconContainer,{backgroundColor:"#f093fb"}],children:(0,T.jsx)(g.default,{size:32,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[re.optionTitle,{color:e.text}],children:"Photo"}),(0,T.jsx)(a.default,{style:[re.optionDesc,{color:e.textSecondary}],children:"From gallery"})]}),(0,T.jsxs)(i.default,{style:[re.optionCard,{backgroundColor:e.card}],onPress:()=>j("text"),children:[(0,T.jsx)(n.default,{style:[re.iconContainer,{backgroundColor:"#4facfe"}],children:(0,T.jsx)(h.default,{size:32,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[re.optionTitle,{color:e.text}],children:"Text"}),(0,T.jsx)(a.default,{style:[re.optionDesc,{color:e.textSecondary}],children:"Write something"})]}),(0,T.jsxs)(i.default,{style:[re.optionCard,{backgroundColor:e.card}],onPress:()=>j("voice"),children:[(0,T.jsx)(n.default,{style:[re.iconContainer,{backgroundColor:"#43e97b"}],children:(0,T.jsx)(m.default,{size:32,color:"#FFFFFF"})}),(0,T.jsx)(a.default,{style:[re.optionTitle,{color:e.text}],children:"Voice"}),(0,T.jsx)(a.default,{style:[re.optionDesc,{color:e.textSecondary}],children:"Record audio"})]})]}),(0,T.jsx)(n.default,{style:re.infoBox,children:(0,T.jsx)(a.default,{style:[re.infoText,{color:e.textSecondary}],children:"Your status will be visible for 24 hours and can be viewed by your friends"})})]}),(0,T.jsx)(l.default,{visible:"voice"===s,animationType:"slide",presentationStyle:"fullScreen",children:"voice"===s&&(0,T.jsx)(B,{onComplete:I,onCancel:()=>j(null)})}),(0,T.jsx)(l.default,{visible:"text"===s,animationType:"slide",presentationStyle:"fullScreen",children:"text"===s&&(0,T.jsx)(A,{onComplete:z,onCancel:()=>j(null)})}),(0,T.jsx)(l.default,{visible:("photo"===s||"video"===s)&&null!==C,animationType:"slide",presentationStyle:"fullScreen",children:C&&(0,T.jsx)(H,{mediaUri:C.uri,mediaType:C.type,onComplete:F,onCancel:()=>{j(null),w(null)}})})]})}const re=s.default.create({container:{flex:1},content:{padding:20},title:{fontSize:28,fontWeight:"700",marginBottom:8},subtitle:{fontSize:16,marginBottom:32},optionsGrid:{flexDirection:"row",flexWrap:"wrap",gap:16,marginBottom:24},optionCard:{width:"47%",padding:20,borderRadius:16,alignItems:"center",gap:12},iconContainer:{width:64,height:64,borderRadius:32,alignItems:"center",justifyContent:"center"},optionTitle:{fontSize:18,fontWeight:"600"},optionDesc:{fontSize:14,textAlign:"center"},infoBox:{padding:16,borderRadius:12,backgroundColor:"rgba(102, 126, 234, 0.1)"},infoText:{fontSize:14,textAlign:"center",lineHeight:20}})},74249:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>R});var r=o(49637),n=o(36665),a=o(73929),s=o(6283),i=o(73668),l=o(15648),d=o(93816),c=o(665),u=o(37286),f=o(82909),g=o(60397);const h=({size:e=24,color:t="#000",filled:o=!1})=>o?(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Path,{d:"M12 2.5L2 10.5V21.5C2 22.05 2.45 22.5 3 22.5H9V15.5H15V22.5H21C21.55 22.5 22 22.05 22 21.5V10.5L12 2.5Z",fill:t}),(0,g.jsx)(f.Circle,{cx:"12",cy:"12",r:"1.5",fill:"#fff",opacity:"0.3"})]}):(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Path,{d:"M12 3L3 10.5V21C3 21.55 3.45 22 4 22H9V15H15V22H20C20.55 22 21 21.55 21 21V10.5L12 3Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,g.jsx)(f.Path,{d:"M9 22V15H15V22",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),m=({size:e=24,color:t="#000",filled:o=!1})=>o?(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Circle,{cx:"11",cy:"11",r:"8",fill:t}),(0,g.jsx)(f.Path,{d:"M21 21L16.65 16.65",stroke:t,strokeWidth:"2.5",strokeLinecap:"round"}),(0,g.jsx)(f.Circle,{cx:"11",cy:"11",r:"3",fill:"#fff",opacity:"0.3"})]}):(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Circle,{cx:"11",cy:"11",r:"7",stroke:t,strokeWidth:"2"}),(0,g.jsx)(f.Path,{d:"M21 21L16.65 16.65",stroke:t,strokeWidth:"2",strokeLinecap:"round"}),(0,g.jsx)(f.Circle,{cx:"11",cy:"11",r:"2",stroke:t,strokeWidth:"1.5",opacity:"0.5"})]}),p=({size:e=24,color:t="#000",filled:o=!1})=>o?(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"4",fill:t}),(0,g.jsx)(f.Path,{d:"M4 20C4 16.6863 6.68629 14 10 14H14C17.3137 14 20 16.6863 20 20V22H4V20Z",fill:t}),(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"1.5",fill:"#fff",opacity:"0.3"})]}):(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"3.5",stroke:t,strokeWidth:"2"}),(0,g.jsx)(f.Path,{d:"M4.5 20C4.5 17.2386 6.73858 15 9.5 15H14.5C17.2614 15 19.5 17.2386 19.5 20V21.5",stroke:t,strokeWidth:"2",strokeLinecap:"round"})]}),y=({size:e=24,color:t="#000",filled:o=!1})=>o?(0,g.jsx)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:(0,g.jsxs)(f.G,{children:[(0,g.jsx)(f.Path,{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:t}),(0,g.jsx)(f.Circle,{cx:"12",cy:"12",r:"3",fill:"#fff",opacity:"0.2"}),(0,g.jsx)(f.Path,{d:"M12 8L13 10.5L15.5 11L13 12L12 14.5L11 12L8.5 11L11 10.5L12 8Z",fill:"#fff",opacity:"0.4"})]})}):(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Path,{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,g.jsx)(f.Circle,{cx:"12",cy:"12",r:"2",stroke:t,strokeWidth:"1.5",opacity:"0.5"})]}),x=({size:e=24,color:t="#000",filled:o=!1})=>o?(0,g.jsx)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:(0,g.jsxs)(f.G,{children:[(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"6",fill:t}),(0,g.jsx)(f.Path,{d:"M12 14C12 14 8 15 8 18C8 20 9.5 22 12 22C14.5 22 16 20 16 18C16 15 12 14 12 14Z",fill:t}),(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"2.5",fill:"#fff",opacity:"0.4"}),(0,g.jsx)(f.Path,{d:"M8 17L10 16L12 17L14 16L16 17",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"})]})}):(0,g.jsx)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:(0,g.jsxs)(f.G,{children:[(0,g.jsx)(f.Circle,{cx:"12",cy:"8",r:"5.5",stroke:t,strokeWidth:"2"}),(0,g.jsx)(f.Path,{d:"M12 13.5C12 13.5 8.5 14.5 8.5 17.5C8.5 19.5 10 21.5 12 21.5C14 21.5 15.5 19.5 15.5 17.5C15.5 14.5 12 13.5 12 13.5Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,g.jsx)(f.Path,{d:"M8.5 16.5L10.5 15.5L12 16.5L13.5 15.5L15.5 16.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.7"})]})});var b=o(15009),j=o(36412);function C({size:e="medium"}){const{colors:t}=(0,j.useTheme)(),o=(0,n.useRef)(new b.default.Value(1)).current,r=(0,n.useRef)(new b.default.Value(0)).current,i=(0,n.useRef)(new b.default.Value(1)).current;(0,n.useEffect)((()=>{const e=b.default.loop(b.default.sequence([b.default.timing(o,{toValue:1.1,duration:2e3,useNativeDriver:!0}),b.default.timing(o,{toValue:1,duration:2e3,useNativeDriver:!0})])),t=b.default.loop(b.default.sequence([b.default.timing(r,{toValue:1,duration:3e3,useNativeDriver:!0}),b.default.timing(r,{toValue:0,duration:3e3,useNativeDriver:!0})])),n=b.default.loop(b.default.sequence([b.default.timing(i,{toValue:1.2,duration:1500,useNativeDriver:!0}),b.default.timing(i,{toValue:1,duration:1500,useNativeDriver:!0})]));return e.start(),t.start(),n.start(),()=>{e.stop(),t.stop(),n.stop()}}),[]);const l=r.interpolate({inputRange:[0,1],outputRange:[0,-3]}),d={small:{fontSize:16,iconSize:20},medium:{fontSize:20,iconSize:24},large:{fontSize:28,iconSize:32}}[e];return(0,g.jsxs)(a.default,{style:w.container,children:[(0,g.jsxs)(a.default,{style:w.logoContainer,children:[(0,g.jsx)(b.default.View,{style:[w.mainGradient,{width:d.iconSize+12,height:d.iconSize+12,borderRadius:.3*(d.iconSize+12),transform:[{scale:o}]}]}),(0,g.jsx)(b.default.View,{style:[w.floatingOverlay,{width:d.iconSize+12,height:d.iconSize+12,borderRadius:.3*(d.iconSize+12),transform:[{translateY:l}]}]}),(0,g.jsx)(a.default,{style:[w.innerCircle,{width:.5*d.iconSize,height:.5*d.iconSize,borderRadius:.25*d.iconSize}],children:(0,g.jsx)(b.default.View,{style:[w.innerDot,{width:.25*d.iconSize,height:.25*d.iconSize,borderRadius:.125*d.iconSize,transform:[{scale:i}]}]})})]}),(0,g.jsxs)(a.default,{style:w.textContainer,children:[(0,g.jsx)(s.default,{style:[w.logoText,{fontSize:d.fontSize,color:"#00CED1"}],children:"VibeSync"}),(0,g.jsx)(s.default,{style:[w.logoSubtext,{fontSize:.5*d.fontSize,color:t.textSecondary}],children:"Connect & Experience"})]})]})}const w=i.default.create({container:{flexDirection:"row",alignItems:"center",gap:12},logoContainer:{position:"relative",justifyContent:"center",alignItems:"center"},mainGradient:{position:"absolute",backgroundColor:"#00CED1",shadowColor:"#00CED1",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},floatingOverlay:{position:"absolute",backgroundColor:"#40E0D0",opacity:.8},innerCircle:{backgroundColor:"#FFFFFF",justifyContent:"center",alignItems:"center",zIndex:2},innerDot:{backgroundColor:"#3B82F6"},textContainer:{flexDirection:"column",alignItems:"flex-start"},logoText:{fontWeight:"bold",letterSpacing:.5},logoSubtext:{fontWeight:"500",marginTop:-2}});var S=o(63914),v=o(97991),k=o(52562),I=o(67236),T=o(29267);const B=({size:e=24,color:t="#fff"})=>(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Rect,{x:"3",y:"3",width:"18",height:"5",fill:t,rx:"1"}),(0,g.jsx)(f.Polygon,{points:"9,3 12,8 15,3",fill:"#000",opacity:"0.3"}),(0,g.jsx)(f.Rect,{x:"3",y:"9",width:"18",height:"12",stroke:t,strokeWidth:"2",rx:"2",fill:"none"}),(0,g.jsx)(f.Polygon,{points:"10,12 16,15 10,18",fill:t})]}),z=({size:e=24,color:t="#fff"})=>(0,g.jsxs)(f.default,{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[(0,g.jsx)(f.Path,{d:"M4 20 L20 4",stroke:t,strokeWidth:"2",strokeLinecap:"round"}),(0,g.jsx)(f.Path,{d:"M14 10 L20 16",stroke:t,strokeWidth:"2",strokeLinecap:"round"}),(0,g.jsx)(f.Circle,{cx:"6",cy:"6",r:"1.5",fill:t}),(0,g.jsx)(f.Circle,{cx:"18",cy:"8",r:"1.2",fill:t}),(0,g.jsx)(f.Circle,{cx:"10",cy:"18",r:"1",fill:t})]});var F=o(78833);const P=({name:e,focused:t,color:o,size:r})=>{const n={size:r,color:o};switch(e){case"index":default:return(0,g.jsx)(k.default,Object.assign({},n));case"discover":return(0,g.jsx)(I.default,Object.assign({},n));case"vibez":return(0,g.jsx)(B,Object.assign({},n));case"create":return(0,g.jsx)(z,Object.assign({},n));case"profile":return(0,g.jsx)(T.default,Object.assign({},n))}},D=({state:e,descriptors:t,navigation:o})=>{const{colors:r,isDark:s}=(0,j.useTheme)(),i=(0,F.useSafeAreaInsets)(),d=n.useRef(new b.default.Value(e.index)).current;n.useEffect((()=>{b.default.spring(d,{toValue:e.index,useNativeDriver:!1,tension:100,friction:8}).start()}),[e.index,d]);const c=100/e.routes.length;d.interpolate({inputRange:e.routes.map(((e,t)=>t)),outputRange:e.routes.map(((t,o)=>o*(100/e.routes.length)))});return(0,g.jsxs)(a.default,{style:[A.container,{backgroundColor:r.glass,paddingBottom:i.bottom,borderTopColor:r.border}],children:[(0,g.jsx)(a.default,{style:A.backdrop}),(0,g.jsx)(a.default,{style:[A.indicator,{backgroundColor:r.primary,width:`${c}%`}]}),(0,g.jsx)(a.default,{style:A.tabContainer,children:e.routes.map(((n,s)=>{const{options:i}=t[n.key],d=e.index===s;return(0,g.jsx)(l.default,{accessibilityRole:"button",accessibilityState:d?{selected:!0}:{},accessibilityLabel:i.tabBarAccessibilityLabel,testID:i.tabBarTestID,onPress:()=>{const e=o.emit({type:"tabPress",target:n.key,canPreventDefault:!0});d||e.defaultPrevented||o.navigate(n.name)},style:A.tab,children:(0,g.jsx)(a.default,{style:[A.tabContent,d&&{backgroundColor:r.glassLight}],children:(0,g.jsx)(P,{name:n.name,focused:d,color:d?r.primary:r.textSecondary,size:24})})},n.key)}))})]})},A=i.default.create({container:{position:"absolute",bottom:0,left:0,right:0,borderTopWidth:1},backdrop:Object.assign({},i.default.absoluteFillObject,{backgroundColor:"rgba(255, 255, 255, 0.1)"}),tabContainer:{flex:1,flexDirection:"row",alignItems:"center",paddingHorizontal:16},tab:{flex:1,alignItems:"center",justifyContent:"center",height:50},tabContent:{width:50,height:50,borderRadius:25,alignItems:"center",justifyContent:"center"},indicator:{position:"absolute",top:0,height:3,borderRadius:2}});function R(){const{colors:e}=(0,j.useTheme)(),{unreadCount:t}=(0,S.useNotifications)(),{unreadCount:o}=(0,v.useMessaging)(),i=(0,n.useCallback)((()=>{d.default.runAfterInteractions((()=>{r.router.push("/notifications")}))}),[]),f=(0,n.useCallback)((()=>{d.default.runAfterInteractions((()=>{r.router.push("/inbox")}))}),[]);return(0,g.jsx)(a.default,{style:{flex:1},children:(0,g.jsxs)(r.Tabs,{tabBar:e=>(0,g.jsx)(D,Object.assign({},e)),screenOptions:{tabBarActiveTintColor:e.primary,tabBarInactiveTintColor:e.textSecondary,headerStyle:{backgroundColor:e.background},headerTitleStyle:{color:e.text},headerTintColor:e.text,tabBarShowLabel:!1},children:[(0,g.jsx)(r.Tabs.Screen,{name:"index",options:{title:"VibeSync",tabBarLabel:"Home",tabBarIcon:({color:e,size:t,focused:o})=>(0,g.jsx)(h,{size:t,color:e,filled:o}),headerTitle:()=>(0,g.jsx)(C,{size:"small"}),headerRight:()=>(0,g.jsxs)(a.default,{style:V.headerRight,children:[(0,g.jsxs)(l.default,{style:V.notificationButton,onPress:i,children:[(0,g.jsx)(c.default,{size:22,color:e.text}),t>0&&(0,g.jsx)(a.default,{style:[V.notificationBadge,{backgroundColor:e.error}],children:(0,g.jsx)(s.default,{style:[V.notificationCount,{color:e.textInverse}],children:t>99?"99+":t})})]}),(0,g.jsxs)(l.default,{style:V.messageButton,onPress:f,children:[(0,g.jsx)(u.default,{size:22,color:e.text}),o>0&&(0,g.jsx)(a.default,{style:[V.messageBadge,{backgroundColor:e.error}],children:(0,g.jsx)(s.default,{style:[V.messageCount,{color:e.textInverse}],children:o>99?"99+":o})})]})]})}}),(0,g.jsx)(r.Tabs.Screen,{name:"discover",options:{title:"Discover",tabBarLabel:"Discover",tabBarIcon:({color:e,size:t,focused:o})=>(0,g.jsx)(m,{size:t,color:e,filled:o})}}),(0,g.jsx)(r.Tabs.Screen,{name:"vibez",options:{title:"Vibez",tabBarLabel:"Vibez",tabBarIcon:({color:e,size:t,focused:o})=>(0,g.jsx)(y,{size:t,color:e,filled:o}),headerShown:!1}}),(0,g.jsx)(r.Tabs.Screen,{name:"spills",options:{title:"Spills",tabBarLabel:"Spills",headerShown:!1,tabBarIcon:({color:e,size:t,focused:o})=>(0,g.jsx)(x,{size:t,color:e,filled:o})}}),(0,g.jsx)(r.Tabs.Screen,{name:"profile",options:{title:"Profile",tabBarLabel:"Profile",tabBarIcon:({color:e,size:t,focused:o})=>(0,g.jsx)(p,{size:t,color:e,filled:o})}})]})})}const V=i.default.create({headerRight:{flexDirection:"row",marginRight:16,alignItems:"center"},notificationButton:{position:"relative",marginRight:16},notificationBadge:{position:"absolute",top:-5,right:-5,borderRadius:10,width:18,height:18,justifyContent:"center",alignItems:"center"},notificationCount:{fontSize:10,fontWeight:"bold"},messageButton:{position:"relative"},messageBadge:{position:"absolute",top:-5,right:-5,borderRadius:10,width:18,height:18,justifyContent:"center",alignItems:"center"},messageCount:{fontSize:10,fontWeight:"bold"},createButton:{width:32,height:32,borderRadius:16,justifyContent:"center",alignItems:"center"}})},74409:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>$});var r=o(36665),n=o(73929),a=o(6283),s=o(73668),i=o(51226),l=o(82660),d=o(15648),c=o(15009),u=o(49637),f=o(52790),g=o(29621);const h=[{id:"1",title:"Amapiano Festival 2025",category:"events",posts:45200,engagement:892e3,location:"Johannesburg",hashtag:"#AmaPiano2025",description:"The biggest Amapiano festival of the year is happening this weekend in Johannesburg",trendingScore:95.8,velocity:12.5,recencyScore:98.2,status:"breaking",relatedEventId:"event_1",createdAt:new Date(Date.now()-72e5).toISOString(),lastUpdated:new Date(Date.now()-3e5).toISOString()},{id:"2",title:"New Drake Album",category:"music",posts:128500,engagement:245e4,location:"Global",hashtag:"#ForAllTheDogs",description:"Drake just dropped a surprise album and fans are going wild",trendingScore:98.5,velocity:18.9,recencyScore:99.5,status:"peaking",relatedMusicId:"album_drake_2025",createdAt:new Date(Date.now()-144e5).toISOString(),lastUpdated:new Date(Date.now()-12e4).toISOString()},{id:"3",title:"Viral Dance Challenge",category:"content",posts:67800,engagement:123e4,location:"Global",hashtag:"#VibeChallenge",description:"Everyone is doing the new vibe dance challenge",trendingScore:89.3,velocity:15.2,recencyScore:92.1,status:"peaking",createdAt:new Date(Date.now()-432e5).toISOString(),lastUpdated:new Date(Date.now()-6e5).toISOString()},{id:"4",title:"Cape Town Food Festival",category:"events",posts:8900,engagement:125e3,location:"Cape Town",hashtag:"#CTFoodFest",description:"Local food festival showcasing the best of Cape Town cuisine",trendingScore:72.4,velocity:8.3,recencyScore:85.6,status:"stable",relatedEventId:"event_2",createdAt:new Date(Date.now()-864e5).toISOString(),lastUpdated:new Date(Date.now()-18e5).toISOString()},{id:"5",title:"Tyla World Tour",category:"music",posts:34200,engagement:567e3,location:"South Africa",hashtag:"#TylaWorldTour",description:"Tyla announces world tour dates, SA fans excited",trendingScore:84.7,velocity:11.8,recencyScore:88.9,status:"peaking",relatedMusicId:"artist_tyla",relatedEventId:"tour_tyla_2025",createdAt:new Date(Date.now()-288e5).toISOString(),lastUpdated:new Date(Date.now()-9e5).toISOString()},{id:"6",title:"Sunset Sessions",category:"content",posts:12400,engagement:189e3,location:"Durban",hashtag:"#SunsetVibes",description:"Beautiful sunset content from Durban beaches",trendingScore:68.2,velocity:6.4,recencyScore:75.3,status:"stable",createdAt:new Date(Date.now()-648e5).toISOString(),lastUpdated:new Date(Date.now()-27e5).toISOString()},{id:"7",title:"Bitcoin Hits New High",category:"global",posts:89300,engagement:189e4,location:"Global",hashtag:"#Bitcoin",description:"Cryptocurrency market surges as Bitcoin reaches all-time high",trendingScore:91.5,velocity:14.7,recencyScore:94.8,status:"peaking",createdAt:new Date(Date.now()-216e5).toISOString(),lastUpdated:new Date(Date.now()-48e4).toISOString()},{id:"8",title:"Local Coffee Shop Opening",category:"local",posts:2300,engagement:34e3,location:"Pretoria",hashtag:"#NewCoffeeSpot",description:"New artisan coffee shop opens in Pretoria with amazing vibes",trendingScore:58.9,velocity:4.2,recencyScore:68.7,status:"stable",createdAt:new Date(Date.now()-1296e5).toISOString(),lastUpdated:new Date(Date.now()-36e5).toISOString()},{id:"9",title:"Summer Music Festival",category:"events",posts:18700,engagement:298e3,location:"Port Elizabeth",hashtag:"#SummerFest2025",description:"Three-day summer music festival lineup announced",trendingScore:76.3,velocity:9.1,recencyScore:82.4,status:"stable",relatedEventId:"event_3",createdAt:new Date(Date.now()-1728e5).toISOString(),lastUpdated:new Date(Date.now()-54e5).toISOString()},{id:"10",title:"Viral Recipe Trend",category:"content",posts:23400,engagement:412e3,location:"Global",hashtag:"#FoodVibes",description:"New cooking trend taking over social media",trendingScore:79.8,velocity:10.3,recencyScore:86.5,status:"peaking",createdAt:new Date(Date.now()-72e6).toISOString(),lastUpdated:new Date(Date.now()-15e5).toISOString()},{id:"11",title:"Burna Boy New Single",category:"music",posts:56700,engagement:112e4,location:"Global",hashtag:"#BurnaBoy",description:"Burna Boy drops surprise single ahead of album release",trendingScore:93.2,velocity:16.8,recencyScore:96.4,status:"breaking",relatedMusicId:"single_burna_2025",createdAt:new Date(Date.now()-108e5).toISOString(),lastUpdated:new Date(Date.now()-18e4).toISOString()},{id:"12",title:"AI Art Challenge",category:"content",posts:34500,engagement:678e3,location:"Global",hashtag:"#AIArtChallenge",description:"Artists creating stunning AI-generated artwork",trendingScore:87.6,velocity:13.2,recencyScore:90.8,status:"peaking",createdAt:new Date(Date.now()-36e6).toISOString(),lastUpdated:new Date(Date.now()-72e4).toISOString()},{id:"13",title:"Local Street Market",category:"local",posts:4200,engagement:67e3,location:"Johannesburg",hashtag:"#JHBMarket",description:"Weekend street market with local vendors and live music",trendingScore:65.4,velocity:7.8,recencyScore:72.3,status:"stable",createdAt:new Date(Date.now()-1008e5).toISOString(),lastUpdated:new Date(Date.now()-3e6).toISOString()},{id:"14",title:"Tech Conference 2025",category:"events",posts:15600,engagement:234e3,location:"Cape Town",hashtag:"#TechCPT",description:"Annual tech conference featuring AI and blockchain talks",trendingScore:74.9,velocity:8.9,recencyScore:81.2,status:"stable",relatedEventId:"event_tech_2025",createdAt:new Date(Date.now()-144e6).toISOString(),lastUpdated:new Date(Date.now()-42e5).toISOString()},{id:"15",title:"Fitness Transformation",category:"content",posts:28900,engagement:456e3,location:"Global",hashtag:"#FitnessVibes",description:"Inspiring fitness transformation stories and workout tips",trendingScore:81.3,velocity:11.4,recencyScore:87.6,status:"peaking",createdAt:new Date(Date.now()-54e6).toISOString(),lastUpdated:new Date(Date.now()-12e5).toISOString()}],m=(g.mockPosts.map(((e,t)=>{const o=100-5*t,r=20*Math.random(),n=["for_you","global","local","music","content","events"];return Object.assign({},e,{trendingScore:o+10*Math.random(),trendingRank:t+1,trendingCategory:n[t%n.length],velocity:r})})),{engagement:.4,hashtag:.25,mentions:.15,recency:.15,events:.05}),[p,y]=(0,f.default)((()=>{const[e,t]=(0,r.useState)(h),[o,n]=(0,r.useState)({category:"for_you",timeRange:"24h"}),[a]=(0,r.useState)(m),[s,i]=(0,r.useState)(new Date),[l,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(0),[f,p]=(0,r.useState)(!1),[y,x]=(0,r.useState)([]),b=(0,r.useCallback)((e=>{const t=((e,t=m)=>{const o=(Date.now()-new Date(e.timestamp).getTime())/36e5,r=(e.likes+2*e.comments+3*e.shares)/100,n=(e.content.match(/#\w+/g)||[]).length,a=Math.min(10*n,50),s=(e.content.match(/@\w+/g)||[]).length,i=Math.min(5*s,30),l=Math.max(0,100-2*o),d=e.isBoosted?50:0,c=r*t.engagement+a*t.hashtag+i*t.mentions+l*t.recency+d*t.events;return Math.min(100,c)})(e,a),o=(e=>{const t=(Date.now()-new Date(e.timestamp).getTime())/6e4;return t<1?0:(e.likes+e.comments+e.shares)/t})(e);let r="for_you";return e.content.includes("#music")||e.content.includes("\ud83c\udfb5")?r="music":e.content.includes("#event")||e.isBoosted?r="events":e.video||e.image?r="content":e.views>1e4&&(r="global"),Object.assign({},e,{trendingScore:t,trendingRank:0,trendingCategory:r,velocity:o})}),[a]),j=(0,r.useMemo)((()=>{let e=g.mockPosts.map(b);if(o.category&&"for_you"!==o.category&&(e=e.filter((e=>e.trendingCategory===o.category))),o.timeRange){const t=Date.now(),r={"1h":36e5,"6h":216e5,"24h":864e5,"7d":6048e5},n=r[o.timeRange]||r["24h"];e=e.filter((e=>{const o=new Date(e.timestamp).getTime();return t-o<=n}))}return e.sort(((e,t)=>t.trendingScore-e.trendingScore)).map(((e,t)=>Object.assign({},e,{trendingRank:t+1})))}),[o,b]),C=(0,r.useMemo)((()=>{let t=e;return o.category&&(t="for_you"===o.category?e:e.filter((e=>e.category===o.category))),o.location&&(t=t.filter((e=>e.location===o.location||"Global"===e.location||"Worldwide"===e.location))),t.sort(((e,t)=>t.trendingScore-e.trendingScore))}),[e,o]),w=(0,r.useCallback)((t=>t&&"for_you"!==t?e.filter((e=>e.category===t)).sort(((e,t)=>t.trendingScore-e.trendingScore)):e.sort(((e,t)=>t.trendingScore-e.trendingScore))),[e]),S=(0,r.useCallback)((e=>e&&"for_you"!==e?j.filter((t=>t.trendingCategory===e)):j),[j]),v=(0,r.useCallback)((()=>{const e=[],t=Math.floor(3*Math.random())+1,o=["music","content","events","local","global"],r=["breaking","peaking"],n=["Johannesburg","Cape Town","Durban","Pretoria","Global"];for(let a=0;a<t;a++){const t=o[Math.floor(Math.random()*o.length)],s=r[Math.floor(Math.random()*r.length)],i=n[Math.floor(Math.random()*n.length)],l={id:`trend_${Date.now()}_${a}`,title:`New Trending Topic ${Date.now()}`,category:t,posts:Math.floor(5e4*Math.random())+1e4,engagement:Math.floor(5e5*Math.random())+1e5,location:i,hashtag:`#Trend${Date.now()}`,description:"Fresh trending topic just emerged",trendingScore:20*Math.random()+80,velocity:10*Math.random()+10,recencyScore:10*Math.random()+90,status:s,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()};e.push(l)}return e}),[]),k=(0,r.useCallback)((async()=>{console.log("\ud83d\udd25 Auto-checking for new trends...");const o=e.map((e=>{const t=5*(Math.random()-.5),o=Math.max(0,e.velocity+t),r=3*(Math.random()-.5),n=Math.max(0,Math.min(100,e.trendingScore+r));let a=e.status;return a=o>15&&n>90?"breaking":o>10&&n>80?"peaking":o<5?"fading":"stable",Object.assign({},e,{lastUpdated:(new Date).toISOString(),trendingScore:n,velocity:o,status:a})})),r=v();r.length>0&&(console.log(`\u26a1 Found ${r.length} new trending topics`),x((e=>[...r,...e])),u((e=>e+r.length)),p(!0)),t(o)}),[e,v]),I=(0,r.useCallback)((async(o=!0)=>{o&&d(!0),console.log("\ud83d\udd04 Refreshing trending topics..."),await new Promise((e=>setTimeout(e,800)));const r=e.map((e=>{const t=5*(Math.random()-.5),o=Math.max(0,e.velocity+t),r=3*(Math.random()-.5),n=Math.max(0,Math.min(100,e.trendingScore+r));let a=e.status;return a=o>15&&n>90?"breaking":o>10&&n>80?"peaking":o<5?"fading":"stable",Object.assign({},e,{lastUpdated:(new Date).toISOString(),trendingScore:n,velocity:o,status:a})})),n=[...y,...r].sort(((e,t)=>t.trendingScore-e.trendingScore));t(n),x([]),u(0),p(!1),i(new Date),o&&d(!1),console.log("\u2705 Trending refreshed successfully")}),[e,y]),T=(0,r.useCallback)((async()=>{console.log(`\ud83d\udce5 Loading ${y.length} new trends...`);const o=[...y,...e].sort(((e,t)=>t.trendingScore-e.trendingScore));t(o),x([]),u(0),p(!1),i(new Date)}),[y,e]),B=(0,r.useCallback)((e=>{n((t=>Object.assign({},t,e)))}),[]),z=(0,r.useCallback)((()=>e.filter((e=>"breaking"===e.status)).sort(((e,t)=>t.velocity-e.velocity)).slice(0,5)),[e]),F=(0,r.useCallback)((()=>e.filter((e=>"peaking"===e.status)).sort(((e,t)=>t.trendingScore-e.trendingScore)).slice(0,10)),[e]);return(0,r.useEffect)((()=>{const e=setInterval((()=>{k()}),6e4);return()=>clearInterval(e)}),[k]),(0,r.useMemo)((()=>({topics:C,trendingTopics:C,trendingPosts:j,filters:o,weights:a,lastRefresh:s,isRefreshing:l,newTrendsCount:c,hasNewTrends:f,updateFilters:B,refreshTrending:I,loadNewTrends:T,getTopicsByCategory:w,getPostsByCategory:S,getBreakingTopics:z,getPeakingTopics:F})),[C,j,o,a,s,l,c,f,B,I,T,w,S,z,F])}));var x=o(58397),b=o(76221),j=o(30462),C=o(4622),w=o(23259),S=o(35647),v=o(49582),k=o(14589),I=o(60397);const T=({velocity:e,status:t})=>{const o=(0,r.useRef)(new c.default.Value(0)).current,a=(0,r.useRef)(new c.default.Value(1)).current;(0,r.useEffect)((()=>{"breaking"!==t&&"peaking"!==t||(c.default.loop(c.default.sequence([c.default.timing(o,{toValue:1,duration:600,useNativeDriver:!0}),c.default.timing(o,{toValue:0,duration:600,useNativeDriver:!0})])).start(),c.default.loop(c.default.sequence([c.default.timing(a,{toValue:1.2,duration:600,useNativeDriver:!0}),c.default.timing(a,{toValue:1,duration:600,useNativeDriver:!0})])).start())}),[t,o,a]);const s=e>15?3:e>10?2:e>5?1:0,i=(()=>{switch(t){case"breaking":return"#FF4444";case"peaking":return"#FFA500";case"stable":return"#4ECDC4";case"fading":return"#888888"}})(),l=o.interpolate({inputRange:[0,1],outputRange:[.6,1]});return(0,I.jsxs)(n.default,{style:B.container,children:[[...Array(3)].map(((e,t)=>(0,I.jsx)(n.default,{style:[B.bar,{backgroundColor:t<s?i:"rgba(136, 136, 136, 0.2)"}]},t))),("breaking"===t||"peaking"===t)&&(0,I.jsx)(c.default.View,{style:[B.flameContainer,{opacity:l,transform:[{scale:a}]}],children:(0,I.jsx)(k.default,{size:12,color:i,fill:i})})]})},B=s.default.create({container:{flexDirection:"row",alignItems:"flex-end",gap:2,height:16,position:"relative"},bar:{width:3,borderRadius:2},flameContainer:{position:"absolute",right:-16,top:-2}}),z=({topic:e,onPress:t})=>{const o=(e=>{switch(e){case"music":return x.default;case"content":return b.default;case"events":return j.default;case"local":return C.default;case"global":return w.default;default:return S.default}})(e.category),s=(e=>{switch(e){case"music":return"#FF6B9D";case"content":return"#C77DFF";case"events":return"#FFA500";case"local":return"#4ECDC4";case"global":return"#3B82F6";default:return v.Colors.primary}})(e.category),i=(e=>{switch(e){case"breaking":return{text:"\ud83d\udd25 Breaking",color:"#FF4444"};case"peaking":return{text:"\ud83d\udcc8 Peaking",color:"#FFA500"};case"fading":return{text:"\ud83d\udcc9 Fading",color:"#888"};case"stable":return{text:"\u2728 Stable",color:"#4ECDC4"}}})(e.status),l=(0,r.useRef)(new c.default.Value(50)).current,u=(0,r.useRef)(new c.default.Value(0)).current,f=(0,r.useRef)(new c.default.Value(0)).current;(0,r.useEffect)((()=>{c.default.parallel([c.default.spring(l,{toValue:0,tension:50,friction:8,useNativeDriver:!0}),c.default.timing(u,{toValue:1,duration:400,useNativeDriver:!0})]).start(),"breaking"===e.status&&c.default.loop(c.default.sequence([c.default.timing(f,{toValue:1,duration:1e3,useNativeDriver:!1}),c.default.timing(f,{toValue:0,duration:1e3,useNativeDriver:!1})])).start()}),[l,u,f,e.status]);const g=f.interpolate({inputRange:[0,1],outputRange:[v.Colors.border,"#FF4444"]});return(0,I.jsx)(c.default.View,{style:[{opacity:u,transform:[{translateY:l}]}],children:(0,I.jsxs)(d.default,{style:[F.container,"breaking"===e.status&&{borderColor:g,borderWidth:2}],onPress:()=>t(e),activeOpacity:.7,children:[(0,I.jsxs)(n.default,{style:F.header,children:[(0,I.jsx)(n.default,{style:[F.iconContainer,{backgroundColor:s+"20"}],children:(0,I.jsx)(o,{size:20,color:s})}),(0,I.jsx)(n.default,{style:F.headerRight,children:(0,I.jsx)(n.default,{style:[F.statusBadge,{backgroundColor:i.color+"20"}],children:(0,I.jsx)(a.default,{style:[F.statusText,{color:i.color}],children:i.text})})})]}),(0,I.jsxs)(n.default,{style:F.content,children:[(0,I.jsx)(a.default,{style:F.title,numberOfLines:2,children:e.title}),e.hashtag&&(0,I.jsx)(a.default,{style:[F.hashtag,{color:s}],children:e.hashtag}),e.description&&(0,I.jsx)(a.default,{style:F.description,numberOfLines:2,children:e.description})]}),(0,I.jsxs)(n.default,{style:F.footer,children:[(0,I.jsxs)(n.default,{style:F.stats,children:[(0,I.jsxs)(a.default,{style:F.statText,children:[(h=e.posts,h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(1)}K`:h.toString())," posts"]}),(0,I.jsx)(a.default,{style:F.separator,children:"\u2022"}),(0,I.jsxs)(a.default,{style:F.statText,children:["+",e.velocity.toFixed(1),"% velocity"]})]}),(0,I.jsxs)(n.default,{style:F.rightFooter,children:[(0,I.jsx)(T,{velocity:e.velocity,status:e.status}),e.location&&(0,I.jsxs)(n.default,{style:F.location,children:[(0,I.jsx)(C.default,{size:12,color:v.Colors.textSecondary}),(0,I.jsx)(a.default,{style:F.locationText,children:e.location})]})]})]}),(0,I.jsx)(n.default,{style:F.scoreBar,children:(0,I.jsx)(n.default,{style:[F.scoreBarFill,{width:`${e.trendingScore}%`,backgroundColor:s}]})})]})});var h},F=s.default.create({container:{backgroundColor:v.Colors.card,borderRadius:16,padding:16,marginBottom:12,borderWidth:1,borderColor:v.Colors.border},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},iconContainer:{width:40,height:40,borderRadius:20,justifyContent:"center",alignItems:"center"},headerRight:{flexDirection:"row",alignItems:"center"},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:12},statusText:{fontSize:11,fontWeight:"600"},content:{marginBottom:12},title:{fontSize:18,fontWeight:"700",color:v.Colors.text,marginBottom:6},hashtag:{fontSize:14,fontWeight:"600",marginBottom:6},description:{fontSize:14,color:v.Colors.textSecondary,lineHeight:20},footer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},rightFooter:{flexDirection:"row",alignItems:"center",gap:12},stats:{flexDirection:"row",alignItems:"center"},statText:{fontSize:13,color:v.Colors.textSecondary,fontWeight:"500"},separator:{marginHorizontal:8,color:v.Colors.textSecondary},location:{flexDirection:"row",alignItems:"center",gap:4},locationText:{fontSize:12,color:v.Colors.textSecondary},scoreBar:{height:3,backgroundColor:v.Colors.border,borderRadius:2,overflow:"hidden"},scoreBarFill:{height:"100%",borderRadius:2}});var P=o(2772);const D=[{id:"for_you",label:"For You",icon:o(70139).default},{id:"global",label:"Global",icon:w.default},{id:"local",label:"Local",icon:C.default},{id:"music",label:"Music",icon:x.default},{id:"content",label:"Content",icon:b.default},{id:"events",label:"Events",icon:j.default}],A=({activeCategory:e,onCategoryChange:t})=>(0,I.jsx)(n.default,{style:R.container,children:(0,I.jsx)(P.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:R.scrollContent,children:D.map((o=>{const r=e===o.id,n=o.icon;return(0,I.jsxs)(d.default,{style:[R.tab,r&&R.tabActive],onPress:()=>t(o.id),activeOpacity:.7,children:[(0,I.jsx)(n,{size:18,color:r?v.Colors.primary:v.Colors.textSecondary}),(0,I.jsx)(a.default,{style:[R.tabText,r&&R.tabTextActive],children:o.label})]},o.id)}))})}),R=s.default.create({container:{backgroundColor:v.Colors.background,borderBottomWidth:1,borderBottomColor:v.Colors.border},scrollContent:{paddingHorizontal:16,paddingVertical:12,gap:8},tab:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:8,borderRadius:20,backgroundColor:v.Colors.card,borderWidth:1,borderColor:v.Colors.border,gap:6},tabActive:{backgroundColor:v.Colors.primary+"15",borderColor:v.Colors.primary},tabText:{fontSize:14,fontWeight:"600",color:v.Colors.textSecondary},tabTextActive:{color:v.Colors.primary}}),V=({topics:e,onTopicPress:t})=>0===e.length?null:(0,I.jsxs)(n.default,{style:L.container,children:[(0,I.jsxs)(n.default,{style:L.header,children:[(0,I.jsx)(k.default,{size:16,color:"#FF4444"}),(0,I.jsx)(a.default,{style:L.headerText,children:"Breaking Now"})]}),(0,I.jsx)(P.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:L.scrollContent,children:e.map((e=>(0,I.jsxs)(d.default,{style:L.card,onPress:()=>t(e),activeOpacity:.7,children:[(0,I.jsx)(a.default,{style:L.title,numberOfLines:2,children:e.title}),e.hashtag&&(0,I.jsx)(a.default,{style:L.hashtag,numberOfLines:1,children:e.hashtag}),(0,I.jsxs)(n.default,{style:L.stats,children:[(0,I.jsxs)(a.default,{style:L.statText,children:[(e.posts/1e3).toFixed(1),"K posts"]}),(0,I.jsxs)(a.default,{style:L.velocity,children:["+",e.velocity.toFixed(0),"%"]})]})]},e.id)))})]}),L=s.default.create({container:{backgroundColor:v.Colors.background,paddingVertical:12},header:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,marginBottom:12,gap:6},headerText:{fontSize:16,fontWeight:"700",color:"#FF4444"},scrollContent:{paddingHorizontal:16,gap:12},card:{width:200,backgroundColor:v.Colors.card,borderRadius:12,padding:12,borderWidth:2,borderColor:"#FF4444"},title:{fontSize:15,fontWeight:"700",color:v.Colors.text,marginBottom:6},hashtag:{fontSize:13,fontWeight:"600",color:v.Colors.primary,marginBottom:8},stats:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},statText:{fontSize:12,color:v.Colors.textSecondary},velocity:{fontSize:12,fontWeight:"700",color:"#FF4444"}});var O=o(78081);const W=({count:e,onPress:t,visible:o})=>{const s=(0,r.useRef)(new c.default.Value(-100)).current,i=(0,r.useRef)(new c.default.Value(1)).current,l=(0,r.useRef)(new c.default.Value(0)).current;if((0,r.useEffect)((()=>{o?c.default.parallel([c.default.spring(s,{toValue:0,tension:50,friction:7,useNativeDriver:!0}),c.default.loop(c.default.sequence([c.default.timing(i,{toValue:1.1,duration:800,useNativeDriver:!0}),c.default.timing(i,{toValue:1,duration:800,useNativeDriver:!0})])),c.default.loop(c.default.sequence([c.default.timing(l,{toValue:1,duration:1e3,useNativeDriver:!1}),c.default.timing(l,{toValue:0,duration:1e3,useNativeDriver:!1})]))]).start():c.default.spring(s,{toValue:-100,tension:50,friction:7,useNativeDriver:!0}).start()}),[o,s,i,l]),!o)return null;const u=l.interpolate({inputRange:[0,1],outputRange:["rgba(255, 107, 157, 0.3)","rgba(255, 107, 157, 0.8)"]});return(0,I.jsx)(c.default.View,{style:[E.container,{transform:[{translateY:s},{scale:i}]}],children:(0,I.jsxs)(d.default,{style:E.button,onPress:t,activeOpacity:.8,children:[(0,I.jsx)(c.default.View,{style:[E.glow,{backgroundColor:u}]}),(0,I.jsxs)(n.default,{style:E.content,children:[(0,I.jsx)(n.default,{style:E.iconContainer,children:(0,I.jsx)(O.default,{size:18,color:"#FFFFFF",fill:"#FFFFFF"})}),(0,I.jsxs)(a.default,{style:E.text,children:[e," New Trend",1!==e?"s":""]})]})]})})},E=s.default.create({container:Object.assign({position:"absolute",top:16,left:0,right:0,alignItems:"center",zIndex:1e3},void 0),button:{position:"relative",overflow:"hidden",borderRadius:24},glow:{position:"absolute",top:-10,left:-10,right:-10,bottom:-10,borderRadius:34},content:{flexDirection:"row",alignItems:"center",backgroundColor:v.Colors.primary,paddingHorizontal:20,paddingVertical:12,borderRadius:24,gap:8},iconContainer:{width:24,height:24,justifyContent:"center",alignItems:"center"},text:{fontSize:15,fontWeight:"700",color:"#FFFFFF"}});var M=o(78264),N=o(46422);const H=[{id:"global",name:"Global",icon:w.default},{id:"johannesburg",name:"Johannesburg",icon:C.default},{id:"cape-town",name:"Cape Town",icon:C.default},{id:"durban",name:"Durban",icon:C.default},{id:"pretoria",name:"Pretoria",icon:C.default},{id:"port-elizabeth",name:"Port Elizabeth",icon:C.default}],U=({currentLocation:e,onLocationChange:t})=>{const[o,s]=(0,r.useState)(!1),l=H.find((t=>t.id===e))||H[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.default,{style:q.toggle,onPress:()=>s(!0),activeOpacity:.7,children:(0,I.jsxs)(n.default,{style:q.toggleContent,children:[(0,I.jsx)(l.icon,{size:16,color:v.Colors.primary}),(0,I.jsx)(a.default,{style:q.toggleText,children:l.name}),(0,I.jsx)(N.default,{size:16,color:v.Colors.textSecondary})]})}),(0,I.jsx)(M.default,{visible:o,transparent:!0,animationType:"fade",onRequestClose:()=>s(!1),children:(0,I.jsx)(d.default,{style:q.modalOverlay,activeOpacity:1,onPress:()=>s(!1),children:(0,I.jsxs)(n.default,{style:q.modalContent,children:[(0,I.jsx)(n.default,{style:q.modalHeader,children:(0,I.jsx)(a.default,{style:q.modalTitle,children:"Select Location"})}),(0,I.jsx)(i.default,{data:H,keyExtractor:e=>e.id,renderItem:({item:o})=>{const r=o.icon,i=o.id===e;return(0,I.jsxs)(d.default,{style:[q.locationItem,i&&q.locationItemSelected],onPress:()=>{return e=o.id,t(e),void s(!1);var e},children:[(0,I.jsx)(r,{size:20,color:i?v.Colors.primary:v.Colors.text}),(0,I.jsx)(a.default,{style:[q.locationText,i&&q.locationTextSelected],children:o.name}),i&&(0,I.jsx)(n.default,{style:q.selectedIndicator})]})}})]})})})]})},q=s.default.create({toggle:{backgroundColor:v.Colors.card,borderRadius:20,paddingHorizontal:16,paddingVertical:8,borderWidth:1,borderColor:v.Colors.border},toggleContent:{flexDirection:"row",alignItems:"center",gap:6},toggleText:{fontSize:14,fontWeight:"600",color:v.Colors.text},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",padding:20},modalContent:{backgroundColor:v.Colors.card,borderRadius:16,width:"100%",maxWidth:400,maxHeight:"70%",overflow:"hidden"},modalHeader:{padding:20,borderBottomWidth:1,borderBottomColor:v.Colors.border},modalTitle:{fontSize:18,fontWeight:"700",color:v.Colors.text},locationItem:{flexDirection:"row",alignItems:"center",padding:16,gap:12,borderBottomWidth:1,borderBottomColor:v.Colors.border},locationItemSelected:{backgroundColor:v.Colors.primary+"10"},locationText:{flex:1,fontSize:16,color:v.Colors.text,fontWeight:"500"},locationTextSelected:{color:v.Colors.primary,fontWeight:"600"},selectedIndicator:{width:8,height:8,borderRadius:4,backgroundColor:v.Colors.primary}});var _=o(64584);function $(){const e=(0,u.useRouter)(),{topics:t,filters:o,updateFilters:s,refreshTrending:f,loadNewTrends:g,isRefreshing:h,newTrendsCount:m,hasNewTrends:p,getBreakingTopics:x,lastRefresh:b}=y(),j=x(),C=(0,r.useRef)(null),w=(0,r.useRef)(new c.default.Value(1)).current;(0,r.useEffect)((()=>{p&&c.default.sequence([c.default.timing(w,{toValue:1.05,duration:200,useNativeDriver:!0}),c.default.timing(w,{toValue:1,duration:200,useNativeDriver:!0})]).start()}),[p,w]);const k=e=>{console.log("Location changed:",e),s({location:e})},T=t=>{console.log("Topic pressed:",t.title),e.push(`/hashtag/${encodeURIComponent(t.hashtag||t.title)}`)},B=()=>{const e=new Date,t=Math.floor((e.getTime()-b.getTime())/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)}m ago`:`${Math.floor(t/3600)}h ago`};return(0,I.jsxs)(n.default,{style:Y.container,children:[(0,I.jsx)(u.Stack.Screen,{options:{title:"Trending",headerStyle:{backgroundColor:v.Colors.background},headerTintColor:v.Colors.text,headerShadowVisible:!1}}),(0,I.jsx)(A,{activeCategory:o.category||"for_you",onCategoryChange:e=>{console.log("Category changed:",e),s({category:e})}}),(0,I.jsxs)(n.default,{style:Y.listContainer,children:[(0,I.jsx)(W,{count:m,onPress:async()=>{await g(),C.current?.scrollToOffset({offset:0,animated:!0})},visible:p}),(0,I.jsx)(i.default,{ref:C,data:t,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,I.jsx)(z,{topic:e,onPress:T}),ListHeaderComponent:()=>(0,I.jsxs)(n.default,{children:[(0,I.jsxs)(n.default,{style:Y.headerInfo,children:[(0,I.jsxs)(n.default,{style:Y.headerLeft,children:[(0,I.jsx)(S.default,{size:20,color:v.Colors.primary}),(0,I.jsx)(a.default,{style:Y.headerTitle,children:"Trending Topics"})]}),(0,I.jsx)(U,{currentLocation:o.location||"global",onLocationChange:k})]}),(0,I.jsx)(n.default,{style:Y.subHeader,children:(0,I.jsxs)(n.default,{style:Y.lastRefresh,children:[(0,I.jsx)(_.default,{size:14,color:v.Colors.textSecondary}),(0,I.jsx)(a.default,{style:Y.lastRefreshText,children:B()})]})}),j.length>0&&(0,I.jsx)(V,{topics:j,onTopicPress:T}),(0,I.jsxs)(n.default,{style:Y.statsContainer,children:[(0,I.jsxs)(n.default,{style:Y.statCard,children:[(0,I.jsx)(a.default,{style:Y.statValue,children:t.length}),(0,I.jsx)(a.default,{style:Y.statLabel,children:"Active Topics"})]}),(0,I.jsxs)(n.default,{style:Y.statCard,children:[(0,I.jsx)(a.default,{style:Y.statValue,children:j.length}),(0,I.jsx)(a.default,{style:Y.statLabel,children:"Breaking"})]}),(0,I.jsxs)(n.default,{style:Y.statCard,children:[(0,I.jsx)(a.default,{style:Y.statValue,children:t.filter((e=>"peaking"===e.status)).length}),(0,I.jsx)(a.default,{style:Y.statLabel,children:"Peaking"})]})]}),(0,I.jsx)(a.default,{style:Y.sectionTitle,children:"for_you"===o.category?"Personalized For You":`${o.category?.charAt(0).toUpperCase()}${o.category?.slice(1)} Trends`})]}),ListEmptyComponent:()=>(0,I.jsxs)(n.default,{style:Y.emptyState,children:[(0,I.jsx)(S.default,{size:64,color:v.Colors.textSecondary}),(0,I.jsx)(a.default,{style:Y.emptyTitle,children:"No Trending Topics"}),(0,I.jsx)(a.default,{style:Y.emptyDescription,children:"Check back later for trending content in this category"}),(0,I.jsx)(d.default,{style:Y.refreshButton,onPress:()=>f(!0),children:(0,I.jsx)(a.default,{style:Y.refreshButtonText,children:"Refresh"})})]}),contentContainerStyle:Y.listContent,showsVerticalScrollIndicator:!1,refreshControl:(0,I.jsx)(l.default,{refreshing:h,onRefresh:()=>f(!0),tintColor:v.Colors.primary,colors:[v.Colors.primary]})})]})]})}const Y=s.default.create({container:{flex:1,backgroundColor:v.Colors.background},listContainer:{flex:1,position:"relative"},listContent:{padding:16,paddingTop:0},headerInfo:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:16,paddingBottom:8},subHeader:{paddingBottom:16},headerLeft:{flexDirection:"row",alignItems:"center",gap:8},headerTitle:{fontSize:20,fontWeight:"700",color:v.Colors.text},lastRefresh:{flexDirection:"row",alignItems:"center",gap:4},lastRefreshText:{fontSize:12,color:v.Colors.textSecondary},statsContainer:{flexDirection:"row",gap:12,marginBottom:20},statCard:{flex:1,backgroundColor:v.Colors.card,borderRadius:12,padding:16,alignItems:"center",borderWidth:1,borderColor:v.Colors.border},statValue:{fontSize:24,fontWeight:"700",color:v.Colors.primary,marginBottom:4},statLabel:{fontSize:12,color:v.Colors.textSecondary,fontWeight:"500"},sectionTitle:{fontSize:18,fontWeight:"700",color:v.Colors.text,marginBottom:16},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60},emptyTitle:{fontSize:20,fontWeight:"700",color:v.Colors.text,marginTop:16,marginBottom:8},emptyDescription:{fontSize:14,color:v.Colors.textSecondary,textAlign:"center",marginBottom:24},refreshButton:{backgroundColor:v.Colors.primary,paddingHorizontal:24,paddingVertical:12,borderRadius:24},refreshButtonText:{fontSize:14,fontWeight:"600",color:"#FFFFFF"}})},76575:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(2772),l=o(15648),d=o(20530),c=o(49637),u=o(78833),f=o(93861),g=o(50008),h=o(23259),m=o(36412),p=o(50812),y=o(61861),x=o(60397);function b(){const{colors:e}=(0,m.useTheme)(),t=(0,u.useSafeAreaInsets)(),[o,n]=(0,r.useState)(null),[b,C]=(0,r.useState)(""),[w,S]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{S(!0);const e=(0,p.detectRegion)();n(e);const t=(0,y.getLegalContent)(e.region);C(t.termsOfService)}catch(e){console.error("[TermsOfService] Error loading content:",e)}finally{S(!1)}})()}),[]);return(0,x.jsxs)(s.default,{style:[j.container,{backgroundColor:e.background}],children:[(0,x.jsx)(c.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:e.background},headerTintColor:e.text,headerTitle:"Terms of Service",headerLeft:()=>(0,x.jsx)(l.default,{onPress:()=>c.router.back(),style:j.backButton,children:(0,x.jsx)(f.default,{size:24,color:e.text})})}}),w?(0,x.jsxs)(s.default,{style:j.loadingContainer,children:[(0,x.jsx)(d.default,{size:"large",color:e.primary}),(0,x.jsx)(a.default,{style:[j.loadingText,{color:e.textSecondary}],children:"Loading terms of service..."})]}):(0,x.jsxs)(x.Fragment,{children:[o&&(0,x.jsxs)(s.default,{style:[j.regionBanner,{backgroundColor:e.glass}],children:[(0,x.jsx)(h.default,{size:16,color:e.primary}),(0,x.jsxs)(a.default,{style:[j.regionText,{color:e.textSecondary}],children:["Showing ",(0,p.getRegionName)(o.region)," version"]})]}),(0,x.jsxs)(i.default,{style:j.scrollView,contentContainerStyle:[j.content,{paddingBottom:t.bottom+40}],showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(s.default,{style:[j.header,{backgroundColor:e.glass}],children:[(0,x.jsx)(g.default,{size:32,color:e.primary}),(0,x.jsx)(a.default,{style:[j.headerTitle,{color:e.text}],children:"Terms of Service"}),(0,x.jsx)(a.default,{style:[j.headerSubtitle,{color:e.textSecondary}],children:"Please read these terms carefully before using VibeSync"})]}),(0,x.jsx)(s.default,{style:[j.contentCard,{backgroundColor:e.card}],children:(t=>{const o=t.split("\n"),r=[];return o.forEach(((t,o)=>{t.startsWith("# ")?r.push((0,x.jsx)(a.default,{style:[j.h1,{color:e.text}],children:t.replace("# ","")},o)):t.startsWith("## ")?r.push((0,x.jsx)(a.default,{style:[j.h2,{color:e.text}],children:t.replace("## ","")},o)):t.startsWith("### ")?r.push((0,x.jsx)(a.default,{style:[j.h3,{color:e.text}],children:t.replace("### ","")},o)):t.startsWith("- ")?r.push((0,x.jsxs)(s.default,{style:j.bulletContainer,children:[(0,x.jsx)(a.default,{style:[j.bullet,{color:e.textSecondary}],children:"\u2022"}),(0,x.jsx)(a.default,{style:[j.bulletText,{color:e.textSecondary}],children:t.replace("- ","")})]},o)):t.startsWith("**")&&t.endsWith("**")?r.push((0,x.jsx)(a.default,{style:[j.bold,{color:e.text}],children:t.replace(/\*\*/g,"")},o)):"---"===t.trim()?r.push((0,x.jsx)(s.default,{style:[j.divider,{backgroundColor:e.border}]},o)):""!==t.trim()?r.push((0,x.jsx)(a.default,{style:[j.paragraph,{color:e.textSecondary}],children:t},o)):r.push((0,x.jsx)(s.default,{style:j.spacing},o))})),r})(b)})]})]})]})}const j=n.default.create({container:{flex:1},backButton:{padding:8,marginLeft:8},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",gap:16},loadingText:{fontSize:14},regionBanner:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:8,paddingHorizontal:16,gap:8},regionText:{fontSize:12,fontWeight:"500"},scrollView:{flex:1},content:{padding:16},header:{alignItems:"center",padding:24,borderRadius:16,marginBottom:16},headerTitle:{fontSize:24,fontWeight:"700",marginTop:12,textAlign:"center"},headerSubtitle:{fontSize:14,marginTop:8,textAlign:"center"},contentCard:{borderRadius:16,padding:20},h1:{fontSize:24,fontWeight:"700",marginTop:24,marginBottom:12},h2:{fontSize:20,fontWeight:"700",marginTop:20,marginBottom:10},h3:{fontSize:16,fontWeight:"600",marginTop:16,marginBottom:8},paragraph:{fontSize:14,lineHeight:22,marginBottom:8},bulletContainer:{flexDirection:"row",marginBottom:6,paddingLeft:8},bullet:{fontSize:14,marginRight:8,marginTop:2},bulletText:{flex:1,fontSize:14,lineHeight:22},bold:{fontSize:14,fontWeight:"700",marginBottom:8},divider:{height:1,marginVertical:16},spacing:{height:8}})},83082:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>T});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(15648),d=o(15009),c=o(60444),u=o(21815),f=o(78264),g=o(35708),h=o(49637),m=o(78833),p=o(63953),y=o(36412),x=o(34927),b=o(93861),j=o(12543),C=o(46422),w=o(56799),S=o(76266),v=o(69661),k=o(67026),I=o(60397);function T(){const{colors:e,isDark:t}=(0,y.useTheme)(),{getActiveConversations:o,getTotalUnreadCount:n,selectConversation:d,toggleMute:c,deleteConversation:T,markAsRead:F}=(0,p.useDM)(),[P,D]=(0,r.useState)(!1),A=o(),R=n(),V=e=>{const t=(new Date).getTime()-e.getTime(),o=Math.floor(t/6e4),r=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<1?"now":o<60?`${o}m`:r<24?`${r}h`:n<7?`${n}d`:`${n}d ago`},L=e=>{const t=e.participants.find((e=>"current-user"!==e));return k.mockUsers.find((e=>e.id===t))||k.mockUsers[0]},O=e=>{if("group"===e.type)return e.name||"Group Chat";return L(e).displayName},W=e=>{if("group"===e.type)return e.image;return L(e).profileImage},E=e=>{if(!e.lastMessage)return"Tap to chat";const t=e.lastMessage;t.senderId;if(t.deletedForEveryone)return"This message was deleted";switch(t.type){case"image":return"Sent a photo";case"video":return"Sent a video";case"voice":return"Sent a voice message";default:return t.content}},M=(0,m.useSafeAreaInsets)();return(0,I.jsxs)(s.default,{style:[z.container,{backgroundColor:e.background}],children:[(0,I.jsx)(u.default,{barStyle:t?"light-content":"dark-content",backgroundColor:e.background}),(0,I.jsx)(h.Stack.Screen,{options:{headerShown:!1}}),(0,I.jsxs)(s.default,{style:[z.safeArea,{paddingTop:M.top}],children:[(0,I.jsxs)(s.default,{style:[z.header,{backgroundColor:e.background,borderBottomColor:e.border}],children:[(0,I.jsxs)(l.default,{style:z.usernameContainer,onPress:()=>D(!0),activeOpacity:.7,children:[(0,I.jsx)(a.default,{style:[z.username,{color:e.text}],children:"itumeleng_jay"}),(0,I.jsx)(C.default,{size:18,color:e.text,strokeWidth:2})]}),(0,I.jsxs)(s.default,{style:z.headerActions,children:[(0,I.jsx)(l.default,{style:z.headerIconButton,onPress:()=>h.router.push("/messages-settings"),activeOpacity:.7,children:(0,I.jsx)(v.default,{size:24,color:e.text,strokeWidth:2})}),(0,I.jsxs)(l.default,{style:z.messageIconButton,onPress:()=>h.router.push("/inbox"),activeOpacity:.7,children:[(0,I.jsx)(S.default,{size:24,color:e.text,strokeWidth:2}),R>0&&(0,I.jsx)(s.default,{style:z.unreadBadge})]})]})]}),(0,I.jsx)(i.default,{data:A,keyExtractor:e=>e.id,renderItem:({item:t})=>{const o=L(t),r=(n=o.id,["user-2","user-3","user-8"].includes(n));var n;return(0,I.jsx)(B,{conversationId:t.id,onMute:()=>c(t.id),onDelete:()=>T(t.id),onMarkUnread:()=>F(t.id),children:(0,I.jsxs)(l.default,{style:z.conversationItem,onPress:()=>{return d((e=t).id),void h.router.push(`/chat/${e.id}`);var e},activeOpacity:.7,children:[(0,I.jsxs)(s.default,{style:z.avatarContainer,children:[(0,I.jsx)(x.Avatar,{uri:W(t),size:56}),r&&(0,I.jsx)(s.default,{style:z.activeDot})]}),(0,I.jsxs)(s.default,{style:z.conversationContent,children:[(0,I.jsxs)(s.default,{style:z.conversationHeader,children:[(0,I.jsx)(a.default,{style:[z.userName,{color:e.text}],numberOfLines:1,children:O(t)}),t.lastMessage&&(0,I.jsx)(a.default,{style:[z.timestamp,{color:e.textSecondary}],children:V(new Date(t.lastMessage.createdAt))})]}),(0,I.jsxs)(s.default,{style:z.messagePreview,children:[(0,I.jsx)(a.default,{style:[z.lastMessage,{color:e.textSecondary},t.unreadCount>0&&{fontWeight:"600",color:e.text}],numberOfLines:1,children:r&&0===t.unreadCount?"Active now":E(t)}),r&&0===t.unreadCount&&(0,I.jsx)(s.default,{style:z.activeIndicator})]})]}),(0,I.jsx)(l.default,{style:z.cameraButton,onPress:e=>{e.stopPropagation(),h.router.push("/status/create")},children:(0,I.jsx)(j.default,{size:24,color:e.textSecondary,strokeWidth:1.5})})]})})},showsVerticalScrollIndicator:!1,contentContainerStyle:z.listContainer}),(0,I.jsxs)(s.default,{style:[z.bottomNav,{paddingBottom:M.bottom+8,backgroundColor:e.background,borderTopColor:e.border}],children:[(0,I.jsx)(l.default,{style:z.bottomNavButton,onPress:()=>h.router.back(),activeOpacity:.7,children:(0,I.jsx)(b.default,{size:26,color:e.text,strokeWidth:2})}),(0,I.jsx)(l.default,{style:z.bottomNavButton,onPress:()=>h.router.push("/settings"),activeOpacity:.7,children:(0,I.jsx)(w.default,{size:26,color:e.text,strokeWidth:2})})]})]}),(0,I.jsx)(f.default,{visible:P,animationType:"fade",transparent:!0,onRequestClose:()=>D(!1),children:(0,I.jsx)(g.default,{style:z.modalOverlay,onPress:()=>D(!1),children:(0,I.jsxs)(g.default,{style:[z.accountSwitcherModal,{backgroundColor:e.card}],onPress:e=>e.stopPropagation(),children:[(0,I.jsx)(s.default,{style:[z.accountSwitcherHeader,{borderBottomColor:e.border}],children:(0,I.jsx)(a.default,{style:[z.accountSwitcherTitle,{color:e.text}],children:"Switch Account"})}),(0,I.jsxs)(l.default,{style:[z.accountOption,{borderBottomColor:e.border}],onPress:()=>D(!1),children:[(0,I.jsx)(x.Avatar,{uri:k.mockUsers[0].profileImage,size:40}),(0,I.jsxs)(s.default,{style:z.accountInfo,children:[(0,I.jsx)(a.default,{style:[z.accountName,{color:e.text}],children:"itumeleng_jay"}),(0,I.jsx)(a.default,{style:[z.accountStatus,{color:e.textSecondary}],children:"Current account"})]}),(0,I.jsx)(s.default,{style:[z.checkmark,{borderColor:e.text}]})]}),(0,I.jsxs)(l.default,{style:[z.accountOption,{borderBottomColor:e.border}],onPress:()=>D(!1),children:[(0,I.jsx)(x.Avatar,{uri:k.mockUsers[1].profileImage,size:40}),(0,I.jsxs)(s.default,{style:z.accountInfo,children:[(0,I.jsx)(a.default,{style:[z.accountName,{color:e.text}],children:"vibesync_official"}),(0,I.jsx)(a.default,{style:[z.accountStatus,{color:e.textSecondary}],children:"Switch to this account"})]})]}),(0,I.jsx)(l.default,{style:z.addAccountButton,onPress:()=>D(!1),children:(0,I.jsx)(a.default,{style:[z.addAccountText,{color:e.primary}],children:"Add Account"})})]})})})]})}function B({children:e,conversationId:t,onMute:o,onDelete:n,onMarkUnread:i}){const{colors:u}=(0,y.useTheme)(),f=(0,r.useRef)(new d.default.Value(0)).current,g=(0,r.useRef)(c.default.create({onMoveShouldSetPanResponder:(e,t)=>Math.abs(t.dx)>10,onPanResponderGrant:()=>{},onPanResponderMove:(e,t)=>{t.dx<0?f.setValue(Math.max(t.dx,-160)):t.dx>0&&f.setValue(Math.min(t.dx,80))},onPanResponderRelease:(e,t)=>{t.dx<-80?d.default.spring(f,{toValue:-160,useNativeDriver:!0}).start():t.dx>40?d.default.spring(f,{toValue:80,useNativeDriver:!0}).start():d.default.spring(f,{toValue:0,useNativeDriver:!0}).start()}})).current;return(0,I.jsxs)(s.default,{style:z.swipeableContainer,children:[(0,I.jsx)(s.default,{style:z.leftActions,children:(0,I.jsx)(l.default,{style:[z.markUnreadButton,{backgroundColor:u.primary}],onPress:()=>{i(),d.default.spring(f,{toValue:0,useNativeDriver:!0}).start()},children:(0,I.jsx)(a.default,{style:[z.actionText,{color:u.textInverse}],children:"Unread"})})}),(0,I.jsxs)(s.default,{style:z.rightActions,children:[(0,I.jsx)(l.default,{style:[z.muteButton,{backgroundColor:u.textSecondary}],onPress:()=>{o(),d.default.spring(f,{toValue:0,useNativeDriver:!0}).start()},children:(0,I.jsx)(a.default,{style:[z.actionText,{color:u.textInverse}],children:"Mute"})}),(0,I.jsx)(l.default,{style:[z.deleteButton,{backgroundColor:u.error}],onPress:()=>{n(),d.default.spring(f,{toValue:0,useNativeDriver:!0}).start()},children:(0,I.jsx)(a.default,{style:[z.actionText,{color:u.textInverse}],children:"Delete"})})]}),(0,I.jsx)(d.default.View,Object.assign({style:[z.swipeableContent,{transform:[{translateX:f}],backgroundColor:u.background}]},g.panHandlers,{children:e}))]})}const z=n.default.create({container:{flex:1},safeArea:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:10},usernameContainer:{flexDirection:"row",alignItems:"center",gap:6},username:{fontSize:22,fontWeight:"700",letterSpacing:.2},headerActions:{flexDirection:"row",alignItems:"center",gap:12},headerIconButton:{padding:4},messageIconButton:{padding:4,position:"relative"},unreadBadge:{width:8,height:8,borderRadius:4,backgroundColor:"#FF3B30",position:"absolute",top:2,right:2},listContainer:{paddingBottom:20},swipeableContainer:{position:"relative"},leftActions:{position:"absolute",left:0,top:0,bottom:0,flexDirection:"row",alignItems:"center"},rightActions:{position:"absolute",right:0,top:0,bottom:0,flexDirection:"row",alignItems:"center"},markUnreadButton:{justifyContent:"center",alignItems:"center",width:80,height:"100%"},muteButton:{justifyContent:"center",alignItems:"center",width:80,height:"100%"},deleteButton:{justifyContent:"center",alignItems:"center",width:80,height:"100%"},actionText:{fontSize:14,fontWeight:"600"},swipeableContent:{},conversationItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12},avatarContainer:{position:"relative",marginRight:14},activeDot:{position:"absolute",bottom:2,right:2,width:14,height:14,borderRadius:7,backgroundColor:"#44b700",borderWidth:2.5},conversationContent:{flex:1,justifyContent:"center"},conversationHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:5},userName:{fontSize:15,fontWeight:"600",flex:1},timestamp:{fontSize:13,marginLeft:8,fontWeight:"400"},messagePreview:{flexDirection:"row",alignItems:"center",gap:6},lastMessage:{fontSize:14,flex:1,fontWeight:"400"},unreadMessage:{fontWeight:"600"},activeIndicator:{width:8,height:8,borderRadius:4,backgroundColor:"#44b700"},cameraButton:{padding:6,marginLeft:4},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center"},accountSwitcherModal:{borderRadius:16,width:"85%",maxWidth:400,overflow:"hidden"},accountSwitcherHeader:{paddingVertical:16,paddingHorizontal:20,borderBottomWidth:1},accountSwitcherTitle:{fontSize:18,fontWeight:"bold",textAlign:"center"},accountOption:{flexDirection:"row",alignItems:"center",paddingVertical:14,paddingHorizontal:20,borderBottomWidth:1},accountInfo:{flex:1,marginLeft:12},accountName:{fontSize:16,fontWeight:"600",marginBottom:2},accountStatus:{fontSize:13},checkmark:{width:20,height:20,borderRadius:10,backgroundColor:"#0A84FF",borderWidth:2},addAccountButton:{paddingVertical:16,paddingHorizontal:20,alignItems:"center"},addAccountText:{fontSize:16,fontWeight:"600"},bottomNav:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingTop:12,borderTopWidth:.5},bottomNavButton:{padding:8}})},83817:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var r=o(23049),n=o(73668),a=o(6283),s=o(73929),i=o(60397);function l(){return(0,i.jsxs)(s.default,{style:d.container,children:[(0,i.jsx)(a.default,{style:d.title,children:"Modal"}),(0,i.jsx)(s.default,{style:d.separator}),(0,i.jsx)(a.default,{children:"This is an example modal. You can edit it in app/modal.tsx."}),(0,i.jsx)(r.StatusBar,{style:"auto"})]})}const d=n.default.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}})},87516:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>$});var r=o(36665),n=o(73668),a=o(73929),s=o(51226),i=o(6283),l=o(15648),d=o(51690),c=o(49582),u=o(16773),f=o(5894),g=o(48801),h=o(34927),m=o(54407),p=o(12543),y=o(69661),x=o(90046),b=o(70106),j=o(39181),C=o(88369),w=o(25786),S=o(60893),v=o(36393),k=o(25924),I=o(52417),T=o(78264),B=o(26725),z=o(60397);const{width:F,height:P}=B.default.get("window");function D({visible:e,imageUri:t,onClose:o}){return(0,z.jsx)(T.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:o,statusBarTranslucent:!0,children:(0,z.jsxs)(a.default,{style:A.container,children:[(0,z.jsx)(v.default,{intensity:100,tint:"dark",style:n.default.absoluteFill,children:(0,z.jsx)(l.default,{style:A.backdrop,activeOpacity:1,onPress:o})}),(0,z.jsx)(a.default,{style:A.content,children:(0,z.jsx)(f.Image,{source:{uri:t},style:A.image,contentFit:"contain",transition:300})}),(0,z.jsx)(l.default,{style:A.closeButton,onPress:o,children:(0,z.jsx)(a.default,{style:A.closeButtonInner,children:(0,z.jsx)(x.default,{size:24,color:"#FFFFFF"})})})]})})}const A=n.default.create({container:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.95)"},backdrop:Object.assign({},n.default.absoluteFillObject),content:{flex:1,justifyContent:"center",alignItems:"center"},image:{width:F,height:.8*P},closeButton:{position:"absolute",top:50,right:20,zIndex:10},closeButtonInner:{width:44,height:44,borderRadius:22,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"}}),R=({user:e,isCurrentUser:t=!1,onEditProfile:o,onFollowPress:n,onShareProfile:s,onSettingsPress:T,onChangeCoverPhoto:B,onChangeProfilePhoto:F,testID:P})=>{const{updateProfileImage:A,updateCoverImage:R,updateBio:L}=(0,k.useAuth)(),[O,W]=(0,r.useState)(!1),[E,M]=(0,r.useState)(e.bio||""),[N,H]=(0,r.useState)(!1),[U,q]=(0,r.useState)(!1),_=()=>{H(!0),console.log("[ProfileHeader] Opening QR code share modal")};return(0,z.jsxs)(a.default,{style:V.container,testID:P,children:[(0,z.jsxs)(a.default,{style:V.coverContainer,children:[e.coverImage?(0,z.jsx)(f.Image,{source:{uri:e.coverImage},style:V.coverImage,contentFit:"cover"}):(0,z.jsx)(S.LinearGradient,{colors:["#3B82F6","#06B6D4","#10B981"],start:{x:0,y:0},end:{x:1,y:1},style:V.coverPlaceholder}),t&&(0,z.jsxs)(a.default,{style:V.coverActions,children:[(0,z.jsx)(l.default,{style:V.coverEditButton,onPress:async()=>{try{const{status:e}=await g.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void d.default.alert("Permission needed","Please grant camera roll permissions to change cover photo");const t=await g.launchImageLibraryAsync({mediaTypes:["images"],allowsEditing:!0,aspect:[16,9],quality:.8});if(!t.canceled&&t.assets[0]){const e=t.assets[0].uri;await R(e)?(d.default.alert("Success","Cover photo updated successfully"),console.log("Cover photo updated successfully")):d.default.alert("Error","Failed to update cover photo. Please try again."),B&&B()}}catch(e){console.error("Error picking cover image:",e),d.default.alert("Error","An error occurred while updating cover photo. Please try again.")}},children:(0,z.jsx)(v.default,{intensity:80,style:V.blurButton,children:(0,z.jsx)(p.default,{size:18,color:c.Colors.text})})}),(0,z.jsx)(l.default,{style:V.settingsButton,onPress:T,children:(0,z.jsx)(v.default,{intensity:80,style:V.blurButton,children:(0,z.jsx)(y.default,{size:18,color:c.Colors.text})})})]})]}),(0,z.jsxs)(a.default,{style:V.profileInfo,children:[(0,z.jsx)(a.default,{style:V.avatarContainer,children:(0,z.jsx)(l.default,{onPress:()=>{t?(async()=>{try{const{status:e}=await g.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void d.default.alert("Permission needed","Please grant camera roll permissions to change profile picture");const t=await g.launchImageLibraryAsync({mediaTypes:["images"],allowsEditing:!0,aspect:[1,1],quality:.8});if(!t.canceled&&t.assets[0]){const e=t.assets[0].uri;await A(e)?(d.default.alert("Success","Profile picture updated successfully"),console.log("Profile photo updated successfully")):d.default.alert("Error","Failed to update profile picture. Please try again."),F&&F()}}catch(e){console.error("Error picking profile image:",e),d.default.alert("Error","An error occurred while updating profile picture. Please try again.")}})():q(!0)},onLongPress:()=>{e.profileImage&&q(!0)},children:(0,z.jsxs)(a.default,{style:V.avatarWrapper,children:[(0,z.jsx)(h.Avatar,{uri:e.profileImage,size:100,borderWidth:4,borderColor:c.Colors.background}),t&&(0,z.jsx)(a.default,{style:V.avatarEditButton,children:(0,z.jsx)(p.default,{size:16,color:c.Colors.text})})]})})}),(0,z.jsxs)(a.default,{style:V.nameContainer,children:[(0,z.jsxs)(a.default,{style:V.nameRow,children:[(0,z.jsx)(i.default,{style:V.displayName,children:e.displayName}),e.isVerified&&(0,z.jsx)(m.VerifiedBadge,{size:20})]}),(0,z.jsxs)(i.default,{style:V.username,children:["@",e.username]}),O?(0,z.jsxs)(a.default,{style:V.bioEditContainer,children:[(0,z.jsx)(u.default,{style:V.bioInput,value:E,onChangeText:M,placeholder:"Add a bio (max 150 characters)",placeholderTextColor:c.Colors.textSecondary,maxLength:150,multiline:!0,autoFocus:!0}),(0,z.jsxs)(a.default,{style:V.bioEditActions,children:[(0,z.jsxs)(l.default,{onPress:()=>{M(e.bio||""),W(!1)},style:V.bioActionButton,children:[(0,z.jsx)(x.default,{size:18,color:c.Colors.error}),(0,z.jsx)(i.default,{style:V.bioActionText,children:"Cancel"})]}),(0,z.jsxs)(l.default,{onPress:async()=>{await L(E)?(console.log("Bio saved successfully:",E),W(!1)):d.default.alert("Error","Failed to save bio. Please try again.")},style:[V.bioActionButton,V.bioSaveButton],children:[(0,z.jsx)(b.default,{size:18,color:c.Colors.success}),(0,z.jsx)(i.default,{style:[V.bioActionText,V.bioSaveText],children:"Save"})]})]}),(0,z.jsxs)(i.default,{style:V.bioCharCount,children:[E.length,"/150"]})]}):(0,z.jsx)(l.default,{onPress:()=>t&&W(!0),disabled:!t,children:(0,z.jsxs)(a.default,{style:V.bioContainer,children:[(0,z.jsx)(i.default,{style:V.bio,children:E||(t?"Tap to add bio":"No bio yet")}),t&&(0,z.jsx)(j.default,{size:14,color:c.Colors.textSecondary,style:V.bioEditIcon})]})}),void 0!==e.vibeScore&&(0,z.jsxs)(a.default,{style:V.vibeScoreContainer,children:[(0,z.jsx)(S.LinearGradient,{colors:["#3B82F6","#06B6D4"],start:{x:0,y:0},end:{x:1,y:0},style:V.vibeScoreGradient,children:(0,z.jsxs)(i.default,{style:V.vibeScore,children:[e.vibeScore.toFixed(1),"/10"]})}),(0,z.jsx)(i.default,{style:V.vibeStatus,children:($=e.vibeScore,$>=9?"\u2728 Elite Vibes":$>=7?"\u2728 Vibing Strong":$>=4?"\ud83c\udf31 Growing Vibes":"\ud83d\udcab Low Vibes")})]})]}),(0,z.jsxs)(a.default,{style:V.statsContainer,children:[(0,z.jsxs)(a.default,{style:V.statItem,children:[(0,z.jsx)(i.default,{style:V.statValue,children:e.posts}),(0,z.jsx)(i.default,{style:V.statLabel,children:"posts"})]}),(0,z.jsxs)(a.default,{style:V.statItem,children:[(0,z.jsx)(i.default,{style:V.statValue,children:e.followers}),(0,z.jsx)(i.default,{style:V.statLabel,children:"followers"})]}),(0,z.jsxs)(a.default,{style:V.statItem,children:[(0,z.jsx)(i.default,{style:V.statValue,children:e.following}),(0,z.jsx)(i.default,{style:V.statLabel,children:"following"})]})]}),(0,z.jsx)(a.default,{style:V.actionsContainer,children:t?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.default,{style:V.primaryActionButton,onPress:o,children:(0,z.jsxs)(S.LinearGradient,{colors:["#3B82F6","#2563EB"],start:{x:0,y:0},end:{x:1,y:0},style:V.gradientButton,children:[(0,z.jsx)(C.default,{size:18,color:"#FFFFFF",style:{marginRight:6}}),(0,z.jsx)(i.default,{style:V.primaryActionText,children:"Edit Profile"})]})}),(0,z.jsx)(l.default,{style:V.secondaryActionButton,onPress:_,children:(0,z.jsxs)(v.default,{intensity:60,style:V.blurActionButton,children:[(0,z.jsx)(w.default,{size:18,color:c.Colors.text}),(0,z.jsx)(i.default,{style:V.secondaryActionText,children:"Share"})]})})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.default,{style:V.primaryActionButton,onPress:n,children:(0,z.jsx)(S.LinearGradient,{colors:["#3B82F6","#2563EB"],start:{x:0,y:0},end:{x:1,y:0},style:V.gradientButton,children:(0,z.jsx)(i.default,{style:V.primaryActionText,children:"Follow"})})}),(0,z.jsx)(l.default,{style:V.secondaryActionButton,onPress:_,children:(0,z.jsxs)(v.default,{intensity:60,style:V.blurActionButton,children:[(0,z.jsx)(w.default,{size:18,color:c.Colors.text}),(0,z.jsx)(i.default,{style:V.secondaryActionText,children:"Share Profile"})]})})]})})]}),(0,z.jsx)(I.QRCodeShareModal,{visible:N,onClose:()=>H(!1),user:e}),e.profileImage&&(0,z.jsx)(D,{visible:U,imageUri:e.profileImage,onClose:()=>q(!1)})]});var $},V=n.default.create({container:{backgroundColor:c.Colors.background},coverContainer:{height:200,position:"relative"},coverImage:{width:"100%",height:"100%"},coverPlaceholder:{width:"100%",height:"100%"},coverActions:{position:"absolute",right:16,top:16,flexDirection:"row",gap:8},coverEditButton:{borderRadius:20,overflow:"hidden"},blurButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:12,paddingVertical:10,borderRadius:20},settingsButton:{borderRadius:20,overflow:"hidden"},profileInfo:{paddingHorizontal:20},avatarContainer:{position:"relative",marginTop:-50,marginBottom:16},avatarWrapper:{position:"relative"},avatarEditButton:{position:"absolute",right:0,bottom:0,backgroundColor:c.Colors.primary,borderRadius:14,width:28,height:28,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:c.Colors.background},nameContainer:{marginBottom:16},nameRow:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:4},displayName:{color:c.Colors.text,fontWeight:"700",fontSize:24},username:{color:c.Colors.textSecondary,fontSize:15,marginBottom:8},bioContainer:{flexDirection:"row",alignItems:"center",gap:6,marginTop:4},bio:{color:c.Colors.text,fontSize:15,lineHeight:22,flex:1},bioEditIcon:{marginLeft:4},bioEditContainer:{marginTop:8,backgroundColor:c.Colors.cardLight,borderRadius:12,padding:12},bioInput:{color:c.Colors.text,fontSize:15,lineHeight:22,minHeight:60,textAlignVertical:"top"},bioEditActions:{flexDirection:"row",justifyContent:"flex-end",gap:12,marginTop:8},bioActionButton:{flexDirection:"row",alignItems:"center",gap:4,paddingVertical:6,paddingHorizontal:12,borderRadius:8},bioSaveButton:{backgroundColor:c.Colors.glass},bioActionText:{color:c.Colors.text,fontSize:14,fontWeight:"600"},bioSaveText:{color:c.Colors.success},bioCharCount:{color:c.Colors.textSecondary,fontSize:12,textAlign:"right",marginTop:4},vibeScoreContainer:{flexDirection:"row",alignItems:"center",gap:8,marginTop:12},vibeScoreGradient:{paddingHorizontal:12,paddingVertical:6,borderRadius:16},vibeScore:{color:c.Colors.text,fontSize:14,fontWeight:"700"},vibeStatus:{color:c.Colors.text,fontSize:14,fontWeight:"600"},statsContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:20,paddingVertical:16,borderTopWidth:1,borderBottomWidth:1,borderColor:c.Colors.border},statItem:{alignItems:"center"},statValue:{color:c.Colors.text,fontWeight:"700",fontSize:20},statLabel:{color:c.Colors.textSecondary,fontSize:13,marginTop:4,textTransform:"capitalize"},actionsContainer:{flexDirection:"row",gap:12,marginBottom:20},primaryActionButton:{flex:1,borderRadius:24,overflow:"hidden"},gradientButton:{paddingVertical:14,alignItems:"center",justifyContent:"center",flexDirection:"row"},primaryActionText:{color:c.Colors.text,fontSize:16,fontWeight:"700"},secondaryActionButton:{flex:1,borderRadius:24,overflow:"hidden"},blurActionButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,paddingVertical:14},secondaryActionText:{color:c.Colors.text,fontSize:16,fontWeight:"600"}});var L=o(34248),O=o(29621),W=o(47640),E=o(52790);const M="pinned_posts",[N,H]=(0,E.default)((()=>{const[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)(!0);(0,r.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=await W.default.getItem(M);e&&t(JSON.parse(e))}catch(e){console.error("Error loading pinned posts:",e)}finally{n(!1)}},s=(0,r.useCallback)((async e=>{try{await W.default.setItem(M,JSON.stringify(e)),t(e)}catch(o){console.error("Error saving pinned posts:",o)}}),[]),i=(0,r.useCallback)((async t=>{if(e.includes(t))return console.log("Post already pinned"),!1;if(e.length>=3)return console.log("Maximum 3 posts can be pinned"),!1;const o=[t,...e];return await s(o),!0}),[e,s]),l=(0,r.useCallback)((async t=>{if(!e.includes(t))return console.log("Post is not pinned"),!1;const o=e.filter((e=>e!==t));return await s(o),!0}),[e,s]),d=(0,r.useCallback)((async t=>e.includes(t)?await l(t):await i(t)),[e,i,l]),c=(0,r.useCallback)((t=>e.includes(t)),[e]),u=(0,r.useCallback)((()=>e.length<3),[e]);return(0,r.useMemo)((()=>({pinnedPosts:e,isLoading:o,pinPost:i,unpinPost:l,togglePinPost:d,isPostPinned:c,canPinMore:u,maxPinnedPosts:3})),[e,o,i,l,d,c,u])}));var U=o(49637),q=o(84001),_=o(58945);function $(){const{user:e,isAuthenticated:t}=(0,k.useAuth)(),{togglePinPost:o,isPostPinned:n,canPinMore:u,maxPinnedPosts:f}=H(),[g,h]=r.useState(O.mockPosts);r.useEffect((()=>{t||U.router.replace("/auth")}),[t]);const m=()=>{console.log("Edit profile pressed"),U.router.push("/edit-profile")},p=()=>{console.log("Follow pressed")},y=()=>{console.log("Share profile pressed")},x=()=>{U.router.push("/settings")},b=()=>{console.log("[Profile] Cover photo change completed")},j=()=>{console.log("[Profile] Profile photo change completed")},C=e=>{console.log("Like pressed for post:",e)},w=e=>{console.log("Comment pressed for post:",e)},S=e=>{console.log("Share pressed for post:",e)},v=e=>{console.log("Save pressed for post:",e)},I=e=>{console.log("User pressed:",e),U.router.push(`/user/${e}`)},T=(0,r.useMemo)((()=>{const e=[],t=[];return g.forEach((o=>{n(o.id)?e.push(o):t.push(o)})),[...e,...t]}),[g,n]);return e?(0,z.jsx)(a.default,{style:Y.container,children:(0,z.jsx)(s.default,{data:T,keyExtractor:e=>e.id,renderItem:({item:e,index:t})=>{const r=n(e.id),s=t>0?T[t-1]:null,g=s&&n(s.id)&&!r;return(0,z.jsxs)(a.default,{children:[r&&(0,z.jsxs)(a.default,{style:Y.pinnedBadge,children:[(0,z.jsx)(q.default,{size:14,color:c.Colors.primary}),(0,z.jsx)(i.default,{style:Y.pinnedText,children:"Pinned Post"})]}),g&&(0,z.jsx)(a.default,{style:Y.pinnedSeparator}),(0,z.jsx)(L.PostCard,{post:e,onLikePress:C,onCommentPress:w,onSharePress:S,onSavePress:v,onUserPress:I}),(0,z.jsx)(l.default,{style:Y.pinButton,onPress:()=>(async e=>{const t=n(e);if(!t&&!u())return void d.default.alert("Pin Limit Reached",`You can only pin up to ${f} posts on your profile.`,[{text:"OK"}]);await o(e)&&d.default.alert("Success",t?"Post unpinned from profile":"Post pinned to profile",[{text:"OK"}])})(e.id),children:r?(0,z.jsx)(_.default,{size:18,color:c.Colors.primary}):(0,z.jsx)(q.default,{size:18,color:c.Colors.textSecondary})})]})},ListHeaderComponent:()=>(0,z.jsx)(R,{user:e,isCurrentUser:!0,onEditProfile:m,onFollowPress:p,onShareProfile:y,onSettingsPress:x,onChangeCoverPhoto:b,onChangeProfilePhoto:j}),ListEmptyComponent:()=>(0,z.jsx)(a.default,{style:Y.emptyContainer,children:(0,z.jsx)(i.default,{style:Y.emptyText,children:"No posts yet"})})})}):null}const Y=n.default.create({container:{flex:1,backgroundColor:c.Colors.background},emptyContainer:{padding:24,alignItems:"center"},emptyText:{color:c.Colors.textSecondary,fontSize:16},pinnedBadge:{flexDirection:"row",alignItems:"center",gap:6,paddingHorizontal:16,paddingTop:12,paddingBottom:8},pinnedText:{color:c.Colors.primary,fontSize:13,fontWeight:"600"},pinnedSeparator:{height:8,backgroundColor:c.Colors.cardLight,marginVertical:8},pinButton:{position:"absolute",top:12,right:48,padding:8,zIndex:10}})},88885:(e,t,o)=>{"use strict";o.r(t),o.d(t,{SpillProvider:()=>l,useSpill:()=>d});var r=o(52790),n=o(36665);const a=[{id:"1",name:"Sarah Chen",username:"sarah_vibes",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",isVerified:!0,isSpeaking:!0,isMuted:!1,role:"host",joinedAt:new Date(Date.now()-9e5)},{id:"6",name:"Jamal Washington",username:"jamal_fitness",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150",isVerified:!0,isSpeaking:!1,isMuted:!1,role:"cohost",joinedAt:new Date(Date.now()-84e4)},{id:"7",name:"Priya Sharma",username:"priya_travels",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150",isVerified:!0,isSpeaking:!0,isMuted:!1,role:"speaker",joinedAt:new Date(Date.now()-6e5)},{id:"8",name:"Carlos Silva",username:"carlos_music",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",isVerified:!1,isSpeaking:!1,isMuted:!0,role:"speaker",joinedAt:new Date(Date.now()-48e4)},{id:"9",name:"Yuki Tanaka",username:"yuki_fashion",avatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150",isVerified:!0,isSpeaking:!0,isMuted:!1,role:"speaker",joinedAt:new Date(Date.now()-72e4)},{id:"11",name:"Fatima Al-Rashid",username:"fatima_beauty",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",isVerified:!0,isSpeaking:!1,isMuted:!1,role:"speaker",joinedAt:new Date(Date.now()-54e4)},{id:"13",name:"Aisha Okonkwo",username:"aisha_wellness",avatar:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150",isVerified:!0,isSpeaking:!0,isMuted:!1,role:"speaker",joinedAt:new Date(Date.now()-66e4)},{id:"14",name:"Diego Martinez",username:"diego_sports",avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=150",isVerified:!0,isSpeaking:!1,isMuted:!1,role:"speaker",joinedAt:new Date(Date.now()-42e4)}],s=[{id:"spill-1",topicId:"trend-1",topicName:"AI is taking over the world",topicType:"name",hostId:"1",hostName:"Sarah Chen",hostUsername:"sarah_vibes",hostAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",cohosts:[a[1]],listenerCount:1200,startedAt:new Date(Date.now()-9e5),isLive:!0,participants:[a[0],a[1],a[2]],reactions:[],comments:[{id:"comment-1",userId:"user-5",username:"TechFan",text:"ChatGPT is changing everything! \ud83e\udd16",timestamp:new Date(Date.now()-12e4)},{id:"comment-2",userId:"user-6",username:"FutureThinker",text:"But what about job security? \ud83d\ude30",timestamp:new Date(Date.now()-6e4)}],recordingEnabled:!0,allowRequests:!0},{id:"spill-2",topicId:"trend-2",topicName:"Is remote work still worth it?",topicType:"name",hostId:"7",hostName:"Priya Sharma",hostUsername:"priya_travels",hostAvatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150",cohosts:[],listenerCount:900,startedAt:new Date(Date.now()-48e4),isLive:!0,participants:[a[2],a[3]],reactions:[],comments:[{id:"comment-3",userId:"user-7",username:"WorkFromHome",text:"Never going back to the office! \ud83c\udfe0",timestamp:new Date(Date.now()-3e4)}],recordingEnabled:!0,allowRequests:!0},{id:"spill-3",topicId:"trend-3",topicName:"Love languages decoded",topicType:"name",hostId:"13",hostName:"Aisha Okonkwo",hostUsername:"aisha_wellness",hostAvatar:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150",cohosts:[],listenerCount:850,startedAt:new Date(Date.now()-12e5),isLive:!0,participants:[a[6],a[4]],reactions:[],comments:[],recordingEnabled:!0,allowRequests:!0},{id:"spill-4",topicId:"trend-4",topicName:"Fashion trends 2025",topicType:"name",hostId:"9",hostName:"Yuki Tanaka",hostUsername:"yuki_fashion",hostAvatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150",cohosts:[a[5]],listenerCount:810,startedAt:new Date(Date.now()-72e4),isLive:!0,participants:[a[4],a[5]],reactions:[],comments:[],recordingEnabled:!0,allowRequests:!0},{id:"spill-5",topicId:"trend-5",topicName:"Gym vs Home workouts",topicType:"name",hostId:"6",hostName:"Jamal Washington",hostUsername:"jamal_fitness",hostAvatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150",cohosts:[],listenerCount:780,startedAt:new Date(Date.now()-15e5),isLive:!0,participants:[a[1],a[6]],reactions:[],comments:[],recordingEnabled:!0,allowRequests:!0},{id:"spill-6",topicId:"trend-6",topicName:"Music production secrets",topicType:"name",hostId:"8",hostName:"Carlos Silva",hostUsername:"carlos_music",hostAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",cohosts:[],listenerCount:650,startedAt:new Date(Date.now()-18e5),isLive:!0,participants:[a[3]],reactions:[],comments:[],recordingEnabled:!0,allowRequests:!0},{id:"spill-7",topicId:"trend-7",topicName:"Football tactics breakdown",topicType:"name",hostId:"14",hostName:"Diego Martinez",hostUsername:"diego_sports",hostAvatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=150",cohosts:[],listenerCount:1450,startedAt:new Date(Date.now()-108e4),isLive:!0,participants:[a[7]],reactions:[],comments:[{id:"comment-4",userId:"user-8",username:"SoccerFan",text:"Best analysis ever! \u26bd",timestamp:new Date(Date.now()-45e3)}],recordingEnabled:!0,allowRequests:!0},{id:"spill-8",topicId:"trend-8",topicName:"Beauty industry secrets",topicType:"name",hostId:"11",hostName:"Fatima Al-Rashid",hostUsername:"fatima_beauty",hostAvatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",cohosts:[a[4]],listenerCount:1120,startedAt:new Date(Date.now()-132e4),isLive:!0,participants:[a[5],a[4]],reactions:[],comments:[{id:"comment-5",userId:"user-9",username:"BeautyLover",text:"Taking notes! \ud83d\udc84",timestamp:new Date(Date.now()-6e4)}],recordingEnabled:!0,allowRequests:!0}],i=[{id:"scheduled-1",topicId:"trend-9",topicName:"Mental health in tech",hostId:"1",hostName:"Sarah Chen",scheduledFor:new Date(Date.now()+72e5),reminderSet:!0},{id:"scheduled-2",topicId:"trend-10",topicName:"Startup funding strategies",hostId:"7",hostName:"Priya Sharma",scheduledFor:new Date(Date.now()+864e5),reminderSet:!1},{id:"scheduled-3",topicId:"trend-11",topicName:"Dating in 2025",hostId:"13",hostName:"Aisha Okonkwo",scheduledFor:new Date(Date.now()+1728e5),reminderSet:!1},{id:"scheduled-4",topicId:"trend-12",topicName:"Sustainable fashion movement",hostId:"9",hostName:"Yuki Tanaka",scheduledFor:new Date(Date.now()+1296e5),reminderSet:!0},{id:"scheduled-5",topicId:"trend-13",topicName:"Fitness myths debunked",hostId:"6",hostName:"Jamal Washington",scheduledFor:new Date(Date.now()+432e5),reminderSet:!0}],[l,d]=(0,r.default)((()=>{const[e,t]=(0,n.useState)(s),[o,r]=(0,n.useState)(null),[a,l]=(0,n.useState)(i),[d,c]=(0,n.useState)(!1),[u,f]=(0,n.useState)(!0),[g,h]=(0,n.useState)(!1),m=(0,n.useCallback)((e=>{console.log("[Spill] Joining spill:",e),t((t=>{const o=t.find((t=>t.id===e));return o&&(r(o),c(!0),f(!0),h(!1)),t.map((t=>t.id===e?Object.assign({},t,{listenerCount:t.listenerCount+1}):t))}))}),[]),p=(0,n.useCallback)((()=>{console.log("[Spill] Leaving spill"),r((e=>(e&&t((t=>t.map((t=>t.id===e.id?Object.assign({},t,{listenerCount:Math.max(0,t.listenerCount-1)}):t)))),null))),c(!1),f(!0),h(!1)}),[]),y=(0,n.useCallback)((()=>{f((e=>(console.log("[Spill] Toggled mute:",!e),!e)))}),[]),x=(0,n.useCallback)((()=>{h(!0),console.log("[Spill] Requested mic access")}),[]),b=(0,n.useCallback)((e=>{const t={id:`reaction-${Date.now()}`,userId:"current-user",emoji:e,timestamp:new Date};r((o=>o?(console.log("[Spill] Sent reaction:",e),Object.assign({},o,{reactions:[...o.reactions,t]})):null))}),[]),j=(0,n.useCallback)((e=>{const t={id:`comment-${Date.now()}`,userId:"current-user",username:"You",text:e,timestamp:new Date};r((o=>o?(console.log("[Spill] Sent comment:",e),Object.assign({},o,{comments:[...o.comments,t]})):null))}),[]),C=(0,n.useCallback)(((e,o,n)=>{console.log("[Spill] Starting new spill:",o);const a={id:`spill-${Date.now()}`,topicId:e,topicName:o,topicType:n,hostId:"current-user",hostName:"You",hostUsername:"you",hostAvatar:"https://i.pravatar.cc/150?img=50",cohosts:[],listenerCount:0,startedAt:new Date,isLive:!0,participants:[],reactions:[],comments:[],recordingEnabled:!0,allowRequests:!0};return t((e=>[a,...e])),r(a),c(!0),f(!1),a}),[]),w=(0,n.useCallback)((()=>{r((e=>e?(console.log("[Spill] Ending spill:",e.id),t((t=>t.map((t=>t.id===e.id?Object.assign({},t,{isLive:!1}):t)))),null):null)),c(!1),f(!0)}),[]),S=(0,n.useCallback)(((e,t,o)=>{const r={id:`scheduled-${Date.now()}`,topicId:e,topicName:t,hostId:"current-user",hostName:"You",scheduledFor:o,reminderSet:!1};l((e=>[...e,r])),console.log("[Spill] Scheduled spill:",t,"for",o)}),[]),v=(0,n.useCallback)((e=>{l((t=>t.map((t=>t.id===e?Object.assign({},t,{reminderSet:!0}):t)))),console.log("[Spill] Set reminder for scheduled spill:",e)}),[]),k=(0,n.useCallback)((()=>e.filter((e=>e.isLive)).slice(0,5)),[e]),I=(0,n.useCallback)((t=>e.filter((e=>e.topicId===t&&e.isLive))),[e]);return(0,n.useEffect)((()=>{const e=setInterval((()=>{t((e=>e.map((e=>Object.assign({},e,{listenerCount:Math.max(0,e.listenerCount+Math.floor(10*Math.random())-5)})))))}),1e4);return()=>clearInterval(e)}),[]),{activeSpills:e,currentSpill:o,scheduledSpills:a,isInSpill:d,isMuted:u,hasRequestedMic:g,joinSpill:m,leaveSpill:p,toggleMute:y,requestMic:x,sendReaction:b,sendComment:j,startSpill:C,endSpill:w,scheduleSpill:S,setReminder:v,getSuggestedSpills:k,getSpillsByTopic:I}}))},90419:(e,t,o)=>{"use strict";o.r(t),o.d(t,{VoicePlayer:()=>g});var r=o(36665),n=o(73668),a=o(73929),s=o(15648),i=o(6283),l=o(15009),d=o(88532),c=o(58358),u=o(36412),f=o(60397);const g=({url:e,duration:t,waveform:o,size:n="medium",testID:g})=>{const{colors:m}=(0,u.useTheme)(),[p,y]=(0,r.useState)(!1),[x,b]=(0,r.useState)(0),[j,C]=(0,r.useState)(null),w=((0,r.useRef)(new l.default.Value(0)).current,{small:{button:32,waveHeight:24,fontSize:10},medium:{button:40,waveHeight:32,fontSize:12},large:{button:48,waveHeight:40,fontSize:14}}[n]);(0,r.useEffect)((()=>()=>{0}),[j]);const S=o&&o.length>0?o:Array.from({length:30},(()=>.5*Math.random()+.3));return(0,f.jsxs)(a.default,{style:[h.container,{backgroundColor:m.card}],testID:g,children:[(0,f.jsx)(s.default,{style:[h.playButton,{backgroundColor:m.primary,width:w.button,height:w.button,borderRadius:w.button/2}],onPress:async()=>{},children:p?(0,f.jsx)(d.default,{size:.5*w.button,color:m.textInverse,fill:m.textInverse}):(0,f.jsx)(c.default,{size:.5*w.button,color:m.textInverse,fill:m.textInverse})}),(0,f.jsxs)(a.default,{style:h.waveformContainer,children:[(0,f.jsx)(a.default,{style:[h.waveform,{height:w.waveHeight}],children:S.map(((e,o)=>{const r=x/t,n=o/S.length<r;return(0,f.jsx)(a.default,{style:[h.waveformBar,{height:100*e+"%",backgroundColor:n?m.primary:m.border}]},o)}))}),(0,f.jsx)(i.default,{style:[h.timeText,{color:m.textSecondary,fontSize:w.fontSize}],children:(v=p?x:t,`${Math.floor(v/60)}:${Math.floor(v%60).toString().padStart(2,"0")}`)})]})]});var v},h=n.default.create({container:{flexDirection:"row",alignItems:"center",paddingHorizontal:12,paddingVertical:8,borderRadius:20,gap:12},playButton:{justifyContent:"center",alignItems:"center"},waveformContainer:{flex:1,flexDirection:"row",alignItems:"center",gap:8},waveform:{flex:1,flexDirection:"row",alignItems:"center",gap:2},waveformBar:{flex:1,borderRadius:2},timeText:{fontWeight:"600",minWidth:35}})},90491:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(16773),l=o(15648),d=o(49637),c=o(93861),u=o(26983),f=o(24523),g=o(49582),h=o(43316),m=o(23049),p=o(60397);function y(){const[e,t]=(0,r.useState)("email"),[n,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(!1),[C,w]=(0,r.useState)("");return(0,p.jsxs)(s.default,{style:x.container,children:[(0,p.jsx)(m.StatusBar,{style:"light"}),(0,p.jsx)(d.Stack.Screen,{options:{headerShown:!0,headerStyle:{backgroundColor:g.Colors.background},headerTintColor:g.Colors.text,headerTitle:"Forgot Password",headerLeft:()=>(0,p.jsx)(l.default,{onPress:()=>d.router.back(),style:x.backButton,children:(0,p.jsx)(c.default,{size:24,color:g.Colors.text})})}}),(0,p.jsxs)(s.default,{style:x.content,children:[(0,p.jsx)(s.default,{style:x.iconContainer,children:(0,p.jsx)(s.default,{style:x.iconCircle,children:(0,p.jsx)(a.default,{style:x.iconText,children:"\ud83d\udd12"})})}),(0,p.jsx)(a.default,{style:x.title,children:"Reset Your Password"}),(0,p.jsx)(a.default,{style:x.subtitle,children:"Choose how you'd like to receive your verification code"}),(0,p.jsxs)(s.default,{style:x.methodSelector,children:[(0,p.jsxs)(l.default,{style:[x.methodButton,"email"===e&&x.methodButtonActive],onPress:()=>{t("email"),y(""),w("")},children:[(0,p.jsx)(u.default,{size:20,color:"email"===e?g.Colors.text:g.Colors.textSecondary}),(0,p.jsx)(a.default,{style:[x.methodButtonText,"email"===e&&x.methodButtonTextActive],children:"Email"})]}),(0,p.jsxs)(l.default,{style:[x.methodButton,"phone"===e&&x.methodButtonActive],onPress:()=>{t("phone"),y(""),w("")},children:[(0,p.jsx)(f.default,{size:20,color:"phone"===e?g.Colors.text:g.Colors.textSecondary}),(0,p.jsx)(a.default,{style:[x.methodButtonText,"phone"===e&&x.methodButtonTextActive],children:"Phone"})]})]}),C?(0,p.jsx)(a.default,{style:x.errorText,children:C}):null,(0,p.jsx)(i.default,{style:x.input,placeholder:"email"===e?"Enter your email":"Enter your phone number",placeholderTextColor:g.Colors.textSecondary,value:n,onChangeText:e=>{y(e),w("")},keyboardType:"email"===e?"email-address":"phone-pad",autoCapitalize:"none",autoCorrect:!1}),(0,p.jsx)(h.Button,{title:"Send Verification Code",onPress:async()=>{if(n)if("email"!==e||n.includes("@"))if("phone"!==e||/^\+?[\d\s-()]+$/.test(n)){j(!0),w("");try{const{emailQueue:t}=await o.e(398).then(o.bind(o,89398)),{emailTemplates:r}=await o.e(86).then(o.bind(o,60086));if("email"===e){const e=Math.floor(1e5+9e5*Math.random()).toString(),o=`https://vibesync.com/reset-password?code=${e}`;await t.enqueue("password_reset",{type:"password_reset"},{email:n,username:n.split("@")[0],reset_link:o,expiry:"10 minutes"}),console.log("[Password Reset] Email sent to:",n),console.log("[Password Reset] Reset code:",e)}await new Promise((e=>setTimeout(e,1500))),d.router.push({pathname:"/verify-reset-code",params:{method:e,contact:n}})}catch(t){w("Failed to send verification code. Please try again."),console.error("[Password Reset Error]",t)}finally{j(!1)}}else w("Please enter a valid phone number");else w("Please enter a valid email address");else w("Please enter your "+("email"===e?"email":"phone number"))},loading:b,disabled:b,style:x.sendButton}),(0,p.jsx)(s.default,{style:x.infoBox,children:(0,p.jsx)(a.default,{style:x.infoText,children:"email"===e?"\ud83d\udce7 We'll send a verification link that expires in 10 minutes":"\ud83d\udcf1 We'll send a 6-digit code that expires in 5 minutes"})})]})]})}const x=n.default.create({container:{flex:1,backgroundColor:g.Colors.background},backButton:{padding:8,marginLeft:8},content:{flex:1,padding:24},iconContainer:{alignItems:"center",marginTop:20,marginBottom:24},iconCircle:{width:80,height:80,borderRadius:40,backgroundColor:g.Colors.cardLight,justifyContent:"center",alignItems:"center"},iconText:{fontSize:40},title:{fontSize:28,fontWeight:"bold",color:g.Colors.text,marginBottom:8,textAlign:"center"},subtitle:{fontSize:16,color:g.Colors.textSecondary,textAlign:"center",marginBottom:32,lineHeight:22},methodSelector:{flexDirection:"row",gap:12,marginBottom:24},methodButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,padding:16,borderRadius:12,backgroundColor:g.Colors.cardLight,borderWidth:2,borderColor:"transparent"},methodButtonActive:{backgroundColor:g.Colors.primary,borderColor:g.Colors.primary},methodButtonText:{fontSize:16,fontWeight:"600",color:g.Colors.textSecondary},methodButtonTextActive:{color:g.Colors.text},errorText:{color:g.Colors.error,marginBottom:16,fontSize:14},input:{backgroundColor:g.Colors.cardLight,borderRadius:12,padding:16,marginBottom:24,color:g.Colors.text,fontSize:16},sendButton:{marginBottom:24},infoBox:{backgroundColor:g.Colors.cardLight,borderRadius:12,padding:16,borderLeftWidth:4,borderLeftColor:g.Colors.primary},infoText:{color:g.Colors.textSecondary,fontSize:14,lineHeight:20}})},91758:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>J});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(2772),d=o(26725),c=o(51690),u=o(78264),f=o(61171),g=o(49637),h=o(5894),m=o(48801),p=o(49050),y=o(2610),x=o(28291),b=o(70139),j=o(11868),C=o(93861),w=o(11448),S=o(5563),v=o(34253),k=o(58397),I=o(88532),T=o(58358),B=o(50856),z=o(3085),F=o(58803),P=o(49771),D=o(72551),A=o(8538),R=o(95287),V=o(40804),L=o(29122),O=o(76221),W=o(24757),E=o(29723),M=o(36412),N=o(43316),H=o(38663),U=o(60397);const{width:q}=d.default.get("window"),_=[{id:"filters",name:"Filters",icon:b.default},{id:"adjust",name:"Adjust",icon:x.default},{id:"effects",name:"Effects",icon:j.default},{id:"text",name:"Text",icon:V.default},{id:"stickers",name:"Stickers",icon:A.default},{id:"overlays",name:"Overlays",icon:S.default},{id:"frames",name:"Frames",icon:R.default},{id:"transitions",name:"Transitions",icon:y.default},{id:"audio",name:"Audio",icon:k.default},{id:"trim",name:"Trim",icon:F.default}],$=[{id:"none",name:"Original",preview:"#000"},{id:"cinematic",name:"Cinematic",preview:"#1a4d6d"},{id:"vintage",name:"Vintage",preview:"#8b7355"},{id:"noir",name:"Noir",preview:"#2a2a2a"},{id:"warm",name:"Warm",preview:"#ff8c42"},{id:"cool",name:"Cool",preview:"#4a90e2"},{id:"neon",name:"Neon",preview:"#ff00ff"},{id:"pastel",name:"Pastel",preview:"#ffd1dc"}],Y=[{id:"glitch",name:"Glitch"},{id:"vhs",name:"VHS"},{id:"sparkle",name:"Sparkle"},{id:"neon-glow",name:"Neon Glow"},{id:"blur",name:"Blur"},{id:"bokeh",name:"Bokeh"},{id:"lens-flare",name:"Lens Flare"},{id:"light-leak",name:"Light Leak"}],G=[{id:"fade",name:"Fade"},{id:"dissolve",name:"Dissolve"},{id:"wipe",name:"Wipe"},{id:"slide",name:"Slide"},{id:"zoom",name:"Zoom"},{id:"glitch",name:"Glitch"}];function J(){const{colors:e}=(0,M.useTheme)(),t=(0,g.useLocalSearchParams)(),{currentProject:o,updateProject:n,createProject:d}=(0,H.useStudio)(),[x,b]=(0,r.useState)(t.mediaUri||o?.mediaUri||null),[F,q]=(0,r.useState)(null),[J,Q]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(0),[oe,re]=(0,r.useState)(100),[ne,ae]=(0,r.useState)("none"),[se,ie]=(0,r.useState)(0),[le,de]=(0,r.useState)(0),[ce,ue]=(0,r.useState)(0),[fe,ge]=(0,r.useState)(!1),he=e=>{ge(!1),c.default.alert("Export Started",`Exporting video in ${e}...`)};return(0,U.jsxs)(f.SafeAreaView,{style:[K.container,{backgroundColor:e.background}],edges:["top"],children:[(0,U.jsx)(g.Stack.Screen,{options:{headerShown:!1}}),(0,U.jsxs)(s.default,{style:[K.header,{backgroundColor:e.background,borderBottomColor:e.border}],children:[(0,U.jsx)(i.default,{onPress:()=>g.router.back(),style:K.headerButton,children:(0,U.jsx)(C.default,{size:24,color:e.text})}),(0,U.jsxs)(s.default,{style:K.headerActions,children:[(0,U.jsx)(i.default,{style:K.headerButton,children:(0,U.jsx)(L.default,{size:20,color:e.textSecondary})}),(0,U.jsx)(i.default,{style:K.headerButton,children:(0,U.jsx)(B.default,{size:20,color:e.textSecondary})}),(0,U.jsx)(i.default,{style:K.headerButton,children:(0,U.jsx)(z.default,{size:20,color:e.text})}),(0,U.jsx)(i.default,{onPress:()=>{c.default.alert("Post Video","Post this edited video to your feed?",[{text:"Cancel",style:"cancel"},{text:"Post",onPress:()=>{c.default.alert("Success","Video posted to your feed!"),g.router.back()}}])},style:[K.headerButton,{backgroundColor:e.primary,paddingHorizontal:12,borderRadius:8}],children:(0,U.jsx)(a.default,{style:{color:e.textInverse,fontWeight:"600",fontSize:14},children:"Post"})}),(0,U.jsx)(i.default,{onPress:()=>{ge(!0)},style:K.headerButton,children:(0,U.jsx)(w.default,{size:20,color:e.primary})})]})]}),x?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(s.default,{style:K.canvas,children:(0,U.jsxs)(s.default,{style:[K.videoPreview,{backgroundColor:e.card}],children:[(0,U.jsx)(h.Image,{source:{uri:x},style:K.videoImage,contentFit:"contain"}),(0,U.jsx)(i.default,{style:[K.playOverlay,{backgroundColor:`${e.background}80`}],onPress:()=>Q(!J),children:J?(0,U.jsx)(I.default,{size:40,color:e.text}):(0,U.jsx)(T.default,{size:40,color:e.text})})]})}),(0,U.jsxs)(s.default,{style:[K.timeline,{backgroundColor:e.card}],children:[(0,U.jsxs)(s.default,{style:K.timelineHeader,children:[(0,U.jsxs)(a.default,{style:[K.timelineTime,{color:e.text}],children:[Math.floor(ee/60),":",(ee%60).toString().padStart(2,"0")]}),(0,U.jsxs)(s.default,{style:K.playbackControls,children:[(0,U.jsx)(i.default,{style:K.playbackButton,children:(0,U.jsx)(P.default,{size:16,color:e.text})}),(0,U.jsx)(i.default,{style:K.playbackButton,onPress:()=>Q(!J),children:J?(0,U.jsx)(I.default,{size:16,color:e.text}):(0,U.jsx)(T.default,{size:16,color:e.text})}),(0,U.jsx)(i.default,{style:K.playbackButton,children:(0,U.jsx)(D.default,{size:16,color:e.text})})]}),(0,U.jsx)(i.default,{onPress:()=>X(!Z),children:Z?(0,U.jsx)(E.default,{size:16,color:e.text}):(0,U.jsx)(W.default,{size:16,color:e.text})})]}),(0,U.jsxs)(s.default,{style:[K.timelineTrack,{backgroundColor:e.border}],children:[(0,U.jsx)(s.default,{style:[K.timelineProgress,{backgroundColor:e.primary,width:"30%"}]}),(0,U.jsx)(s.default,{style:[K.timelinePlayhead,{backgroundColor:e.primary,left:"30%"}]})]})]}),(0,U.jsx)(s.default,{style:[K.toolbar,{backgroundColor:e.card}],children:(0,U.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:K.toolbarContent,children:_.map((t=>{const o=t.icon;return(0,U.jsxs)(i.default,{style:[K.toolButton,F===t.id&&{backgroundColor:e.primary}],onPress:()=>q(F===t.id?null:t.id),children:[(0,U.jsx)(o,{size:20,color:F===t.id?e.textInverse:e.text}),(0,U.jsx)(a.default,{style:[K.toolButtonText,{color:F===t.id?e.textInverse:e.text}],children:t.name})]},t.id)}))})}),F&&(0,U.jsx)(s.default,{style:[K.toolPanel,{backgroundColor:e.card}],children:(()=>{if(!F)return null;switch(F){case"filters":return(0,U.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:K.toolContent,children:$.map((t=>(0,U.jsxs)(i.default,{style:[K.filterItem,ne===t.id&&{borderColor:e.primary,borderWidth:2}],onPress:()=>ae(t.id),children:[(0,U.jsx)(s.default,{style:[K.filterPreview,{backgroundColor:t.preview}]}),(0,U.jsx)(a.default,{style:[K.filterName,{color:e.text}],children:t.name})]},t.id)))});case"adjust":return(0,U.jsxs)(l.default,{style:K.toolContent,children:[(0,U.jsxs)(s.default,{style:K.adjustmentItem,children:[(0,U.jsx)(a.default,{style:[K.adjustmentLabel,{color:e.text}],children:"Brightness"}),(0,U.jsx)(s.default,{style:K.sliderContainer,children:(0,U.jsx)(a.default,{style:[K.sliderValue,{color:e.textSecondary}],children:se})})]}),(0,U.jsxs)(s.default,{style:K.adjustmentItem,children:[(0,U.jsx)(a.default,{style:[K.adjustmentLabel,{color:e.text}],children:"Contrast"}),(0,U.jsx)(s.default,{style:K.sliderContainer,children:(0,U.jsx)(a.default,{style:[K.sliderValue,{color:e.textSecondary}],children:le})})]}),(0,U.jsxs)(s.default,{style:K.adjustmentItem,children:[(0,U.jsx)(a.default,{style:[K.adjustmentLabel,{color:e.text}],children:"Saturation"}),(0,U.jsx)(s.default,{style:K.sliderContainer,children:(0,U.jsx)(a.default,{style:[K.sliderValue,{color:e.textSecondary}],children:ce})})]})]});case"effects":return(0,U.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:K.toolContent,children:Y.map((t=>(0,U.jsxs)(i.default,{style:[K.effectItem,{backgroundColor:e.card}],onPress:()=>c.default.alert("Effect",`Applied ${t.name}`),children:[(0,U.jsx)(j.default,{size:24,color:e.primary}),(0,U.jsx)(a.default,{style:[K.effectName,{color:e.text}],children:t.name})]},t.id)))});case"text":return(0,U.jsx)(s.default,{style:K.toolContent,children:(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.primary}],onPress:()=>c.default.alert("Add Text","Text editor coming soon"),children:[(0,U.jsx)(V.default,{size:20,color:e.textInverse}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.textInverse}],children:"Add Text Layer"})]})});case"stickers":return(0,U.jsx)(s.default,{style:K.toolContent,children:(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.primary}],onPress:()=>c.default.alert("Add Sticker","Sticker library coming soon"),children:[(0,U.jsx)(A.default,{size:20,color:e.textInverse}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.textInverse}],children:"Add Sticker"})]})});case"overlays":return(0,U.jsx)(s.default,{style:K.toolContent,children:(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.primary}],onPress:()=>c.default.alert("Add Overlay","Overlay library coming soon"),children:[(0,U.jsx)(S.default,{size:20,color:e.textInverse}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.textInverse}],children:"Add Overlay"})]})});case"frames":return(0,U.jsx)(s.default,{style:K.toolContent,children:(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.primary}],onPress:()=>c.default.alert("Add Frame","Frame library coming soon"),children:[(0,U.jsx)(R.default,{size:20,color:e.textInverse}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.textInverse}],children:"Add Frame"})]})});case"transitions":return(0,U.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:K.toolContent,children:G.map((t=>(0,U.jsxs)(i.default,{style:[K.transitionItem,{backgroundColor:e.card}],onPress:()=>c.default.alert("Transition",`Applied ${t.name}`),children:[(0,U.jsx)(y.default,{size:24,color:e.primary}),(0,U.jsx)(a.default,{style:[K.transitionName,{color:e.text}],children:t.name})]},t.id)))});case"audio":return(0,U.jsxs)(s.default,{style:K.toolContent,children:[(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.primary}],onPress:()=>c.default.alert("Add Audio","Audio library coming soon"),children:[(0,U.jsx)(k.default,{size:20,color:e.textInverse}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.textInverse}],children:"Add Music"})]}),(0,U.jsxs)(i.default,{style:[K.addButton,{backgroundColor:e.card,marginTop:8}],onPress:()=>c.default.alert("Record","Voice recording coming soon"),children:[(0,U.jsx)(v.default,{size:20,color:e.text}),(0,U.jsx)(a.default,{style:[K.addButtonText,{color:e.text}],children:"Record Voiceover"})]})]});case"trim":return(0,U.jsxs)(s.default,{style:K.toolContent,children:[(0,U.jsxs)(s.default,{style:[K.trimTimeline,{backgroundColor:e.border}],children:[(0,U.jsx)(s.default,{style:[K.trimHandle,{backgroundColor:e.primary}]}),(0,U.jsx)(s.default,{style:[K.trimHandle,{backgroundColor:e.primary,right:0}]})]}),(0,U.jsx)(a.default,{style:[K.trimInfo,{color:e.textSecondary}],children:"Drag handles to trim video"})]});default:return null}})()})]}):(0,U.jsxs)(s.default,{style:K.emptyState,children:[(0,U.jsx)(O.default,{size:64,color:e.textSecondary}),(0,U.jsx)(a.default,{style:[K.emptyStateTitle,{color:e.text}],children:"No Video Selected"}),(0,U.jsx)(N.Button,{title:"Choose Video",onPress:async()=>{try{const{status:e}=await m.requestMediaLibraryPermissionsAsync();if("granted"!==e)return void c.default.alert("Permission needed","Please grant camera roll permissions.");const t=await m.launchImageLibraryAsync({mediaTypes:p.MediaTypeOptions.Videos,allowsEditing:!1,quality:1});!t.canceled&&t.assets[0]&&(b(t.assets[0].uri),re(t.assets[0].duration||100),o||d("video","New Video Project","9:16","1080p",30,t.assets[0].uri))}catch(e){console.error("Error picking video:",e),c.default.alert("Error","Failed to pick video.")}},style:K.emptyStateButton})]}),(0,U.jsx)(u.default,{visible:fe,transparent:!0,animationType:"slide",children:(0,U.jsx)(s.default,{style:K.modalOverlay,children:(0,U.jsxs)(s.default,{style:[K.modalContent,{backgroundColor:e.card}],children:[(0,U.jsx)(a.default,{style:[K.modalTitle,{color:e.text}],children:"Export Video"}),(0,U.jsx)(i.default,{style:[K.exportOption,{backgroundColor:e.background}],onPress:()=>he("720p"),children:(0,U.jsx)(a.default,{style:[K.exportOptionText,{color:e.text}],children:"720p HD"})}),(0,U.jsx)(i.default,{style:[K.exportOption,{backgroundColor:e.background}],onPress:()=>he("1080p"),children:(0,U.jsx)(a.default,{style:[K.exportOptionText,{color:e.text}],children:"1080p Full HD"})}),(0,U.jsx)(i.default,{style:[K.exportOption,{backgroundColor:e.background}],onPress:()=>he("4K"),children:(0,U.jsx)(a.default,{style:[K.exportOptionText,{color:e.text}],children:"4K Ultra HD"})}),(0,U.jsx)(i.default,{style:[K.modalCancel,{backgroundColor:e.background}],onPress:()=>ge(!1),children:(0,U.jsx)(a.default,{style:[K.modalCancelText,{color:e.textSecondary}],children:"Cancel"})})]})})})]})}const K=n.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},headerButton:{padding:8},headerActions:{flexDirection:"row",alignItems:"center",gap:8},emptyState:{flex:1,justifyContent:"center",alignItems:"center",gap:16},emptyStateTitle:{fontSize:20,fontWeight:"600"},emptyStateButton:{marginTop:16},canvas:{flex:1,padding:16},videoPreview:{flex:1,borderRadius:12,overflow:"hidden",position:"relative"},videoImage:{width:"100%",height:"100%"},playOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center"},timeline:{paddingHorizontal:16,paddingVertical:12},timelineHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},timelineTime:{fontSize:14,fontWeight:"600"},playbackControls:{flexDirection:"row",alignItems:"center",gap:16},playbackButton:{padding:4},timelineTrack:{height:4,borderRadius:2,position:"relative"},timelineProgress:{height:"100%",borderRadius:2},timelinePlayhead:{position:"absolute",top:-4,width:12,height:12,borderRadius:6,marginLeft:-6},toolbar:{paddingVertical:12},toolbarContent:{paddingHorizontal:16,gap:8},toolButton:{flexDirection:"column",alignItems:"center",paddingHorizontal:16,paddingVertical:8,borderRadius:8,gap:4},toolButtonText:{fontSize:10,fontWeight:"600"},toolPanel:{height:180,borderTopWidth:1,borderTopColor:"#333"},toolContent:{padding:16},filterItem:{alignItems:"center",marginRight:16,borderRadius:8,padding:4},filterPreview:{width:60,height:60,borderRadius:8,marginBottom:4},filterName:{fontSize:12},adjustmentItem:{marginBottom:16},adjustmentLabel:{fontSize:14,fontWeight:"600",marginBottom:8},sliderContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},sliderValue:{fontSize:12},effectItem:{alignItems:"center",padding:12,borderRadius:8,marginRight:12,minWidth:80},effectName:{fontSize:12,marginTop:4},transitionItem:{alignItems:"center",padding:12,borderRadius:8,marginRight:12,minWidth:80},transitionName:{fontSize:12,marginTop:4},addButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:16,borderRadius:12,gap:8},addButtonText:{fontSize:14,fontWeight:"600"},trimTimeline:{height:60,borderRadius:8,position:"relative",marginBottom:8},trimHandle:{position:"absolute",top:0,bottom:0,width:4,left:0},trimInfo:{fontSize:12,textAlign:"center"},modalOverlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"flex-end"},modalContent:{borderTopLeftRadius:20,borderTopRightRadius:20,padding:24},modalTitle:{fontSize:20,fontWeight:"700",marginBottom:20},exportOption:{padding:16,borderRadius:12,marginBottom:12},exportOptionText:{fontSize:16,fontWeight:"600",textAlign:"center"},modalCancel:{padding:16,borderRadius:12,marginTop:8},modalCancelText:{fontSize:16,textAlign:"center"}})},92031:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(15648),d=o(16773),c=o(49637),u=o(49582),f=o(25924),g=o(34927),h=o(54407),m=o(43316),p=o(93861),y=o(67236),x=o(90046),b=o(67026),j=o(60397);function C(){const{id:e}=(0,c.useLocalSearchParams)(),{isAuthenticated:t,user:o}=(0,f.useAuth)(),[n,C]=(0,r.useState)([]),[S,v]=(0,r.useState)([]),[k,I]=(0,r.useState)(""),[T,B]=(0,r.useState)({});(0,r.useEffect)((()=>{if(!t)return void c.router.replace("/auth");const o=b.mockUsers.filter((t=>t.id!==e));C(o),v(o);const r={};o.forEach((e=>{r[e.id]=Math.random()>.5})),B(r)}),[e,t]),(0,r.useEffect)((()=>{if(""===k.trim())v(n);else{const e=n.filter((e=>e.username.toLowerCase().includes(k.toLowerCase())||e.displayName.toLowerCase().includes(k.toLowerCase())));v(e)}}),[k,n]);return(0,j.jsxs)(s.default,{style:w.container,children:[(0,j.jsx)(c.Stack.Screen,{options:{title:"Followers",headerStyle:{backgroundColor:u.Colors.background},headerTitleStyle:{color:u.Colors.text},headerTintColor:u.Colors.text,headerLeft:()=>(0,j.jsx)(l.default,{onPress:()=>c.router.back(),style:w.headerBackButton,children:(0,j.jsx)(p.default,{size:24,color:u.Colors.text})})}}),(0,j.jsx)(s.default,{style:w.searchContainer,children:(0,j.jsxs)(s.default,{style:w.searchInputContainer,children:[(0,j.jsx)(y.default,{size:20,color:u.Colors.textSecondary}),(0,j.jsx)(d.default,{style:w.searchInput,placeholder:"Search followers...",placeholderTextColor:u.Colors.textSecondary,value:k,onChangeText:I}),k.length>0&&(0,j.jsx)(l.default,{onPress:()=>I(""),children:(0,j.jsx)(x.default,{size:20,color:u.Colors.textSecondary})})]})}),(0,j.jsx)(i.default,{data:S,keyExtractor:e=>e.id,renderItem:({item:e})=>{const t=T[e.id],r=o?.id===e.id,n=b.mockUsers.slice(0,Math.floor(3*Math.random())+1),i=n.length;return(0,j.jsxs)(l.default,{style:w.followerItem,onPress:()=>{return t=e.id,void c.router.push(`/user/${t}`);var t},children:[(0,j.jsx)(g.Avatar,{uri:e.profileImage,size:48}),(0,j.jsxs)(s.default,{style:w.followerInfo,children:[(0,j.jsxs)(s.default,{style:w.followerNameRow,children:[(0,j.jsx)(a.default,{style:w.followerDisplayName,children:e.displayName}),e.isVerified&&(0,j.jsx)(h.VerifiedBadge,{size:16})]}),(0,j.jsxs)(a.default,{style:w.followerUsername,children:["@",e.username]}),i>0&&(0,j.jsxs)(a.default,{style:w.mutualText,children:["Followed by ",n[0].username,i>1&&` & ${i-1} other${i>2?"s":""}`]})]}),!r&&(0,j.jsx)(m.Button,{title:t?"Following":"Follow",onPress:()=>{return t=e.id,void B((e=>Object.assign({},e,{[t]:!e[t]})));var t},style:[w.followButton,t&&w.followingButton],textStyle:[w.followButtonText,t&&w.followingButtonText]})]})},contentContainerStyle:w.listContent,showsVerticalScrollIndicator:!1,ListEmptyComponent:(0,j.jsx)(s.default,{style:w.emptyContainer,children:(0,j.jsx)(a.default,{style:w.emptyText,children:k?"No followers found":"No followers yet"})})})]})}const w=n.default.create({container:{flex:1,backgroundColor:u.Colors.background},headerBackButton:{marginLeft:16},searchContainer:{padding:16,borderBottomWidth:1,borderBottomColor:u.Colors.border},searchInputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:u.Colors.cardLight,borderRadius:12,paddingHorizontal:12,height:44},searchInput:{flex:1,marginLeft:8,fontSize:16,color:u.Colors.text},listContent:{paddingVertical:8},followerItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12},followerInfo:{flex:1,marginLeft:12},followerNameRow:{flexDirection:"row",alignItems:"center",gap:4,marginBottom:2},followerDisplayName:{color:u.Colors.text,fontSize:16,fontWeight:"600"},followerUsername:{color:u.Colors.textSecondary,fontSize:14,marginBottom:2},mutualText:{color:u.Colors.textSecondary,fontSize:12,marginTop:2},followButton:{paddingHorizontal:20,paddingVertical:8,minWidth:100},followingButton:{backgroundColor:u.Colors.cardLight},followButtonText:{fontSize:14},followingButtonText:{color:u.Colors.text},emptyContainer:{padding:40,alignItems:"center"},emptyText:{color:u.Colors.textSecondary,fontSize:16}})},94372:(e,t,o)=>{"use strict";o.r(t),o.d(t,{RateLimiter:()=>a,SecurityUtils:()=>n});var r=o(47640);class n{static ENCRYPTION_KEY="vibesync_secure_key_v1";static async encryptData(e){try{const t=(new TextEncoder).encode(e);return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")}catch(t){return console.error("Encryption error:",t),e}}static async decryptData(e){try{if(!e||""===e.trim())return"";const t=e,o=new Uint8Array(t.length/2);for(let e=0;e<o.length;e++)o[e]=parseInt(t.substr(2*e,2),16);return new TextDecoder("utf-8").decode(o)}catch(t){return console.error("Decryption error:",t),e}}static async secureStore(e,t){try{const o=await this.encryptData(t);await r.default.setItem(`secure_${e}`,o)}catch(o){throw console.error("Secure store error:",o),o}}static async secureRetrieve(e){try{const t=await r.default.getItem(`secure_${e}`);return t?await this.decryptData(t):null}catch(t){return console.error("Secure retrieve error:",t),null}}static async secureRemove(e){try{await r.default.removeItem(`secure_${e}`)}catch(t){console.error("Secure remove error:",t)}}static sanitizeInput(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim()}static validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static validatePassword(e){const t=[];return e.length<8&&t.push("Password must be at least 8 characters"),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e)||t.push("Password must contain at least one number"),/[!@#$%^&*]/.test(e)||t.push("Password must contain at least one special character"),{valid:0===t.length,errors:t}}static generateSecureToken(){const e=new Uint8Array(32);if("undefined"!==typeof crypto)crypto.getRandomValues(e);else for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return Array.from(e,(e=>e.toString(16).padStart(2,"0"))).join("")}static hashData(e){let t=0;for(let o=0;o<e.length;o++){t=(t<<5)-t+e.charCodeAt(o),t|=0}return t.toString(36)}static isTokenExpired(e){return Date.now()>=e}static getTokenExpiryTime(e=36e5){return Date.now()+e}}class a{attempts=new Map;constructor(e=5,t=6e4){this.maxAttempts=e,this.windowMs=t}canAttempt(e){const t=Date.now(),o=this.attempts.get(e);return!o||t>o.resetTime?(this.attempts.set(e,{count:1,resetTime:t+this.windowMs}),!0):!(o.count>=this.maxAttempts)&&(o.count++,!0)}getRemainingAttempts(e){const t=this.attempts.get(e);return!t||Date.now()>t.resetTime?this.maxAttempts:Math.max(0,this.maxAttempts-t.count)}reset(e){this.attempts.delete(e)}}},94870:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>M});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(51690),d=o(49637),c=o(25924),u=o(36412),f=o(34927),g=o(54407),h=o(51226),m=o(16773),p=o(78833),y=o(90419),x=o(14589),b=o(13854),j=o(37286),C=o(50263),w=o(46422),S=o(76266),v=o(60397);const k=({comment:e,postAuthorId:t,onLike:o,onReply:r,onUserPress:n,depth:l=0,isExpanded:d=!1,onToggleExpand:h,replyingTo:p,replyText:T,onReplyTextChange:B,onSubmitReply:z,onCancelReply:F})=>{const{colors:P}=(0,u.useTheme)(),{user:D}=(0,c.useAuth)(),A=e.userId===t,R=e.replies&&e.replies.length>0,V=l<2,L=40*l;return(0,v.jsxs)(s.default,{style:[I.container,{marginLeft:L}],children:[(0,v.jsxs)(s.default,{style:[I.commentWrapper,{borderBottomColor:P.border},A&&{borderLeftColor:P.primary,borderLeftWidth:2}],children:[(0,v.jsx)(i.default,{onPress:()=>n?.(e.userId),children:(0,v.jsx)(f.Avatar,{uri:e.profileImage,size:l>0?32:36})}),(0,v.jsxs)(s.default,{style:I.content,children:[(0,v.jsxs)(s.default,{style:I.header,children:[(0,v.jsxs)(i.default,{style:I.userInfo,onPress:()=>n?.(e.userId),children:[(0,v.jsx)(a.default,{style:[I.username,{color:P.text}],children:e.userDisplayName}),e.isVerified&&(0,v.jsx)(g.VerifiedBadge,{size:12}),A&&(0,v.jsx)(s.default,{style:[I.authorBadge,{backgroundColor:P.primary}],children:(0,v.jsx)(a.default,{style:I.authorText,children:"Author"})})]}),(0,v.jsx)(a.default,{style:[I.timestamp,{color:P.textSecondary}],children:e.timestamp})]}),e.content&&(0,v.jsx)(a.default,{style:[I.commentText,{color:P.text}],children:e.content}),e.voiceNote&&(0,v.jsx)(s.default,{style:I.voiceContainer,children:(0,v.jsx)(y.VoicePlayer,{url:e.voiceNote.url,duration:e.voiceNote.duration,waveform:e.voiceNote.waveform,size:"small"})}),e.isAuthorLiked&&(0,v.jsxs)(s.default,{style:I.authorInteraction,children:[(0,v.jsx)(x.default,{size:14,color:P.primary,fill:P.primary}),(0,v.jsx)(a.default,{style:[I.authorInteractionText,{color:P.primary}],children:"Liked by Author"})]}),(0,v.jsxs)(s.default,{style:I.actions,children:[(0,v.jsxs)(i.default,{style:I.actionButton,onPress:()=>o?.(e.id),children:[(0,v.jsx)(b.default,{size:16,color:e.isLiked?P.error:P.textSecondary,fill:e.isLiked?P.error:"transparent"}),e.likes>0&&(0,v.jsx)(a.default,{style:[I.actionText,{color:P.textSecondary}],children:(O=e.likes,O>=1e6?(O/1e6).toFixed(1).replace(/\.0$/,"")+"M":O>=1e3?(O/1e3).toFixed(1).replace(/\.0$/,"")+"K":O.toString())})]}),V&&(0,v.jsxs)(i.default,{style:I.actionButton,onPress:()=>r?.(e.id),children:[(0,v.jsx)(j.default,{size:16,color:P.textSecondary}),(0,v.jsx)(a.default,{style:[I.actionText,{color:P.textSecondary}],children:"Reply"})]}),R&&(0,v.jsxs)(i.default,{style:I.actionButton,onPress:h,children:[d?(0,v.jsx)(C.default,{size:16,color:P.primary}):(0,v.jsx)(w.default,{size:16,color:P.primary}),(0,v.jsxs)(a.default,{style:[I.actionText,{color:P.primary}],children:[e.replies?.length," ",1===e.replies?.length?"reply":"replies"]})]})]}),p===e.id&&(0,v.jsxs)(s.default,{style:[I.replyInputContainer,{backgroundColor:P.background}],children:[(0,v.jsx)(f.Avatar,{uri:D?.profileImage,size:28}),(0,v.jsx)(m.default,{value:T,onChangeText:B,placeholder:`Reply to ${e.userDisplayName}...`,placeholderTextColor:P.textSecondary,style:[I.replyInput,{color:P.text,borderColor:P.border}],multiline:!0,maxLength:300,autoFocus:!0}),(0,v.jsx)(i.default,{style:[I.replyButton,{backgroundColor:P.primary}],onPress:()=>z?.(e.id),disabled:!T?.trim(),children:(0,v.jsx)(S.default,{size:14,color:"#FFFFFF"})}),(0,v.jsx)(i.default,{style:I.cancelButton,onPress:F,children:(0,v.jsx)(a.default,{style:[I.cancelText,{color:P.textSecondary}],children:"Cancel"})})]})]})]}),d&&R&&(0,v.jsx)(s.default,{style:I.repliesContainer,children:e.replies?.map((e=>(0,v.jsx)(k,{comment:e,postAuthorId:t,onLike:o,onReply:r,onUserPress:n,depth:l+1,isExpanded:!1,replyingTo:p,replyText:T,onReplyTextChange:B,onSubmitReply:z,onCancelReply:F},e.id)))})]});var O},I=n.default.create({container:{width:"100%"},commentWrapper:{flexDirection:"row",paddingVertical:12,paddingHorizontal:16,gap:12,borderBottomWidth:1},content:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:4},userInfo:{flexDirection:"row",alignItems:"center",gap:6},username:{fontSize:14,fontWeight:"600"},authorBadge:{paddingHorizontal:6,paddingVertical:2,borderRadius:4},authorText:{fontSize:10,fontWeight:"700",color:"#FFFFFF"},timestamp:{fontSize:12},commentText:{fontSize:14,lineHeight:20,marginBottom:8},voiceContainer:{marginBottom:8},authorInteraction:{flexDirection:"row",alignItems:"center",gap:4,marginBottom:8,paddingVertical:4,paddingHorizontal:8,alignSelf:"flex-start",borderRadius:12,backgroundColor:"rgba(255, 107, 0, 0.1)"},authorInteractionText:{fontSize:12,fontWeight:"600"},actions:{flexDirection:"row",alignItems:"center",gap:16,marginTop:4},actionButton:{flexDirection:"row",alignItems:"center",gap:4},actionText:{fontSize:12,fontWeight:"500"},repliesContainer:{marginTop:0},replyInputContainer:{flexDirection:"row",alignItems:"center",gap:8,marginTop:12,padding:8,borderRadius:12},replyInput:{flex:1,fontSize:13,paddingVertical:6,paddingHorizontal:12,borderWidth:1,borderRadius:16,maxHeight:60},replyButton:{width:32,height:32,borderRadius:16,justifyContent:"center",alignItems:"center"},cancelButton:{paddingHorizontal:8},cancelText:{fontSize:12,fontWeight:"500"}});var T=o(90046),B=o(34253),z=o(11022),F=o(99323);const P=({comments:e,postAuthorId:t,onCommentLike:o,onCommentReply:n,onUserPress:l,onPostComment:d})=>{const{colors:g}=(0,u.useTheme)(),{user:y}=(0,c.useAuth)(),x=(0,p.useSafeAreaInsets)(),[b,j]=(0,r.useState)(""),[C,w]=(0,r.useState)(null),[I,P]=(0,r.useState)(""),[A,R]=(0,r.useState)(!1),[V,L]=(0,r.useState)(null),[O,W]=(0,r.useState)(0),[E,M]=(0,r.useState)([]),[N,H]=(0,r.useState)(new Set),U=y?.id===t,q=()=>{R(!1),L(null),W(0),M([])},_=e=>{I.trim()&&(n(e,I),P(""),w(null))};return(0,v.jsxs)(s.default,{style:D.container,children:[(0,v.jsx)(h.default,{data:e,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,v.jsx)(k,{comment:e,postAuthorId:t,onLike:o,onReply:e=>w(e),onUserPress:l,isExpanded:N.has(e.id),onToggleExpand:()=>(e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),H(t)})(e.id),depth:0,replyingTo:C,replyText:I,onReplyTextChange:P,onSubmitReply:_,onCancelReply:()=>w(null)}),showsVerticalScrollIndicator:!1,contentContainerStyle:D.listContent,ListEmptyComponent:(0,v.jsxs)(s.default,{style:D.emptyState,children:[(0,v.jsx)(a.default,{style:[D.emptyText,{color:g.text}],children:"No comments yet"}),(0,v.jsx)(a.default,{style:[D.emptySubtext,{color:g.textSecondary}],children:"Be the first to comment!"})]})}),A?(0,v.jsx)(s.default,{style:[D.voiceRecorderContainer,{backgroundColor:g.card,borderTopColor:g.border,paddingBottom:x.bottom}],children:(0,v.jsx)(z.VoiceNoteRecorder,{maxDuration:30,onRecordingComplete:(e,t,o)=>{L(e),W(t),M(o),R(!1)},onCancel:q})}):(0,v.jsxs)(s.default,{style:[D.inputContainer,{backgroundColor:g.card,borderTopColor:g.border,paddingBottom:Math.max(x.bottom,16)}],children:[(0,v.jsx)(f.Avatar,{uri:y?.profileImage,size:36,style:D.inputAvatar}),V?(0,v.jsxs)(s.default,{style:D.voicePreviewContainer,children:[(0,v.jsx)(F.VoiceNotePlayer,{uri:V,duration:O,waveform:E,size:"small"}),(0,v.jsx)(i.default,{style:[D.removeVoiceButton,{backgroundColor:g.error}],onPress:q,children:(0,v.jsx)(T.default,{size:16,color:"#FFFFFF"})})]}):(0,v.jsx)(m.default,{value:b,onChangeText:j,placeholder:"Add a comment...",placeholderTextColor:g.textSecondary,multiline:!0,maxLength:500,style:[D.input,{backgroundColor:g.background,color:g.text}]}),U&&!V&&(0,v.jsx)(i.default,{style:[D.voiceButton,{backgroundColor:g.primary+"20"}],onPress:()=>R(!0),children:(0,v.jsx)(B.default,{size:20,color:g.primary})}),(0,v.jsx)(i.default,{style:[D.sendButton,{backgroundColor:g.primary},!b.trim()&&!V&&D.sendButtonDisabled],onPress:()=>{(b.trim()||V)&&(V?d("",!0,{url:V,duration:O,waveform:E}):d(b,!1),j(""),L(null),W(0),M([]))},disabled:!b.trim()&&!V,children:(0,v.jsx)(S.default,{size:18,color:"#FFFFFF"})})]})]})},D=n.default.create({container:{flex:1},listContent:{paddingBottom:20},emptyState:{padding:40,alignItems:"center"},emptyText:{fontSize:16,fontWeight:"600",marginBottom:4},emptySubtext:{fontSize:14},inputContainer:{flexDirection:"row",alignItems:"flex-end",padding:16,borderTopWidth:1,gap:8},inputAvatar:{marginBottom:4},input:{flex:1,borderRadius:20,paddingHorizontal:16,paddingVertical:10,fontSize:14,maxHeight:80},voiceButton:{width:40,height:40,borderRadius:20,justifyContent:"center",alignItems:"center"},sendButton:{width:40,height:40,borderRadius:20,justifyContent:"center",alignItems:"center"},sendButtonDisabled:{opacity:.5},voiceRecorderContainer:{padding:16,borderTopWidth:1},voicePreviewContainer:{flex:1,flexDirection:"row",alignItems:"center",gap:8},removeVoiceButton:{width:32,height:32,borderRadius:16,justifyContent:"center",alignItems:"center"}});var A=o(93861),R=o(308),V=o(25786),L=o(29621),O=o(10038);const W=({text:e,style:t,onUserPress:o,onHashtagPress:r})=>{const{colors:n}=(0,u.useTheme)();return(0,v.jsx)(a.default,{style:E.container,children:(e=>{const s=[],l=/(#\w+|@\w+)/g;let c,u=0;for(;null!==(c=l.exec(e));){c.index>u&&s.push((0,v.jsx)(a.default,{style:[E.normalText,{color:n.text},t],children:e.slice(u,c.index)},`text-${u}`));const f=c[0].startsWith("#"),g=c[0].startsWith("@");s.push((0,v.jsx)(i.default,{onPress:()=>{if(c&&f){const e=c[0].slice(1);r?r(e):d.router.push(`/hashtag/${e}`)}else if(c&&g){const e=c[0].slice(1);o?o(e):d.router.push(`/user/${e}`)}},children:(0,v.jsx)(a.default,{style:[E.linkText,{color:f?"#1DA1F2":n.primary},t],children:c[0]})},`link-${c.index}`)),u=l.lastIndex}return u<e.length&&s.push((0,v.jsx)(a.default,{style:[E.normalText,{color:n.text},t],children:e.slice(u)},`text-${u}`)),s.length>0?s:[(0,v.jsx)(a.default,{style:[E.normalText,{color:n.text},t],children:e},"full-text")]})(e)})},E=n.default.create({container:{flexDirection:"row",flexWrap:"wrap"},normalText:{fontSize:14,lineHeight:20},linkText:{fontSize:14,lineHeight:20,fontWeight:"600"}});function M(){const{id:e,scrollToComments:t}=(0,d.useLocalSearchParams)(),o=(0,r.useRef)(null),{isAuthenticated:n,user:h}=(0,c.useAuth)(),{colors:m}=(0,u.useTheme)(),[p,y]=(0,r.useState)(null),[x,C]=(0,r.useState)([]),[w,S]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[T,B]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),[M,H]=(0,r.useState)(0),[U,q]=(0,r.useState)(0),[_,$]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!n)return void d.router.replace("/auth");const r=L.mockPosts.find((t=>t.id===e));if(r){y(r);const n=O.mockComments.filter((t=>t.postId===e));C(n),H(r.likes),q(r.shares),"true"===t&&setTimeout((()=>{o.current?.scrollToEnd({animated:!0})}),300)}}),[e,n,t]);const Y=e=>{d.router.push(`/user/${e}`)};return p?(0,v.jsxs)(s.default,{style:[N.container,{backgroundColor:m.background}],children:[(0,v.jsx)(d.Stack.Screen,{options:{title:"Post",headerStyle:{backgroundColor:m.background},headerTitleStyle:{color:m.text},headerTintColor:m.text,headerLeft:()=>(0,v.jsx)(i.default,{onPress:()=>d.router.back(),style:N.headerBackButton,children:(0,v.jsx)(A.default,{size:24,color:m.text})})}}),(0,v.jsxs)(s.default,{style:N.headerContainer,children:[(0,v.jsx)(s.default,{style:[N.postHeader,{borderBottomColor:m.border}],children:(0,v.jsxs)(i.default,{style:N.userInfo,onPress:()=>Y(p.userId),children:[(0,v.jsx)(f.Avatar,{uri:p.profileImage,size:48}),(0,v.jsxs)(s.default,{style:N.nameContainer,children:[(0,v.jsxs)(s.default,{style:N.nameRow,children:[(0,v.jsx)(a.default,{style:[N.displayName,{color:m.text}],children:p.username}),p.isVerified&&(0,v.jsx)(g.VerifiedBadge,{size:16})]}),(0,v.jsxs)(a.default,{style:[N.username,{color:m.textSecondary}],children:["@",p.username]})]})]})}),(0,v.jsxs)(s.default,{style:N.postContent,children:[(0,v.jsx)(W,{text:p.content,style:[N.contentText,{color:m.text}]}),(0,v.jsx)(a.default,{style:[N.timestamp,{color:m.textSecondary}],children:p.timestamp})]}),(0,v.jsxs)(s.default,{style:[N.statsContainer,{borderTopColor:m.border,borderBottomColor:m.border}],children:[(0,v.jsxs)(i.default,{onPress:()=>$("likes"),style:N.statItem,children:[(0,v.jsx)(a.default,{style:[N.statNumber,{color:m.text}],children:M}),(0,v.jsx)(a.default,{style:[N.statLabel,{color:m.textSecondary}],children:"Likes"})]}),(0,v.jsxs)(i.default,{onPress:()=>$("reposts"),style:N.statItem,children:[(0,v.jsx)(a.default,{style:[N.statNumber,{color:m.text}],children:U}),(0,v.jsx)(a.default,{style:[N.statLabel,{color:m.textSecondary}],children:"Reposts"})]}),(0,v.jsxs)(s.default,{style:N.statItem,children:[(0,v.jsx)(a.default,{style:[N.statNumber,{color:m.text}],children:p.views}),(0,v.jsx)(a.default,{style:[N.statLabel,{color:m.textSecondary}],children:"Views"})]})]}),(0,v.jsxs)(s.default,{style:[N.actionsContainer,{borderBottomColor:m.border}],children:[(0,v.jsx)(i.default,{style:N.actionButton,onPress:()=>{F(!z),H((e=>z?e-1:e+1))},children:(0,v.jsx)(b.default,{size:22,color:z?m.error:m.textSecondary,fill:z?m.error:"transparent"})}),(0,v.jsx)(i.default,{style:N.actionButton,onPress:()=>{},children:(0,v.jsx)(j.default,{size:22,color:m.textSecondary})}),(0,v.jsx)(i.default,{style:N.actionButton,onPress:()=>{E(!D),q((e=>D?e-1:e+1)),l.default.alert("Success",D?"Repost removed":"Post reposted!")},children:(0,v.jsx)(R.default,{size:22,color:D?m.success:m.textSecondary})}),(0,v.jsx)(i.default,{style:N.actionButton,onPress:()=>{l.default.alert("Share","Share functionality")},children:(0,v.jsx)(V.default,{size:22,color:m.textSecondary})})]}),(0,v.jsx)(s.default,{style:[N.commentsHeader,{borderTopColor:m.border}],children:(0,v.jsxs)(a.default,{style:[N.commentsTitle,{color:m.text}],children:["Comments (",x.length,")"]})})]}),(0,v.jsx)(P,{comments:x,postAuthorId:p.userId,onCommentLike:e=>{C((t=>t.map((t=>t.id===e?Object.assign({},t,{isLiked:!t.isLiked,likes:t.isLiked?t.likes-1:t.likes+1}):t))))},onCommentReply:(t,o,r,n)=>{if(!h)return;const a={id:Date.now().toString(),postId:e||"",userId:h.id,username:h.username,userDisplayName:h.displayName,profileImage:h.profileImage,isVerified:h.isVerified,content:r?"":o,voiceNote:r?n:void 0,timestamp:"Just now",likes:0,isLiked:!1};C((e=>e.map((e=>e.id===t?Object.assign({},e,{replies:[...e.replies||[],a]}):e))))},onUserPress:Y,onPostComment:(t,o,r)=>{if(!h)return;const n={id:Date.now().toString(),postId:e||"",userId:h.id,username:h.username,userDisplayName:h.displayName,profileImage:h.profileImage,isVerified:h.isVerified,content:o?"":t,voiceNote:o?r:void 0,timestamp:"Just now",likes:0,isLiked:!1};C((e=>[n,...e])),l.default.alert("Success",o?"Voice comment posted!":"Comment posted!")}})]}):(0,v.jsxs)(s.default,{style:[N.errorContainer,{backgroundColor:m.background}],children:[(0,v.jsx)(a.default,{style:[N.errorText,{color:m.text}],children:"Post not found"}),(0,v.jsx)(i.default,{onPress:()=>d.router.back(),style:[N.backButton,{backgroundColor:m.primary}],children:(0,v.jsx)(a.default,{style:[N.backButtonText,{color:m.textInverse}],children:"Go Back"})})]})}const N=n.default.create({container:{flex:1},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,marginBottom:20},backButton:{paddingVertical:12,paddingHorizontal:24,borderRadius:24},backButtonText:{fontSize:16,fontWeight:"600"},headerBackButton:{marginLeft:16},postHeader:{padding:16,borderBottomWidth:1},userInfo:{flexDirection:"row",alignItems:"center"},nameContainer:{marginLeft:12},nameRow:{flexDirection:"row",alignItems:"center",gap:4},displayName:{fontSize:16,fontWeight:"700"},username:{fontSize:14,marginTop:2},postContent:{padding:16},contentText:{fontSize:16,lineHeight:24,marginBottom:12},timestamp:{fontSize:14},statsContainer:{flexDirection:"row",paddingVertical:12,paddingHorizontal:16,borderTopWidth:1,borderBottomWidth:1,gap:24},statItem:{flexDirection:"row",alignItems:"center",gap:4},statNumber:{fontSize:16,fontWeight:"700"},statLabel:{fontSize:14},actionsContainer:{flexDirection:"row",justifyContent:"space-around",paddingVertical:12,borderBottomWidth:1},actionButton:{padding:8},headerContainer:{backgroundColor:"transparent"},commentsHeader:{padding:16,borderTopWidth:1},commentsTitle:{fontSize:18,fontWeight:"600"}})},95939:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(2772),d=o(16773),c=o(82660),u=o(78833),f=o(49637),g=o(64584),h=o(14589),m=o(7592),p=o(67236),y=o(35647),x=o(59542),b=o(36412),j=o(88885),C=o(60397);function w(){const{colors:e}=(0,b.useTheme)(),t=(0,u.useSafeAreaInsets)(),{activeSpills:o,scheduledSpills:n,joinSpill:w}=(0,j.useSpill)(),[v,k]=(0,r.useState)(""),[I,T]=(0,r.useState)(!1),[B,z]=(0,r.useState)("trending"),F=(0,r.useMemo)((()=>{let e=o.filter((e=>e.isLive));return v&&(e=e.filter((e=>e.topicName.toLowerCase().includes(v.toLowerCase())||e.hostName.toLowerCase().includes(v.toLowerCase())))),"trending"===B?e.sort(((e,t)=>t.listenerCount-e.listenerCount)):"new"===B?e.sort(((e,t)=>t.startedAt.getTime()-e.startedAt.getTime())):e}),[o,v,B]),P=e=>{const t=Math.floor((Date.now()-e.getTime())/1e3);if(t<60)return`${t}s ago`;const o=Math.floor(t/60);if(o<60)return`${o}m ago`;return`${Math.floor(o/60)}h ago`};return(0,C.jsxs)(s.default,{style:[S.container,{backgroundColor:e.background}],children:[(0,C.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),(0,C.jsxs)(s.default,{style:[S.header,{backgroundColor:e.background,borderBottomColor:e.border,paddingTop:t.top+16}],children:[(0,C.jsxs)(s.default,{style:S.headerTop,children:[(0,C.jsx)(a.default,{style:[S.headerTitle,{color:e.text}],children:"Spills"}),(0,C.jsxs)(i.default,{style:[S.startButton,{backgroundColor:e.primary}],onPress:()=>{f.router.push("/spill/start")},children:[(0,C.jsx)(m.default,{size:20,color:"#FFFFFF"}),(0,C.jsx)(a.default,{style:S.startButtonText,children:"Start"})]})]}),(0,C.jsxs)(s.default,{style:[S.searchBar,{backgroundColor:e.card}],children:[(0,C.jsx)(p.default,{size:18,color:e.textSecondary}),(0,C.jsx)(d.default,{style:[S.searchInput,{color:e.text}],placeholder:"Search spills...",placeholderTextColor:e.textSecondary,value:v,onChangeText:k})]}),(0,C.jsxs)(s.default,{style:S.filterRow,children:[(0,C.jsxs)(i.default,{style:[S.filterButton,"trending"===B&&{backgroundColor:e.primary}],onPress:()=>z("trending"),children:[(0,C.jsx)(y.default,{size:16,color:"trending"===B?"#FFFFFF":e.textSecondary}),(0,C.jsx)(a.default,{style:[S.filterText,{color:"trending"===B?"#FFFFFF":e.textSecondary}],children:"Trending"})]}),(0,C.jsxs)(i.default,{style:[S.filterButton,"new"===B&&{backgroundColor:e.primary}],onPress:()=>z("new"),children:[(0,C.jsx)(h.default,{size:16,color:"new"===B?"#FFFFFF":e.textSecondary}),(0,C.jsx)(a.default,{style:[S.filterText,{color:"new"===B?"#FFFFFF":e.textSecondary}],children:"New"})]}),(0,C.jsxs)(i.default,{style:[S.filterButton,"scheduled"===B&&{backgroundColor:e.primary}],onPress:()=>z("scheduled"),children:[(0,C.jsx)(g.default,{size:16,color:"scheduled"===B?"#FFFFFF":e.textSecondary}),(0,C.jsx)(a.default,{style:[S.filterText,{color:"scheduled"===B?"#FFFFFF":e.textSecondary}],children:"Scheduled"})]})]})]}),(0,C.jsx)(l.default,{style:S.content,refreshControl:(0,C.jsx)(c.default,{refreshing:I,onRefresh:async()=>{T(!0),setTimeout((()=>T(!1)),1e3)},tintColor:e.primary}),children:"scheduled"===B?(0,C.jsxs)(s.default,{style:S.section,children:[(0,C.jsx)(a.default,{style:[S.sectionTitle,{color:e.text}],children:"Upcoming Spills"}),0===n.length?(0,C.jsxs)(s.default,{style:S.emptyState,children:[(0,C.jsx)(g.default,{size:48,color:e.textSecondary}),(0,C.jsx)(a.default,{style:[S.emptyText,{color:e.textSecondary}],children:"No scheduled spills yet"})]}):n.map((t=>(0,C.jsxs)(s.default,{style:[S.scheduledCard,{backgroundColor:e.card}],children:[(0,C.jsxs)(s.default,{style:S.scheduledHeader,children:[(0,C.jsx)(a.default,{style:[S.scheduledTopic,{color:e.text}],children:t.topicName}),(0,C.jsxs)(s.default,{style:[S.scheduledBadge,{backgroundColor:e.primary+"20"}],children:[(0,C.jsx)(g.default,{size:12,color:e.primary}),(0,C.jsx)(a.default,{style:[S.scheduledBadgeText,{color:e.primary}],children:"Scheduled"})]})]}),(0,C.jsxs)(a.default,{style:[S.scheduledHost,{color:e.textSecondary}],children:["Hosted by ",t.hostName]}),(0,C.jsx)(a.default,{style:[S.scheduledTime,{color:e.text}],children:t.scheduledFor.toLocaleString()})]},t.id)))]}):(0,C.jsx)(s.default,{style:S.section,children:0===F.length?(0,C.jsxs)(s.default,{style:S.emptyState,children:[(0,C.jsx)(x.default,{size:48,color:e.textSecondary}),(0,C.jsx)(a.default,{style:[S.emptyText,{color:e.textSecondary}],children:v?"No spills found":"No live spills right now"}),(0,C.jsx)(a.default,{style:[S.emptySubtext,{color:e.textSecondary}],children:v?"Try a different search":"Be the first to start one!"})]}):F.map((t=>{const o=t.listenerCount>1e3;return(0,C.jsxs)(i.default,{style:[S.spillCard,{backgroundColor:e.card}],onPress:()=>{return e=t.id,w(e),void f.router.push(`/spill/${e}`);var e},activeOpacity:.8,children:[(0,C.jsxs)(s.default,{style:S.spillHeader,children:[(0,C.jsxs)(s.default,{style:S.spillTitleRow,children:[o&&(0,C.jsx)(s.default,{style:[S.hotBadge,{backgroundColor:e.error}],children:(0,C.jsx)(h.default,{size:12,color:"#FFFFFF"})}),(0,C.jsx)(a.default,{style:[S.spillTopic,{color:e.text}],numberOfLines:1,children:t.topicName})]}),(0,C.jsxs)(s.default,{style:[S.liveIndicator,{backgroundColor:e.error}],children:[(0,C.jsx)(s.default,{style:S.livePulse}),(0,C.jsx)(a.default,{style:S.liveText,children:"LIVE"})]})]}),(0,C.jsxs)(s.default,{style:S.spillInfo,children:[(0,C.jsxs)(s.default,{style:S.hostInfo,children:[(0,C.jsx)(s.default,{style:[S.hostAvatar,{backgroundColor:e.border}],children:(0,C.jsx)(a.default,{style:[S.hostInitial,{color:e.text}],children:t.hostName[0].toUpperCase()})}),(0,C.jsxs)(s.default,{style:S.hostDetails,children:[(0,C.jsx)(a.default,{style:[S.hostName,{color:e.text}],numberOfLines:1,children:t.hostName}),(0,C.jsxs)(a.default,{style:[S.spillTime,{color:e.textSecondary}],children:["Started ",P(t.startedAt)]})]})]}),(0,C.jsx)(s.default,{style:S.spillStats,children:(0,C.jsxs)(s.default,{style:S.statItem,children:[(0,C.jsx)(x.default,{size:16,color:e.textSecondary}),(0,C.jsx)(a.default,{style:[S.statText,{color:e.text}],children:(r=t.listenerCount,r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toString())})]})})]}),t.cohosts.length>0&&(0,C.jsx)(s.default,{style:S.cohostsRow,children:(0,C.jsxs)(a.default,{style:[S.cohostsLabel,{color:e.textSecondary}],children:["with ",t.cohosts.map((e=>e.name)).join(", ")]})})]},t.id);var r}))})})]})}const S=n.default.create({container:{flex:1},header:{paddingHorizontal:20,paddingBottom:16,borderBottomWidth:1},headerTop:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:16},headerTitle:{fontSize:28,fontWeight:"700"},startButton:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:8,borderRadius:20,gap:6},startButtonText:{color:"#FFFFFF",fontSize:15,fontWeight:"600"},searchBar:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderRadius:12,marginBottom:16,gap:10},searchInput:{flex:1,fontSize:15},filterRow:{flexDirection:"row",gap:8},filterButton:{flexDirection:"row",alignItems:"center",paddingHorizontal:14,paddingVertical:8,borderRadius:20,gap:6},filterText:{fontSize:14,fontWeight:"600"},content:{flex:1},section:{padding:20},sectionTitle:{fontSize:20,fontWeight:"700",marginBottom:16},spillCard:{padding:16,borderRadius:16,marginBottom:12},spillHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},spillTitleRow:{flexDirection:"row",alignItems:"center",flex:1,gap:8},hotBadge:{width:24,height:24,borderRadius:12,justifyContent:"center",alignItems:"center"},spillTopic:{fontSize:18,fontWeight:"700",flex:1},liveIndicator:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,paddingVertical:4,borderRadius:12,gap:6},livePulse:{width:6,height:6,borderRadius:3,backgroundColor:"#FFFFFF"},liveText:{color:"#FFFFFF",fontSize:11,fontWeight:"700"},spillInfo:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},hostInfo:{flexDirection:"row",alignItems:"center",flex:1,gap:10},hostAvatar:{width:40,height:40,borderRadius:20,justifyContent:"center",alignItems:"center"},hostInitial:{fontSize:16,fontWeight:"600"},hostDetails:{flex:1},hostName:{fontSize:15,fontWeight:"600",marginBottom:2},spillTime:{fontSize:13},spillStats:{flexDirection:"row",gap:12},statItem:{flexDirection:"row",alignItems:"center",gap:4},statText:{fontSize:15,fontWeight:"600"},cohostsRow:{marginTop:8,paddingTop:8,borderTopWidth:1,borderTopColor:"rgba(255,255,255,0.1)"},cohostsLabel:{fontSize:13,fontStyle:"italic"},scheduledCard:{padding:16,borderRadius:12,marginBottom:12},scheduledHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:8},scheduledTopic:{fontSize:17,fontWeight:"700",flex:1},scheduledBadge:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,paddingVertical:4,borderRadius:12,gap:4},scheduledBadgeText:{fontSize:11,fontWeight:"600"},scheduledHost:{fontSize:14,marginBottom:4},scheduledTime:{fontSize:15,fontWeight:"600"},emptyState:{alignItems:"center",paddingVertical:60},emptyText:{fontSize:16,fontWeight:"600",marginTop:16},emptySubtext:{fontSize:14,marginTop:4}})},96046:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>x});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=(o(51690),o(90494)),d=o(49637),c=o(63914),u=o(25924),f=o(34927),g=o(43316),h=o(93861),m=o(13854),p=o(36412),y=o(60397);function x(){const{isAuthenticated:e}=(0,u.useAuth)(),{colors:t}=(0,p.useTheme)(),{notifications:o,unreadCount:n,markAsRead:x,markAllAsRead:j,clearNotifications:C,createMockNotifications:w}=(0,c.useNotifications)();(0,r.useEffect)((()=>{e?0===o.length&&w():d.router.replace("/auth")}),[e,o.length,w]);const S=e=>{const t=new Date,o=new Date(e),r=t.getTime()-o.getTime(),n=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5),i=Math.floor(s/7);return n<1?"now":n<60?`${n}m`:a<24?`${a}h`:s<7?`${s}d`:`${i}w`},v=e=>{switch(e.type){case"follow":return"started following you.";case"like":return"liked your post.";case"comment":return"commented on your post.";case"message":return"sent you a message.";default:return e.message}},k=(()=>{const e=new Date,t=new Date(e.getTime()-6048e5),r=new Date(e.getTime()-2592e6),n=[],a=[];o.forEach((e=>{const o=new Date(e.createdAt);o>=t?n.push(e):o>=r&&a.push(e)}));const s=[];return n.length>0&&s.push({title:"Last 7 days",data:n}),a.length>0&&s.push({title:"Last 30 days",data:a}),s})();return(0,y.jsxs)(s.default,{style:[b.container,{backgroundColor:t.background}],children:[(0,y.jsx)(d.Stack.Screen,{options:{headerShown:!0,title:"Notifications",headerStyle:{backgroundColor:t.background},headerTitleStyle:{color:t.text,fontSize:22,fontWeight:"bold"},headerTintColor:t.text,headerLeft:()=>(0,y.jsx)(i.default,{onPress:()=>d.router.push("/(tabs)"),style:b.backButton,children:(0,y.jsx)(h.default,{size:24,color:t.text})})}}),0===o.length?(0,y.jsxs)(s.default,{style:b.emptyContainer,children:[(0,y.jsx)(s.default,{style:[b.emptyIconContainer,{backgroundColor:t.card}],children:(0,y.jsx)(m.default,{size:48,color:t.textSecondary})}),(0,y.jsx)(a.default,{style:[b.emptyTitle,{color:t.text}],children:"No notifications yet"}),(0,y.jsx)(a.default,{style:[b.emptyMessage,{color:t.textSecondary}],children:"When someone likes or comments on your posts, you'll see them here."})]}):(0,y.jsx)(l.default,{sections:k,keyExtractor:e=>e.id,renderItem:({item:e})=>{const o="follow"===e.type;return(0,y.jsxs)(i.default,{style:b.notificationItem,onPress:()=>(e=>{switch(e.isRead||x(e.id),e.type){case"message":d.router.push("/messages");break;case"like":case"comment":e.actionData?.postId&&d.router.push(`/post/${e.actionData.postId}`);break;case"follow":e.actionData?.userId&&d.router.push(`/user/${e.actionData.userId}`);break;case"live":d.router.push("/(tabs)/sync")}})(e),activeOpacity:.7,children:[(0,y.jsx)(f.Avatar,{uri:e.actionData?.userAvatar||"https://i.pravatar.cc/150?img=1",size:44}),(0,y.jsx)(s.default,{style:b.notificationContent,children:(0,y.jsxs)(a.default,{style:[b.notificationText,{color:t.text}],children:[(0,y.jsx)(a.default,{style:b.notificationUsername,children:e.title})," ",(0,y.jsx)(a.default,{style:{color:t.textSecondary},children:v(e)})," ",(0,y.jsx)(a.default,{style:{color:t.textSecondary},children:S(e.createdAt)})]})}),o&&(0,y.jsx)(g.Button,{title:"Follow",onPress:()=>console.log("Follow user"),style:b.followButton,textStyle:b.followButtonText}),!e.isRead&&(0,y.jsx)(s.default,{style:[b.unreadDot,{backgroundColor:t.primary}]})]})},renderSectionHeader:({section:{title:e}})=>(0,y.jsx)(s.default,{style:[b.sectionHeader,{backgroundColor:t.background}],children:(0,y.jsx)(a.default,{style:[b.sectionTitle,{color:t.text}],children:e})}),showsVerticalScrollIndicator:!1,contentContainerStyle:b.listContainer,stickySectionHeadersEnabled:!1})]})}const b=n.default.create({container:{flex:1},backButton:{marginLeft:16,padding:8},listContainer:{paddingBottom:20},sectionHeader:{paddingHorizontal:16,paddingTop:20,paddingBottom:8},sectionTitle:{fontSize:16,fontWeight:"700"},notificationItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:12,gap:12},notificationContent:{flex:1},notificationText:{fontSize:14,lineHeight:18},notificationUsername:{fontWeight:"600"},followButton:{paddingHorizontal:24,paddingVertical:8,minHeight:32},followButtonText:{fontSize:14,fontWeight:"600"},unreadDot:{width:8,height:8,borderRadius:4},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:40},emptyIconContainer:{width:96,height:96,borderRadius:48,justifyContent:"center",alignItems:"center",marginBottom:16},emptyTitle:{fontSize:22,fontWeight:"700",marginBottom:8,textAlign:"center"},emptyMessage:{fontSize:14,textAlign:"center",lineHeight:20}})},96329:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(16773),d=o(2772),c=o(51690),u=o(61171),f=o(49637),g=o(64584),h=o(3356),m=o(34253),p=o(59542),y=o(90046),x=o(36412),b=o(88885),j=o(60397);function C(){const{colors:e}=(0,x.useTheme)(),{startSpill:t}=(0,b.useSpill)(),[o,n]=(0,r.useState)(""),[C,S]=(0,r.useState)("name");return(0,j.jsxs)(u.SafeAreaView,{style:[w.container,{backgroundColor:e.background}],edges:["top"],children:[(0,j.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),(0,j.jsxs)(s.default,{style:[w.header,{borderBottomColor:e.border}],children:[(0,j.jsx)(i.default,{onPress:()=>f.router.back(),style:w.closeButton,children:(0,j.jsx)(y.default,{size:24,color:e.text})}),(0,j.jsx)(a.default,{style:[w.headerTitle,{color:e.text}],children:"Start a Spill"}),(0,j.jsx)(s.default,{style:w.placeholder})]}),(0,j.jsxs)(d.default,{style:w.content,children:[(0,j.jsxs)(s.default,{style:w.section,children:[(0,j.jsx)(s.default,{style:[w.iconContainer,{backgroundColor:e.primary+"20"}],children:(0,j.jsx)(m.default,{size:32,color:e.primary})}),(0,j.jsx)(a.default,{style:[w.title,{color:e.text}],children:"Start a live audio conversation"}),(0,j.jsx)(a.default,{style:[w.subtitle,{color:e.textSecondary}],children:"Share your thoughts, debate topics, or just chat with your community in real-time"})]}),(0,j.jsxs)(s.default,{style:w.section,children:[(0,j.jsx)(a.default,{style:[w.label,{color:e.text}],children:"Topic Type"}),(0,j.jsxs)(s.default,{style:w.typeRow,children:[(0,j.jsxs)(i.default,{style:[w.typeButton,{backgroundColor:e.card},"name"===C&&{backgroundColor:e.primary}],onPress:()=>S("name"),children:[(0,j.jsx)(p.default,{size:20,color:"name"===C?"#FFFFFF":e.textSecondary}),(0,j.jsx)(a.default,{style:[w.typeText,{color:"name"===C?"#FFFFFF":e.textSecondary}],children:"General Topic"})]}),(0,j.jsxs)(i.default,{style:[w.typeButton,{backgroundColor:e.card},"hashtag"===C&&{backgroundColor:e.primary}],onPress:()=>S("hashtag"),children:[(0,j.jsx)(h.default,{size:20,color:"hashtag"===C?"#FFFFFF":e.textSecondary}),(0,j.jsx)(a.default,{style:[w.typeText,{color:"hashtag"===C?"#FFFFFF":e.textSecondary}],children:"Hashtag"})]})]})]}),(0,j.jsxs)(s.default,{style:w.section,children:[(0,j.jsx)(a.default,{style:[w.label,{color:e.text}],children:"Topic Name"}),(0,j.jsx)(l.default,{style:[w.input,{backgroundColor:e.card,color:e.text,borderColor:e.border}],placeholder:"hashtag"===C?"Enter hashtag (without #)":"What do you want to talk about?",placeholderTextColor:e.textSecondary,value:o,onChangeText:n,autoFocus:!0,maxLength:60}),(0,j.jsxs)(a.default,{style:[w.charCount,{color:e.textSecondary}],children:[o.length,"/60"]})]}),(0,j.jsx)(s.default,{style:w.section,children:(0,j.jsxs)(s.default,{style:[w.infoCard,{backgroundColor:e.card}],children:[(0,j.jsx)(g.default,{size:20,color:e.primary}),(0,j.jsxs)(s.default,{style:w.infoContent,children:[(0,j.jsx)(a.default,{style:[w.infoTitle,{color:e.text}],children:"Your spill will start immediately"}),(0,j.jsx)(a.default,{style:[w.infoText,{color:e.textSecondary}],children:"You can invite co-hosts and speakers once the spill is live"})]})]})}),(0,j.jsxs)(i.default,{style:[w.startButton,{backgroundColor:e.primary}],onPress:()=>{if(!o.trim())return void c.default.alert("Error","Please enter a topic name");const e=t(`topic-${Date.now()}`,"hashtag"===C?`#${o.replace("#","")}`:o,C);f.router.replace(`/spill/${e.id}`)},children:[(0,j.jsx)(m.default,{size:20,color:"#FFFFFF"}),(0,j.jsx)(a.default,{style:w.startButtonText,children:"Start Spill"})]})]})]})}const w=n.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1},closeButton:{padding:4},headerTitle:{fontSize:18,fontWeight:"600"},placeholder:{width:32},content:{flex:1},section:{padding:20},iconContainer:{width:64,height:64,borderRadius:32,justifyContent:"center",alignItems:"center",alignSelf:"center",marginBottom:16},title:{fontSize:24,fontWeight:"700",textAlign:"center",marginBottom:8},subtitle:{fontSize:15,textAlign:"center",lineHeight:22},label:{fontSize:16,fontWeight:"600",marginBottom:12},typeRow:{flexDirection:"row",gap:12},typeButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:16,borderRadius:12,gap:8},typeText:{fontSize:15,fontWeight:"600"},input:{paddingHorizontal:16,paddingVertical:14,borderRadius:12,fontSize:16,borderWidth:1},charCount:{fontSize:13,textAlign:"right",marginTop:8},infoCard:{flexDirection:"row",padding:16,borderRadius:12,gap:12},infoContent:{flex:1},infoTitle:{fontSize:15,fontWeight:"600",marginBottom:4},infoText:{fontSize:14,lineHeight:20},startButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginHorizontal:20,marginBottom:20,paddingVertical:16,borderRadius:12,gap:8},startButtonText:{color:"#FFFFFF",fontSize:17,fontWeight:"600"}})},97017:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>q});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(51226),l=o(16773),d=o(15648),c=o(44767),u=o(26725),f=o(49637),g=o(36412),h=o(97991),m=o(25924),p=o(34927),y=o(93861),x=o(46856),b=o(12543),j=o(34253),C=o(5563),w=o(13854),S=o(78264),v=o(35708),k=o(2772),I=o(74037),T=o(76221),B=o(63239),z=o(90046),F=o(18477),P=o(60397);function D({visible:e,onClose:t,onSend:o}){const{colors:n,isDark:i}=(0,g.useTheme)(),[l,c]=(0,r.useState)("image"),[u,f]=(0,r.useState)(!1),[h,m]=(0,r.useState)(1),p=[{type:"image",icon:C.default,label:"Photo",emoji:"\ud83d\udcf7"},{type:"video",icon:T.default,label:"Video",emoji:"\ud83c\udfa5"},{type:"voice",icon:j.default,label:"Voice",emoji:"\ud83c\udfa4"}];return(0,P.jsx)(S.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,P.jsx)(v.default,{style:A.overlay,onPress:t,children:(0,P.jsx)(v.default,{style:A.modalContainer,onPress:e=>e.stopPropagation(),children:(0,P.jsxs)(s.default,{style:[A.content,{backgroundColor:n.card}],children:[(0,P.jsxs)(s.default,{style:[A.header,{borderBottomColor:n.border}],children:[(0,P.jsx)(s.default,{style:[A.lockBadge,{backgroundColor:n.primary}],children:(0,P.jsx)(B.default,{size:16,color:n.text})}),(0,P.jsx)(a.default,{style:[A.title,{color:n.text}],children:"Send View Once"}),(0,P.jsx)(d.default,{onPress:t,style:A.closeButton,children:(0,P.jsx)(z.default,{size:24,color:n.textSecondary})})]}),(0,P.jsxs)(k.default,{style:A.body,showsVerticalScrollIndicator:!1,children:[(0,P.jsx)(a.default,{style:[A.sectionTitle,{color:n.text}],children:"Select Media Type"}),(0,P.jsx)(s.default,{style:A.mediaTypeGrid,children:p.map((e=>{const t=e.icon,o=l===e.type;return(0,P.jsxs)(d.default,{style:[A.mediaTypeCard,{backgroundColor:n.cardLight},o&&{backgroundColor:n.primary,borderColor:n.primary,borderWidth:2}],onPress:()=>c(e.type),children:[(0,P.jsx)(a.default,{style:A.mediaEmoji,children:e.emoji}),(0,P.jsx)(t,{size:24,color:o?n.text:n.textSecondary}),(0,P.jsx)(a.default,{style:[A.mediaLabel,{color:o?n.text:n.textSecondary}],children:e.label})]},e.type)}))}),(0,P.jsx)(s.default,{style:[A.divider,{backgroundColor:n.border}]}),(0,P.jsxs)(s.default,{style:A.replaySection,children:[(0,P.jsxs)(s.default,{style:A.replaySectionHeader,children:[(0,P.jsx)(s.default,{style:A.replayIconContainer,children:(0,P.jsx)(F.default,{size:18,color:n.primary})}),(0,P.jsxs)(s.default,{style:{flex:1},children:[(0,P.jsx)(a.default,{style:[A.sectionTitle,{color:n.text,marginBottom:2}],children:"Allow Replay"}),(0,P.jsx)(a.default,{style:[A.sectionDescription,{color:n.textSecondary}],children:"Let recipient view the message multiple times"})]}),(0,P.jsx)(I.default,{value:u,onValueChange:f,trackColor:{false:n.border,true:n.primary},thumbColor:n.text})]}),u&&(0,P.jsxs)(s.default,{style:A.replayOptionsContainer,children:[(0,P.jsx)(a.default,{style:[A.replayOptionsLabel,{color:n.textSecondary}],children:"Maximum replays"}),(0,P.jsx)(s.default,{style:A.replayOptionsGrid,children:[1,2,3].map((e=>(0,P.jsx)(d.default,{style:[A.replayOption,{backgroundColor:n.cardLight},h===e&&{backgroundColor:n.primary,borderColor:n.primary,borderWidth:2}],onPress:()=>m(e),children:(0,P.jsxs)(a.default,{style:[A.replayOptionText,{color:h===e?n.text:n.textSecondary}],children:[e,"x"]})},e)))})]})]}),(0,P.jsxs)(s.default,{style:[A.infoBox,{backgroundColor:n.glass}],children:[(0,P.jsx)(B.default,{size:16,color:n.primary}),(0,P.jsx)(a.default,{style:[A.infoText,{color:n.textSecondary}],children:u?`Recipient can view this ${h} time${h>1?"s":""}, then it will be deleted`:"Message will be deleted after one view"})]})]}),(0,P.jsxs)(s.default,{style:[A.footer,{borderTopColor:n.border}],children:[(0,P.jsx)(d.default,{style:[A.cancelButton,{backgroundColor:n.cardLight}],onPress:t,children:(0,P.jsx)(a.default,{style:[A.cancelButtonText,{color:n.text}],children:"Cancel"})}),(0,P.jsxs)(d.default,{style:[A.sendButton,{backgroundColor:n.primary}],onPress:()=>{o({type:l,allowReplay:u,maxReplays:u?h:0}),t()},children:[(0,P.jsx)(B.default,{size:18,color:n.text}),(0,P.jsx)(a.default,{style:[A.sendButtonText,{color:n.text}],children:"Continue"})]})]})]})})})})}const A=n.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.6)",justifyContent:"flex-end"},modalContainer:{maxHeight:"85%"},content:{borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"},header:{flexDirection:"row",alignItems:"center",paddingHorizontal:20,paddingVertical:20,borderBottomWidth:1,gap:12},lockBadge:{width:36,height:36,borderRadius:18,justifyContent:"center",alignItems:"center"},title:{flex:1,fontSize:20,fontWeight:"700"},closeButton:{padding:4},body:{paddingHorizontal:20,paddingVertical:24,maxHeight:500},sectionTitle:{fontSize:16,fontWeight:"600",marginBottom:12},sectionDescription:{fontSize:13},mediaTypeGrid:{flexDirection:"row",gap:12,marginBottom:24},mediaTypeCard:{flex:1,alignItems:"center",paddingVertical:20,paddingHorizontal:12,borderRadius:16,gap:8},mediaEmoji:{fontSize:32},mediaLabel:{fontSize:14,fontWeight:"600"},divider:{height:1,marginVertical:24},replaySection:{marginBottom:24},replaySectionHeader:{flexDirection:"row",alignItems:"center",gap:12,marginBottom:16},replayIconContainer:{width:36,height:36,borderRadius:18,backgroundColor:"rgba(139, 92, 246, 0.1)",justifyContent:"center",alignItems:"center"},replayOptionsContainer:{marginTop:16},replayOptionsLabel:{fontSize:14,marginBottom:12},replayOptionsGrid:{flexDirection:"row",gap:12},replayOption:{flex:1,paddingVertical:16,borderRadius:12,alignItems:"center"},replayOptionText:{fontSize:16,fontWeight:"600"},infoBox:{flexDirection:"row",alignItems:"center",padding:16,borderRadius:12,gap:12},infoText:{flex:1,fontSize:13,lineHeight:18},footer:{flexDirection:"row",paddingHorizontal:20,paddingVertical:16,borderTopWidth:1,gap:12},cancelButton:{flex:1,paddingVertical:14,borderRadius:12,alignItems:"center"},cancelButtonText:{fontSize:16,fontWeight:"600"},sendButton:{flex:1,flexDirection:"row",paddingVertical:14,borderRadius:12,alignItems:"center",justifyContent:"center",gap:8},sendButtonText:{fontSize:16,fontWeight:"600"}});var R=o(15009),V=o(40484),L=o(21191);const{width:O,height:W}=u.default.get("window");function E({message:e,onView:t,onExpire:o,isMyMessage:n}){const{colors:i}=(0,g.useTheme)(),[l,c]=(0,r.useState)(!1),[u,f]=(0,r.useState)(5),[h,m]=(0,r.useState)(!!e.viewedAt),p=(0,r.useRef)(new R.default.Value(0)).current,y=(0,r.useRef)(new R.default.Value(.9)).current,x=(0,r.useRef)(new R.default.Value(0)).current,b=e.allowReplay&&void 0!==e.replayCount&&void 0!==e.maxReplays&&e.replayCount<e.maxReplays,j=(0,r.useCallback)((()=>{R.default.parallel([R.default.timing(p,{toValue:0,duration:200,useNativeDriver:!0}),R.default.timing(y,{toValue:.9,duration:200,useNativeDriver:!0})]).start((()=>{c(!1),b||o()}))}),[p,y,b,o]);(0,r.useEffect)((()=>{if(l){R.default.parallel([R.default.timing(p,{toValue:1,duration:300,useNativeDriver:!0}),R.default.spring(y,{toValue:1,friction:8,tension:40,useNativeDriver:!0})]).start(),R.default.timing(x,{toValue:1,duration:5e3,useNativeDriver:!1}).start();const e=setInterval((()=>{f((t=>t<=1?(clearInterval(e),j(),0):t-1))}),1e3);return()=>clearInterval(e)}}),[l,p,y,x,j]);const C=()=>{h&&!b||(c(!0),f(5),x.setValue(0),t(),h||m(!0))},w=x.interpolate({inputRange:[0,1],outputRange:["0%","100%"]});return(0,P.jsxs)(P.Fragment,{children:[h&&!b?(0,P.jsxs)(s.default,{style:[M.expiredContainer,{backgroundColor:i.card}],children:[(0,P.jsx)(L.default,{size:24,color:i.textSecondary}),(0,P.jsx)(a.default,{style:[M.expiredText,{color:i.textSecondary}],children:n?"Viewed":"Opened"}),e.viewedAt&&(0,P.jsx)(a.default,{style:[M.viewedTime,{color:i.textSecondary}],children:new Date(e.viewedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):(0,P.jsxs)(d.default,{style:[M.previewContainer,{backgroundColor:i.card}],onPress:C,disabled:n,children:[(0,P.jsx)(s.default,{style:[M.lockIcon,{backgroundColor:i.primary}],children:(0,P.jsx)(B.default,{size:20,color:i.text})}),(0,P.jsxs)(a.default,{style:[M.previewText,{color:i.text}],children:["image"===e.type&&"\ud83d\udcf7 Photo","video"===e.type&&"\ud83c\udfa5 Video","voice"===e.type&&"\ud83c\udfa4 Voice message"]}),(0,P.jsx)(a.default,{style:[M.viewOnceLabel,{color:i.textSecondary}],children:"Tap to view once"}),b&&(0,P.jsxs)(s.default,{style:M.replayBadge,children:[(0,P.jsx)(F.default,{size:12,color:i.primary}),(0,P.jsxs)(a.default,{style:[M.replayText,{color:i.primary}],children:[e.maxReplays-e.replayCount," replay",e.maxReplays-e.replayCount>1?"s":""," left"]})]})]}),(0,P.jsx)(S.default,{visible:l,transparent:!0,animationType:"none",onRequestClose:j,children:(0,P.jsx)(R.default.View,{style:[M.modalContainer,{opacity:p}],children:(0,P.jsx)(s.default,{style:[M.modalBackground,{backgroundColor:"rgba(0, 0, 0, 0.95)"}],children:(0,P.jsxs)(s.default,{style:M.modalContent,children:[(0,P.jsx)(R.default.View,{style:{transform:[{scale:y}]},children:"image"===e.type&&e.mediaUrl?(0,P.jsx)(V.default,{source:{uri:e.mediaUrl},style:M.mediaContent,resizeMode:"contain"}):"video"===e.type&&e.mediaUrl?(0,P.jsx)(s.default,{style:M.mediaContent,children:(0,P.jsx)(a.default,{style:[M.placeholderText,{color:i.text}],children:"Video Player"})}):"voice"===e.type?(0,P.jsxs)(s.default,{style:[M.voiceContent,{backgroundColor:i.card}],children:[(0,P.jsx)(s.default,{style:M.waveform,children:Array.from({length:20}).map(((e,t)=>(0,P.jsx)(s.default,{style:[M.waveformBar,{backgroundColor:i.primary,height:40*Math.random()+20}]},t)))}),(0,P.jsx)(a.default,{style:[M.voiceDuration,{color:i.text}],children:e.duration?`${Math.floor(e.duration/60)}:${(e.duration%60).toString().padStart(2,"0")}`:"0:30"})]}):null}),(0,P.jsxs)(s.default,{style:M.countdownContainer,children:[(0,P.jsx)(s.default,{style:[M.progressBar,{backgroundColor:i.cardLight}],children:(0,P.jsx)(R.default.View,{style:[M.progressFill,{backgroundColor:i.primary,width:w}]})}),(0,P.jsxs)(a.default,{style:[M.countdownText,{color:i.text}],children:["Closing in ",u,"s"]})]}),(0,P.jsx)(d.default,{style:[M.closeButton,{backgroundColor:i.card}],onPress:j,children:(0,P.jsx)(a.default,{style:[M.closeButtonText,{color:i.text}],children:"Close"})})]})})})})]})}const M=n.default.create({previewContainer:{padding:16,borderRadius:16,alignItems:"center",minWidth:200,gap:8},lockIcon:{width:48,height:48,borderRadius:24,justifyContent:"center",alignItems:"center",marginBottom:8},previewText:{fontSize:16,fontWeight:"600"},viewOnceLabel:{fontSize:12},replayBadge:{flexDirection:"row",alignItems:"center",gap:4,marginTop:4,paddingHorizontal:8,paddingVertical:4,borderRadius:12,backgroundColor:"rgba(139, 92, 246, 0.1)"},replayText:{fontSize:11,fontWeight:"600"},expiredContainer:{padding:16,borderRadius:16,alignItems:"center",minWidth:150,gap:6,opacity:.6},expiredText:{fontSize:14,fontWeight:"500"},viewedTime:{fontSize:11},modalContainer:{flex:1},modalBackground:{flex:1,justifyContent:"center",alignItems:"center"},modalContent:{width:.9*O,maxWidth:500,alignItems:"center",gap:20},mediaContent:{width:"100%",height:.6*W,borderRadius:20,backgroundColor:"#000",justifyContent:"center",alignItems:"center"},placeholderText:{fontSize:18,fontWeight:"600"},voiceContent:{width:"100%",padding:32,borderRadius:20,alignItems:"center",gap:16},waveform:{flexDirection:"row",alignItems:"center",gap:4,height:60},waveformBar:{width:4,borderRadius:2},voiceDuration:{fontSize:16,fontWeight:"600"},countdownContainer:{width:"100%",alignItems:"center",gap:8},progressBar:{width:"100%",height:4,borderRadius:2,overflow:"hidden"},progressFill:{height:"100%",borderRadius:2},countdownText:{fontSize:14,fontWeight:"600"},closeButton:{paddingVertical:12,paddingHorizontal:32,borderRadius:24},closeButtonText:{fontSize:16,fontWeight:"600"}});var N=o(47640),H=o(78833);const{width:U}=u.default.get("window");function q(){const{id:e}=(0,f.useLocalSearchParams)(),{isAuthenticated:t,user:o}=(0,m.useAuth)(),{conversations:n,sendMessage:u,markMessageAsViewed:S,markMessageAsExpired:v,recordScreenshotAttempt:k}=(0,h.useMessaging)(),{colors:I,isDark:T}=(0,g.useTheme)(),B=(0,H.useSafeAreaInsets)(),[z,F]=(0,r.useState)(""),[A,R]=(0,r.useState)([]),[V,L]=(0,r.useState)(!1),[O,W]=(0,r.useState)(!1),M=((0,r.useRef)(null),n.find((t=>t.id===e))),U=M?.participants.find((e=>e.id!==o?.id))||M?.participants[0];(0,r.useEffect)((()=>{q()}),[]);const q=async()=>{try{const e=await N.default.getItem("@vibesync_settings");if(e){const t=JSON.parse(e);t.messaging?.screenshotProtection&&W(t.messaging.screenshotProtection)}}catch(e){console.error("Error loading settings:",e)}};(0,r.useEffect)((()=>{if(t){if(M){const e=[{id:"1",content:"Hey! How are you doing?",senderId:U?.id||"other",recipientId:o?.id||"me",type:"text",timestamp:new Date(Date.now()-18e5).toISOString(),isRead:!0},{id:"2",content:"I'm good! Just listening to some music. What about you?",senderId:o?.id||"me",recipientId:U?.id||"other",type:"text",timestamp:new Date(Date.now()-15e5).toISOString(),isRead:!0},{id:"3",content:"That sounds nice! What kind of music?",senderId:U?.id||"other",recipientId:o?.id||"me",type:"text",timestamp:new Date(Date.now()-12e5).toISOString(),isRead:!0},{id:"4",content:"Check out this photo!",senderId:U?.id||"other",recipientId:o?.id||"me",type:"image",timestamp:new Date(Date.now()-6e5).toISOString(),isRead:!1,isViewOnce:!0,allowReplay:!0,maxReplays:2,replayCount:0,mediaUrl:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=800"}];R(e)}}else f.router.replace("/auth")}),[t,M,U?.id,o?.id]);return M&&U?(0,P.jsxs)(c.default,{style:[_.container,{backgroundColor:I.background}],behavior:"height",children:[(0,P.jsx)(f.Stack.Screen,{options:{headerShown:!1}}),(0,P.jsxs)(s.default,{style:[_.header,{backgroundColor:I.background,borderBottomColor:I.border}],children:[(0,P.jsx)(d.default,{onPress:()=>f.router.back(),style:_.backBtn,children:(0,P.jsx)(y.default,{size:24,color:I.text})}),(0,P.jsxs)(d.default,{style:_.headerCenter,onPress:()=>f.router.push(`/user/${U.id}`),children:[(0,P.jsx)(p.Avatar,{uri:U.profileImage,size:32}),(0,P.jsxs)(s.default,{style:_.userInfo,children:[(0,P.jsx)(a.default,{style:[_.userName,{color:I.text}],numberOfLines:1,children:U.displayName}),(0,P.jsx)(a.default,{style:[_.userStatus,{color:I.textSecondary}],children:"Active 5h ago"})]})]}),(0,P.jsx)(d.default,{style:_.infoBtn,onPress:()=>f.router.push("/messages-settings"),children:(0,P.jsx)(x.default,{size:24,color:I.text})})]}),O&&(0,P.jsx)(s.default,{style:[_.protectionBanner,{backgroundColor:I.card}],children:(0,P.jsxs)(a.default,{style:[_.protectionText,{color:I.textSecondary}],children:["\ud83d\udd12 New messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them. ",(0,P.jsx)(a.default,{style:{color:I.primary},children:"Learn more."})]})}),(0,P.jsx)(i.default,{data:A,keyExtractor:e=>e.id,renderItem:({item:e})=>{const t=e.senderId===o?.id;return e.isViewOnce?(0,P.jsxs)(s.default,{style:[_.messageContainer,t&&_.myMessageContainer],children:[!t&&(0,P.jsx)(p.Avatar,{uri:U?.profileImage,size:32,style:_.messageAvatar}),(0,P.jsx)(E,{message:e,onView:()=>{return t=e.id,void S(t);var t},onExpire:()=>{return t=e.id,v(t),void R((e=>e.map((e=>e.id===t?Object.assign({},e,{isExpired:!0}):e))));var t},isMyMessage:t})]}):(0,P.jsxs)(s.default,{style:[_.messageContainer,t&&_.myMessageContainer],children:[!t&&(0,P.jsx)(p.Avatar,{uri:U?.profileImage,size:32,style:_.messageAvatar}),(0,P.jsxs)(s.default,{style:[_.messageBubble,t?{backgroundColor:I.primary}:{backgroundColor:I.card}],children:[(0,P.jsx)(a.default,{style:[_.messageText,{color:t?"#FFFFFF":I.text}],children:e.content}),(0,P.jsx)(a.default,{style:[_.messageTime,{color:t?"rgba(255,255,255,0.8)":I.textSecondary}],children:(r=e.timestamp,new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})]});var r},style:_.messagesList,contentContainerStyle:_.messagesContainer,showsVerticalScrollIndicator:!1}),(0,P.jsxs)(s.default,{style:[_.inputContainer,{backgroundColor:I.background,borderTopColor:I.border,paddingBottom:Math.max(B.bottom,8)}],children:[(0,P.jsx)(d.default,{style:_.inputIcon,onPress:()=>{},children:(0,P.jsx)(b.default,{size:24,color:I.primary})}),(0,P.jsx)(s.default,{style:[_.inputWrapper,{backgroundColor:I.card,borderColor:I.border}],children:(0,P.jsx)(l.default,{style:[_.messageInput,{color:I.text}],value:z,onChangeText:F,placeholder:"Message",placeholderTextColor:I.textSecondary,multiline:!0,maxLength:1e3})}),(0,P.jsx)(d.default,{style:_.inputIcon,onPress:()=>{},children:(0,P.jsx)(j.default,{size:24,color:I.primary})}),(0,P.jsx)(d.default,{style:_.inputIcon,onPress:()=>{},children:(0,P.jsx)(C.default,{size:24,color:I.primary})}),z.trim()?(0,P.jsx)(d.default,{onPress:async()=>{if(!z.trim()||!M)return;const e={id:Date.now().toString(),content:z,senderId:o?.id||"me",recipientId:U?.id||"other",type:"text",timestamp:(new Date).toISOString(),isRead:!1};R((t=>[...t,e])),F(""),await u(M.id,z)},children:(0,P.jsx)(a.default,{style:[_.sendText,{color:I.primary}],children:"Send"})}):(0,P.jsx)(d.default,{style:_.inputIcon,onPress:()=>{},children:(0,P.jsx)(w.default,{size:24,color:I.primary})})]}),(0,P.jsx)(D,{visible:V,onClose:()=>L(!1),onSend:async e=>{if(!M)return;const t={id:Date.now().toString(),content:`View once ${e.type}`,senderId:o?.id||"me",recipientId:U?.id||"other",type:e.type,timestamp:(new Date).toISOString(),isRead:!1,isViewOnce:!0,allowReplay:e.allowReplay,maxReplays:e.maxReplays,replayCount:0,mediaUrl:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=800"};R((e=>[...e,t])),await u(M.id,t.content,e.type,{isViewOnce:!0,allowReplay:e.allowReplay,maxReplays:e.maxReplays,mediaUrl:t.mediaUrl})}})]}):(0,P.jsxs)(s.default,{style:[_.errorContainer,{backgroundColor:I.background}],children:[(0,P.jsx)(a.default,{style:[_.errorText,{color:I.text}],children:"Conversation not found"}),(0,P.jsx)(d.default,{onPress:()=>f.router.back(),style:[_.backButton,{backgroundColor:I.primary}],children:(0,P.jsx)(a.default,{style:[_.backButtonText,{color:I.text}],children:"Go Back"})})]})}const _=n.default.create({container:{flex:1},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,marginBottom:20},backButton:{paddingVertical:12,paddingHorizontal:24,borderRadius:24},backButtonText:{fontSize:16,fontWeight:"600"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:12,paddingTop:60,paddingBottom:12,borderBottomWidth:.5},backBtn:{padding:8},headerCenter:{flex:1,flexDirection:"row",alignItems:"center",marginLeft:8,gap:12},userInfo:{flex:1},userName:{fontSize:16,fontWeight:"600"},userStatus:{fontSize:12,marginTop:2},infoBtn:{padding:8},messagesList:{flex:1},messagesContainer:{padding:16},messageContainer:{flexDirection:"row",marginBottom:16,alignItems:"flex-end"},myMessageContainer:{justifyContent:"flex-end"},messageAvatar:{marginRight:8},messageBubble:{maxWidth:"75%",padding:12,borderRadius:16},messageText:{fontSize:16,lineHeight:20},messageTime:{fontSize:12,marginTop:4},inputContainer:{flexDirection:"row",alignItems:"center",paddingHorizontal:12,paddingVertical:8,borderTopWidth:.5,gap:12},inputWrapper:{flex:1,borderRadius:20,paddingHorizontal:16,paddingVertical:8,minHeight:36,maxHeight:100,justifyContent:"center",borderWidth:1},messageInput:{fontSize:15,lineHeight:20,minHeight:20,maxHeight:84,paddingTop:0,paddingBottom:0},inputIcon:{padding:4},sendText:{fontSize:16,fontWeight:"600"},protectionBanner:{paddingVertical:12,paddingHorizontal:16},protectionText:{fontSize:12,lineHeight:16,textAlign:"center"}})},97991:(e,t,o)=>{"use strict";o.r(t),o.d(t,{MessagingProvider:()=>c,useMessaging:()=>u});var r=o(36665),n=o(47640),a=o(52790),s=o(25924),i=o(94372);class l{static QUEUE_KEY="offline_queue";static async enqueue(e){try{const t=await this.getQueue();t.push(e),await n.default.setItem(this.QUEUE_KEY,JSON.stringify(t)),console.log("[Offline Queue] Enqueued action:",e.type)}catch(t){console.error("[Offline Queue] Error enqueuing:",t)}}static async dequeue(){try{const e=await this.getQueue();if(0===e.length)return null;const t=e.shift();return await n.default.setItem(this.QUEUE_KEY,JSON.stringify(e)),console.log("[Offline Queue] Dequeued action:",t?.type),t}catch(e){return console.error("[Offline Queue] Error dequeuing:",e),null}}static async getQueue(){try{const e=await n.default.getItem(this.QUEUE_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("[Offline Queue] Error getting queue:",e),[]}}static async clear(){try{await n.default.removeItem(this.QUEUE_KEY),console.log("[Offline Queue] Cleared")}catch(e){console.error("[Offline Queue] Error clearing:",e)}}static async size(){return(await this.getQueue()).length}static async processQueue(e){try{const o=await this.getQueue();let r=0;for(const n of o)try{if(!await e(n))break;await this.dequeue(),r++}catch(t){console.error("[Offline Queue] Error processing action:",t);break}return console.log(`[Offline Queue] Processed ${r} actions`),r}catch(t){return console.error("[Offline Queue] Error processing queue:",t),0}}}var d=o(99998);const[c,u]=(0,a.default)((()=>{const{user:e}=(0,s.useAuth)(),[t,o]=(0,r.useState)({conversations:[],activeConversation:null,unreadCount:0,screenshotProtectionEnabled:!1,screenshotAttempts:new Map});(0,r.useEffect)((()=>{a()}),[e]);const a=async()=>{try{const e=await n.default.getItem("conversations");if(e){const t=await i.SecurityUtils.decryptData(e),r=JSON.parse(t),n=r.reduce(((e,t)=>e+t.unreadCount),0);o((e=>Object.assign({},e,{conversations:r,unreadCount:n}))),console.log("[Messaging] Conversations loaded and decrypted")}else f()}catch(e){console.error("[Messaging] Error loading conversations:",e),d.ErrorTracker.trackError(e),f()}},c=async e=>{try{const t=await i.SecurityUtils.encryptData(JSON.stringify(e));await n.default.setItem("conversations",t),console.log("[Messaging] Conversations saved securely")}catch(t){console.error("[Messaging] Error saving conversations:",t),d.ErrorTracker.trackError(t)}},u=e=>{o((t=>{const o=t.conversations.map((t=>t.id===e?Object.assign({},t,{unreadCount:0}):t)),r=o.reduce(((e,t)=>e+t.unreadCount),0);return c(o),Object.assign({},t,{conversations:o,unreadCount:r})}))},f=()=>{if(!e)return;const t=[{id:"1",participants:[e,{id:"user2",username:"sarah_music",displayName:"Sarah Johnson",profileImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",isVerified:!0,followers:1200,following:450,followersCount:1200,followingCount:450,posts:89}],lastMessage:{id:"msg1",senderId:"user2",recipientId:e.id,content:"Hey! Love your latest post about that new track \ud83c\udfb5",type:"text",timestamp:new Date(Date.now()-9e5).toISOString(),isRead:!1},unreadCount:2,updatedAt:new Date(Date.now()-9e5).toISOString()},{id:"2",participants:[e,{id:"user3",username:"mike_beats",displayName:"Mike Rodriguez",profileImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",isVerified:!1,followers:890,following:320,followersCount:890,followingCount:320,posts:156}],lastMessage:{id:"msg2",senderId:e.id,recipientId:"user3",content:"Thanks for the collaboration idea!",type:"text",timestamp:new Date(Date.now()-72e5).toISOString(),isRead:!0},unreadCount:0,updatedAt:new Date(Date.now()-72e5).toISOString()}],r=t.reduce(((e,t)=>e+t.unreadCount),0);o((e=>Object.assign({},e,{conversations:t,unreadCount:r}))),c(t)};return{conversations:t.conversations,activeConversation:t.activeConversation,unreadCount:t.unreadCount,screenshotProtectionEnabled:t.screenshotProtectionEnabled,sendMessage:async(t,r,n="text",a)=>{if(e)try{const s=await i.SecurityUtils.encryptData(r),d={id:Date.now().toString(),senderId:e.id,recipientId:"",content:s,type:n,timestamp:(new Date).toISOString(),isRead:!1,isViewOnce:a?.isViewOnce,allowReplay:a?.allowReplay,maxReplays:a?.maxReplays,replayCount:0,mediaUrl:a?.mediaUrl,duration:a?.duration,isExpired:!1,screenshotAttempts:[]};await l.enqueue({type:"SEND_MESSAGE",payload:{conversationId:t,message:d},timestamp:Date.now()}),o((e=>{const o=e.conversations.map((e=>{if(e.id===t){return Object.assign({},e,{lastMessage:d,updatedAt:d.timestamp})}return e}));return c(o),Object.assign({},e,{conversations:o})})),console.log("[Messaging] Message sent and encrypted",a?.isViewOnce?"(View Once)":"")}catch(s){console.error("[Messaging] Error sending message:",s),d.ErrorTracker.trackError(s,{conversationId:t})}},markConversationAsRead:u,setActiveConversation:e=>{o((t=>Object.assign({},t,{activeConversation:e}))),e&&u(e.id)},createConversation:t=>{if(!e)throw new Error("User not authenticated");const r={id:Date.now().toString(),participants:[e,t],lastMessage:{id:"",senderId:"",recipientId:"",content:"",type:"text",timestamp:(new Date).toISOString(),isRead:!0},unreadCount:0,updatedAt:(new Date).toISOString()};return o((e=>{const t=[r,...e.conversations];return c(t),Object.assign({},e,{conversations:t})})),r},createMockConversations:f,markMessageAsViewed:e=>{o((t=>{const o=t.conversations.map((t=>t.lastMessage.id===e?Object.assign({},t,{lastMessage:Object.assign({},t.lastMessage,{viewedAt:(new Date).toISOString(),replayCount:(t.lastMessage.replayCount||0)+1})}):t));return c(o),Object.assign({},t,{conversations:o})})),console.log("[Messaging] Message marked as viewed:",e)},markMessageAsExpired:e=>{o((t=>{const o=t.conversations.map((t=>t.lastMessage.id===e?Object.assign({},t,{lastMessage:Object.assign({},t.lastMessage,{isExpired:!0})}):t));return c(o),Object.assign({},t,{conversations:o})})),console.log("[Messaging] Message marked as expired:",e)},recordScreenshotAttempt:(e,t)=>{o((o=>{const r=new Map(o.screenshotAttempts),n=r.get(e)||0;r.set(e,n+1);const a=o.conversations.map((o=>{if(o.lastMessage.id===e){const e=o.lastMessage.screenshotAttempts||[];return Object.assign({},o,{lastMessage:Object.assign({},o.lastMessage,{screenshotAttempts:[...e,{timestamp:(new Date).toISOString(),attempterId:t}]})})}return o}));return c(a),console.log("[Messaging] Screenshot attempt recorded for message:",e),Object.assign({},o,{conversations:a,screenshotAttempts:r})}))},setScreenshotProtection:e=>{o((t=>Object.assign({},t,{screenshotProtectionEnabled:e}))),console.log("[Messaging] Screenshot protection:",e?"enabled":"disabled")}}}))},99323:(e,t,o)=>{"use strict";o.r(t),o.d(t,{VoiceNotePlayer:()=>h});var r=o(36665),n=o(73668),a=o(6283),s=o(73929),i=o(15648),l=o(15009),d=o(64825),c=o(36412),u=o(88532),f=o(58358),g=o(60397);const h=({uri:e,duration:t,waveform:o=[],size:n="medium",testID:h})=>{const{colors:p}=(0,c.useTheme)(),[y,x]=(0,r.useState)(!1),[b,j]=(0,r.useState)(null),[C,w]=(0,r.useState)(0),[S,v]=(0,r.useState)(!1),k=(0,r.useRef)(new l.default.Value(0)).current;(0,r.useEffect)((()=>()=>{b&&b.unloadAsync()}),[b]),(0,r.useEffect)((()=>{l.default.timing(k,{toValue:t>0?C/t:0,duration:100,useNativeDriver:!1}).start()}),[C,t,k]);const I=e=>{e.isLoaded&&(w(e.positionMillis/1e3),e.didJustFinish&&(x(!1),w(0)))},T=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,B=(()=>{switch(n){case"small":return{container:m.containerSmall,button:m.buttonSmall,icon:14,waveformHeight:20};case"large":return{container:m.containerLarge,button:m.buttonLarge,icon:24,waveformHeight:40};default:return{container:m.containerMedium,button:m.buttonMedium,icon:18,waveformHeight:28}}})(),z=o.length>0?o:Array(40).fill(.5);return(0,g.jsxs)(s.default,{style:[m.container,B.container,{backgroundColor:p.card}],testID:h,children:[(0,g.jsx)(i.default,{style:[m.playButton,B.button,{backgroundColor:p.primary}],onPress:async()=>{try{let t=b;if(!t&&(t=await(async()=>{try{v(!0);const{sound:t}=await d.Sound.createAsync({uri:e},{shouldPlay:!1},I);return j(t),v(!1),t}catch(t){return console.error("Error loading sound:",t),v(!1),null}})(),!t))return;y?(await t.pauseAsync(),x(!1)):(await t.playAsync(),x(!0))}catch(t){console.error("Error toggling playback:",t)}},disabled:S,children:y?(0,g.jsx)(u.default,{size:B.icon,color:"#FFFFFF",fill:"#FFFFFF"}):(0,g.jsx)(f.default,{size:B.icon,color:"#FFFFFF",fill:"#FFFFFF"})}),(0,g.jsxs)(s.default,{style:m.waveformContainer,children:[(0,g.jsx)(s.default,{style:[m.waveform,{height:B.waveformHeight}],children:z.map(((e,o)=>{const r=C/t,n=o/z.length<=r;return(0,g.jsx)(s.default,{style:[m.waveformBar,{height:Math.max(e*B.waveformHeight,4),backgroundColor:n?p.primary:p.textSecondary,opacity:n?1:.3}]},o)}))}),(0,g.jsxs)(s.default,{style:m.timeContainer,children:[(0,g.jsx)(a.default,{style:[m.timeText,{color:p.textSecondary}],children:T(C)}),(0,g.jsx)(a.default,{style:[m.timeText,{color:p.textSecondary}],children:T(t)})]})]})]})},m=n.default.create({container:{flexDirection:"row",alignItems:"center",borderRadius:12,padding:10,gap:10},containerSmall:{padding:6,gap:6,borderRadius:10},containerMedium:{padding:10,gap:10,borderRadius:12},containerLarge:{padding:14,gap:14,borderRadius:14},playButton:{borderRadius:18,alignItems:"center",justifyContent:"center"},buttonSmall:{width:28,height:28,borderRadius:14},buttonMedium:{width:36,height:36,borderRadius:18},buttonLarge:{width:48,height:48,borderRadius:24},waveformContainer:{flex:1,gap:6},waveform:{flexDirection:"row",alignItems:"center",gap:1.5},waveformBar:{flex:1,borderRadius:1,minHeight:3,width:2},timeContainer:{flexDirection:"row",justifyContent:"space-between"},timeText:{fontSize:11,fontWeight:"500"}})},99998:(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppHealthMonitor:()=>a,ErrorTracker:()=>n,PerformanceMonitor:()=>r,withAsyncPerformanceTracking:()=>i,withPerformanceTracking:()=>s});class r{static metrics=new Map;static MAX_METRICS=100;static startMeasure(e,t){const o={name:e,startTime:Date.now(),metadata:t};this.metrics.set(e,o),console.log(`[Performance] Started measuring: ${e}`)}static endMeasure(e){const t=this.metrics.get(e);if(!t)return console.warn(`[Performance] No metric found for: ${e}`),null;if(t.endTime=Date.now(),t.duration=t.endTime-t.startTime,console.log(`[Performance] ${e}: ${t.duration}ms`,t.metadata),this.metrics.size>this.MAX_METRICS){const e=this.metrics.keys().next().value;e&&this.metrics.delete(e)}return t.duration}static getMetric(e){const t=this.metrics.get(e);return t&&this.metrics.delete(e),t}static getAllMetrics(){return Array.from(this.metrics.values())}static clearMetrics(){this.metrics.clear(),console.log("[Performance] Metrics cleared")}static async measureAsync(e,t,o){this.startMeasure(e,o);try{const o=await t();return this.endMeasure(e),o}catch(r){throw this.endMeasure(e),r}}static measure(e,t,o){this.startMeasure(e,o);try{const o=t();return this.endMeasure(e),o}catch(r){throw this.endMeasure(e),r}}static getMemoryInfo(){if("memory"in performance){const e=performance.memory;return{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit}}return null}static logMemoryUsage(){const e=this.getMemoryInfo();if(e){const t=(e.usedJSHeapSize||0)/1024/1024,o=(e.totalJSHeapSize||0)/1024/1024;console.log(`[Memory] Used: ${t.toFixed(2)}MB / Total: ${o.toFixed(2)}MB`)}}static getAverageMetric(e){const t=Array.from(this.metrics.values()).filter((t=>t.name===e&&t.duration));if(0===t.length)return null;return t.reduce(((e,t)=>e+(t.duration||0)),0)/t.length}}class n{static errors=[];static MAX_ERRORS=50;static trackError(e,t){const o={message:e.message,stack:e.stack,timestamp:Date.now(),context:t};this.errors.push(o),this.errors.length>this.MAX_ERRORS&&this.errors.shift(),console.error("[Error Tracked]",o)}static getErrors(){return[...this.errors]}static clearErrors(){this.errors=[],console.log("[Error Tracker] Errors cleared")}static getErrorCount(){return this.errors.length}static getRecentErrors(e=10){return this.errors.slice(-e)}}class a{static healthChecks=new Map;static lastCheckTime=Date.now();static registerHealthCheck(e,t){this.healthChecks.set(e,t),this.lastCheckTime=Date.now(),t||console.warn(`[Health Check] ${e} is unhealthy`)}static getHealthStatus(){const e={};let t=!0;return this.healthChecks.forEach(((o,r)=>{e[r]=o,o||(t=!1)})),{isHealthy:t,checks:e,lastCheck:this.lastCheckTime}}static async runHealthChecks(){console.log("[Health Check] Running system health checks...");try{this.registerHealthCheck("memory",!0);const e=r.getMemoryInfo();if(e&&e.usedJSHeapSize&&e.jsHeapSizeLimit){const t=e.usedJSHeapSize/e.jsHeapSizeLimit*100;this.registerHealthCheck("memory",t<90)}const t=n.getErrorCount();this.registerHealthCheck("errors",t<10),this.registerHealthCheck("performance",!0),console.log("[Health Check] Completed",this.getHealthStatus())}catch(e){console.error("[Health Check] Failed to run health checks",e)}}}function s(e,t){return(...o)=>{const n=t||e.name||"anonymous";return r.measure(n,(()=>e(...o)))}}function i(e,t){return async(...o)=>{const n=t||e.name||"anonymous";return await r.measureAsync(n,(()=>e(...o)))}}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,a)=>{if(!r){var s=1/0;for(c=0;c<e.length;c++){for(var[r,n,a]=e[c],i=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,n,a]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);o.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,o.d(a,s),a}})(),o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>"static/js/"+e+"."+{86:"1531c05e",398:"5d1599e7"}[e]+".chunk.js",o.miniCssF=e=>{},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";o.l=(r,n,a,s)=>{if(e[r])e[r].push(n);else{var i,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var f=(t,o)=>{i.onerror=i.onload=null,clearTimeout(g);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(o))),t)return t(o)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((o,r)=>n=e[t]=[o,r]));r.push(n[2]=a);var s=o.p+o.u(t),i=new Error;o.l(s,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,n[1](i)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[s,i,l]=r,d=0;if(s.some((t=>0!==e[t]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(l)var c=l(o)}for(t&&t(r);d<s.length;d++)a=s[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[853],(()=>o(31697)));r=o.O(r)})();
//# sourceMappingURL=main.d1e3ca22.js.map