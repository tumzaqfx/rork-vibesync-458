{"ast":null,"code":"import{NativeModule}from'expo';import{registerWebModule}from'expo-modules-core';import ImageManipulatorContext from'./web/ImageManipulatorContext.web';import ImageManipulatorImageRef from'./web/ImageManipulatorImageRef.web';import{loadImageAsync}from'./web/utils.web';class ImageManipulator extends NativeModule{Context=ImageManipulatorContext;Image=ImageManipulatorImageRef;manipulate(source){return new ImageManipulatorContext(()=>{if(typeof source==='string'){return loadImageAsync(source);}if(typeof source==='object'&&'uri'in source&&typeof source.uri==='string'){return loadImageAsync(source.uri);}throw new Error(`Source not supported: ${source}`);});}}export default registerWebModule(ImageManipulator,'ImageManipulator');","map":{"version":3,"names":["NativeModule","registerWebModule","ImageManipulatorContext","ImageManipulatorImageRef","loadImageAsync","ImageManipulator","Context","Image","manipulate","source","uri","Error"],"sources":["/home/user/rork-vibesync-458/node_modules/expo-image-manipulator/src/NativeImageManipulatorModule.web.ts"],"sourcesContent":["import { NativeModule } from 'expo';\nimport { registerWebModule } from 'expo-modules-core';\nimport { SharedRef } from 'expo-modules-core/types';\n\nimport ImageManipulatorContext from './web/ImageManipulatorContext.web';\nimport ImageManipulatorImageRef from './web/ImageManipulatorImageRef.web';\nimport { loadImageAsync } from './web/utils.web';\n\nclass ImageManipulator extends NativeModule {\n  Context = ImageManipulatorContext;\n  Image = ImageManipulatorImageRef;\n\n  manipulate(source: string | SharedRef<'image'>): ImageManipulatorContext {\n    return new ImageManipulatorContext(() => {\n      if (typeof source === 'string') {\n        return loadImageAsync(source);\n      }\n      // Image refs should provide the `uri` property on Web. It could be either remote url, blob or data url.\n      if (typeof source === 'object' && 'uri' in source && typeof source.uri === 'string') {\n        return loadImageAsync(source.uri);\n      }\n      throw new Error(`Source not supported: ${source}`);\n    });\n  }\n}\n\nexport default registerWebModule(ImageManipulator, 'ImageManipulator');\n"],"mappings":"AAAA,OAASA,YAAY,KAAQ,MAAM,CACnC,OAASC,iBAAiB,KAAQ,mBAAmB,CAGrD,MAAO,CAAAC,uBAAuB,KAAM,mCAAmC,CACvE,MAAO,CAAAC,wBAAwB,KAAM,oCAAoC,CACzE,OAASC,cAAc,KAAQ,iBAAiB,CAEhD,KAAM,CAAAC,gBAAgB,QAAS,CAAAL,YAAa,CAC1CM,OAAO,CAAGJ,uBAAuB,CACjCK,KAAK,CAAGJ,wBAAwB,CAEhCK,UAAUA,CAACC,MAAmC,CAA2B,CACvE,MAAO,IAAI,CAAAP,uBAAuB,CAAC,IAAM,CACvC,GAAI,MAAO,CAAAO,MAAM,GAAK,QAAQ,CAAE,CAC9B,MAAO,CAAAL,cAAc,CAACK,MAAM,CAAC,CAC/B,CAEA,GAAI,MAAO,CAAAA,MAAM,GAAK,QAAQ,EAAI,KAAK,EAAI,CAAAA,MAAM,EAAI,MAAO,CAAAA,MAAM,CAACC,GAAG,GAAK,QAAQ,CAAE,CACnF,MAAO,CAAAN,cAAc,CAACK,MAAM,CAACC,GAAG,CAAC,CACnC,CACA,KAAM,IAAI,CAAAC,KAAK,CAAC,yBAAyBF,MAAM,EAAE,CAAC,CACpD,CAAC,CAAC,CACJ,CACF,CAEA,cAAe,CAAAR,iBAAiB,CAACI,gBAAgB,CAAE,kBAAkB,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}