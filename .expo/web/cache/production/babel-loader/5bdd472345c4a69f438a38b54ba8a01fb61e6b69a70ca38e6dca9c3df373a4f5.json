{"ast":null,"code":"import{useState,useEffect}from'react';import createContextHook from'@nkzw/create-context-hook';import{useAuth}from'./auth-store';export const[LiveStreamingProvider,useLiveStreaming]=createContextHook(()=>{const{user}=useAuth();const[state,setState]=useState({activeSession:null,isHosting:false,currentViewingSession:null,comments:[],viewers:[],liveSessions:[],analytics:null});useEffect(()=>{loadLiveSessions();},[]);const loadLiveSessions=async()=>{try{const mockSessions=[{id:'1',hostId:'user1',hostUsername:'DJ Alex',hostAvatar:'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80',title:'Chill Vibes Session ðŸŽµ',description:'Playing some relaxing beats for the evening',audience:'everyone',commentsEnabled:true,shareToFeedAfter:true,status:'live',startedAt:Date.now()-1000*60*45,viewerCount:234,peakViewerCount:289,totalViews:456,likeCount:1234,commentCount:89,coHosts:[],viewers:[],moderators:[],blockedUsers:[],streamUrl:'rtmp://live.vibesync.app/live/stream1',thumbnailUrl:'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80'}];setState(prev=>Object.assign({},prev,{liveSessions:mockSessions}));}catch(error){console.error('Error loading live sessions:',error);}};const startLive=async(title,description,audience,commentsEnabled,shareToFeedAfter)=>{if(!user){throw new Error('User must be authenticated to start live');}try{const streamKey=`stream_${user.id}_${Date.now()}`;const newSession={id:Date.now().toString(),hostId:user.id,hostUsername:user.displayName||user.username,hostAvatar:user.profileImage||'',title,description,audience,commentsEnabled,shareToFeedAfter,status:'countdown',startedAt:Date.now(),viewerCount:0,peakViewerCount:0,totalViews:0,likeCount:0,commentCount:0,coHosts:[],viewers:[],moderators:[],blockedUsers:[],streamUrl:`rtmp://live.vibesync.app/live/${streamKey}`};setState(prev=>Object.assign({},prev,{activeSession:newSession,isHosting:true,liveSessions:[newSession,...prev.liveSessions]}));setTimeout(()=>{setState(prev=>Object.assign({},prev,{activeSession:prev.activeSession?Object.assign({},prev.activeSession,{status:'live'}):null}));},3000);console.log('Live session started:',newSession);return newSession;}catch(error){console.error('Error starting live:',error);throw error;}};const endLive=async()=>{if(!state.activeSession)return;try{const endedSession=Object.assign({},state.activeSession,{status:'ended',endedAt:Date.now()});const analytics={sessionId:endedSession.id,duration:endedSession.endedAt-(endedSession.startedAt||0),peakViewers:endedSession.peakViewerCount,totalViews:endedSession.totalViews,uniqueViewers:endedSession.totalViews,averageWatchTime:180000,likeCount:endedSession.likeCount,commentCount:endedSession.commentCount,shareCount:12,newFollowers:8,topViewers:[],engagementRate:0.45};setState(prev=>Object.assign({},prev,{activeSession:null,isHosting:false,analytics,liveSessions:prev.liveSessions.filter(s=>s.id!==endedSession.id)}));console.log('Live session ended');return analytics;}catch(error){console.error('Error ending live:',error);throw error;}};const joinLive=sessionId=>{const session=state.liveSessions.find(s=>s.id===sessionId);if(session&&user){const viewer={id:user.id,username:user.displayName||user.username,avatar:user.profileImage||'',joinedAt:Date.now(),role:'viewer'};setState(prev=>Object.assign({},prev,{currentViewingSession:session,liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{viewerCount:s.viewerCount+1,totalViews:s.totalViews+1,viewers:[...s.viewers,viewer]}):s)}));console.log('Joined live:',session.title);}};const leaveLive=sessionId=>{if(!user)return;setState(prev=>Object.assign({},prev,{currentViewingSession:null,liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{viewerCount:Math.max(0,s.viewerCount-1),viewers:s.viewers.filter(v=>v.id!==user.id)}):s)}));console.log('Left live session');};const addComment=(sessionId,text)=>{if(!user)return;const comment={id:Date.now().toString(),userId:user.id,username:user.displayName||user.username,avatar:user.profileImage||'',text,timestamp:Date.now()};setState(prev=>Object.assign({},prev,{comments:[...prev.comments,comment],liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{commentCount:s.commentCount+1}):s)}));};const pinComment=commentId=>{setState(prev=>Object.assign({},prev,{comments:prev.comments.map(c=>c.id===commentId?Object.assign({},c,{isPinned:true}):Object.assign({},c,{isPinned:false}))}));};const addLike=sessionId=>{setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{likeCount:s.likeCount+1}):s)}));};const inviteCoHost=(sessionId,userId)=>{console.log('Invite co-host:',userId);};const acceptCoHost=sessionId=>{if(!user)return;setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>{if(s.id===sessionId){const viewer=s.viewers.find(v=>v.id===user.id);if(viewer){return Object.assign({},s,{coHosts:[...s.coHosts,Object.assign({},viewer,{role:'co-host'})],viewers:s.viewers.filter(v=>v.id!==user.id)});}}return s;})}));};const removeCoHost=(sessionId,userId)=>{setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>{if(s.id===sessionId){const coHost=s.coHosts.find(ch=>ch.id===userId);if(coHost){return Object.assign({},s,{coHosts:s.coHosts.filter(ch=>ch.id!==userId),viewers:[...s.viewers,Object.assign({},coHost,{role:'viewer'})]});}}return s;})}));};const muteViewer=(sessionId,userId)=>{setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{viewers:s.viewers.map(v=>v.id===userId?Object.assign({},v,{isMuted:true}):v)}):s)}));};const blockViewer=(sessionId,userId)=>{setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{blockedUsers:[...s.blockedUsers,userId],viewers:s.viewers.filter(v=>v.id!==userId),viewerCount:Math.max(0,s.viewerCount-1)}):s)}));};const toggleComments=sessionId=>{setState(prev=>Object.assign({},prev,{liveSessions:prev.liveSessions.map(s=>s.id===sessionId?Object.assign({},s,{commentsEnabled:!s.commentsEnabled}):s)}));};return{activeSession:state.activeSession,isHosting:state.isHosting,currentViewingSession:state.currentViewingSession,comments:state.comments,viewers:state.viewers,liveSessions:state.liveSessions,analytics:state.analytics,startLive,endLive,joinLive,leaveLive,addComment,pinComment,addLike,inviteCoHost,acceptCoHost,removeCoHost,muteViewer,blockViewer,toggleComments};});","map":{"version":3,"names":["useState","useEffect","createContextHook","useAuth","LiveStreamingProvider","useLiveStreaming","user","state","setState","activeSession","isHosting","currentViewingSession","comments","viewers","liveSessions","analytics","loadLiveSessions","mockSessions","id","hostId","hostUsername","hostAvatar","title","description","audience","commentsEnabled","shareToFeedAfter","status","startedAt","Date","now","viewerCount","peakViewerCount","totalViews","likeCount","commentCount","coHosts","moderators","blockedUsers","streamUrl","thumbnailUrl","prev","Object","assign","error","console","startLive","Error","streamKey","newSession","toString","displayName","username","profileImage","setTimeout","log","endLive","endedSession","endedAt","sessionId","duration","peakViewers","uniqueViewers","averageWatchTime","shareCount","newFollowers","topViewers","engagementRate","filter","s","joinLive","session","find","viewer","avatar","joinedAt","role","map","leaveLive","Math","max","v","addComment","text","comment","userId","timestamp","pinComment","commentId","c","isPinned","addLike","inviteCoHost","acceptCoHost","removeCoHost","coHost","ch","muteViewer","isMuted","blockViewer","toggleComments"],"sources":["/home/user/rork-vibesync-458/hooks/live-streaming-store.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport createContextHook from '@nkzw/create-context-hook';\nimport { LiveSession, LiveComment, LiveViewer, LiveAnalytics, LiveAudience } from '@/types/live';\nimport { useAuth } from './auth-store';\n\ninterface LiveStreamingState {\n  activeSession: LiveSession | null;\n  isHosting: boolean;\n  currentViewingSession: LiveSession | null;\n  comments: LiveComment[];\n  viewers: LiveViewer[];\n  liveSessions: LiveSession[];\n  analytics: LiveAnalytics | null;\n}\n\nexport const [LiveStreamingProvider, useLiveStreaming] = createContextHook(() => {\n  const { user } = useAuth();\n  \n  const [state, setState] = useState<LiveStreamingState>({\n    activeSession: null,\n    isHosting: false,\n    currentViewingSession: null,\n    comments: [],\n    viewers: [],\n    liveSessions: [],\n    analytics: null,\n  });\n\n  useEffect(() => {\n    loadLiveSessions();\n  }, []);\n\n  const loadLiveSessions = async () => {\n    try {\n      const mockSessions: LiveSession[] = [\n        {\n          id: '1',\n          hostId: 'user1',\n          hostUsername: 'DJ Alex',\n          hostAvatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80',\n          title: 'Chill Vibes Session ðŸŽµ',\n          description: 'Playing some relaxing beats for the evening',\n          audience: 'everyone',\n          commentsEnabled: true,\n          shareToFeedAfter: true,\n          status: 'live',\n          startedAt: Date.now() - 1000 * 60 * 45,\n          viewerCount: 234,\n          peakViewerCount: 289,\n          totalViews: 456,\n          likeCount: 1234,\n          commentCount: 89,\n          coHosts: [],\n          viewers: [],\n          moderators: [],\n          blockedUsers: [],\n          streamUrl: 'rtmp://live.vibesync.app/live/stream1',\n          thumbnailUrl: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1350&q=80',\n        },\n      ];\n\n      setState(prev => ({ ...prev, liveSessions: mockSessions }));\n    } catch (error) {\n      console.error('Error loading live sessions:', error);\n    }\n  };\n\n  const startLive = async (\n    title: string | undefined,\n    description: string | undefined,\n    audience: LiveAudience,\n    commentsEnabled: boolean,\n    shareToFeedAfter: boolean\n  ) => {\n    if (!user) {\n      throw new Error('User must be authenticated to start live');\n    }\n\n    try {\n      const streamKey = `stream_${user.id}_${Date.now()}`;\n      \n      const newSession: LiveSession = {\n        id: Date.now().toString(),\n        hostId: user.id,\n        hostUsername: user.displayName || user.username,\n        hostAvatar: user.profileImage || '',\n        title,\n        description,\n        audience,\n        commentsEnabled,\n        shareToFeedAfter,\n        status: 'countdown',\n        startedAt: Date.now(),\n        viewerCount: 0,\n        peakViewerCount: 0,\n        totalViews: 0,\n        likeCount: 0,\n        commentCount: 0,\n        coHosts: [],\n        viewers: [],\n        moderators: [],\n        blockedUsers: [],\n        streamUrl: `rtmp://live.vibesync.app/live/${streamKey}`,\n      };\n\n      setState(prev => ({\n        ...prev,\n        activeSession: newSession,\n        isHosting: true,\n        liveSessions: [newSession, ...prev.liveSessions],\n      }));\n\n      setTimeout(() => {\n        setState(prev => ({\n          ...prev,\n          activeSession: prev.activeSession ? { ...prev.activeSession, status: 'live' } : null,\n        }));\n      }, 3000);\n\n      console.log('Live session started:', newSession);\n      \n      return newSession;\n    } catch (error) {\n      console.error('Error starting live:', error);\n      throw error;\n    }\n  };\n\n  const endLive = async () => {\n    if (!state.activeSession) return;\n\n    try {\n      const endedSession = {\n        ...state.activeSession,\n        status: 'ended' as const,\n        endedAt: Date.now(),\n      };\n\n      const analytics: LiveAnalytics = {\n        sessionId: endedSession.id,\n        duration: endedSession.endedAt - (endedSession.startedAt || 0),\n        peakViewers: endedSession.peakViewerCount,\n        totalViews: endedSession.totalViews,\n        uniqueViewers: endedSession.totalViews,\n        averageWatchTime: 180000,\n        likeCount: endedSession.likeCount,\n        commentCount: endedSession.commentCount,\n        shareCount: 12,\n        newFollowers: 8,\n        topViewers: [],\n        engagementRate: 0.45,\n      };\n\n      setState(prev => ({\n        ...prev,\n        activeSession: null,\n        isHosting: false,\n        analytics,\n        liveSessions: prev.liveSessions.filter(s => s.id !== endedSession.id),\n      }));\n\n      console.log('Live session ended');\n      return analytics;\n    } catch (error) {\n      console.error('Error ending live:', error);\n      throw error;\n    }\n  };\n\n  const joinLive = (sessionId: string) => {\n    const session = state.liveSessions.find(s => s.id === sessionId);\n    if (session && user) {\n      const viewer: LiveViewer = {\n        id: user.id,\n        username: user.displayName || user.username,\n        avatar: user.profileImage || '',\n        joinedAt: Date.now(),\n        role: 'viewer',\n      };\n\n      setState(prev => ({\n        ...prev,\n        currentViewingSession: session,\n        liveSessions: prev.liveSessions.map(s =>\n          s.id === sessionId\n            ? {\n                ...s,\n                viewerCount: s.viewerCount + 1,\n                totalViews: s.totalViews + 1,\n                viewers: [...s.viewers, viewer],\n              }\n            : s\n        ),\n      }));\n\n      console.log('Joined live:', session.title);\n    }\n  };\n\n  const leaveLive = (sessionId: string) => {\n    if (!user) return;\n\n    setState(prev => ({\n      ...prev,\n      currentViewingSession: null,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              viewerCount: Math.max(0, s.viewerCount - 1),\n              viewers: s.viewers.filter(v => v.id !== user.id),\n            }\n          : s\n      ),\n    }));\n\n    console.log('Left live session');\n  };\n\n  const addComment = (sessionId: string, text: string) => {\n    if (!user) return;\n\n    const comment: LiveComment = {\n      id: Date.now().toString(),\n      userId: user.id,\n      username: user.displayName || user.username,\n      avatar: user.profileImage || '',\n      text,\n      timestamp: Date.now(),\n    };\n\n    setState(prev => ({\n      ...prev,\n      comments: [...prev.comments, comment],\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, commentCount: s.commentCount + 1 } : s\n      ),\n    }));\n  };\n\n  const pinComment = (commentId: string) => {\n    setState(prev => ({\n      ...prev,\n      comments: prev.comments.map(c =>\n        c.id === commentId ? { ...c, isPinned: true } : { ...c, isPinned: false }\n      ),\n    }));\n  };\n\n  const addLike = (sessionId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, likeCount: s.likeCount + 1 } : s\n      ),\n    }));\n  };\n\n  const inviteCoHost = (sessionId: string, userId: string) => {\n    console.log('Invite co-host:', userId);\n  };\n\n  const acceptCoHost = (sessionId: string) => {\n    if (!user) return;\n\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s => {\n        if (s.id === sessionId) {\n          const viewer = s.viewers.find(v => v.id === user.id);\n          if (viewer) {\n            return {\n              ...s,\n              coHosts: [...s.coHosts, { ...viewer, role: 'co-host' as const }],\n              viewers: s.viewers.filter(v => v.id !== user.id),\n            };\n          }\n        }\n        return s;\n      }),\n    }));\n  };\n\n  const removeCoHost = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s => {\n        if (s.id === sessionId) {\n          const coHost = s.coHosts.find(ch => ch.id === userId);\n          if (coHost) {\n            return {\n              ...s,\n              coHosts: s.coHosts.filter(ch => ch.id !== userId),\n              viewers: [...s.viewers, { ...coHost, role: 'viewer' as const }],\n            };\n          }\n        }\n        return s;\n      }),\n    }));\n  };\n\n  const muteViewer = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              viewers: s.viewers.map(v =>\n                v.id === userId ? { ...v, isMuted: true } : v\n              ),\n            }\n          : s\n      ),\n    }));\n  };\n\n  const blockViewer = (sessionId: string, userId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId\n          ? {\n              ...s,\n              blockedUsers: [...s.blockedUsers, userId],\n              viewers: s.viewers.filter(v => v.id !== userId),\n              viewerCount: Math.max(0, s.viewerCount - 1),\n            }\n          : s\n      ),\n    }));\n  };\n\n  const toggleComments = (sessionId: string) => {\n    setState(prev => ({\n      ...prev,\n      liveSessions: prev.liveSessions.map(s =>\n        s.id === sessionId ? { ...s, commentsEnabled: !s.commentsEnabled } : s\n      ),\n    }));\n  };\n\n  return {\n    activeSession: state.activeSession,\n    isHosting: state.isHosting,\n    currentViewingSession: state.currentViewingSession,\n    comments: state.comments,\n    viewers: state.viewers,\n    liveSessions: state.liveSessions,\n    analytics: state.analytics,\n    startLive,\n    endLive,\n    joinLive,\n    leaveLive,\n    addComment,\n    pinComment,\n    addLike,\n    inviteCoHost,\n    acceptCoHost,\n    removeCoHost,\n    muteViewer,\n    blockViewer,\n    toggleComments,\n  };\n});"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}