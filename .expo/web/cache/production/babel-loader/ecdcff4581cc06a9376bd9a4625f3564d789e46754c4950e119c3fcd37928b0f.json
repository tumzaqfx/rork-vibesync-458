{"ast":null,"code":"import React,{memo}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Colors}from'@/constants/colors';import{User}from'lucide-react-native';import{OptimizedImage}from'@/utils/optimized-image';import{jsx as _jsx}from\"react/jsx-runtime\";const AvatarComponent=({uri,source,size=40,style,borderColor=Colors.primary,borderWidth=0,testID,onPress})=>{const imageUri=uri||source;const content=_jsx(View,{style:[styles.container,{width:size,height:size,borderRadius:size/2,borderWidth:borderWidth,borderColor:borderColor},style],testID:testID,children:imageUri?_jsx(OptimizedImage,{uri:imageUri,width:size-borderWidth*2,height:size-borderWidth*2,style:[styles.image,{width:size-borderWidth*2,height:size-borderWidth*2,borderRadius:(size-borderWidth*2)/2}],priority:\"high\",cachePolicy:\"memory-disk\"}):_jsx(View,{style:[styles.placeholder,{width:size-borderWidth*2,height:size-borderWidth*2,borderRadius:(size-borderWidth*2)/2}],children:_jsx(User,{size:size/2,color:Colors.textSecondary})})});if(onPress){return _jsx(TouchableOpacity,{onPress:onPress,activeOpacity:0.7,children:content});}return content;};export const Avatar=memo(AvatarComponent,(prev,next)=>{return prev.uri===next.uri&&prev.source===next.source&&prev.size===next.size&&prev.borderWidth===next.borderWidth;});const styles=StyleSheet.create({container:{justifyContent:'center',alignItems:'center',overflow:'hidden'},image:{backgroundColor:Colors.cardLight},placeholder:{backgroundColor:Colors.cardLight,justifyContent:'center',alignItems:'center'}});export default Avatar;","map":{"version":3,"names":["React","memo","StyleSheet","View","TouchableOpacity","Colors","User","OptimizedImage","jsx","_jsx","AvatarComponent","uri","source","size","style","borderColor","primary","borderWidth","testID","onPress","imageUri","content","styles","container","width","height","borderRadius","children","image","priority","cachePolicy","placeholder","color","textSecondary","activeOpacity","Avatar","prev","next","create","justifyContent","alignItems","overflow","backgroundColor","cardLight"],"sources":["/home/user/rork-vibesync-458/components/ui/Avatar.tsx"],"sourcesContent":["import React, { memo } from 'react';\nimport { StyleSheet, View, ViewStyle, TouchableOpacity } from 'react-native';\nimport { Colors } from '@/constants/colors';\nimport { User } from 'lucide-react-native';\nimport { OptimizedImage } from '@/utils/optimized-image';\n\ninterface AvatarProps {\n  uri?: string | null;\n  source?: string | null;\n  size?: number;\n  style?: ViewStyle;\n  borderColor?: string;\n  borderWidth?: number;\n  testID?: string;\n  onPress?: () => void;\n}\n\nconst AvatarComponent: React.FC<AvatarProps> = ({\n  uri,\n  source,\n  size = 40,\n  style,\n  borderColor = Colors.primary,\n  borderWidth = 0,\n  testID,\n  onPress,\n}) => {\n  const imageUri = uri || source;\n  \n  const content = (\n    <View\n      style={[\n        styles.container,\n        {\n          width: size,\n          height: size,\n          borderRadius: size / 2,\n          borderWidth: borderWidth,\n          borderColor: borderColor,\n        },\n        style,\n      ]}\n      testID={testID}\n    >\n      {imageUri ? (\n        <OptimizedImage\n          uri={imageUri}\n          width={size - borderWidth * 2}\n          height={size - borderWidth * 2}\n          style={[\n            styles.image,\n            {\n              width: size - borderWidth * 2,\n              height: size - borderWidth * 2,\n              borderRadius: (size - borderWidth * 2) / 2,\n            },\n          ]}\n          priority=\"high\"\n          cachePolicy=\"memory-disk\"\n        />\n      ) : (\n        <View\n          style={[\n            styles.placeholder,\n            {\n              width: size - borderWidth * 2,\n              height: size - borderWidth * 2,\n              borderRadius: (size - borderWidth * 2) / 2,\n            },\n          ]}\n        >\n          <User size={size / 2} color={Colors.textSecondary} />\n        </View>\n      )}\n    </View>\n  );\n\n  if (onPress) {\n    return (\n      <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\n        {content}\n      </TouchableOpacity>\n    );\n  }\n\n  return content;\n};\n\nexport const Avatar = memo(AvatarComponent, (prev, next) => {\n  return (\n    prev.uri === next.uri &&\n    prev.source === next.source &&\n    prev.size === next.size &&\n    prev.borderWidth === next.borderWidth\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  image: {\n    backgroundColor: Colors.cardLight,\n  },\n  placeholder: {\n    backgroundColor: Colors.cardLight,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default Avatar;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}