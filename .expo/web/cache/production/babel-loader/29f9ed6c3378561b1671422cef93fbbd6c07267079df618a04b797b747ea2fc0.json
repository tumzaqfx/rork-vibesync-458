{"ast":null,"code":"import React,{useEffect,useRef}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Image from\"react-native-web/dist/exports/Image\";import Animated from\"react-native-web/dist/exports/Animated\";import{router}from'expo-router';import{LinearGradient}from'expo-linear-gradient';import{Colors}from'@/constants/colors';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function LiveStoryCircle({session}){const pulseAnim=useRef(new Animated.Value(1)).current;useEffect(()=>{const pulse=Animated.loop(Animated.sequence([Animated.timing(pulseAnim,{toValue:1.1,duration:1000,useNativeDriver:true}),Animated.timing(pulseAnim,{toValue:1,duration:1000,useNativeDriver:true})]));pulse.start();return()=>pulse.stop();},[pulseAnim]);const handlePress=()=>{router.push(`/live/${session.id}`);};return _jsxs(TouchableOpacity,{style:styles.container,onPress:handlePress,activeOpacity:0.7,testID:`live-story-${session.id}`,children:[_jsxs(View,{style:styles.avatarContainer,children:[_jsx(Animated.View,{style:{transform:[{scale:pulseAnim}]},children:_jsx(LinearGradient,{colors:['#EF4444','#DC2626','#B91C1C'],start:{x:0,y:0},end:{x:1,y:1},style:styles.gradient,children:_jsx(View,{style:styles.innerCircle,children:_jsx(Image,{source:{uri:session.hostAvatar},style:styles.avatar})})})}),_jsxs(View,{style:styles.liveBadge,children:[_jsx(View,{style:styles.liveDot}),_jsx(Text,{style:styles.liveText,children:\"LIVE\"})]})]}),_jsx(Text,{style:styles.username,numberOfLines:1,children:session.hostUsername})]});}const styles=StyleSheet.create({container:{alignItems:'center',marginRight:16,width:80},avatarContainer:{position:'relative',marginBottom:8},gradient:{width:80,height:80,borderRadius:40,padding:2.5,shadowColor:'#EF4444',shadowOffset:{width:0,height:0},shadowOpacity:0.6,shadowRadius:8,elevation:8},innerCircle:{width:75,height:75,borderRadius:37.5,backgroundColor:Colors.background,padding:2.5},avatar:{width:64,height:64,borderRadius:32},liveBadge:{position:'absolute',bottom:0,left:'50%',transform:[{translateX:-22}],backgroundColor:'#EF4444',paddingHorizontal:8,paddingVertical:3,borderRadius:4,borderWidth:2,borderColor:Colors.background,flexDirection:'row',alignItems:'center',gap:3},liveDot:{width:6,height:6,borderRadius:3,backgroundColor:'#FFFFFF'},liveText:{fontSize:10,fontWeight:'700',color:'#FFFFFF'},username:{fontSize:12,color:Colors.text,textAlign:'center'}});","map":{"version":3,"names":["React","useEffect","useRef","View","Text","StyleSheet","TouchableOpacity","Image","Animated","router","LinearGradient","Colors","jsx","_jsx","jsxs","_jsxs","LiveStoryCircle","session","pulseAnim","Value","current","pulse","loop","sequence","timing","toValue","duration","useNativeDriver","start","stop","handlePress","push","id","style","styles","container","onPress","activeOpacity","testID","children","avatarContainer","transform","scale","colors","x","y","end","gradient","innerCircle","source","uri","hostAvatar","avatar","liveBadge","liveDot","liveText","username","numberOfLines","hostUsername","create","alignItems","marginRight","width","position","marginBottom","height","borderRadius","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","backgroundColor","background","bottom","left","translateX","paddingHorizontal","paddingVertical","borderWidth","borderColor","flexDirection","gap","fontSize","fontWeight","color","text","textAlign"],"sources":["/home/user/rork-vibesync-458/components/home/LiveStoryCircle.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Image, Animated } from 'react-native';\nimport { router } from 'expo-router';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { LiveSession } from '@/types/live';\nimport { Colors } from '@/constants/colors';\n\ninterface LiveStoryCircleProps {\n  session: LiveSession;\n}\n\nexport function LiveStoryCircle({ session }: LiveStoryCircleProps) {\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    const pulse = Animated.loop(\n      Animated.sequence([\n        Animated.timing(pulseAnim, {\n          toValue: 1.1,\n          duration: 1000,\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseAnim, {\n          toValue: 1,\n          duration: 1000,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n    pulse.start();\n    return () => pulse.stop();\n  }, [pulseAnim]);\n\n  const handlePress = () => {\n    router.push(`/live/${session.id}` as any);\n  };\n\n  return (\n    <TouchableOpacity\n      style={styles.container}\n      onPress={handlePress}\n      activeOpacity={0.7}\n      testID={`live-story-${session.id}`}\n    >\n      <View style={styles.avatarContainer}>\n        <Animated.View style={{ transform: [{ scale: pulseAnim }] }}>\n          <LinearGradient\n            colors={['#EF4444', '#DC2626', '#B91C1C']}\n            start={{ x: 0, y: 0 }}\n            end={{ x: 1, y: 1 }}\n            style={styles.gradient}\n          >\n            <View style={styles.innerCircle}>\n              <Image\n                source={{ uri: session.hostAvatar }}\n                style={styles.avatar}\n              />\n            </View>\n          </LinearGradient>\n        </Animated.View>\n        <View style={styles.liveBadge}>\n          <View style={styles.liveDot} />\n          <Text style={styles.liveText}>LIVE</Text>\n        </View>\n      </View>\n      <Text style={styles.username} numberOfLines={1}>\n        {session.hostUsername}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    marginRight: 16,\n    width: 80,\n  },\n  avatarContainer: {\n    position: 'relative',\n    marginBottom: 8,\n  },\n  gradient: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    padding: 2.5,\n    shadowColor: '#EF4444',\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0.6,\n    shadowRadius: 8,\n    elevation: 8,\n  },\n  innerCircle: {\n    width: 75,\n    height: 75,\n    borderRadius: 37.5,\n    backgroundColor: Colors.background,\n    padding: 2.5,\n  },\n  avatar: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n  },\n  liveBadge: {\n    position: 'absolute',\n    bottom: 0,\n    left: '50%',\n    transform: [{ translateX: -22 }],\n    backgroundColor: '#EF4444',\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 4,\n    borderWidth: 2,\n    borderColor: Colors.background,\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 3,\n  },\n  liveDot: {\n    width: 6,\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: '#FFFFFF',\n  },\n  liveText: {\n    fontSize: 10,\n    fontWeight: '700' as const,\n    color: '#FFFFFF',\n  },\n  username: {\n    fontSize: 12,\n    color: Colors.text,\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}