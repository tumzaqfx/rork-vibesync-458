{"ast":null,"code":"\"use strict\";import{NavigationContext,NavigationRouteContext}from'@react-navigation/native';import*as React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useSafeAreaInsets}from'react-native-safe-area-context';import{Background}from\"./Background.js\";import{getDefaultHeaderHeight}from\"./Header/getDefaultHeaderHeight.js\";import{HeaderHeightContext}from\"./Header/HeaderHeightContext.js\";import{HeaderShownContext}from\"./Header/HeaderShownContext.js\";import{useFrameSize}from\"./useFrameSize.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Screen(props){const insets=useSafeAreaInsets();const isParentHeaderShown=React.useContext(HeaderShownContext);const parentHeaderHeight=React.useContext(HeaderHeightContext);const{focused,modal=false,header,headerShown=true,headerTransparent,headerStatusBarHeight=isParentHeaderShown?0:insets.top,navigation,route,children,style}=props;const defaultHeaderHeight=useFrameSize(size=>getDefaultHeaderHeight(size,modal,headerStatusBarHeight));const[headerHeight,setHeaderHeight]=React.useState(defaultHeaderHeight);return _jsxs(Background,{\"aria-hidden\":!focused,style:[styles.container,style],collapsable:false,children:[headerShown?_jsx(NavigationContext.Provider,{value:navigation,children:_jsx(NavigationRouteContext.Provider,{value:route,children:_jsx(View,{pointerEvents:\"box-none\",onLayout:e=>{const{height}=e.nativeEvent.layout;setHeaderHeight(height);},style:[styles.header,headerTransparent?styles.absolute:null],children:header})})}):null,_jsx(View,{style:styles.content,children:_jsx(HeaderShownContext.Provider,{value:isParentHeaderShown||headerShown!==false,children:_jsx(HeaderHeightContext.Provider,{value:headerShown?headerHeight:parentHeaderHeight??0,children:children})})})]});}const styles=StyleSheet.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:'absolute',top:0,start:0,end:0}});","map":{"version":3,"names":["NavigationContext","NavigationRouteContext","React","StyleSheet","View","useSafeAreaInsets","Background","getDefaultHeaderHeight","HeaderHeightContext","HeaderShownContext","useFrameSize","jsx","_jsx","jsxs","_jsxs","Screen","props","insets","isParentHeaderShown","useContext","parentHeaderHeight","focused","modal","header","headerShown","headerTransparent","headerStatusBarHeight","top","navigation","route","children","style","defaultHeaderHeight","size","headerHeight","setHeaderHeight","useState","styles","container","collapsable","Provider","value","pointerEvents","onLayout","e","height","nativeEvent","layout","absolute","content","create","flex","zIndex","position","start","end"],"sources":["/home/user/rork-vibesync-458/node_modules/@react-navigation/elements/src/Screen.tsx"],"sourcesContent":["import {\n  NavigationContext,\n  type NavigationProp,\n  NavigationRouteContext,\n  type ParamListBase,\n  type RouteProp,\n} from '@react-navigation/native';\nimport * as React from 'react';\nimport {\n  Animated,\n  type StyleProp,\n  StyleSheet,\n  View,\n  type ViewStyle,\n} from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport { Background } from './Background';\nimport { getDefaultHeaderHeight } from './Header/getDefaultHeaderHeight';\nimport { HeaderHeightContext } from './Header/HeaderHeightContext';\nimport { HeaderShownContext } from './Header/HeaderShownContext';\nimport { useFrameSize } from './useFrameSize';\n\ntype Props = {\n  focused: boolean;\n  modal?: boolean;\n  navigation: NavigationProp<ParamListBase>;\n  route: RouteProp<ParamListBase>;\n  header: React.ReactNode;\n  headerShown?: boolean;\n  headerStatusBarHeight?: number;\n  headerTransparent?: boolean;\n  style?: Animated.WithAnimatedValue<StyleProp<ViewStyle>>;\n  children: React.ReactNode;\n};\n\nexport function Screen(props: Props) {\n  const insets = useSafeAreaInsets();\n\n  const isParentHeaderShown = React.useContext(HeaderShownContext);\n  const parentHeaderHeight = React.useContext(HeaderHeightContext);\n\n  const {\n    focused,\n    modal = false,\n    header,\n    headerShown = true,\n    headerTransparent,\n    headerStatusBarHeight = isParentHeaderShown ? 0 : insets.top,\n    navigation,\n    route,\n    children,\n    style,\n  } = props;\n\n  const defaultHeaderHeight = useFrameSize((size) =>\n    getDefaultHeaderHeight(size, modal, headerStatusBarHeight)\n  );\n\n  const [headerHeight, setHeaderHeight] = React.useState(defaultHeaderHeight);\n\n  return (\n    <Background\n      aria-hidden={!focused}\n      style={[styles.container, style]}\n      // On Fabric we need to disable collapsing for the background to ensure\n      // that we won't render unnecessary views due to the view flattening.\n      collapsable={false}\n    >\n      {headerShown ? (\n        <NavigationContext.Provider value={navigation}>\n          <NavigationRouteContext.Provider value={route}>\n            <View\n              pointerEvents=\"box-none\"\n              onLayout={(e) => {\n                const { height } = e.nativeEvent.layout;\n\n                setHeaderHeight(height);\n              }}\n              style={[\n                styles.header,\n                headerTransparent ? styles.absolute : null,\n              ]}\n            >\n              {header}\n            </View>\n          </NavigationRouteContext.Provider>\n        </NavigationContext.Provider>\n      ) : null}\n      <View style={styles.content}>\n        <HeaderShownContext.Provider\n          value={isParentHeaderShown || headerShown !== false}\n        >\n          <HeaderHeightContext.Provider\n            value={headerShown ? headerHeight : (parentHeaderHeight ?? 0)}\n          >\n            {children}\n          </HeaderHeightContext.Provider>\n        </HeaderShownContext.Provider>\n      </View>\n    </Background>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    zIndex: 1,\n  },\n  absolute: {\n    position: 'absolute',\n    top: 0,\n    start: 0,\n    end: 0,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}