{"ast":null,"code":"'use strict';import{useEffect,useRef}from'react';import{makeMutable,subscribeForKeyboardEvents,unsubscribeFromKeyboardEvents}from\"../core.js\";import{KeyboardState}from\"../commonTypes.js\";const _worklet_15723429318021_init_data={code:\"function reactNativeReanimated_useAnimatedKeyboardJs1(state,height){const{keyboardEventData}=this.__closure;keyboardEventData.state.value=state;keyboardEventData.height.value=height;}\"};const _worklet_5338428174022_init_data={code:\"function reactNativeReanimated_useAnimatedKeyboardJs2(state,height){const{keyboardEventData}=this.__closure;keyboardEventData.state.value=state;keyboardEventData.height.value=height;}\"};export function useAnimatedKeyboard(options={isStatusBarTranslucentAndroid:false,isNavigationBarTranslucentAndroid:false}){const ref=useRef(null);const listenerId=useRef(-1);const isSubscribed=useRef(false);if(ref.current===null){const keyboardEventData={state:makeMutable(KeyboardState.UNKNOWN),height:makeMutable(0)};listenerId.current=subscribeForKeyboardEvents(function(){const reactNativeReanimated_useAnimatedKeyboardJs1=function(state,height){keyboardEventData.state.value=state;keyboardEventData.height.value=height;};reactNativeReanimated_useAnimatedKeyboardJs1.__closure={keyboardEventData};reactNativeReanimated_useAnimatedKeyboardJs1.__workletHash=15723429318021;reactNativeReanimated_useAnimatedKeyboardJs1.__initData=_worklet_15723429318021_init_data;return reactNativeReanimated_useAnimatedKeyboardJs1;}(),options);ref.current=keyboardEventData;isSubscribed.current=true;}useEffect(()=>{if(isSubscribed.current===false&&ref.current!==null){const keyboardEventData=ref.current;listenerId.current=subscribeForKeyboardEvents(function(){const reactNativeReanimated_useAnimatedKeyboardJs2=function(state,height){keyboardEventData.state.value=state;keyboardEventData.height.value=height;};reactNativeReanimated_useAnimatedKeyboardJs2.__closure={keyboardEventData};reactNativeReanimated_useAnimatedKeyboardJs2.__workletHash=5338428174022;reactNativeReanimated_useAnimatedKeyboardJs2.__initData=_worklet_5338428174022_init_data;return reactNativeReanimated_useAnimatedKeyboardJs2;}(),options);isSubscribed.current=true;}return()=>{unsubscribeFromKeyboardEvents(listenerId.current);isSubscribed.current=false;};},[]);return ref.current;}","map":{"version":3,"names":["useEffect","useRef","makeMutable","subscribeForKeyboardEvents","unsubscribeFromKeyboardEvents","KeyboardState","_worklet_15723429318021_init_data","code","_worklet_5338428174022_init_data","useAnimatedKeyboard","options","isStatusBarTranslucentAndroid","isNavigationBarTranslucentAndroid","ref","listenerId","isSubscribed","current","keyboardEventData","state","UNKNOWN","height","reactNativeReanimated_useAnimatedKeyboardJs1","value","__closure","__workletHash","__initData","reactNativeReanimated_useAnimatedKeyboardJs2"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-reanimated/src/hook/useAnimatedKeyboard.ts"],"sourcesContent":["'use strict';\nimport { useEffect, useRef } from 'react';\nimport {\n  makeMutable,\n  subscribeForKeyboardEvents,\n  unsubscribeFromKeyboardEvents,\n} from '../core';\nimport type {\n  AnimatedKeyboardInfo,\n  AnimatedKeyboardOptions,\n} from '../commonTypes';\nimport { KeyboardState } from '../commonTypes';\n\n/**\n * Lets you synchronously get the position and state of the keyboard.\n *\n * @param options - An additional keyboard configuration options.\n * @returns An object with the current keyboard `height` and `state` as [shared\n *   values](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#shared-value).\n * @see https://docs.swmansion.com/react-native-reanimated/docs/device/useAnimatedKeyboard\n */\nexport function useAnimatedKeyboard(\n  options: AnimatedKeyboardOptions = {\n    isStatusBarTranslucentAndroid: false,\n    isNavigationBarTranslucentAndroid: false,\n  }\n): AnimatedKeyboardInfo {\n  const ref = useRef<AnimatedKeyboardInfo | null>(null);\n  const listenerId = useRef<number>(-1);\n  const isSubscribed = useRef<boolean>(false);\n\n  if (ref.current === null) {\n    const keyboardEventData: AnimatedKeyboardInfo = {\n      state: makeMutable<KeyboardState>(KeyboardState.UNKNOWN),\n      height: makeMutable(0),\n    };\n    listenerId.current = subscribeForKeyboardEvents((state, height) => {\n      'worklet';\n      keyboardEventData.state.value = state;\n      keyboardEventData.height.value = height;\n    }, options);\n    ref.current = keyboardEventData;\n    isSubscribed.current = true;\n  }\n  useEffect(() => {\n    if (isSubscribed.current === false && ref.current !== null) {\n      const keyboardEventData = ref.current;\n      // subscribe again after Fast Refresh\n      listenerId.current = subscribeForKeyboardEvents((state, height) => {\n        'worklet';\n        keyboardEventData.state.value = state;\n        keyboardEventData.height.value = height;\n      }, options);\n      isSubscribed.current = true;\n    }\n    return () => {\n      unsubscribeFromKeyboardEvents(listenerId.current);\n      isSubscribed.current = false;\n    };\n  }, []);\n  return ref.current;\n}\n"],"mappings":"AAAA,YAAY,CACZ,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,OACEC,WAAW,CACXC,0BAA0B,CAC1BC,6BAA6B,KACxB,YAAS,CAKhB,OAASC,aAAa,KAAQ,mBAAgB,OAAAC,iCAAA,EAAAC,IAAA,kMAAAC,gCAAA,EAAAD,IAAA,4LAU9C,MAAO,SAAS,CAAAE,mBAAmBA,CACjCC,OAAgC,CAAG,CACjCC,6BAA6B,CAAE,KAAK,CACpCC,iCAAiC,CAAE,KACrC,CAAC,CACqB,CACtB,KAAM,CAAAC,GAAG,CAAGZ,MAAM,CAA8B,IAAI,CAAC,CACrD,KAAM,CAAAa,UAAU,CAAGb,MAAM,CAAS,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAc,YAAY,CAAGd,MAAM,CAAU,KAAK,CAAC,CAE3C,GAAIY,GAAG,CAACG,OAAO,GAAK,IAAI,CAAE,CACxB,KAAM,CAAAC,iBAAuC,CAAG,CAC9CC,KAAK,CAAEhB,WAAW,CAAgBG,aAAa,CAACc,OAAO,CAAC,CACxDC,MAAM,CAAElB,WAAW,CAAC,CAAC,CACvB,CAAC,CACDY,UAAU,CAACE,OAAO,CAAGb,0BAA0B,CAAC,iBAAAkB,4CAAA,SAAAA,CAACH,KAAK,CAAEE,MAAM,CAAK,CAEjEH,iBAAiB,CAACC,KAAK,CAACI,KAAK,CAAGJ,KAAK,CACrCD,iBAAiB,CAACG,MAAM,CAACE,KAAK,CAAGF,MAAM,CACzC,CAAC,CAAAC,4CAAA,CAAAE,SAAA,EAAAN,iBAAA,EAAAI,4CAAA,CAAAG,aAAA,gBAAAH,4CAAA,CAAAI,UAAA,CAAAnB,iCAAA,QAAAe,4CAAA,EAJ+C,GAI7CX,OAAO,CAAC,CACXG,GAAG,CAACG,OAAO,CAAGC,iBAAiB,CAC/BF,YAAY,CAACC,OAAO,CAAG,IAAI,CAC7B,CACAhB,SAAS,CAAC,IAAM,CACd,GAAIe,YAAY,CAACC,OAAO,GAAK,KAAK,EAAIH,GAAG,CAACG,OAAO,GAAK,IAAI,CAAE,CAC1D,KAAM,CAAAC,iBAAiB,CAAGJ,GAAG,CAACG,OAAO,CAErCF,UAAU,CAACE,OAAO,CAAGb,0BAA0B,CAAC,iBAAAuB,4CAAA,SAAAA,CAACR,KAAK,CAAEE,MAAM,CAAK,CAEjEH,iBAAiB,CAACC,KAAK,CAACI,KAAK,CAAGJ,KAAK,CACrCD,iBAAiB,CAACG,MAAM,CAACE,KAAK,CAAGF,MAAM,CACzC,CAAC,CAAAM,4CAAA,CAAAH,SAAA,EAAAN,iBAAA,EAAAS,4CAAA,CAAAF,aAAA,eAAAE,4CAAA,CAAAD,UAAA,CAAAjB,gCAAA,QAAAkB,4CAAA,EAJ+C,GAI7ChB,OAAO,CAAC,CACXK,YAAY,CAACC,OAAO,CAAG,IAAI,CAC7B,CACA,MAAO,IAAM,CACXZ,6BAA6B,CAACU,UAAU,CAACE,OAAO,CAAC,CACjDD,YAAY,CAACC,OAAO,CAAG,KAAK,CAC9B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAAAH,GAAG,CAACG,OAAO,CACpB","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}