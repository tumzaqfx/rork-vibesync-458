{"ast":null,"code":"import Platform from\"react-native-web/dist/exports/Platform\";import findNodeHandleRN from\"react-native-web/dist/exports/findNodeHandle\";import{handlerIDToTag}from'./handlersRegistry';import{toArray}from'../utils';import RNGestureHandlerModule from'../RNGestureHandlerModule';import{ghQueueMicrotask}from'../ghQueueMicrotask';function isConfigParam(param,name){return param!==undefined&&(param!==Object(param)||!('__isNative'in param))&&name!=='onHandlerStateChange'&&name!=='onGestureEvent';}export function filterConfig(props,validProps,defaults={}){const filteredConfig=Object.assign({},defaults);for(const key of validProps){let value=props[key];if(isConfigParam(value,key)){if(key==='simultaneousHandlers'||key==='waitFor'){value=transformIntoHandlerTags(props[key]);}else if(key==='hitSlop'&&typeof value!=='object'){value={top:value,left:value,bottom:value,right:value};}filteredConfig[key]=value;}}return filteredConfig;}export function transformIntoHandlerTags(handlerIDs){handlerIDs=toArray(handlerIDs);if(true){return handlerIDs.map(({current})=>current).filter(handle=>handle);}return handlerIDs.map(handlerID=>{var _handlerID$current;return handlerIDToTag[handlerID]||((_handlerID$current=handlerID.current)===null||_handlerID$current===void 0?void 0:_handlerID$current.handlerTag)||-1;}).filter(handlerTag=>handlerTag>0);}export function findNodeHandle(node){if(true){return node;}return findNodeHandleRN(node);}let flushOperationsScheduled=false;export function scheduleFlushOperations(){if(!flushOperationsScheduled){flushOperationsScheduled=true;ghQueueMicrotask(()=>{RNGestureHandlerModule.flushOperations();flushOperationsScheduled=false;});}}","map":{"version":3,"names":["handlerIDToTag","toArray","RNGestureHandlerModule","ghQueueMicrotask","isConfigParam","param","name","undefined","Object","filterConfig","props","validProps","defaults","filteredConfig","assign","key","value","transformIntoHandlerTags","top","left","bottom","right","handlerIDs","map","current","filter","handle","handlerID","_handlerID$current","handlerTag","findNodeHandle","node","findNodeHandleRN","flushOperationsScheduled","scheduleFlushOperations","flushOperations"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-gesture-handler/lib/module/handlers/utils.ts"],"sourcesContent":["import * as React from 'react';\nimport { Platform, findNodeHandle as findNodeHandleRN } from 'react-native';\nimport { handlerIDToTag } from './handlersRegistry';\nimport { toArray } from '../utils';\nimport RNGestureHandlerModule from '../RNGestureHandlerModule';\nimport { ghQueueMicrotask } from '../ghQueueMicrotask';\n\nfunction isConfigParam(param: unknown, name: string) {\n  // param !== Object(param) returns false if `param` is a function\n  // or an object and returns true if `param` is null\n  return (\n    param !== undefined &&\n    (param !== Object(param) ||\n      !('__isNative' in (param as Record<string, unknown>))) &&\n    name !== 'onHandlerStateChange' &&\n    name !== 'onGestureEvent'\n  );\n}\n\nexport function filterConfig(\n  props: Record<string, unknown>,\n  validProps: string[],\n  defaults: Record<string, unknown> = {}\n) {\n  const filteredConfig = { ...defaults };\n  for (const key of validProps) {\n    let value = props[key];\n    if (isConfigParam(value, key)) {\n      if (key === 'simultaneousHandlers' || key === 'waitFor') {\n        value = transformIntoHandlerTags(props[key]);\n      } else if (key === 'hitSlop' && typeof value !== 'object') {\n        value = { top: value, left: value, bottom: value, right: value };\n      }\n      filteredConfig[key] = value;\n    }\n  }\n  return filteredConfig;\n}\n\nexport function transformIntoHandlerTags(handlerIDs: any) {\n  handlerIDs = toArray(handlerIDs);\n\n  if (Platform.OS === 'web') {\n    return handlerIDs\n      .map(({ current }: { current: any }) => current)\n      .filter((handle: any) => handle);\n  }\n  // converts handler string IDs into their numeric tags\n  return handlerIDs\n    .map(\n      (handlerID: any) =>\n        handlerIDToTag[handlerID] || handlerID.current?.handlerTag || -1\n    )\n    .filter((handlerTag: number) => handlerTag > 0);\n}\n\nexport function findNodeHandle(\n  node: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number | React.Component<any, any> | React.ComponentClass<any> {\n  if (Platform.OS === 'web') {\n    return node;\n  }\n  return findNodeHandleRN(node);\n}\nlet flushOperationsScheduled = false;\n\nexport function scheduleFlushOperations() {\n  if (!flushOperationsScheduled) {\n    flushOperationsScheduled = true;\n    ghQueueMicrotask(() => {\n      RNGestureHandlerModule.flushOperations();\n\n      flushOperationsScheduled = false;\n    });\n  }\n}\n"],"mappings":"wIAEA,OAASA,cAAT,KAA+B,oBAA/B,CACA,OAASC,OAAT,KAAwB,UAAxB,CACA,MAAO,CAAAC,sBAAP,KAAmC,2BAAnC,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CAEA,QAAS,CAAAC,aAATA,CAAuBC,KAAvB,CAAuCC,IAAvC,CAAqD,CAGnD,MACE,CAAAD,KAAK,GAAKE,SAAV,GACCF,KAAK,GAAKG,MAAM,CAACH,KAAD,CAAhB,EACC,EAAE,cAAiB,CAAAA,KAAnB,CAFF,GAGAC,IAAI,GAAK,sBAHT,EAIAA,IAAI,GAAK,gBALX,CAOD,CAED,MAAO,SAAS,CAAAG,YAATA,CACLC,KADK,CAELC,UAFK,CAGLC,QAAiC,CAAG,EAH/B,CAIL,CACA,KAAM,CAAAC,cAAc,CAAAL,MAAA,CAAAM,MAAA,IAAQF,QAAA,CAA5B,CACA,IAAK,KAAM,CAAAG,GAAX,GAAkB,CAAAJ,UAAlB,CAA8B,CAC5B,GAAI,CAAAK,KAAK,CAAGN,KAAK,CAACK,GAAD,CAAjB,CACA,GAAIX,aAAa,CAACY,KAAD,CAAQD,GAAR,CAAjB,CAA+B,CAC7B,GAAIA,GAAG,GAAK,sBAAR,EAAkCA,GAAG,GAAK,SAA9C,CAAyD,CACvDC,KAAK,CAAGC,wBAAwB,CAACP,KAAK,CAACK,GAAD,CAAN,CAAhC,CACD,CAFD,IAEO,IAAIA,GAAG,GAAK,SAAR,EAAqB,MAAO,CAAAC,KAAP,GAAiB,QAA1C,CAAoD,CACzDA,KAAK,CAAG,CAAEE,GAAG,CAAEF,KAAP,CAAcG,IAAI,CAAEH,KAApB,CAA2BI,MAAM,CAAEJ,KAAnC,CAA0CK,KAAK,CAAEL,KAAjD,CAAR,CACD,CACDH,cAAc,CAACE,GAAD,CAAd,CAAsBC,KAAtB,CACD,CACF,CACD,MAAO,CAAAH,cAAP,CACD,CAED,MAAO,SAAS,CAAAI,wBAATA,CAAkCK,UAAlC,CAAmD,CACxDA,UAAU,CAAGrB,OAAO,CAACqB,UAAD,CAApB,CAEA,QAA2B,CACzB,MAAO,CAAAA,UAAU,CACdC,GADI,CACA,CAAC,CAAEC,OAAF,CAAD,GAAmCA,OADnC,EAEJC,MAFI,CAEIC,MAAD,EAAiBA,MAFpB,CAAP,CAGD,CAED,MAAO,CAAAJ,UAAU,CACdC,GADI,CAEFI,SAAD,OAAAC,kBAAA,OACE,CAAA5B,cAAc,CAAC2B,SAAD,CAAd,IAAAC,kBAAA,CAA6BD,SAAS,CAACH,OAAvC,UAAAI,kBAAA,iBAA6BA,kBAAA,CAAmBC,UAAhD,GAA8D,CAAC,CADjE,EAFG,EAKJJ,MALI,CAKII,UAAD,EAAwBA,UAAU,CAAG,CALxC,CAAP,CAMD,CAED,MAAO,SAAS,CAAAC,cAATA,CACLC,IADK,CAEkE,CACvE,QAA2B,CACzB,MAAO,CAAAA,IAAP,CACD,CACD,MAAO,CAAAC,gBAAgB,CAACD,IAAD,CAAvB,CACD,CACD,GAAI,CAAAE,wBAAwB,CAAG,KAA/B,CAEA,MAAO,SAAS,CAAAC,uBAATA,CAAA,CAAmC,CACxC,GAAI,CAACD,wBAAL,CAA+B,CAC7BA,wBAAwB,CAAG,IAA3B,CACA9B,gBAAgB,CAAC,IAAM,CACrBD,sBAAsB,CAACiC,eAAvB,GAEAF,wBAAwB,CAAG,KAA3B,CACD,CAJe,CAAhB,CAKD,CACF","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}