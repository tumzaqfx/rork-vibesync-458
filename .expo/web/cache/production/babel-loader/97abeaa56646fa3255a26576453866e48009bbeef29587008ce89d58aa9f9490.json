{"ast":null,"code":"import{Platform}from'expo-modules-core';const getNavigatorLocales=()=>{if(Platform.isDOMAvailable){return navigator.languages||[navigator.language];}const dtFormatLocale=Intl?.DateTimeFormat()?.resolvedOptions()?.locale;if(dtFormatLocale){return[dtFormatLocale];}return[];};const WEB_LANGUAGE_CHANGE_EVENT='languagechange';const USES_FAHRENHEIT=['AG','BZ','VG','FM','MH','MS','KN','BS','CY','TC','US','LR','PW','KY'];export function addLocaleListener(listener){addEventListener(WEB_LANGUAGE_CHANGE_EVENT,listener);return{remove:()=>removeEventListener(WEB_LANGUAGE_CHANGE_EVENT,listener)};}export function addCalendarListener(listener){addEventListener(WEB_LANGUAGE_CHANGE_EVENT,listener);return{remove:()=>removeEventListener(WEB_LANGUAGE_CHANGE_EVENT,listener)};}export function removeSubscription(subscription){subscription.remove();}export default{getLocales(){const locales=getNavigatorLocales();return locales?.map(languageTag=>{let locale={};let digitGroupingSeparator=null;let decimalSeparator=null;let temperatureUnit=null;try{digitGroupingSeparator=Array.from(10000 .toLocaleString(languageTag)).filter(c=>c>'9'||c<'0')[0]||null;decimalSeparator=1.1.toLocaleString(languageTag).substring(1,2);if(typeof Intl!=='undefined'){locale=new Intl.Locale(languageTag);}}catch{}const{region,textInfo,language,script}=locale;if(region){temperatureUnit=regionToTemperatureUnit(region);}return{languageTag,languageCode:language||languageTag.split('-')[0]||'en',languageScriptCode:script||null,textDirection:textInfo?.direction||null,digitGroupingSeparator,decimalSeparator,measurementSystem:null,currencyCode:null,currencySymbol:null,languageCurrencyCode:null,languageCurrencySymbol:null,regionCode:region||null,languageRegionCode:region||null,temperatureUnit};});},getCalendars(){const locale=(typeof Intl!=='undefined'?Intl.DateTimeFormat().resolvedOptions():null)??null;return[{calendar:locale?.calendar||locale?.calendars?.[0]||null,timeZone:locale?.timeZone||locale?.timeZones?.[0]||null,uses24hourClock:(locale?.hourCycle||locale?.hourCycles?.[0])?.startsWith('h2')??null,firstWeekday:locale?.weekInfo?.firstDay||null}];}};function regionToTemperatureUnit(region){return USES_FAHRENHEIT.includes(region)?'fahrenheit':'celsius';}","map":{"version":3,"names":["Platform","getNavigatorLocales","isDOMAvailable","navigator","languages","language","dtFormatLocale","Intl","DateTimeFormat","resolvedOptions","locale","WEB_LANGUAGE_CHANGE_EVENT","USES_FAHRENHEIT","addLocaleListener","listener","addEventListener","remove","removeEventListener","addCalendarListener","removeSubscription","subscription","getLocales","locales","map","languageTag","digitGroupingSeparator","decimalSeparator","temperatureUnit","Array","from","toLocaleString","filter","c","substring","Locale","region","textInfo","script","regionToTemperatureUnit","languageCode","split","languageScriptCode","textDirection","direction","measurementSystem","currencyCode","currencySymbol","languageCurrencyCode","languageCurrencySymbol","regionCode","languageRegionCode","getCalendars","calendar","calendars","timeZone","timeZones","uses24hourClock","hourCycle","hourCycles","startsWith","firstWeekday","weekInfo","firstDay","includes"],"sources":["/home/user/rork-vibesync-458/node_modules/expo-localization/src/ExpoLocalization.ts"],"sourcesContent":["/* eslint-env browser */\nimport { Platform, type EventSubscription } from 'expo-modules-core';\n\nimport { Calendar, Locale, CalendarIdentifier } from './Localization.types';\n\nconst getNavigatorLocales = () => {\n  if (Platform.isDOMAvailable) {\n    return navigator.languages || [navigator.language];\n  }\n  const dtFormatLocale = Intl?.DateTimeFormat()?.resolvedOptions()?.locale;\n  if (dtFormatLocale) {\n    return [dtFormatLocale];\n  }\n  return [];\n};\n\ntype ExtendedLocale = Intl.Locale &\n  // typescript definitions for navigator language don't include some modern Intl properties\n  Partial<{\n    textInfo: { direction: 'ltr' | 'rtl' };\n    timeZones: string[];\n    weekInfo: { firstDay: number };\n    hourCycles: string[];\n    timeZone: string;\n    calendars: string[];\n  }>;\n\nconst WEB_LANGUAGE_CHANGE_EVENT = 'languagechange';\n// https://wisevoter.com/country-rankings/countries-that-use-fahrenheit/\nconst USES_FAHRENHEIT = [\n  'AG',\n  'BZ',\n  'VG',\n  'FM',\n  'MH',\n  'MS',\n  'KN',\n  'BS',\n  'CY',\n  'TC',\n  'US',\n  'LR',\n  'PW',\n  'KY',\n];\n\nexport function addLocaleListener(\n  // NOTE(@kitten): We never use the event's data\n  listener: (event?: unknown) => void\n): EventSubscription {\n  addEventListener(WEB_LANGUAGE_CHANGE_EVENT, listener);\n  return {\n    remove: () => removeEventListener(WEB_LANGUAGE_CHANGE_EVENT, listener),\n  };\n}\n\nexport function addCalendarListener(\n  // NOTE(@kitten): We never use the event's data\n  listener: (event?: unknown) => void\n): EventSubscription {\n  addEventListener(WEB_LANGUAGE_CHANGE_EVENT, listener);\n  return {\n    remove: () => removeEventListener(WEB_LANGUAGE_CHANGE_EVENT, listener),\n  };\n}\n\nexport function removeSubscription(subscription: EventSubscription) {\n  subscription.remove();\n}\n\nexport default {\n  getLocales(): Locale[] {\n    const locales = getNavigatorLocales();\n    return locales?.map((languageTag) => {\n      // TextInfo is an experimental API that is not available in all browsers.\n      // We might want to consider using a locale lookup table instead.\n\n      let locale = {} as ExtendedLocale;\n\n      // Properties added only for compatibility with native, use `toLocaleString` instead.\n      let digitGroupingSeparator: string | null = null;\n      let decimalSeparator: string | null = null;\n      let temperatureUnit: 'fahrenheit' | 'celsius' | null = null;\n\n      // Gracefully handle language codes like `en-GB-oed` which is unsupported\n      // but is otherwise a valid language tag (grandfathered)\n      try {\n        digitGroupingSeparator =\n          Array.from((10000).toLocaleString(languageTag)).filter((c) => c > '9' || c < '0')[0] ||\n          null; // using 1e5 instead of 1e4 since for some locales (like pl-PL) 1e4 does not use digit grouping\n\n        decimalSeparator = (1.1).toLocaleString(languageTag).substring(1, 2);\n\n        if (typeof Intl !== 'undefined') {\n          locale = new Intl.Locale(languageTag) as unknown as ExtendedLocale;\n        }\n      } catch {}\n\n      const { region, textInfo, language, script } = locale;\n\n      if (region) {\n        temperatureUnit = regionToTemperatureUnit(region);\n      }\n\n      return {\n        languageTag,\n        languageCode: language || languageTag.split('-')[0] || 'en',\n        languageScriptCode: script || null,\n        textDirection: (textInfo?.direction as 'ltr' | 'rtl') || null,\n        digitGroupingSeparator,\n        decimalSeparator,\n        measurementSystem: null,\n        currencyCode: null,\n        currencySymbol: null,\n        languageCurrencyCode: null,\n        languageCurrencySymbol: null,\n        // On web, we don't have a way to get the region code, except from the language tag. `regionCode` and `languageRegionCode` are the same.\n        regionCode: region || null,\n        languageRegionCode: region || null,\n        temperatureUnit,\n      };\n    });\n  },\n  getCalendars(): Calendar[] {\n    const locale = ((typeof Intl !== 'undefined'\n      ? Intl.DateTimeFormat().resolvedOptions()\n      : null) ?? null) as unknown as null | ExtendedLocale;\n    return [\n      {\n        calendar: ((locale?.calendar || locale?.calendars?.[0]) as CalendarIdentifier) || null,\n        timeZone: locale?.timeZone || locale?.timeZones?.[0] || null,\n        uses24hourClock: (locale?.hourCycle || locale?.hourCycles?.[0])?.startsWith('h2') ?? null, //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle\n        firstWeekday: locale?.weekInfo?.firstDay || null,\n      },\n    ];\n  },\n};\n\nfunction regionToTemperatureUnit(region: string) {\n  return USES_FAHRENHEIT.includes(region) ? 'fahrenheit' : 'celsius';\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}