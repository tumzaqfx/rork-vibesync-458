{"ast":null,"code":"import React,{useState,useCallback,useMemo}from'react';import AsyncStorage from'@react-native-async-storage/async-storage';import createContextHook from'@nkzw/create-context-hook';const STORAGE_KEY='@vibesync_creative_projects';const RECENT_FILTERS_KEY='@vibesync_recent_filters';const DEFAULT_FILTERS=[{id:'original',name:'Original',category:'basic',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop',settings:{}},{id:'vivid',name:'Vivid',category:'basic',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sat=2',settings:{saturation:50,contrast:20}},{id:'dramatic',name:'Dramatic',category:'cinematic',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&con=50',settings:{contrast:60,shadows:-30,highlights:-20}},{id:'warm',name:'Warm',category:'cinematic',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=50',settings:{temperature:40,tint:10}},{id:'cool',name:'Cool',category:'cinematic',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=-50',settings:{temperature:-40,tint:-10}},{id:'vintage',name:'Vintage',category:'vintage',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sepia=80',settings:{temperature:20,tint:15,saturation:-20,grain:30}},{id:'beauty',name:'Beauty',category:'beauty',preview:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&blur=1',settings:{highlights:20,shadows:10,saturation:15}}];const EXPORT_PRESETS=[{id:'instagram_post',name:'Instagram Post',platform:'Instagram',resolution:'1080x1080',aspectRatio:'1:1',quality:'high',format:'jpg'},{id:'instagram_story',name:'Instagram Story',platform:'Instagram',resolution:'1080x1920',aspectRatio:'9:16',quality:'high',format:'jpg'},{id:'tiktok',name:'TikTok',platform:'TikTok',resolution:'1080x1920',aspectRatio:'9:16',quality:'high',format:'mp4'},{id:'youtube_shorts',name:'YouTube Shorts',platform:'YouTube',resolution:'1080x1920',aspectRatio:'9:16',quality:'ultra',format:'mp4'},{id:'youtube_hd',name:'YouTube HD',platform:'YouTube',resolution:'1920x1080',aspectRatio:'16:9',quality:'ultra',format:'mp4'},{id:'4k_ultra',name:'4K Ultra HD',platform:'Custom',resolution:'3840x2160',aspectRatio:'16:9',quality:'ultra',format:'mp4'}];export const[CreativeStudioProvider,useCreativeStudio]=createContextHook(()=>{const[projects,setProjects]=useState([]);const[currentProject,setCurrentProject]=useState(null);const[isLoading,setIsLoading]=useState(false);const[history,setHistory]=useState([]);const[historyIndex,setHistoryIndex]=useState(-1);const[recentFilters,setRecentFilters]=useState([]);const loadProjects=useCallback(async()=>{try{setIsLoading(true);const stored=await AsyncStorage.getItem(STORAGE_KEY);if(stored){const parsedProjects=JSON.parse(stored).map(p=>Object.assign({},p,{createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt)}));setProjects(parsedProjects);}const recentFiltersStored=await AsyncStorage.getItem(RECENT_FILTERS_KEY);if(recentFiltersStored){setRecentFilters(JSON.parse(recentFiltersStored));}}catch(error){console.error('Error loading projects:',error);}finally{setIsLoading(false);}},[]);const saveProjects=useCallback(async updatedProjects=>{try{await AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(updatedProjects));setProjects(updatedProjects);}catch(error){console.error('Error saving projects:',error);}},[]);const createProject=useCallback(async(name,type,uri)=>{const project={id:Date.now().toString(),name,type,originalUri:uri,thumbnail:uri,createdAt:new Date(),updatedAt:new Date(),settings:Object.assign({adjustments:{brightness:0,contrast:0,saturation:0,exposure:0,highlights:0,shadows:0,temperature:0,tint:0},effects:{blur:0,vignette:0,grain:0,sharpen:0},filters:{selectedFilter:'original',intensity:100},export:{quality:'high',format:type==='image'?'jpg':'mp4',resolution:'1080x1080'}},type==='video'&&{video:{speed:1,volume:1,startTime:0,endTime:100,layers:[]}})};const updatedProjects=[project,...projects];await saveProjects(updatedProjects);setCurrentProject(project);setHistory([project.settings]);setHistoryIndex(0);return project;},[projects,saveProjects]);const loadProject=useCallback(async id=>{const project=projects.find(p=>p.id===id);if(project){setCurrentProject(project);setHistory([project.settings]);setHistoryIndex(0);}},[projects]);const saveProject=useCallback(async project=>{const updatedProjects=projects.map(p=>p.id===project.id?Object.assign({},project,{updatedAt:new Date()}):p);await saveProjects(updatedProjects);setCurrentProject(Object.assign({},project,{updatedAt:new Date()}));},[projects,saveProjects]);const deleteProject=useCallback(async id=>{const updatedProjects=projects.filter(p=>p.id!==id);await saveProjects(updatedProjects);if(currentProject?.id===id){setCurrentProject(null);}},[projects,currentProject,saveProjects]);const duplicateProject=useCallback(async id=>{const original=projects.find(p=>p.id===id);if(!original)throw new Error('Project not found');const duplicate=Object.assign({},original,{id:Date.now().toString(),name:`${original.name} Copy`,createdAt:new Date(),updatedAt:new Date()});const updatedProjects=[duplicate,...projects];await saveProjects(updatedProjects);return duplicate;},[projects,saveProjects]);const updateProjectSettings=useCallback(settings=>{if(!currentProject)return;const newSettings=Object.assign({},currentProject.settings,settings);const updatedProject=Object.assign({},currentProject,{settings:newSettings});const newHistory=history.slice(0,historyIndex+1);newHistory.push(newSettings);setHistory(newHistory);setHistoryIndex(newHistory.length-1);setCurrentProject(updatedProject);saveProject(updatedProject);},[currentProject,history,historyIndex,saveProject]);const applyFilter=useCallback((filterId,intensity=100)=>{const filter=DEFAULT_FILTERS.find(f=>f.id===filterId);if(!filter||!currentProject)return;const updatedRecentFilters=[filter,...recentFilters.filter(f=>f.id!==filterId)].slice(0,10);setRecentFilters(updatedRecentFilters);AsyncStorage.setItem(RECENT_FILTERS_KEY,JSON.stringify(updatedRecentFilters));updateProjectSettings({filters:{selectedFilter:filterId,intensity},adjustments:Object.assign({},currentProject.settings.adjustments,filter.settings)});},[currentProject,recentFilters,updateProjectSettings]);const adjustParameter=useCallback((parameter,value)=>{if(!currentProject)return;const[category,param]=parameter.split('.');const updates={};if(category==='adjustments'){updates.adjustments=Object.assign({},currentProject.settings.adjustments,{[param]:value});}else if(category==='effects'){updates.effects=Object.assign({},currentProject.settings.effects,{[param]:value});}updateProjectSettings(updates);},[currentProject,updateProjectSettings]);const addVideoLayer=useCallback(layer=>{if(!currentProject||currentProject.type!=='video')return;const newLayer=Object.assign({},layer,{id:Date.now().toString()});updateProjectSettings({video:Object.assign({},currentProject.settings.video,{layers:[...(currentProject.settings.video?.layers||[]),newLayer]})});},[currentProject,updateProjectSettings]);const updateVideoLayer=useCallback((layerId,updates)=>{if(!currentProject||currentProject.type!=='video')return;const updatedLayers=currentProject.settings.video?.layers?.map(layer=>layer.id===layerId?Object.assign({},layer,updates):layer)||[];updateProjectSettings({video:Object.assign({},currentProject.settings.video,{layers:updatedLayers})});},[currentProject,updateProjectSettings]);const removeVideoLayer=useCallback(layerId=>{if(!currentProject||currentProject.type!=='video')return;const updatedLayers=currentProject.settings.video?.layers?.filter(layer=>layer.id!==layerId)||[];updateProjectSettings({video:Object.assign({},currentProject.settings.video,{layers:updatedLayers})});},[currentProject,updateProjectSettings]);const exportProject=useCallback(async preset=>{if(!currentProject)throw new Error('No project selected');console.log('[Creative Studio] Exporting project:',currentProject.name);console.log('[Creative Studio] Export preset:',preset);console.log('[Creative Studio] Applied filters:',currentProject.settings.filters);console.log('[Creative Studio] Adjustments:',currentProject.settings.adjustments);console.log('[Creative Studio] Effects:',currentProject.settings.effects);await new Promise(resolve=>setTimeout(resolve,2000));const exportedUri=currentProject.editedUri||currentProject.originalUri;console.log('[Creative Studio] Export complete:',exportedUri);return exportedUri;},[currentProject]);const getExportPresets=useCallback(()=>{return EXPORT_PRESETS.filter(preset=>{if(!currentProject)return true;if(currentProject.type==='image'){return['jpg','png'].includes(preset.format);}return['mp4','mov'].includes(preset.format);});},[currentProject]);const getFilters=useCallback(category=>{if(category){return DEFAULT_FILTERS.filter(f=>f.category===category);}return DEFAULT_FILTERS;},[]);const getRecentFilters=useCallback(()=>{return recentFilters;},[recentFilters]);const canUndo=historyIndex>0;const canRedo=historyIndex<history.length-1;const undo=useCallback(()=>{if(!canUndo||!currentProject)return;const newIndex=historyIndex-1;const previousSettings=history[newIndex];setHistoryIndex(newIndex);setCurrentProject(Object.assign({},currentProject,{settings:previousSettings}));saveProject(Object.assign({},currentProject,{settings:previousSettings}));},[canUndo,currentProject,history,historyIndex,saveProject]);const redo=useCallback(()=>{if(!canRedo||!currentProject)return;const newIndex=historyIndex+1;const nextSettings=history[newIndex];setHistoryIndex(newIndex);setCurrentProject(Object.assign({},currentProject,{settings:nextSettings}));saveProject(Object.assign({},currentProject,{settings:nextSettings}));},[canRedo,currentProject,history,historyIndex,saveProject]);const getTemplates=useCallback(type=>{return[];},[]);const applyTemplate=useCallback(templateId=>{console.log('Applying template:',templateId);},[]);React.useEffect(()=>{loadProjects();},[loadProjects]);return useMemo(()=>({projects,currentProject,isLoading,createProject,loadProject,saveProject,deleteProject,duplicateProject,updateProjectSettings,applyFilter,adjustParameter,addVideoLayer,updateVideoLayer,removeVideoLayer,exportProject,getExportPresets,getFilters,getRecentFilters,canUndo,canRedo,undo,redo,getTemplates,applyTemplate}),[projects,currentProject,isLoading,createProject,loadProject,saveProject,deleteProject,duplicateProject,updateProjectSettings,applyFilter,adjustParameter,addVideoLayer,updateVideoLayer,removeVideoLayer,exportProject,getExportPresets,getFilters,getRecentFilters,canUndo,canRedo,undo,redo,getTemplates,applyTemplate]);});","map":{"version":3,"names":["React","useState","useCallback","useMemo","AsyncStorage","createContextHook","STORAGE_KEY","RECENT_FILTERS_KEY","DEFAULT_FILTERS","id","name","category","preview","settings","saturation","contrast","shadows","highlights","temperature","tint","grain","EXPORT_PRESETS","platform","resolution","aspectRatio","quality","format","CreativeStudioProvider","useCreativeStudio","projects","setProjects","currentProject","setCurrentProject","isLoading","setIsLoading","history","setHistory","historyIndex","setHistoryIndex","recentFilters","setRecentFilters","loadProjects","stored","getItem","parsedProjects","JSON","parse","map","p","Object","assign","createdAt","Date","updatedAt","recentFiltersStored","error","console","saveProjects","updatedProjects","setItem","stringify","createProject","type","uri","project","now","toString","originalUri","thumbnail","adjustments","brightness","exposure","effects","blur","vignette","sharpen","filters","selectedFilter","intensity","export","video","speed","volume","startTime","endTime","layers","loadProject","find","saveProject","deleteProject","filter","duplicateProject","original","Error","duplicate","updateProjectSettings","newSettings","updatedProject","newHistory","slice","push","length","applyFilter","filterId","f","updatedRecentFilters","adjustParameter","parameter","value","param","split","updates","addVideoLayer","layer","newLayer","updateVideoLayer","layerId","updatedLayers","removeVideoLayer","exportProject","preset","log","Promise","resolve","setTimeout","exportedUri","editedUri","getExportPresets","includes","getFilters","getRecentFilters","canUndo","canRedo","undo","newIndex","previousSettings","redo","nextSettings","getTemplates","applyTemplate","templateId","useEffect"],"sources":["/home/user/rork-vibesync-458/hooks/creative-studio-store.ts"],"sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport createContextHook from '@nkzw/create-context-hook';\n\nexport interface CreativeProject {\n  id: string;\n  name: string;\n  type: 'image' | 'video';\n  originalUri: string;\n  editedUri?: string;\n  thumbnail: string;\n  createdAt: Date;\n  updatedAt: Date;\n  settings: ProjectSettings;\n}\n\nexport interface ProjectSettings {\n  filters?: {\n    selectedFilter: string;\n    intensity: number;\n  };\n  adjustments?: {\n    brightness?: number;\n    contrast?: number;\n    saturation?: number;\n    exposure?: number;\n    highlights?: number;\n    shadows?: number;\n    temperature?: number;\n    tint?: number;\n  };\n  effects?: {\n    blur?: number;\n    vignette?: number;\n    grain?: number;\n    sharpen?: number;\n  };\n  video?: {\n    speed: number;\n    volume: number;\n    startTime: number;\n    endTime: number;\n    layers: VideoLayer[];\n  };\n  export?: {\n    quality: 'low' | 'medium' | 'high' | 'ultra';\n    format: 'mp4' | 'mov' | 'jpg' | 'png';\n    resolution: string;\n  };\n}\n\nexport interface VideoLayer {\n  id: string;\n  type: 'video' | 'audio' | 'text' | 'image';\n  uri?: string;\n  text?: string;\n  startTime: number;\n  endTime: number;\n  position: { x: number; y: number };\n  scale: number;\n  rotation: number;\n  opacity: number;\n}\n\nexport interface Filter {\n  id: string;\n  name: string;\n  category: 'basic' | 'cinematic' | 'vintage' | 'artistic' | 'beauty';\n  preview: string;\n  settings: Record<string, number>;\n}\n\nexport interface ExportPreset {\n  id: string;\n  name: string;\n  platform: string;\n  resolution: string;\n  aspectRatio: string;\n  quality: 'low' | 'medium' | 'high' | 'ultra';\n  format: string;\n}\n\ninterface CreativeStudioContextType {\n  // Projects\n  projects: CreativeProject[];\n  currentProject: CreativeProject | null;\n  isLoading: boolean;\n  \n  // Project Management\n  createProject: (name: string, type: 'image' | 'video', uri: string) => Promise<CreativeProject>;\n  loadProject: (id: string) => Promise<void>;\n  saveProject: (project: CreativeProject) => Promise<void>;\n  deleteProject: (id: string) => Promise<void>;\n  duplicateProject: (id: string) => Promise<CreativeProject>;\n  \n  // Editing State\n  updateProjectSettings: (settings: Partial<ProjectSettings>) => void;\n  applyFilter: (filterId: string, intensity?: number) => void;\n  adjustParameter: (parameter: string, value: number) => void;\n  addVideoLayer: (layer: Omit<VideoLayer, 'id'>) => void;\n  updateVideoLayer: (layerId: string, updates: Partial<VideoLayer>) => void;\n  removeVideoLayer: (layerId: string) => void;\n  \n  // Export\n  exportProject: (preset: ExportPreset) => Promise<string>;\n  getExportPresets: () => ExportPreset[];\n  \n  // Filters & Effects\n  getFilters: (category?: string) => Filter[];\n  getRecentFilters: () => Filter[];\n  \n  // History & Undo/Redo\n  canUndo: boolean;\n  canRedo: boolean;\n  undo: () => void;\n  redo: () => void;\n  \n  // Templates\n  getTemplates: (type: 'image' | 'video') => CreativeProject[];\n  applyTemplate: (templateId: string) => void;\n}\n\nconst STORAGE_KEY = '@vibesync_creative_projects';\nconst RECENT_FILTERS_KEY = '@vibesync_recent_filters';\n\n// Default filters\nconst DEFAULT_FILTERS: Filter[] = [\n  {\n    id: 'original',\n    name: 'Original',\n    category: 'basic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop',\n    settings: {},\n  },\n  {\n    id: 'vivid',\n    name: 'Vivid',\n    category: 'basic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sat=2',\n    settings: { saturation: 50, contrast: 20 },\n  },\n  {\n    id: 'dramatic',\n    name: 'Dramatic',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&con=50',\n    settings: { contrast: 60, shadows: -30, highlights: -20 },\n  },\n  {\n    id: 'warm',\n    name: 'Warm',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=50',\n    settings: { temperature: 40, tint: 10 },\n  },\n  {\n    id: 'cool',\n    name: 'Cool',\n    category: 'cinematic',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&temp=-50',\n    settings: { temperature: -40, tint: -10 },\n  },\n  {\n    id: 'vintage',\n    name: 'Vintage',\n    category: 'vintage',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&sepia=80',\n    settings: { temperature: 20, tint: 15, saturation: -20, grain: 30 },\n  },\n  {\n    id: 'beauty',\n    name: 'Beauty',\n    category: 'beauty',\n    preview: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop&blur=1',\n    settings: { highlights: 20, shadows: 10, saturation: 15 },\n  },\n];\n\n// Export presets\nconst EXPORT_PRESETS: ExportPreset[] = [\n  {\n    id: 'instagram_post',\n    name: 'Instagram Post',\n    platform: 'Instagram',\n    resolution: '1080x1080',\n    aspectRatio: '1:1',\n    quality: 'high',\n    format: 'jpg',\n  },\n  {\n    id: 'instagram_story',\n    name: 'Instagram Story',\n    platform: 'Instagram',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'high',\n    format: 'jpg',\n  },\n  {\n    id: 'tiktok',\n    name: 'TikTok',\n    platform: 'TikTok',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'high',\n    format: 'mp4',\n  },\n  {\n    id: 'youtube_shorts',\n    name: 'YouTube Shorts',\n    platform: 'YouTube',\n    resolution: '1080x1920',\n    aspectRatio: '9:16',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n  {\n    id: 'youtube_hd',\n    name: 'YouTube HD',\n    platform: 'YouTube',\n    resolution: '1920x1080',\n    aspectRatio: '16:9',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n  {\n    id: '4k_ultra',\n    name: '4K Ultra HD',\n    platform: 'Custom',\n    resolution: '3840x2160',\n    aspectRatio: '16:9',\n    quality: 'ultra',\n    format: 'mp4',\n  },\n];\n\nexport const [CreativeStudioProvider, useCreativeStudio] = createContextHook<CreativeStudioContextType>(() => {\n  const [projects, setProjects] = useState<CreativeProject[]>([]);\n  const [currentProject, setCurrentProject] = useState<CreativeProject | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [history, setHistory] = useState<ProjectSettings[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [recentFilters, setRecentFilters] = useState<Filter[]>([]);\n\n  // Load projects from storage\n  const loadProjects = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const stored = await AsyncStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsedProjects = JSON.parse(stored).map((p: any) => ({\n          ...p,\n          createdAt: new Date(p.createdAt),\n          updatedAt: new Date(p.updatedAt),\n        }));\n        setProjects(parsedProjects);\n      }\n      \n      const recentFiltersStored = await AsyncStorage.getItem(RECENT_FILTERS_KEY);\n      if (recentFiltersStored) {\n        setRecentFilters(JSON.parse(recentFiltersStored));\n      }\n    } catch (error) {\n      console.error('Error loading projects:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Save projects to storage\n  const saveProjects = useCallback(async (updatedProjects: CreativeProject[]) => {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProjects));\n      setProjects(updatedProjects);\n    } catch (error) {\n      console.error('Error saving projects:', error);\n    }\n  }, []);\n\n  // Create new project\n  const createProject = useCallback(async (name: string, type: 'image' | 'video', uri: string): Promise<CreativeProject> => {\n    const project: CreativeProject = {\n      id: Date.now().toString(),\n      name,\n      type,\n      originalUri: uri,\n      thumbnail: uri,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      settings: {\n        adjustments: {\n          brightness: 0,\n          contrast: 0,\n          saturation: 0,\n          exposure: 0,\n          highlights: 0,\n          shadows: 0,\n          temperature: 0,\n          tint: 0,\n        },\n        effects: {\n          blur: 0,\n          vignette: 0,\n          grain: 0,\n          sharpen: 0,\n        },\n        filters: {\n          selectedFilter: 'original',\n          intensity: 100,\n        },\n        export: {\n          quality: 'high',\n          format: type === 'image' ? 'jpg' : 'mp4',\n          resolution: '1080x1080',\n        },\n        ...(type === 'video' && {\n          video: {\n            speed: 1,\n            volume: 1,\n            startTime: 0,\n            endTime: 100,\n            layers: [],\n          },\n        }),\n      },\n    };\n\n    const updatedProjects = [project, ...projects];\n    await saveProjects(updatedProjects);\n    setCurrentProject(project);\n    setHistory([project.settings]);\n    setHistoryIndex(0);\n    \n    return project;\n  }, [projects, saveProjects]);\n\n  // Load project\n  const loadProject = useCallback(async (id: string) => {\n    const project = projects.find(p => p.id === id);\n    if (project) {\n      setCurrentProject(project);\n      setHistory([project.settings]);\n      setHistoryIndex(0);\n    }\n  }, [projects]);\n\n  // Save current project\n  const saveProject = useCallback(async (project: CreativeProject) => {\n    const updatedProjects = projects.map(p => \n      p.id === project.id ? { ...project, updatedAt: new Date() } : p\n    );\n    await saveProjects(updatedProjects);\n    setCurrentProject({ ...project, updatedAt: new Date() });\n  }, [projects, saveProjects]);\n\n  // Delete project\n  const deleteProject = useCallback(async (id: string) => {\n    const updatedProjects = projects.filter(p => p.id !== id);\n    await saveProjects(updatedProjects);\n    if (currentProject?.id === id) {\n      setCurrentProject(null);\n    }\n  }, [projects, currentProject, saveProjects]);\n\n  // Duplicate project\n  const duplicateProject = useCallback(async (id: string): Promise<CreativeProject> => {\n    const original = projects.find(p => p.id === id);\n    if (!original) throw new Error('Project not found');\n\n    const duplicate: CreativeProject = {\n      ...original,\n      id: Date.now().toString(),\n      name: `${original.name} Copy`,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    const updatedProjects = [duplicate, ...projects];\n    await saveProjects(updatedProjects);\n    return duplicate;\n  }, [projects, saveProjects]);\n\n  // Update project settings with history\n  const updateProjectSettings = useCallback((settings: Partial<ProjectSettings>) => {\n    if (!currentProject) return;\n\n    const newSettings = { ...currentProject.settings, ...settings };\n    const updatedProject = { ...currentProject, settings: newSettings };\n    \n    // Add to history\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(newSettings);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n    \n    setCurrentProject(updatedProject);\n    saveProject(updatedProject);\n  }, [currentProject, history, historyIndex, saveProject]);\n\n  // Apply filter\n  const applyFilter = useCallback((filterId: string, intensity = 100) => {\n    const filter = DEFAULT_FILTERS.find(f => f.id === filterId);\n    if (!filter || !currentProject) return;\n\n    // Add to recent filters\n    const updatedRecentFilters = [filter, ...recentFilters.filter(f => f.id !== filterId)].slice(0, 10);\n    setRecentFilters(updatedRecentFilters);\n    AsyncStorage.setItem(RECENT_FILTERS_KEY, JSON.stringify(updatedRecentFilters));\n\n    updateProjectSettings({\n      filters: { selectedFilter: filterId, intensity },\n      adjustments: {\n        ...currentProject.settings.adjustments,\n        ...filter.settings,\n      },\n    });\n  }, [currentProject, recentFilters, updateProjectSettings]);\n\n  // Adjust parameter\n  const adjustParameter = useCallback((parameter: string, value: number) => {\n    if (!currentProject) return;\n\n    const [category, param] = parameter.split('.');\n    const updates: Partial<ProjectSettings> = {};\n    \n    if (category === 'adjustments') {\n      updates.adjustments = {\n        ...currentProject.settings.adjustments,\n        [param]: value,\n      };\n    } else if (category === 'effects') {\n      updates.effects = {\n        ...currentProject.settings.effects,\n        [param]: value,\n      };\n    }\n\n    updateProjectSettings(updates);\n  }, [currentProject, updateProjectSettings]);\n\n  // Video layer management\n  const addVideoLayer = useCallback((layer: Omit<VideoLayer, 'id'>) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const newLayer: VideoLayer = {\n      ...layer,\n      id: Date.now().toString(),\n    };\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: [...(currentProject.settings.video?.layers || []), newLayer],\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  const updateVideoLayer = useCallback((layerId: string, updates: Partial<VideoLayer>) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const updatedLayers = currentProject.settings.video?.layers?.map(layer =>\n      layer.id === layerId ? { ...layer, ...updates } : layer\n    ) || [];\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: updatedLayers,\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  const removeVideoLayer = useCallback((layerId: string) => {\n    if (!currentProject || currentProject.type !== 'video') return;\n\n    const updatedLayers = currentProject.settings.video?.layers?.filter(layer => layer.id !== layerId) || [];\n\n    updateProjectSettings({\n      video: {\n        ...currentProject.settings.video!,\n        layers: updatedLayers,\n      },\n    });\n  }, [currentProject, updateProjectSettings]);\n\n  // Export project\n  const exportProject = useCallback(async (preset: ExportPreset): Promise<string> => {\n    if (!currentProject) throw new Error('No project selected');\n\n    console.log('[Creative Studio] Exporting project:', currentProject.name);\n    console.log('[Creative Studio] Export preset:', preset);\n    console.log('[Creative Studio] Applied filters:', currentProject.settings.filters);\n    console.log('[Creative Studio] Adjustments:', currentProject.settings.adjustments);\n    console.log('[Creative Studio] Effects:', currentProject.settings.effects);\n    \n    await new Promise(resolve => setTimeout(resolve, 2000));\n    \n    const exportedUri = currentProject.editedUri || currentProject.originalUri;\n    console.log('[Creative Studio] Export complete:', exportedUri);\n    \n    return exportedUri;\n  }, [currentProject]);\n\n  // Get export presets\n  const getExportPresets = useCallback(() => {\n    return EXPORT_PRESETS.filter(preset => {\n      if (!currentProject) return true;\n      if (currentProject.type === 'image') {\n        return ['jpg', 'png'].includes(preset.format);\n      }\n      return ['mp4', 'mov'].includes(preset.format);\n    });\n  }, [currentProject]);\n\n  // Get filters\n  const getFilters = useCallback((category?: string) => {\n    if (category) {\n      return DEFAULT_FILTERS.filter(f => f.category === category);\n    }\n    return DEFAULT_FILTERS;\n  }, []);\n\n  const getRecentFilters = useCallback(() => {\n    return recentFilters;\n  }, [recentFilters]);\n\n  // Undo/Redo\n  const canUndo = historyIndex > 0;\n  const canRedo = historyIndex < history.length - 1;\n\n  const undo = useCallback(() => {\n    if (!canUndo || !currentProject) return;\n    \n    const newIndex = historyIndex - 1;\n    const previousSettings = history[newIndex];\n    \n    setHistoryIndex(newIndex);\n    setCurrentProject({ ...currentProject, settings: previousSettings });\n    saveProject({ ...currentProject, settings: previousSettings });\n  }, [canUndo, currentProject, history, historyIndex, saveProject]);\n\n  const redo = useCallback(() => {\n    if (!canRedo || !currentProject) return;\n    \n    const newIndex = historyIndex + 1;\n    const nextSettings = history[newIndex];\n    \n    setHistoryIndex(newIndex);\n    setCurrentProject({ ...currentProject, settings: nextSettings });\n    saveProject({ ...currentProject, settings: nextSettings });\n  }, [canRedo, currentProject, history, historyIndex, saveProject]);\n\n  // Templates (placeholder)\n  const getTemplates = useCallback((type: 'image' | 'video') => {\n    // In a real app, this would return predefined templates\n    return [];\n  }, []);\n\n  const applyTemplate = useCallback((templateId: string) => {\n    // In a real app, this would apply a template to the current project\n    console.log('Applying template:', templateId);\n  }, []);\n\n  // Load projects on mount\n  React.useEffect(() => {\n    loadProjects();\n  }, [loadProjects]);\n\n  return useMemo(() => ({\n    projects,\n    currentProject,\n    isLoading,\n    createProject,\n    loadProject,\n    saveProject,\n    deleteProject,\n    duplicateProject,\n    updateProjectSettings,\n    applyFilter,\n    adjustParameter,\n    addVideoLayer,\n    updateVideoLayer,\n    removeVideoLayer,\n    exportProject,\n    getExportPresets,\n    getFilters,\n    getRecentFilters,\n    canUndo,\n    canRedo,\n    undo,\n    redo,\n    getTemplates,\n    applyTemplate,\n  }), [\n    projects,\n    currentProject,\n    isLoading,\n    createProject,\n    loadProject,\n    saveProject,\n    deleteProject,\n    duplicateProject,\n    updateProjectSettings,\n    applyFilter,\n    adjustParameter,\n    addVideoLayer,\n    updateVideoLayer,\n    removeVideoLayer,\n    exportProject,\n    getExportPresets,\n    getFilters,\n    getRecentFilters,\n    canUndo,\n    canRedo,\n    undo,\n    redo,\n    getTemplates,\n    applyTemplate,\n  ]);\n});"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,OAAO,KAAQ,OAAO,CAC7D,MAAO,CAAAC,YAAY,KAAM,2CAA2C,CACpE,MAAO,CAAAC,iBAAiB,KAAM,2BAA2B,CAwHzD,KAAM,CAAAC,WAAW,CAAG,6BAA6B,CACjD,KAAM,CAAAC,kBAAkB,CAAG,0BAA0B,CAGrD,KAAM,CAAAC,eAAyB,CAAG,CAChC,CACEC,EAAE,CAAE,UAAU,CACdC,IAAI,CAAE,UAAU,CAChBC,QAAQ,CAAE,OAAO,CACjBC,OAAO,CAAE,mFAAmF,CAC5FC,QAAQ,CAAE,CAAC,CACb,CAAC,CACD,CACEJ,EAAE,CAAE,OAAO,CACXC,IAAI,CAAE,OAAO,CACbC,QAAQ,CAAE,OAAO,CACjBC,OAAO,CAAE,yFAAyF,CAClGC,QAAQ,CAAE,CAAEC,UAAU,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAC3C,CAAC,CACD,CACEN,EAAE,CAAE,UAAU,CACdC,IAAI,CAAE,UAAU,CAChBC,QAAQ,CAAE,WAAW,CACrBC,OAAO,CAAE,0FAA0F,CACnGC,QAAQ,CAAE,CAAEE,QAAQ,CAAE,EAAE,CAAEC,OAAO,CAAE,CAAC,EAAE,CAAEC,UAAU,CAAE,CAAC,EAAG,CAC1D,CAAC,CACD,CACER,EAAE,CAAE,MAAM,CACVC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,WAAW,CACrBC,OAAO,CAAE,2FAA2F,CACpGC,QAAQ,CAAE,CAAEK,WAAW,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CACxC,CAAC,CACD,CACEV,EAAE,CAAE,MAAM,CACVC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,WAAW,CACrBC,OAAO,CAAE,4FAA4F,CACrGC,QAAQ,CAAE,CAAEK,WAAW,CAAE,CAAC,EAAE,CAAEC,IAAI,CAAE,CAAC,EAAG,CAC1C,CAAC,CACD,CACEV,EAAE,CAAE,SAAS,CACbC,IAAI,CAAE,SAAS,CACfC,QAAQ,CAAE,SAAS,CACnBC,OAAO,CAAE,4FAA4F,CACrGC,QAAQ,CAAE,CAAEK,WAAW,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEL,UAAU,CAAE,CAAC,EAAE,CAAEM,KAAK,CAAE,EAAG,CACpE,CAAC,CACD,CACEX,EAAE,CAAE,QAAQ,CACZC,IAAI,CAAE,QAAQ,CACdC,QAAQ,CAAE,QAAQ,CAClBC,OAAO,CAAE,0FAA0F,CACnGC,QAAQ,CAAE,CAAEI,UAAU,CAAE,EAAE,CAAED,OAAO,CAAE,EAAE,CAAEF,UAAU,CAAE,EAAG,CAC1D,CAAC,CACF,CAGD,KAAM,CAAAO,cAA8B,CAAG,CACrC,CACEZ,EAAE,CAAE,gBAAgB,CACpBC,IAAI,CAAE,gBAAgB,CACtBY,QAAQ,CAAE,WAAW,CACrBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,KAAK,CAClBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,KACV,CAAC,CACD,CACEjB,EAAE,CAAE,iBAAiB,CACrBC,IAAI,CAAE,iBAAiB,CACvBY,QAAQ,CAAE,WAAW,CACrBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,MAAM,CACnBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,KACV,CAAC,CACD,CACEjB,EAAE,CAAE,QAAQ,CACZC,IAAI,CAAE,QAAQ,CACdY,QAAQ,CAAE,QAAQ,CAClBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,MAAM,CACnBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,KACV,CAAC,CACD,CACEjB,EAAE,CAAE,gBAAgB,CACpBC,IAAI,CAAE,gBAAgB,CACtBY,QAAQ,CAAE,SAAS,CACnBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,MAAM,CACnBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,KACV,CAAC,CACD,CACEjB,EAAE,CAAE,YAAY,CAChBC,IAAI,CAAE,YAAY,CAClBY,QAAQ,CAAE,SAAS,CACnBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,MAAM,CACnBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,KACV,CAAC,CACD,CACEjB,EAAE,CAAE,UAAU,CACdC,IAAI,CAAE,aAAa,CACnBY,QAAQ,CAAE,QAAQ,CAClBC,UAAU,CAAE,WAAW,CACvBC,WAAW,CAAE,MAAM,CACnBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,KACV,CAAC,CACF,CAED,MAAO,MAAM,CAACC,sBAAsB,CAAEC,iBAAiB,CAAC,CAAGvB,iBAAiB,CAA4B,IAAM,CAC5G,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAG7B,QAAQ,CAAoB,EAAE,CAAC,CAC/D,KAAM,CAAC8B,cAAc,CAAEC,iBAAiB,CAAC,CAAG/B,QAAQ,CAAyB,IAAI,CAAC,CAClF,KAAM,CAACgC,SAAS,CAAEC,YAAY,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACkC,OAAO,CAAEC,UAAU,CAAC,CAAGnC,QAAQ,CAAoB,EAAE,CAAC,CAC7D,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGrC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,CAACsC,aAAa,CAAEC,gBAAgB,CAAC,CAAGvC,QAAQ,CAAW,EAAE,CAAC,CAGhE,KAAM,CAAAwC,YAAY,CAAGvC,WAAW,CAAC,SAAY,CAC3C,GAAI,CACFgC,YAAY,CAAC,IAAI,CAAC,CAClB,KAAM,CAAAQ,MAAM,CAAG,KAAM,CAAAtC,YAAY,CAACuC,OAAO,CAACrC,WAAW,CAAC,CACtD,GAAIoC,MAAM,CAAE,CACV,KAAM,CAAAE,cAAc,CAAGC,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC,CAACK,GAAG,CAAEC,CAAM,EAAAC,MAAA,CAAAC,MAAA,IAChDF,CAAC,EACJG,SAAS,CAAE,GAAI,CAAAC,IAAI,CAACJ,CAAC,CAACG,SAAS,CAAC,CAChCE,SAAS,CAAE,GAAI,CAAAD,IAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,EAChC,CAAC,CACHvB,WAAW,CAACc,cAAc,CAAC,CAC7B,CAEA,KAAM,CAAAU,mBAAmB,CAAG,KAAM,CAAAlD,YAAY,CAACuC,OAAO,CAACpC,kBAAkB,CAAC,CAC1E,GAAI+C,mBAAmB,CAAE,CACvBd,gBAAgB,CAACK,IAAI,CAACC,KAAK,CAACQ,mBAAmB,CAAC,CAAC,CACnD,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CAAC,OAAS,CACRrB,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAuB,YAAY,CAAGvD,WAAW,CAAC,KAAO,CAAAwD,eAAkC,EAAK,CAC7E,GAAI,CACF,KAAM,CAAAtD,YAAY,CAACuD,OAAO,CAACrD,WAAW,CAAEuC,IAAI,CAACe,SAAS,CAACF,eAAe,CAAC,CAAC,CACxE5B,WAAW,CAAC4B,eAAe,CAAC,CAC9B,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAM,aAAa,CAAG3D,WAAW,CAAC,MAAOQ,IAAY,CAAEoD,IAAuB,CAAEC,GAAW,GAA+B,CACxH,KAAM,CAAAC,OAAwB,CAAG,CAC/BvD,EAAE,CAAE2C,IAAI,CAACa,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CACzBxD,IAAI,CACJoD,IAAI,CACJK,WAAW,CAAEJ,GAAG,CAChBK,SAAS,CAAEL,GAAG,CACdZ,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CACrBC,SAAS,CAAE,GAAI,CAAAD,IAAI,CAAC,CAAC,CACrBvC,QAAQ,CAAAoC,MAAA,CAAAC,MAAA,EACNmB,WAAW,CAAE,CACXC,UAAU,CAAE,CAAC,CACbvD,QAAQ,CAAE,CAAC,CACXD,UAAU,CAAE,CAAC,CACbyD,QAAQ,CAAE,CAAC,CACXtD,UAAU,CAAE,CAAC,CACbD,OAAO,CAAE,CAAC,CACVE,WAAW,CAAE,CAAC,CACdC,IAAI,CAAE,CACR,CAAC,CACDqD,OAAO,CAAE,CACPC,IAAI,CAAE,CAAC,CACPC,QAAQ,CAAE,CAAC,CACXtD,KAAK,CAAE,CAAC,CACRuD,OAAO,CAAE,CACX,CAAC,CACDC,OAAO,CAAE,CACPC,cAAc,CAAE,UAAU,CAC1BC,SAAS,CAAE,GACb,CAAC,CACDC,MAAM,CAAE,CACNtD,OAAO,CAAE,MAAM,CACfC,MAAM,CAAEoC,IAAI,GAAK,OAAO,CAAG,KAAK,CAAG,KAAK,CACxCvC,UAAU,CAAE,WACd,CAAC,EACGuC,IAAI,GAAK,OAAO,EAAI,CACtBkB,KAAK,CAAE,CACLC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CAAC,CACTC,SAAS,CAAE,CAAC,CACZC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,EACV,CACF,CAAC,CAEL,CAAC,CAED,KAAM,CAAA3B,eAAe,CAAG,CAACM,OAAO,CAAE,GAAGnC,QAAQ,CAAC,CAC9C,KAAM,CAAA4B,YAAY,CAACC,eAAe,CAAC,CACnC1B,iBAAiB,CAACgC,OAAO,CAAC,CAC1B5B,UAAU,CAAC,CAAC4B,OAAO,CAACnD,QAAQ,CAAC,CAAC,CAC9ByB,eAAe,CAAC,CAAC,CAAC,CAElB,MAAO,CAAA0B,OAAO,CAChB,CAAC,CAAE,CAACnC,QAAQ,CAAE4B,YAAY,CAAC,CAAC,CAG5B,KAAM,CAAA6B,WAAW,CAAGpF,WAAW,CAAC,KAAO,CAAAO,EAAU,EAAK,CACpD,KAAM,CAAAuD,OAAO,CAAGnC,QAAQ,CAAC0D,IAAI,CAACvC,CAAC,EAAIA,CAAC,CAACvC,EAAE,GAAKA,EAAE,CAAC,CAC/C,GAAIuD,OAAO,CAAE,CACXhC,iBAAiB,CAACgC,OAAO,CAAC,CAC1B5B,UAAU,CAAC,CAAC4B,OAAO,CAACnD,QAAQ,CAAC,CAAC,CAC9ByB,eAAe,CAAC,CAAC,CAAC,CACpB,CACF,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CAGd,KAAM,CAAA2D,WAAW,CAAGtF,WAAW,CAAC,KAAO,CAAA8D,OAAwB,EAAK,CAClE,KAAM,CAAAN,eAAe,CAAG7B,QAAQ,CAACkB,GAAG,CAACC,CAAC,EACpCA,CAAC,CAACvC,EAAE,GAAKuD,OAAO,CAACvD,EAAE,CAAAwC,MAAA,CAAAC,MAAA,IAAQc,OAAO,EAAEX,SAAS,CAAE,GAAI,CAAAD,IAAI,CAAC,CAAC,GAAKJ,CAChE,CAAC,CACD,KAAM,CAAAS,YAAY,CAACC,eAAe,CAAC,CACnC1B,iBAAiB,CAAAiB,MAAA,CAAAC,MAAA,IAAMc,OAAO,EAAEX,SAAS,CAAE,GAAI,CAAAD,IAAI,CAAC,CAAC,EAAE,CAAC,CAC1D,CAAC,CAAE,CAACvB,QAAQ,CAAE4B,YAAY,CAAC,CAAC,CAG5B,KAAM,CAAAgC,aAAa,CAAGvF,WAAW,CAAC,KAAO,CAAAO,EAAU,EAAK,CACtD,KAAM,CAAAiD,eAAe,CAAG7B,QAAQ,CAAC6D,MAAM,CAAC1C,CAAC,EAAIA,CAAC,CAACvC,EAAE,GAAKA,EAAE,CAAC,CACzD,KAAM,CAAAgD,YAAY,CAACC,eAAe,CAAC,CACnC,GAAI3B,cAAc,EAAEtB,EAAE,GAAKA,EAAE,CAAE,CAC7BuB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAAE,CAACH,QAAQ,CAAEE,cAAc,CAAE0B,YAAY,CAAC,CAAC,CAG5C,KAAM,CAAAkC,gBAAgB,CAAGzF,WAAW,CAAC,KAAO,CAAAO,EAAU,EAA+B,CACnF,KAAM,CAAAmF,QAAQ,CAAG/D,QAAQ,CAAC0D,IAAI,CAACvC,CAAC,EAAIA,CAAC,CAACvC,EAAE,GAAKA,EAAE,CAAC,CAChD,GAAI,CAACmF,QAAQ,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CAEnD,KAAM,CAAAC,SAA0B,CAAA7C,MAAA,CAAAC,MAAA,IAC3B0C,QAAQ,EACXnF,EAAE,CAAE2C,IAAI,CAACa,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CACzBxD,IAAI,CAAE,GAAGkF,QAAQ,CAAClF,IAAI,OAAO,CAC7ByC,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CACrBC,SAAS,CAAE,GAAI,CAAAD,IAAI,CAAC,CAAC,EACtB,CAED,KAAM,CAAAM,eAAe,CAAG,CAACoC,SAAS,CAAE,GAAGjE,QAAQ,CAAC,CAChD,KAAM,CAAA4B,YAAY,CAACC,eAAe,CAAC,CACnC,MAAO,CAAAoC,SAAS,CAClB,CAAC,CAAE,CAACjE,QAAQ,CAAE4B,YAAY,CAAC,CAAC,CAG5B,KAAM,CAAAsC,qBAAqB,CAAG7F,WAAW,CAAEW,QAAkC,EAAK,CAChF,GAAI,CAACkB,cAAc,CAAE,OAErB,KAAM,CAAAiE,WAAW,CAAA/C,MAAA,CAAAC,MAAA,IAAQnB,cAAc,CAAClB,QAAQ,CAAKA,QAAQ,CAAE,CAC/D,KAAM,CAAAoF,cAAc,CAAAhD,MAAA,CAAAC,MAAA,IAAQnB,cAAc,EAAElB,QAAQ,CAAEmF,WAAW,EAAE,CAGnE,KAAM,CAAAE,UAAU,CAAG/D,OAAO,CAACgE,KAAK,CAAC,CAAC,CAAE9D,YAAY,CAAG,CAAC,CAAC,CACrD6D,UAAU,CAACE,IAAI,CAACJ,WAAW,CAAC,CAC5B5D,UAAU,CAAC8D,UAAU,CAAC,CACtB5D,eAAe,CAAC4D,UAAU,CAACG,MAAM,CAAG,CAAC,CAAC,CAEtCrE,iBAAiB,CAACiE,cAAc,CAAC,CACjCT,WAAW,CAACS,cAAc,CAAC,CAC7B,CAAC,CAAE,CAAClE,cAAc,CAAEI,OAAO,CAAEE,YAAY,CAAEmD,WAAW,CAAC,CAAC,CAGxD,KAAM,CAAAc,WAAW,CAAGpG,WAAW,CAAC,CAACqG,QAAgB,CAAEzB,SAAS,CAAG,GAAG,GAAK,CACrE,KAAM,CAAAY,MAAM,CAAGlF,eAAe,CAAC+E,IAAI,CAACiB,CAAC,EAAIA,CAAC,CAAC/F,EAAE,GAAK8F,QAAQ,CAAC,CAC3D,GAAI,CAACb,MAAM,EAAI,CAAC3D,cAAc,CAAE,OAGhC,KAAM,CAAA0E,oBAAoB,CAAG,CAACf,MAAM,CAAE,GAAGnD,aAAa,CAACmD,MAAM,CAACc,CAAC,EAAIA,CAAC,CAAC/F,EAAE,GAAK8F,QAAQ,CAAC,CAAC,CAACJ,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CACnG3D,gBAAgB,CAACiE,oBAAoB,CAAC,CACtCrG,YAAY,CAACuD,OAAO,CAACpD,kBAAkB,CAAEsC,IAAI,CAACe,SAAS,CAAC6C,oBAAoB,CAAC,CAAC,CAE9EV,qBAAqB,CAAC,CACpBnB,OAAO,CAAE,CAAEC,cAAc,CAAE0B,QAAQ,CAAEzB,SAAU,CAAC,CAChDT,WAAW,CAAApB,MAAA,CAAAC,MAAA,IACNnB,cAAc,CAAClB,QAAQ,CAACwD,WAAW,CACnCqB,MAAM,CAAC7E,QAAQ,CAEtB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACkB,cAAc,CAAEQ,aAAa,CAAEwD,qBAAqB,CAAC,CAAC,CAG1D,KAAM,CAAAW,eAAe,CAAGxG,WAAW,CAAC,CAACyG,SAAiB,CAAEC,KAAa,GAAK,CACxE,GAAI,CAAC7E,cAAc,CAAE,OAErB,KAAM,CAACpB,QAAQ,CAAEkG,KAAK,CAAC,CAAGF,SAAS,CAACG,KAAK,CAAC,GAAG,CAAC,CAC9C,KAAM,CAAAC,OAAiC,CAAG,CAAC,CAAC,CAE5C,GAAIpG,QAAQ,GAAK,aAAa,CAAE,CAC9BoG,OAAO,CAAC1C,WAAW,CAAApB,MAAA,CAAAC,MAAA,IACdnB,cAAc,CAAClB,QAAQ,CAACwD,WAAW,EACtC,CAACwC,KAAK,EAAGD,KAAK,EACf,CACH,CAAC,IAAM,IAAIjG,QAAQ,GAAK,SAAS,CAAE,CACjCoG,OAAO,CAACvC,OAAO,CAAAvB,MAAA,CAAAC,MAAA,IACVnB,cAAc,CAAClB,QAAQ,CAAC2D,OAAO,EAClC,CAACqC,KAAK,EAAGD,KAAK,EACf,CACH,CAEAb,qBAAqB,CAACgB,OAAO,CAAC,CAChC,CAAC,CAAE,CAAChF,cAAc,CAAEgE,qBAAqB,CAAC,CAAC,CAG3C,KAAM,CAAAiB,aAAa,CAAG9G,WAAW,CAAE+G,KAA6B,EAAK,CACnE,GAAI,CAAClF,cAAc,EAAIA,cAAc,CAAC+B,IAAI,GAAK,OAAO,CAAE,OAExD,KAAM,CAAAoD,QAAoB,CAAAjE,MAAA,CAAAC,MAAA,IACrB+D,KAAK,EACRxG,EAAE,CAAE2C,IAAI,CAACa,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAC1B,CAED6B,qBAAqB,CAAC,CACpBf,KAAK,CAAA/B,MAAA,CAAAC,MAAA,IACAnB,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAChCK,MAAM,CAAE,CAAC,IAAItD,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAAEK,MAAM,EAAI,EAAE,CAAC,CAAE6B,QAAQ,CAAC,EAExE,CAAC,CAAC,CACJ,CAAC,CAAE,CAACnF,cAAc,CAAEgE,qBAAqB,CAAC,CAAC,CAE3C,KAAM,CAAAoB,gBAAgB,CAAGjH,WAAW,CAAC,CAACkH,OAAe,CAAEL,OAA4B,GAAK,CACtF,GAAI,CAAChF,cAAc,EAAIA,cAAc,CAAC+B,IAAI,GAAK,OAAO,CAAE,OAExD,KAAM,CAAAuD,aAAa,CAAGtF,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAAEK,MAAM,EAAEtC,GAAG,CAACkE,KAAK,EACpEA,KAAK,CAACxG,EAAE,GAAK2G,OAAO,CAAAnE,MAAA,CAAAC,MAAA,IAAQ+D,KAAK,CAAKF,OAAO,EAAKE,KACpD,CAAC,EAAI,EAAE,CAEPlB,qBAAqB,CAAC,CACpBf,KAAK,CAAA/B,MAAA,CAAAC,MAAA,IACAnB,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAChCK,MAAM,CAAEgC,aAAa,EAEzB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACtF,cAAc,CAAEgE,qBAAqB,CAAC,CAAC,CAE3C,KAAM,CAAAuB,gBAAgB,CAAGpH,WAAW,CAAEkH,OAAe,EAAK,CACxD,GAAI,CAACrF,cAAc,EAAIA,cAAc,CAAC+B,IAAI,GAAK,OAAO,CAAE,OAExD,KAAM,CAAAuD,aAAa,CAAGtF,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAAEK,MAAM,EAAEK,MAAM,CAACuB,KAAK,EAAIA,KAAK,CAACxG,EAAE,GAAK2G,OAAO,CAAC,EAAI,EAAE,CAExGrB,qBAAqB,CAAC,CACpBf,KAAK,CAAA/B,MAAA,CAAAC,MAAA,IACAnB,cAAc,CAAClB,QAAQ,CAACmE,KAAK,EAChCK,MAAM,CAAEgC,aAAa,EAEzB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACtF,cAAc,CAAEgE,qBAAqB,CAAC,CAAC,CAG3C,KAAM,CAAAwB,aAAa,CAAGrH,WAAW,CAAC,KAAO,CAAAsH,MAAoB,EAAsB,CACjF,GAAI,CAACzF,cAAc,CAAE,KAAM,IAAI,CAAA8D,KAAK,CAAC,qBAAqB,CAAC,CAE3DrC,OAAO,CAACiE,GAAG,CAAC,sCAAsC,CAAE1F,cAAc,CAACrB,IAAI,CAAC,CACxE8C,OAAO,CAACiE,GAAG,CAAC,kCAAkC,CAAED,MAAM,CAAC,CACvDhE,OAAO,CAACiE,GAAG,CAAC,oCAAoC,CAAE1F,cAAc,CAAClB,QAAQ,CAAC+D,OAAO,CAAC,CAClFpB,OAAO,CAACiE,GAAG,CAAC,gCAAgC,CAAE1F,cAAc,CAAClB,QAAQ,CAACwD,WAAW,CAAC,CAClFb,OAAO,CAACiE,GAAG,CAAC,4BAA4B,CAAE1F,cAAc,CAAClB,QAAQ,CAAC2D,OAAO,CAAC,CAE1E,KAAM,IAAI,CAAAkD,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,CAAC,CAEvD,KAAM,CAAAE,WAAW,CAAG9F,cAAc,CAAC+F,SAAS,EAAI/F,cAAc,CAACoC,WAAW,CAC1EX,OAAO,CAACiE,GAAG,CAAC,oCAAoC,CAAEI,WAAW,CAAC,CAE9D,MAAO,CAAAA,WAAW,CACpB,CAAC,CAAE,CAAC9F,cAAc,CAAC,CAAC,CAGpB,KAAM,CAAAgG,gBAAgB,CAAG7H,WAAW,CAAC,IAAM,CACzC,MAAO,CAAAmB,cAAc,CAACqE,MAAM,CAAC8B,MAAM,EAAI,CACrC,GAAI,CAACzF,cAAc,CAAE,MAAO,KAAI,CAChC,GAAIA,cAAc,CAAC+B,IAAI,GAAK,OAAO,CAAE,CACnC,MAAO,CAAC,KAAK,CAAE,KAAK,CAAC,CAACkE,QAAQ,CAACR,MAAM,CAAC9F,MAAM,CAAC,CAC/C,CACA,MAAO,CAAC,KAAK,CAAE,KAAK,CAAC,CAACsG,QAAQ,CAACR,MAAM,CAAC9F,MAAM,CAAC,CAC/C,CAAC,CAAC,CACJ,CAAC,CAAE,CAACK,cAAc,CAAC,CAAC,CAGpB,KAAM,CAAAkG,UAAU,CAAG/H,WAAW,CAAES,QAAiB,EAAK,CACpD,GAAIA,QAAQ,CAAE,CACZ,MAAO,CAAAH,eAAe,CAACkF,MAAM,CAACc,CAAC,EAAIA,CAAC,CAAC7F,QAAQ,GAAKA,QAAQ,CAAC,CAC7D,CACA,MAAO,CAAAH,eAAe,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA0H,gBAAgB,CAAGhI,WAAW,CAAC,IAAM,CACzC,MAAO,CAAAqC,aAAa,CACtB,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAGnB,KAAM,CAAA4F,OAAO,CAAG9F,YAAY,CAAG,CAAC,CAChC,KAAM,CAAA+F,OAAO,CAAG/F,YAAY,CAAGF,OAAO,CAACkE,MAAM,CAAG,CAAC,CAEjD,KAAM,CAAAgC,IAAI,CAAGnI,WAAW,CAAC,IAAM,CAC7B,GAAI,CAACiI,OAAO,EAAI,CAACpG,cAAc,CAAE,OAEjC,KAAM,CAAAuG,QAAQ,CAAGjG,YAAY,CAAG,CAAC,CACjC,KAAM,CAAAkG,gBAAgB,CAAGpG,OAAO,CAACmG,QAAQ,CAAC,CAE1ChG,eAAe,CAACgG,QAAQ,CAAC,CACzBtG,iBAAiB,CAAAiB,MAAA,CAAAC,MAAA,IAAMnB,cAAc,EAAElB,QAAQ,CAAE0H,gBAAgB,EAAE,CAAC,CACpE/C,WAAW,CAAAvC,MAAA,CAAAC,MAAA,IAAMnB,cAAc,EAAElB,QAAQ,CAAE0H,gBAAgB,EAAE,CAAC,CAChE,CAAC,CAAE,CAACJ,OAAO,CAAEpG,cAAc,CAAEI,OAAO,CAAEE,YAAY,CAAEmD,WAAW,CAAC,CAAC,CAEjE,KAAM,CAAAgD,IAAI,CAAGtI,WAAW,CAAC,IAAM,CAC7B,GAAI,CAACkI,OAAO,EAAI,CAACrG,cAAc,CAAE,OAEjC,KAAM,CAAAuG,QAAQ,CAAGjG,YAAY,CAAG,CAAC,CACjC,KAAM,CAAAoG,YAAY,CAAGtG,OAAO,CAACmG,QAAQ,CAAC,CAEtChG,eAAe,CAACgG,QAAQ,CAAC,CACzBtG,iBAAiB,CAAAiB,MAAA,CAAAC,MAAA,IAAMnB,cAAc,EAAElB,QAAQ,CAAE4H,YAAY,EAAE,CAAC,CAChEjD,WAAW,CAAAvC,MAAA,CAAAC,MAAA,IAAMnB,cAAc,EAAElB,QAAQ,CAAE4H,YAAY,EAAE,CAAC,CAC5D,CAAC,CAAE,CAACL,OAAO,CAAErG,cAAc,CAAEI,OAAO,CAAEE,YAAY,CAAEmD,WAAW,CAAC,CAAC,CAGjE,KAAM,CAAAkD,YAAY,CAAGxI,WAAW,CAAE4D,IAAuB,EAAK,CAE5D,MAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA6E,aAAa,CAAGzI,WAAW,CAAE0I,UAAkB,EAAK,CAExDpF,OAAO,CAACiE,GAAG,CAAC,oBAAoB,CAAEmB,UAAU,CAAC,CAC/C,CAAC,CAAE,EAAE,CAAC,CAGN5I,KAAK,CAAC6I,SAAS,CAAC,IAAM,CACpBpG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,MAAO,CAAAtC,OAAO,CAAC,KAAO,CACpB0B,QAAQ,CACRE,cAAc,CACdE,SAAS,CACT4B,aAAa,CACbyB,WAAW,CACXE,WAAW,CACXC,aAAa,CACbE,gBAAgB,CAChBI,qBAAqB,CACrBO,WAAW,CACXI,eAAe,CACfM,aAAa,CACbG,gBAAgB,CAChBG,gBAAgB,CAChBC,aAAa,CACbQ,gBAAgB,CAChBE,UAAU,CACVC,gBAAgB,CAChBC,OAAO,CACPC,OAAO,CACPC,IAAI,CACJG,IAAI,CACJE,YAAY,CACZC,aACF,CAAC,CAAC,CAAE,CACF9G,QAAQ,CACRE,cAAc,CACdE,SAAS,CACT4B,aAAa,CACbyB,WAAW,CACXE,WAAW,CACXC,aAAa,CACbE,gBAAgB,CAChBI,qBAAqB,CACrBO,WAAW,CACXI,eAAe,CACfM,aAAa,CACbG,gBAAgB,CAChBG,gBAAgB,CAChBC,aAAa,CACbQ,gBAAgB,CAChBE,UAAU,CACVC,gBAAgB,CAChBC,OAAO,CACPC,OAAO,CACPC,IAAI,CACJG,IAAI,CACJE,YAAY,CACZC,aAAa,CACd,CAAC,CACJ,CAAC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}