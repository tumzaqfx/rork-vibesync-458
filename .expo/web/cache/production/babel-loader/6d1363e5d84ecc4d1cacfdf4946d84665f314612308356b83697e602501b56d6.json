{"ast":null,"code":"'use strict';const _worklet_3400383653491_init_data={code:\"function ReanimatedError_reactNativeReanimated_errorsJs1(message){const prefix='[Reanimated]';const errorInstance=new Error(message?prefix+\\\" \\\"+message:prefix);errorInstance.name='ReanimatedError';return errorInstance;}\"};const ReanimatedErrorConstructor=function(){const ReanimatedError=function(message){const prefix='[Reanimated]';const errorInstance=new Error(message?`${prefix} ${message}`:prefix);errorInstance.name='ReanimatedError';return errorInstance;};ReanimatedError.__closure={};ReanimatedError.__workletHash=3400383653491;ReanimatedError.__initData=_worklet_3400383653491_init_data;return ReanimatedError;}();export{ReanimatedErrorConstructor as ReanimatedError};const _worklet_13776296235602_init_data={code:\"function registerReanimatedError_reactNativeReanimated_errorsJs2(){const{ReanimatedErrorConstructor}=this.__closure;if(!_WORKLET){throw new Error('[Reanimated] registerReanimatedError() must be called on Worklet runtime');}global.ReanimatedError=ReanimatedErrorConstructor;}\"};export const registerReanimatedError=function(){const registerReanimatedError=function(){if(!_WORKLET){throw new Error('[Reanimated] registerReanimatedError() must be called on Worklet runtime');}global.ReanimatedError=ReanimatedErrorConstructor;};registerReanimatedError.__closure={ReanimatedErrorConstructor};registerReanimatedError.__workletHash=13776296235602;registerReanimatedError.__initData=_worklet_13776296235602_init_data;return registerReanimatedError;}();const _workletStackDetails=new Map();export function registerWorkletStackDetails(hash,stackDetails){_workletStackDetails.set(hash,stackDetails);}function getBundleOffset(error){const frame=error.stack?.split('\\n')?.[0];if(frame){const parsedFrame=/@([^@]+):(\\d+):(\\d+)/.exec(frame);if(parsedFrame){const[,file,line,col]=parsedFrame;return[file,Number(line),Number(col)];}}return['unknown',0,0];}function processStack(stack){const workletStackEntries=stack.match(/worklet_(\\d+):(\\d+):(\\d+)/g);let result=stack;workletStackEntries?.forEach(match=>{const[,hash,origLine,origCol]=match.split(/:|_/).map(Number);const errorDetails=_workletStackDetails.get(hash);if(!errorDetails){return;}const[error,lineOffset,colOffset]=errorDetails;const[bundleFile,bundleLine,bundleCol]=getBundleOffset(error);const line=origLine+bundleLine+lineOffset;const col=origCol+bundleCol+colOffset;result=result.replace(match,`${bundleFile}:${line}:${col}`);});return result;}export function reportFatalErrorOnJS({message,stack}){const error=new Error();error.message=message;error.stack=stack?processStack(stack):undefined;error.name='ReanimatedError';error.jsEngine='reanimated';global.ErrorUtils.reportFatalError(error);}","map":{"version":3,"names":["_worklet_3400383653491_init_data","code","ReanimatedErrorConstructor","ReanimatedError","message","prefix","errorInstance","Error","name","__closure","__workletHash","__initData","_worklet_13776296235602_init_data","registerReanimatedError","_WORKLET","global","_workletStackDetails","Map","registerWorkletStackDetails","hash","stackDetails","set","getBundleOffset","error","frame","stack","split","parsedFrame","exec","file","line","col","Number","processStack","workletStackEntries","match","result","forEach","origLine","origCol","map","errorDetails","get","lineOffset","colOffset","bundleFile","bundleLine","bundleCol","replace","reportFatalErrorOnJS","undefined","jsEngine","ErrorUtils","reportFatalError"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-reanimated/src/errors.ts"],"sourcesContent":["/* eslint-disable reanimated/use-reanimated-error */\n'use strict';\nimport type { WorkletStackDetails } from './commonTypes';\n\ntype ReanimatedError = Error & 'ReanimatedError'; // signed type\n\ninterface ReanimatedErrorConstructor extends Error {\n  new (message?: string): ReanimatedError;\n  (message?: string): ReanimatedError;\n  readonly prototype: ReanimatedError;\n}\n\nconst ReanimatedErrorConstructor: ReanimatedErrorConstructor =\n  function ReanimatedError(message?: string) {\n    'worklet';\n    const prefix = '[Reanimated]';\n    const errorInstance = new Error(message ? `${prefix} ${message}` : prefix);\n    errorInstance.name = 'ReanimatedError';\n    return errorInstance;\n  } as ReanimatedErrorConstructor;\n\nexport { ReanimatedErrorConstructor as ReanimatedError };\n\n/**\n * Registers `ReanimatedError` in global scope. Use it only for Worklet\n * runtimes.\n */\nexport function registerReanimatedError() {\n  'worklet';\n  if (!_WORKLET) {\n    throw new Error(\n      '[Reanimated] registerReanimatedError() must be called on Worklet runtime'\n    );\n  }\n  (global as Record<string, unknown>).ReanimatedError =\n    ReanimatedErrorConstructor;\n}\n\nconst _workletStackDetails = new Map<number, WorkletStackDetails>();\n\nexport function registerWorkletStackDetails(\n  hash: number,\n  stackDetails: WorkletStackDetails\n) {\n  _workletStackDetails.set(hash, stackDetails);\n}\n\nfunction getBundleOffset(error: Error): [string, number, number] {\n  const frame = error.stack?.split('\\n')?.[0];\n  if (frame) {\n    const parsedFrame = /@([^@]+):(\\d+):(\\d+)/.exec(frame);\n    if (parsedFrame) {\n      const [, file, line, col] = parsedFrame;\n      return [file, Number(line), Number(col)];\n    }\n  }\n  return ['unknown', 0, 0];\n}\n\nfunction processStack(stack: string): string {\n  const workletStackEntries = stack.match(/worklet_(\\d+):(\\d+):(\\d+)/g);\n  let result = stack;\n  workletStackEntries?.forEach((match) => {\n    const [, hash, origLine, origCol] = match.split(/:|_/).map(Number);\n    const errorDetails = _workletStackDetails.get(hash);\n    if (!errorDetails) {\n      return;\n    }\n    const [error, lineOffset, colOffset] = errorDetails;\n    const [bundleFile, bundleLine, bundleCol] = getBundleOffset(error);\n    const line = origLine + bundleLine + lineOffset;\n    const col = origCol + bundleCol + colOffset;\n\n    result = result.replace(match, `${bundleFile}:${line}:${col}`);\n  });\n  return result;\n}\n\nexport function reportFatalErrorOnJS({\n  message,\n  stack,\n}: {\n  message: string;\n  stack?: string;\n}) {\n  const error = new Error();\n  error.message = message;\n  error.stack = stack ? processStack(stack) : undefined;\n  error.name = 'ReanimatedError';\n  // @ts-ignore React Native's ErrorUtils implementation extends the Error type with jsEngine field\n  error.jsEngine = 'reanimated';\n  // @ts-ignore the reportFatalError method is an internal method of ErrorUtils not exposed in the type definitions\n  global.ErrorUtils.reportFatalError(error);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}