{"ast":null,"code":"import{CodedError}from'expo-modules-core';import{getContext}from'../utils.web';export default(canvas,options)=>{const{backgroundColor=null,originX=0,originY=0,width=0,height=0}=options;if(width===0||height===0){throw new CodedError('ERR_IMAGE_MANIPULATOR_EXTENT','Extent size must be greater than 0: '+JSON.stringify(options,null,2));}const result=document.createElement('canvas');result.width=width;result.height=height;const sx=originX<0?0:originX;const sy=originY<0?0:originY;const sw=originX<0?Math.min(canvas.width,width+originX):Math.min(canvas.width-originX,width);const sh=originY<0?Math.min(canvas.height,height+originY):Math.min(canvas.height-originY,height);const dx=originX<0?-originX:0;const dy=originY<0?-originY:0;const context=getContext(result);if(backgroundColor!=null){context.fillStyle=backgroundColor;context.fillRect(0,0,width,height);}context.drawImage(canvas,sx,sy,sw,sh,dx,dy,sw,sh);return result;};","map":{"version":3,"names":["CodedError","getContext","canvas","options","backgroundColor","originX","originY","width","height","JSON","stringify","result","document","createElement","sx","sy","sw","Math","min","sh","dx","dy","context","fillStyle","fillRect","drawImage"],"sources":["/home/user/rork-vibesync-458/node_modules/expo-image-manipulator/src/web/actions/ExtentAction.web.ts"],"sourcesContent":["import { CodedError } from 'expo-modules-core';\n\nimport { ActionExtent } from '../../ImageManipulator.types';\nimport { getContext } from '../utils.web';\n\nexport default (canvas: HTMLCanvasElement, options: ActionExtent['extent']) => {\n  // ensure values are defined.\n  const { backgroundColor = null, originX = 0, originY = 0, width = 0, height = 0 } = options;\n\n  if (width === 0 || height === 0) {\n    throw new CodedError(\n      'ERR_IMAGE_MANIPULATOR_EXTENT',\n      'Extent size must be greater than 0: ' + JSON.stringify(options, null, 2)\n    );\n  }\n\n  const result = document.createElement('canvas');\n  result.width = width;\n  result.height = height;\n\n  const sx = originX < 0 ? 0 : originX;\n  const sy = originY < 0 ? 0 : originY;\n  const sw =\n    originX < 0 ? Math.min(canvas.width, width + originX) : Math.min(canvas.width - originX, width);\n  const sh =\n    originY < 0\n      ? Math.min(canvas.height, height + originY)\n      : Math.min(canvas.height - originY, height);\n\n  const dx = originX < 0 ? -originX : 0;\n  const dy = originY < 0 ? -originY : 0;\n\n  const context = getContext(result);\n\n  if (backgroundColor != null) {\n    context.fillStyle = backgroundColor;\n    context.fillRect(0, 0, width, height);\n  }\n\n  context.drawImage(canvas, sx, sy, sw, sh, dx, dy, sw, sh);\n\n  return result;\n};\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,mBAAmB,CAG9C,OAASC,UAAU,KAAQ,cAAc,CAEzC,cAAe,CAACC,MAAyB,CAAEC,OAA+B,GAAK,CAE7E,KAAM,CAAEC,eAAe,CAAG,IAAI,CAAEC,OAAO,CAAG,CAAC,CAAEC,OAAO,CAAG,CAAC,CAAEC,KAAK,CAAG,CAAC,CAAEC,MAAM,CAAG,CAAE,CAAC,CAAGL,OAAO,CAE3F,GAAII,KAAK,GAAK,CAAC,EAAIC,MAAM,GAAK,CAAC,CAAE,CAC/B,KAAM,IAAI,CAAAR,UAAU,CAClB,8BAA8B,CAC9B,sCAAsC,CAAGS,IAAI,CAACC,SAAS,CAACP,OAAO,CAAE,IAAI,CAAE,CAAC,CAC1E,CAAC,CACH,CAEA,KAAM,CAAAQ,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACJ,KAAK,CAAGA,KAAK,CACpBI,MAAM,CAACH,MAAM,CAAGA,MAAM,CAEtB,KAAM,CAAAM,EAAE,CAAGT,OAAO,CAAG,CAAC,CAAG,CAAC,CAAGA,OAAO,CACpC,KAAM,CAAAU,EAAE,CAAGT,OAAO,CAAG,CAAC,CAAG,CAAC,CAAGA,OAAO,CACpC,KAAM,CAAAU,EAAE,CACNX,OAAO,CAAG,CAAC,CAAGY,IAAI,CAACC,GAAG,CAAChB,MAAM,CAACK,KAAK,CAAEA,KAAK,CAAGF,OAAO,CAAC,CAAGY,IAAI,CAACC,GAAG,CAAChB,MAAM,CAACK,KAAK,CAAGF,OAAO,CAAEE,KAAK,CAAC,CACjG,KAAM,CAAAY,EAAE,CACNb,OAAO,CAAG,CAAC,CACPW,IAAI,CAACC,GAAG,CAAChB,MAAM,CAACM,MAAM,CAAEA,MAAM,CAAGF,OAAO,CAAC,CACzCW,IAAI,CAACC,GAAG,CAAChB,MAAM,CAACM,MAAM,CAAGF,OAAO,CAAEE,MAAM,CAAC,CAE/C,KAAM,CAAAY,EAAE,CAAGf,OAAO,CAAG,CAAC,CAAG,CAACA,OAAO,CAAG,CAAC,CACrC,KAAM,CAAAgB,EAAE,CAAGf,OAAO,CAAG,CAAC,CAAG,CAACA,OAAO,CAAG,CAAC,CAErC,KAAM,CAAAgB,OAAO,CAAGrB,UAAU,CAACU,MAAM,CAAC,CAElC,GAAIP,eAAe,EAAI,IAAI,CAAE,CAC3BkB,OAAO,CAACC,SAAS,CAAGnB,eAAe,CACnCkB,OAAO,CAACE,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAEjB,KAAK,CAAEC,MAAM,CAAC,CACvC,CAEAc,OAAO,CAACG,SAAS,CAACvB,MAAM,CAAEY,EAAE,CAAEC,EAAE,CAAEC,EAAE,CAAEG,EAAE,CAAEC,EAAE,CAAEC,EAAE,CAAEL,EAAE,CAAEG,EAAE,CAAC,CAEzD,MAAO,CAAAR,MAAM,CACf,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}