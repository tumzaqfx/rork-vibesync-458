{"ast":null,"code":"'use strict';import{isWorkletFunction}from\"./commonTypes.js\";import{ReanimatedError,registerReanimatedError}from\"./errors.js\";import{setupCallGuard,setupConsole}from\"./initializers.js\";import{registerLoggerConfig}from\"./logger/index.js\";import NativeReanimatedModule from'./NativeReanimated';import{shouldBeUseWeb}from\"./PlatformChecker.js\";import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from\"./shareables.js\";const SHOULD_BE_USE_WEB=shouldBeUseWeb();const _worklet_3079584135205_init_data={code:\"function reactNativeReanimated_runtimesJs1(){const{registerReanimatedError,registerLoggerConfig,config,setupCallGuard,setupConsole,initializer}=this.__closure;var _initializer;registerReanimatedError();registerLoggerConfig(config);setupCallGuard();setupConsole();(_initializer=initializer)===null||_initializer===void 0||_initializer();}\"};export function createWorkletRuntime(name,initializer){const config=__reanimatedLoggerConfig;return NativeReanimatedModule.createWorkletRuntime(name,makeShareableCloneRecursive(function(){const reactNativeReanimated_runtimesJs1=function(){registerReanimatedError();registerLoggerConfig(config);setupCallGuard();setupConsole();initializer?.();};reactNativeReanimated_runtimesJs1.__closure={registerReanimatedError,registerLoggerConfig,config,setupCallGuard,setupConsole,initializer};reactNativeReanimated_runtimesJs1.__workletHash=3079584135205;reactNativeReanimated_runtimesJs1.__initData=_worklet_3079584135205_init_data;return reactNativeReanimated_runtimesJs1;}()));}const _worklet_2277666106565_init_data={code:\"function runOnRuntime_reactNativeReanimated_runtimesJs2(workletRuntime,worklet){const{__DEV__,SHOULD_BE_USE_WEB,isWorkletFunction,makeShareableCloneOnUIRecursive,NativeReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(...args){return global._scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){'worklet';worklet(...args);}));};}return function(...args){return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};const _worklet_734813279060_init_data={code:\"function reactNativeReanimated_runtimesJs3(){const{worklet,args}=this.__closure;worklet(...args);}\"};const _worklet_3463492873011_init_data={code:\"function reactNativeReanimated_runtimesJs4(){const{worklet,args}=this.__closure;worklet(...args);}\"};export const runOnRuntime=function(){const runOnRuntime=function(workletRuntime,worklet){if(false&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return(...args)=>global._scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){const reactNativeReanimated_runtimesJs3=function(){worklet(...args);};reactNativeReanimated_runtimesJs3.__closure={worklet,args};reactNativeReanimated_runtimesJs3.__workletHash=734813279060;reactNativeReanimated_runtimesJs3.__initData=_worklet_734813279060_init_data;return reactNativeReanimated_runtimesJs3;}()));}return(...args)=>NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){const reactNativeReanimated_runtimesJs4=function(){worklet(...args);};reactNativeReanimated_runtimesJs4.__closure={worklet,args};reactNativeReanimated_runtimesJs4.__workletHash=3463492873011;reactNativeReanimated_runtimesJs4.__initData=_worklet_3463492873011_init_data;return reactNativeReanimated_runtimesJs4;}()));};runOnRuntime.__closure={__DEV__:false,SHOULD_BE_USE_WEB,isWorkletFunction,makeShareableCloneOnUIRecursive,NativeReanimatedModule,makeShareableCloneRecursive};runOnRuntime.__workletHash=2277666106565;runOnRuntime.__initData=_worklet_2277666106565_init_data;return runOnRuntime;}();","map":{"version":3,"names":["isWorkletFunction","ReanimatedError","registerReanimatedError","setupCallGuard","setupConsole","registerLoggerConfig","NativeReanimatedModule","shouldBeUseWeb","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","SHOULD_BE_USE_WEB","_worklet_3079584135205_init_data","code","createWorkletRuntime","name","initializer","config","__reanimatedLoggerConfig","reactNativeReanimated_runtimesJs1","__closure","__workletHash","__initData","_worklet_2277666106565_init_data","_worklet_734813279060_init_data","_worklet_3463492873011_init_data","runOnRuntime","workletRuntime","worklet","_WORKLET","args","global","_scheduleOnRuntime","reactNativeReanimated_runtimesJs3","scheduleOnRuntime","reactNativeReanimated_runtimesJs4","__DEV__"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-reanimated/src/runtimes.ts"],"sourcesContent":["'use strict';\nimport { isWorkletFunction } from './commonTypes';\nimport type { WorkletFunction } from './commonTypes';\nimport { ReanimatedError, registerReanimatedError } from './errors';\nimport { setupCallGuard, setupConsole } from './initializers';\nimport { registerLoggerConfig } from './logger';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport type WorkletRuntime = {\n  __hostObjectWorkletRuntime: never;\n  readonly name: string;\n};\n\n/**\n * Lets you create a new JS runtime which can be used to run worklets possibly\n * on different threads than JS or UI thread.\n *\n * @param name - A name used to identify the runtime which will appear in\n *   devices list in Chrome DevTools.\n * @param initializer - An optional worklet that will be run synchronously on\n *   the same thread immediately after the runtime is created.\n * @returns WorkletRuntime which is a\n *   `jsi::HostObject<reanimated::WorkletRuntime>` - {@link WorkletRuntime}\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/createWorkletRuntime\n */\n// @ts-expect-error Check `runOnUI` overload.\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: () => void\n): WorkletRuntime;\n\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: WorkletFunction<[], void>\n): WorkletRuntime {\n  // Assign to a different variable as __reanimatedLoggerConfig is not a captured\n  // identifier in the Worklet runtime.\n  const config = __reanimatedLoggerConfig;\n  return NativeReanimatedModule.createWorkletRuntime(\n    name,\n    makeShareableCloneRecursive(() => {\n      'worklet';\n      registerReanimatedError();\n      registerLoggerConfig(config);\n      setupCallGuard();\n      setupConsole();\n      initializer?.();\n    })\n  );\n}\n\n// @ts-expect-error Check `runOnUI` overload.\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/** Schedule a worklet to execute on the background queue. */\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError(\n      'The function passed to `runOnRuntime` is not a worklet.' +\n        (_WORKLET\n          ? ' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.'\n          : '')\n    );\n  }\n  if (_WORKLET) {\n    return (...args) =>\n      global._scheduleOnRuntime(\n        workletRuntime,\n        makeShareableCloneOnUIRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n  }\n  return (...args) =>\n    NativeReanimatedModule.scheduleOnRuntime(\n      workletRuntime,\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n}\n"],"mappings":"AAAA,YAAY,CACZ,OAASA,iBAAiB,KAAQ,kBAAe,CAEjD,OAASC,eAAe,CAAEC,uBAAuB,KAAQ,aAAU,CACnE,OAASC,cAAc,CAAEC,YAAY,KAAQ,mBAAgB,CAC7D,OAASC,oBAAoB,KAAQ,mBAAU,CAC/C,MAAO,CAAAC,sBAAsB,KAAM,oBAAoB,CACvD,OAASC,cAAc,KAAQ,sBAAmB,CAClD,OACEC,+BAA+B,CAC/BC,2BAA2B,KACtB,iBAAc,CAErB,KAAM,CAAAC,iBAAiB,CAAGH,cAAc,CAAC,CAAC,OAAAI,gCAAA,EAAAC,IAAA,sVAyB1C,MAAO,SAAS,CAAAC,oBAAoBA,CAClCC,IAAY,CACZC,WAAuC,CACvB,CAGhB,KAAM,CAAAC,MAAM,CAAGC,wBAAwB,CACvC,MAAO,CAAAX,sBAAsB,CAACO,oBAAoB,CAChDC,IAAI,CACJL,2BAA2B,CAAC,iBAAAS,iCAAA,SAAAA,CAAA,CAAM,CAEhChB,uBAAuB,CAAC,CAAC,CACzBG,oBAAoB,CAACW,MAAM,CAAC,CAC5Bb,cAAc,CAAC,CAAC,CAChBC,YAAY,CAAC,CAAC,CACdW,WAAW,GAAG,CAAC,CACjB,CAAC,CAAAG,iCAAA,CAAAC,SAAA,EAAAjB,uBAAA,CAAAG,oBAAA,CAAAW,MAAA,CAAAb,cAAA,CAAAC,YAAA,CAAAW,WAAA,EAAAG,iCAAA,CAAAE,aAAA,eAAAF,iCAAA,CAAAG,UAAA,CAAAV,gCAAA,QAAAO,iCAAA,EAP2B,EAO3B,CACH,CAAC,CACH,OAAAI,gCAAA,EAAAV,IAAA,ozBAAAW,+BAAA,EAAAX,IAAA,6GAAAY,gCAAA,EAAAZ,IAAA,uGAQA,aAAAa,YAAA,CAAO,iBAAAA,YAAA,SAAAA,CACLC,cAA8B,CAC9BC,OAA2C,CAClB,CAEzB,GAAI,OAAW,CAACjB,iBAAiB,EAAI,CAACV,iBAAiB,CAAC2B,OAAO,CAAC,CAAE,CAChE,KAAM,IAAI,CAAA1B,eAAe,CACvB,yDAAyD,EACtD2B,QAAQ,CACL,8FAA8F,CAC9F,EAAE,CACV,CAAC,CACH,CACA,GAAIA,QAAQ,CAAE,CACZ,MAAO,CAAC,GAAGC,IAAI,GACbC,MAAM,CAACC,kBAAkB,CACvBL,cAAc,CACdlB,+BAA+B,CAAC,iBAAAwB,iCAAA,SAAAA,CAAA,CAAM,CAEpCL,OAAO,CAAC,GAAGE,IAAI,CAAC,CAClB,CAAC,CAAAG,iCAAA,CAAAb,SAAA,EAAAQ,OAAA,CAAAE,IAAA,EAAAG,iCAAA,CAAAZ,aAAA,cAAAY,iCAAA,CAAAX,UAAA,CAAAE,+BAAA,QAAAS,iCAAA,EAH+B,EAG/B,CACH,CAAC,CACL,CACA,MAAO,CAAC,GAAGH,IAAI,GACbvB,sBAAsB,CAAC2B,iBAAiB,CACtCP,cAAc,CACdjB,2BAA2B,CAAC,iBAAAyB,iCAAA,SAAAA,CAAA,CAAM,CAEhCP,OAAO,CAAC,GAAGE,IAAI,CAAC,CAClB,CAAC,CAAAK,iCAAA,CAAAf,SAAA,EAAAQ,OAAA,CAAAE,IAAA,EAAAK,iCAAA,CAAAd,aAAA,eAAAc,iCAAA,CAAAb,UAAA,CAAAG,gCAAA,QAAAU,iCAAA,EAH2B,EAG3B,CACH,CAAC,CACL,EAAAT,YAAA,CAAAN,SAAA,EAAAgB,OAAA,OAAAzB,iBAAA,CAAAV,iBAAA,CAAAQ,+BAAA,CAAAF,sBAAA,CAAAG,2BAAA,EAAAgB,YAAA,CAAAL,aAAA,eAAAK,YAAA,CAAAJ,UAAA,CAAAC,gCAAA,QAAAG,YAAA,EA/BO","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}