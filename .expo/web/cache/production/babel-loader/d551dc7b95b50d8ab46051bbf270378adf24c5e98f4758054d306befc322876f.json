{"ast":null,"code":"import React,{useEffect,useRef}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Animated from\"react-native-web/dist/exports/Animated\";import{LinearGradient}from'expo-linear-gradient';import{Image}from'expo-image';import{router}from'expo-router';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SpillStatusCircle({id,name,avatar,topicName,listenerCount}){const pulseAnim=useRef(new Animated.Value(1)).current;useEffect(()=>{const pulse=Animated.loop(Animated.sequence([Animated.timing(pulseAnim,{toValue:1.08,duration:1500,useNativeDriver:true}),Animated.timing(pulseAnim,{toValue:1,duration:1500,useNativeDriver:true})]));pulse.start();return()=>pulse.stop();},[pulseAnim]);const handlePress=()=>{console.log('[SpillStatusCircle] Opening spill:',id);router.push(`/spill/${id}`);};return _jsxs(TouchableOpacity,{onPress:handlePress,style:styles.container,testID:`spill-status-${id}`,children:[_jsx(Animated.View,{style:[styles.ringContainer,{transform:[{scale:pulseAnim}]}],children:_jsx(LinearGradient,{colors:['#7B61FF','#A88FFF','#7B61FF'],start:{x:0,y:0},end:{x:1,y:1},style:styles.ring,children:_jsxs(View,{style:styles.innerRing,children:[_jsx(Image,{source:{uri:avatar},style:styles.avatar,contentFit:\"cover\"}),_jsx(View,{style:styles.badge,children:_jsx(Text,{style:styles.badgeText,children:\"\\uD83D\\uDCA7\"})})]})})}),_jsx(Text,{style:styles.name,numberOfLines:1,children:name}),_jsxs(View,{style:styles.infoContainer,children:[_jsx(Text,{style:styles.topic,numberOfLines:1,children:topicName}),_jsx(Text,{style:styles.listeners,children:formatListenerCount(listenerCount)})]})]});}function formatListenerCount(count){if(count>=1000){return`${(count/1000).toFixed(1)}K`;}return count.toString();}const styles=StyleSheet.create({container:{alignItems:'center',marginRight:16,width:80},ringContainer:{width:76,height:76,borderRadius:38,marginBottom:6},ring:{width:76,height:76,borderRadius:38,padding:3,justifyContent:'center',alignItems:'center'},innerRing:{width:70,height:70,borderRadius:35,backgroundColor:'#131628',justifyContent:'center',alignItems:'center',position:'relative'},avatar:{width:64,height:64,borderRadius:32},badge:{position:'absolute',bottom:-2,right:-2,width:24,height:24,borderRadius:12,backgroundColor:'#7B61FF',justifyContent:'center',alignItems:'center',borderWidth:2,borderColor:'#131628'},badgeText:{fontSize:12},name:{fontSize:12,fontWeight:'600',color:'#FFFFFF',marginBottom:2},infoContainer:{alignItems:'center'},topic:{fontSize:10,color:'#7B61FF',fontWeight:'500'},listeners:{fontSize:9,color:'#8E8E93',marginTop:1}});","map":{"version":3,"names":["React","useEffect","useRef","View","Text","StyleSheet","TouchableOpacity","Animated","LinearGradient","Image","router","jsx","_jsx","jsxs","_jsxs","SpillStatusCircle","id","name","avatar","topicName","listenerCount","pulseAnim","Value","current","pulse","loop","sequence","timing","toValue","duration","useNativeDriver","start","stop","handlePress","console","log","push","onPress","style","styles","container","testID","children","ringContainer","transform","scale","colors","x","y","end","ring","innerRing","source","uri","contentFit","badge","badgeText","numberOfLines","infoContainer","topic","listeners","formatListenerCount","count","toFixed","toString","create","alignItems","marginRight","width","height","borderRadius","marginBottom","padding","justifyContent","backgroundColor","position","bottom","right","borderWidth","borderColor","fontSize","fontWeight","color","marginTop"],"sources":["/home/user/rork-vibesync-458/components/spill/SpillStatusCircle.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Animated } from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Image } from 'expo-image';\nimport { router } from 'expo-router';\n\ntype SpillStatusCircleProps = {\n  id: string;\n  name: string;\n  avatar: string;\n  topicName: string;\n  listenerCount: number;\n};\n\nexport default function SpillStatusCircle({ id, name, avatar, topicName, listenerCount }: SpillStatusCircleProps) {\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n\n  useEffect(() => {\n    const pulse = Animated.loop(\n      Animated.sequence([\n        Animated.timing(pulseAnim, {\n          toValue: 1.08,\n          duration: 1500,\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseAnim, {\n          toValue: 1,\n          duration: 1500,\n          useNativeDriver: true,\n        }),\n      ])\n    );\n    pulse.start();\n    return () => pulse.stop();\n  }, [pulseAnim]);\n\n  const handlePress = () => {\n    console.log('[SpillStatusCircle] Opening spill:', id);\n    router.push(`/spill/${id}`);\n  };\n\n  return (\n    <TouchableOpacity onPress={handlePress} style={styles.container} testID={`spill-status-${id}`}>\n      <Animated.View style={[styles.ringContainer, { transform: [{ scale: pulseAnim }] }]}>\n        <LinearGradient\n          colors={['#7B61FF', '#A88FFF', '#7B61FF']}\n          start={{ x: 0, y: 0 }}\n          end={{ x: 1, y: 1 }}\n          style={styles.ring}\n        >\n          <View style={styles.innerRing}>\n            <Image source={{ uri: avatar }} style={styles.avatar} contentFit=\"cover\" />\n            <View style={styles.badge}>\n              <Text style={styles.badgeText}>ðŸ’§</Text>\n            </View>\n          </View>\n        </LinearGradient>\n      </Animated.View>\n      <Text style={styles.name} numberOfLines={1}>{name}</Text>\n      <View style={styles.infoContainer}>\n        <Text style={styles.topic} numberOfLines={1}>{topicName}</Text>\n        <Text style={styles.listeners}>{formatListenerCount(listenerCount)}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n}\n\nfunction formatListenerCount(count: number): string {\n  if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}K`;\n  }\n  return count.toString();\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    marginRight: 16,\n    width: 80,\n  },\n  ringContainer: {\n    width: 76,\n    height: 76,\n    borderRadius: 38,\n    marginBottom: 6,\n  },\n  ring: {\n    width: 76,\n    height: 76,\n    borderRadius: 38,\n    padding: 3,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  innerRing: {\n    width: 70,\n    height: 70,\n    borderRadius: 35,\n    backgroundColor: '#131628',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative' as const,\n  },\n  avatar: {\n    width: 64,\n    height: 64,\n    borderRadius: 32,\n  },\n  badge: {\n    position: 'absolute' as const,\n    bottom: -2,\n    right: -2,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#7B61FF',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#131628',\n  },\n  badgeText: {\n    fontSize: 12,\n  },\n  name: {\n    fontSize: 12,\n    fontWeight: '600' as const,\n    color: '#FFFFFF',\n    marginBottom: 2,\n  },\n  infoContainer: {\n    alignItems: 'center',\n  },\n  topic: {\n    fontSize: 10,\n    color: '#7B61FF',\n    fontWeight: '500' as const,\n  },\n  listeners: {\n    fontSize: 9,\n    color: '#8E8E93',\n    marginTop: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}