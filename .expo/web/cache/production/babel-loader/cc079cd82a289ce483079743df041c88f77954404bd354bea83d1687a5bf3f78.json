{"ast":null,"code":"import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import{Avatar}from'@/components/ui/Avatar';import{useTheme}from'@/hooks/theme-store';import{Plus,Mic}from'lucide-react-native';import{LinearGradient}from'expo-linear-gradient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const StoryCircle=({story,isYourStory=false,onPress,testID})=>{const{colors}=useTheme();const getGradientColors=()=>{if(story?.isLive){return['#FF0000','#FF4444','#FF0000'];}if(story?.viewed){return['#C7C7CC','#C7C7CC'];}return['#f58529','#dd2a7b','#8134af','#515bd4'];};const hasNewContent=!story?.viewed&&!isYourStory;const isVoiceStory=story?.mediaType==='voice';return _jsxs(TouchableOpacity,{style:styles.container,onPress:onPress,testID:testID,activeOpacity:0.7,children:[_jsx(View,{style:styles.storyWrapper,children:isYourStory?_jsxs(View,{style:styles.yourStoryContainer,children:[_jsx(View,{style:[styles.avatarContainer,{borderColor:colors.border}],children:_jsx(Avatar,{uri:story?.profileImage,size:64})}),_jsx(View,{style:[styles.addButton,{backgroundColor:colors.primary}],children:_jsx(Plus,{size:16,color:\"#FFFFFF\",strokeWidth:3})})]}):_jsxs(View,{style:styles.storyContainer,children:[hasNewContent&&_jsx(View,{style:styles.pulseRing,children:_jsx(LinearGradient,{colors:['#f58529','#dd2a7b','#8134af','#515bd4'],start:{x:0,y:0},end:{x:1,y:1},style:styles.pulseGradient})}),_jsx(LinearGradient,{colors:getGradientColors(),start:{x:0,y:0},end:{x:1,y:1},style:styles.gradientRing,children:_jsx(View,{style:[styles.innerRing,{backgroundColor:colors.background}],children:_jsx(Avatar,{uri:story?.profileImage,size:64})})}),story?.isLive&&_jsx(View,{style:styles.liveBadge,children:_jsx(Text,{style:styles.liveText,children:\"LIVE\"})}),isVoiceStory&&_jsx(View,{style:[styles.voiceBadge,{backgroundColor:colors.primary}],children:_jsx(Mic,{size:12,color:\"#FFFFFF\"})})]})}),_jsx(Text,{style:[styles.username,{color:colors.text}],numberOfLines:1,ellipsizeMode:\"tail\",children:isYourStory?'Your story':story?.username})]});};const styles=StyleSheet.create({container:{alignItems:'center',marginHorizontal:6,width:80},storyWrapper:{marginBottom:8},yourStoryContainer:{position:'relative'},avatarContainer:{borderWidth:2,borderRadius:36,padding:2},addButton:{position:'absolute',bottom:0,right:0,width:24,height:24,borderRadius:12,alignItems:'center',justifyContent:'center',borderWidth:2,borderColor:'#000000'},storyContainer:{position:'relative'},gradientRing:{width:80,height:80,borderRadius:40,padding:2.5,alignItems:'center',justifyContent:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.15,shadowRadius:4,elevation:3},innerRing:{width:75,height:75,borderRadius:37.5,padding:2.5,alignItems:'center',justifyContent:'center'},liveBadge:{position:'absolute',bottom:0,left:'50%',transform:[{translateX:-20}],backgroundColor:'#FF0000',paddingHorizontal:6,paddingVertical:2,borderRadius:4,borderWidth:2,borderColor:'#000000'},liveText:{color:'#FFFFFF',fontSize:9,fontWeight:'700'},voiceBadge:{position:'absolute',bottom:2,right:2,width:20,height:20,borderRadius:10,alignItems:'center',justifyContent:'center',borderWidth:2,borderColor:'#000000'},pulseRing:{position:'absolute',width:88,height:88,borderRadius:44,opacity:0.25,overflow:'hidden',top:-4,left:-4},pulseGradient:{width:'100%',height:'100%'},username:{fontSize:12,fontWeight:'400',textAlign:'center',width:80}});","map":{"version":3,"names":["React","StyleSheet","Text","TouchableOpacity","View","Avatar","useTheme","Plus","Mic","LinearGradient","jsx","_jsx","jsxs","_jsxs","StoryCircle","story","isYourStory","onPress","testID","colors","getGradientColors","isLive","viewed","hasNewContent","isVoiceStory","mediaType","style","styles","container","activeOpacity","children","storyWrapper","yourStoryContainer","avatarContainer","borderColor","border","uri","profileImage","size","addButton","backgroundColor","primary","color","strokeWidth","storyContainer","pulseRing","start","x","y","end","pulseGradient","gradientRing","innerRing","background","liveBadge","liveText","voiceBadge","username","text","numberOfLines","ellipsizeMode","create","alignItems","marginHorizontal","width","marginBottom","position","borderWidth","borderRadius","padding","bottom","right","height","justifyContent","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","left","transform","translateX","paddingHorizontal","paddingVertical","fontSize","fontWeight","opacity","overflow","top","textAlign"],"sources":["/home/user/rork-vibesync-458/components/home/StoryCircle.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport { Avatar } from '@/components/ui/Avatar';\nimport { useTheme } from '@/hooks/theme-store';\nimport { Story } from '@/types';\nimport { Plus, Mic } from 'lucide-react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\n\ninterface StoryCircleProps {\n  story?: Story;\n  isYourStory?: boolean;\n  onPress: () => void;\n  testID?: string;\n}\n\nexport const StoryCircle: React.FC<StoryCircleProps> = ({\n  story,\n  isYourStory = false,\n  onPress,\n  testID,\n}) => {\n  const { colors } = useTheme();\n\n  const getGradientColors = (): [string, string, ...string[]] => {\n    if (story?.isLive) {\n      return ['#FF0000', '#FF4444', '#FF0000'];\n    }\n    if (story?.viewed) {\n      return ['#C7C7CC', '#C7C7CC'];\n    }\n    return ['#f58529', '#dd2a7b', '#8134af', '#515bd4'];\n  };\n\n  const hasNewContent = !story?.viewed && !isYourStory;\n\n  const isVoiceStory = story?.mediaType === 'voice';\n\n  return (\n    <TouchableOpacity\n      style={styles.container}\n      onPress={onPress}\n      testID={testID}\n      activeOpacity={0.7}\n    >\n      <View style={styles.storyWrapper}>\n        {isYourStory ? (\n          <View style={styles.yourStoryContainer}>\n            <View style={[styles.avatarContainer, { borderColor: colors.border }]}>\n              <Avatar uri={story?.profileImage} size={64} />\n            </View>\n            <View style={[styles.addButton, { backgroundColor: colors.primary }]}>\n              <Plus size={16} color=\"#FFFFFF\" strokeWidth={3} />\n            </View>\n          </View>\n        ) : (\n          <View style={styles.storyContainer}>\n            {hasNewContent && (\n              <View style={styles.pulseRing}>\n                <LinearGradient\n                  colors={['#f58529', '#dd2a7b', '#8134af', '#515bd4']}\n                  start={{ x: 0, y: 0 }}\n                  end={{ x: 1, y: 1 }}\n                  style={styles.pulseGradient}\n                />\n              </View>\n            )}\n            <LinearGradient\n              colors={getGradientColors()}\n              start={{ x: 0, y: 0 }}\n              end={{ x: 1, y: 1 }}\n              style={styles.gradientRing}\n            >\n              <View style={[styles.innerRing, { backgroundColor: colors.background }]}>\n                <Avatar uri={story?.profileImage} size={64} />\n              </View>\n            </LinearGradient>\n            \n            {story?.isLive && (\n              <View style={styles.liveBadge}>\n                <Text style={styles.liveText}>LIVE</Text>\n              </View>\n            )}\n            \n            {isVoiceStory && (\n              <View style={[styles.voiceBadge, { backgroundColor: colors.primary }]}>\n                <Mic size={12} color=\"#FFFFFF\" />\n              </View>\n            )}\n          </View>\n        )}\n      </View>\n\n      <Text\n        style={[styles.username, { color: colors.text }]}\n        numberOfLines={1}\n        ellipsizeMode=\"tail\"\n      >\n        {isYourStory ? 'Your story' : story?.username}\n      </Text>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    marginHorizontal: 6,\n    width: 80,\n  },\n  storyWrapper: {\n    marginBottom: 8,\n  },\n  yourStoryContainer: {\n    position: 'relative',\n  },\n  avatarContainer: {\n    borderWidth: 2,\n    borderRadius: 36,\n    padding: 2,\n  },\n  addButton: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000000',\n  },\n  storyContainer: {\n    position: 'relative',\n  },\n  gradientRing: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    padding: 2.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.15,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  innerRing: {\n    width: 75,\n    height: 75,\n    borderRadius: 37.5,\n    padding: 2.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  liveBadge: {\n    position: 'absolute',\n    bottom: 0,\n    left: '50%',\n    transform: [{ translateX: -20 }],\n    backgroundColor: '#FF0000',\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    borderRadius: 4,\n    borderWidth: 2,\n    borderColor: '#000000',\n  },\n  liveText: {\n    color: '#FFFFFF',\n    fontSize: 9,\n    fontWeight: '700' as const,\n  },\n  voiceBadge: {\n    position: 'absolute',\n    bottom: 2,\n    right: 2,\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000000',\n  },\n  pulseRing: {\n    position: 'absolute',\n    width: 88,\n    height: 88,\n    borderRadius: 44,\n    opacity: 0.25,\n    overflow: 'hidden',\n    top: -4,\n    left: -4,\n  },\n  pulseGradient: {\n    width: '100%',\n    height: '100%',\n  },\n  username: {\n    fontSize: 12,\n    fontWeight: '400' as const,\n    textAlign: 'center',\n    width: 80,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}