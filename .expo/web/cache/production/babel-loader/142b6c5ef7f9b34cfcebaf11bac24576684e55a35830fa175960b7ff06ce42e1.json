{"ast":null,"code":"import{useState,useCallback}from\"react\";import createContextHook from\"@nkzw/create-context-hook\";export const[AdEngagementProvider,useAdEngagement]=createContextHook(()=>{const[engagements,setEngagements]=useState([]);const[preferences,setPreferences]=useState({userId:\"current-user\",enabledCategories:[\"shopping\",\"fashion\",\"technology\",\"food\",\"entertainment\"],disabledBrands:[],personalizedAds:true,dataSharing:true});const trackEngagement=useCallback((adId,action,metadata)=>{const engagement={adId,userId:\"current-user\",action,timestamp:new Date().toISOString(),metadata};setEngagements(prev=>[...prev,engagement]);console.log(`[Ad Engagement] ${action} on ad ${adId}`,metadata);},[]);const updatePreferences=useCallback(updates=>{setPreferences(prev=>Object.assign({},prev,updates));},[]);const disableBrand=useCallback(brandName=>{setPreferences(prev=>Object.assign({},prev,{disabledBrands:[...prev.disabledBrands,brandName]}));},[]);const enableBrand=useCallback(brandName=>{setPreferences(prev=>Object.assign({},prev,{disabledBrands:prev.disabledBrands.filter(b=>b!==brandName)}));},[]);const toggleCategory=useCallback(category=>{setPreferences(prev=>{const isEnabled=prev.enabledCategories.includes(category);return Object.assign({},prev,{enabledCategories:isEnabled?prev.enabledCategories.filter(c=>c!==category):[...prev.enabledCategories,category]});});},[]);const getEngagementStats=useCallback(adId=>{const adEngagements=engagements.filter(e=>e.adId===adId);return{views:adEngagements.filter(e=>e.action===\"view\").length,clicks:adEngagements.filter(e=>e.action===\"click\").length,likes:adEngagements.filter(e=>e.action===\"like\").length,comments:adEngagements.filter(e=>e.action===\"comment\").length,shares:adEngagements.filter(e=>e.action===\"share\").length,saves:adEngagements.filter(e=>e.action===\"save\").length,hides:adEngagements.filter(e=>e.action===\"hide\").length,reports:adEngagements.filter(e=>e.action===\"report\").length};},[engagements]);return{engagements,preferences,trackEngagement,updatePreferences,disableBrand,enableBrand,toggleCategory,getEngagementStats};});","map":{"version":3,"names":["useState","useCallback","createContextHook","AdEngagementProvider","useAdEngagement","engagements","setEngagements","preferences","setPreferences","userId","enabledCategories","disabledBrands","personalizedAds","dataSharing","trackEngagement","adId","action","metadata","engagement","timestamp","Date","toISOString","prev","console","log","updatePreferences","updates","Object","assign","disableBrand","brandName","enableBrand","filter","b","toggleCategory","category","isEnabled","includes","c","getEngagementStats","adEngagements","e","views","length","clicks","likes","comments","shares","saves","hides","reports"],"sources":["/home/user/rork-vibesync-458/hooks/ad-engagement-store.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport createContextHook from \"@nkzw/create-context-hook\";\nimport { AdEngagement, AdPreferences } from \"@/types\";\n\nexport const [AdEngagementProvider, useAdEngagement] = createContextHook(() => {\n  const [engagements, setEngagements] = useState<AdEngagement[]>([]);\n  const [preferences, setPreferences] = useState<AdPreferences>({\n    userId: \"current-user\",\n    enabledCategories: [\"shopping\", \"fashion\", \"technology\", \"food\", \"entertainment\"],\n    disabledBrands: [],\n    personalizedAds: true,\n    dataSharing: true,\n  });\n\n  const trackEngagement = useCallback(\n    (\n      adId: string,\n      action: \"view\" | \"click\" | \"like\" | \"comment\" | \"share\" | \"save\" | \"hide\" | \"report\",\n      metadata?: any\n    ) => {\n      const engagement: AdEngagement = {\n        adId,\n        userId: \"current-user\",\n        action,\n        timestamp: new Date().toISOString(),\n        metadata,\n      };\n\n      setEngagements((prev) => [...prev, engagement]);\n\n      console.log(`[Ad Engagement] ${action} on ad ${adId}`, metadata);\n    },\n    []\n  );\n\n  const updatePreferences = useCallback((updates: Partial<AdPreferences>) => {\n    setPreferences((prev) => ({ ...prev, ...updates }));\n  }, []);\n\n  const disableBrand = useCallback((brandName: string) => {\n    setPreferences((prev) => ({\n      ...prev,\n      disabledBrands: [...prev.disabledBrands, brandName],\n    }));\n  }, []);\n\n  const enableBrand = useCallback((brandName: string) => {\n    setPreferences((prev) => ({\n      ...prev,\n      disabledBrands: prev.disabledBrands.filter((b) => b !== brandName),\n    }));\n  }, []);\n\n  const toggleCategory = useCallback((category: string) => {\n    setPreferences((prev) => {\n      const isEnabled = prev.enabledCategories.includes(category);\n      return {\n        ...prev,\n        enabledCategories: isEnabled\n          ? prev.enabledCategories.filter((c) => c !== category)\n          : [...prev.enabledCategories, category],\n      };\n    });\n  }, []);\n\n  const getEngagementStats = useCallback(\n    (adId: string) => {\n      const adEngagements = engagements.filter((e) => e.adId === adId);\n      return {\n        views: adEngagements.filter((e) => e.action === \"view\").length,\n        clicks: adEngagements.filter((e) => e.action === \"click\").length,\n        likes: adEngagements.filter((e) => e.action === \"like\").length,\n        comments: adEngagements.filter((e) => e.action === \"comment\").length,\n        shares: adEngagements.filter((e) => e.action === \"share\").length,\n        saves: adEngagements.filter((e) => e.action === \"save\").length,\n        hides: adEngagements.filter((e) => e.action === \"hide\").length,\n        reports: adEngagements.filter((e) => e.action === \"report\").length,\n      };\n    },\n    [engagements]\n  );\n\n  return {\n    engagements,\n    preferences,\n    trackEngagement,\n    updatePreferences,\n    disableBrand,\n    enableBrand,\n    toggleCategory,\n    getEngagementStats,\n  };\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}