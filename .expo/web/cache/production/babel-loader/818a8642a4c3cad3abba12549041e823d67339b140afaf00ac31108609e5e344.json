{"ast":null,"code":"'use strict';import{Easing}from\"../Easing.js\";import{assertEasingIsWorklet,defineAnimation,getReduceMotionForAnimation}from\"./util.js\";const _worklet_14396015514808_init_data={code:\"function reactNativeReanimated_timingJs1(toValue,userConfig,callback){const{__DEV__,assertEasingIsWorklet,defineAnimation,Easing,getReduceMotionForAnimation}=this.__closure;if(__DEV__&&userConfig!==null&&userConfig!==void 0&&userConfig.easing){assertEasingIsWorklet(userConfig.easing);}return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function timing(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback,reduceMotion:getReduceMotionForAnimation(userConfig===null||userConfig===void 0?void 0:userConfig.reduceMotion)};});}\"};const _worklet_12470031273626_init_data={code:\"function reactNativeReanimated_timingJs2(){const{Easing,userConfig,toValue,callback,getReduceMotionForAnimation}=this.__closure;var _userConfig;const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function timing(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback,reduceMotion:getReduceMotionForAnimation((_userConfig=userConfig)===null||_userConfig===void 0?void 0:_userConfig.reduceMotion)};}\"};export const withTiming=function(){const reactNativeReanimated_timingJs1=function(toValue,userConfig,callback){if(false&&userConfig?.easing){assertEasingIsWorklet(userConfig.easing);}return defineAnimation(toValue,function(){const reactNativeReanimated_timingJs2=function(){const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(key=>config[key]=userConfig[key]);}function timing(animation,now){const{toValue,startTime,startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue,startValue:0,startTime:0,easing:()=>0,current:toValue,callback,reduceMotion:getReduceMotionForAnimation(userConfig?.reduceMotion)};};reactNativeReanimated_timingJs2.__closure={Easing,userConfig,toValue,callback,getReduceMotionForAnimation};reactNativeReanimated_timingJs2.__workletHash=12470031273626;reactNativeReanimated_timingJs2.__initData=_worklet_12470031273626_init_data;return reactNativeReanimated_timingJs2;}());};reactNativeReanimated_timingJs1.__closure={__DEV__:false,assertEasingIsWorklet,defineAnimation,Easing,getReduceMotionForAnimation};reactNativeReanimated_timingJs1.__workletHash=14396015514808;reactNativeReanimated_timingJs1.__initData=_worklet_14396015514808_init_data;return reactNativeReanimated_timingJs1;}();","map":{"version":3,"names":["Easing","assertEasingIsWorklet","defineAnimation","getReduceMotionForAnimation","_worklet_14396015514808_init_data","code","_worklet_12470031273626_init_data","withTiming","reactNativeReanimated_timingJs1","toValue","userConfig","callback","easing","reactNativeReanimated_timingJs2","config","duration","inOut","quad","Object","keys","forEach","key","timing","animation","now","startTime","startValue","runtime","current","progress","onStart","value","previousAnimation","type","factory","onFrame","reduceMotion","__closure","__workletHash","__initData","__DEV__"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-reanimated/src/animation/timing.ts"],"sourcesContent":["'use strict';\nimport type { EasingFunctionFactory } from '../Easing';\nimport { Easing } from '../Easing';\nimport {\n  assertEasingIsWorklet,\n  defineAnimation,\n  getReduceMotionForAnimation,\n} from './util';\nimport type {\n  Animation,\n  AnimationCallback,\n  Timestamp,\n  AnimatableValue,\n  ReduceMotion,\n  EasingFunction,\n} from '../commonTypes';\n\n/**\n * The timing animation configuration.\n *\n * @param duration - Length of the animation (in milliseconds). Defaults to 300.\n * @param easing - An easing function which defines the animation curve.\n *   Defaults to `Easing.inOut(Easing.quad)`.\n * @param reduceMotion - Determines how the animation responds to the device's\n *   reduced motion accessibility setting. Default to `ReduceMotion.System` -\n *   {@link ReduceMotion}.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withTiming#config-\n */\ninterface TimingConfig {\n  duration?: number;\n  reduceMotion?: ReduceMotion;\n  easing?: EasingFunction | EasingFunctionFactory;\n}\n\nexport type WithTimingConfig = TimingConfig;\n\nexport interface TimingAnimation extends Animation<TimingAnimation> {\n  type: string;\n  easing: EasingFunction;\n  startValue: AnimatableValue;\n  startTime: Timestamp;\n  progress: number;\n  toValue: AnimatableValue;\n  current: AnimatableValue;\n}\n\ninterface InnerTimingAnimation\n  extends Omit<TimingAnimation, 'toValue' | 'current'> {\n  toValue: number;\n  current: number;\n}\n\n// TODO TYPESCRIPT This is temporary type put in here to get rid of our .d.ts file\ntype withTimingType = <T extends AnimatableValue>(\n  toValue: T,\n  userConfig?: TimingConfig,\n  callback?: AnimationCallback\n) => T;\n\n/**\n * Lets you create an animation based on duration and easing.\n *\n * @param toValue - The value on which the animation will come at rest -\n *   {@link AnimatableValue}.\n * @param config - The timing animation configuration - {@link TimingConfig}.\n * @param callback - A function called on animation complete -\n *   {@link AnimationCallback}.\n * @returns An [animation\n *   object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object)\n *   which holds the current state of the animation.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withTiming\n */\nexport const withTiming = function (\n  toValue: AnimatableValue,\n  userConfig?: TimingConfig,\n  callback?: AnimationCallback\n): Animation<TimingAnimation> {\n  'worklet';\n\n  if (__DEV__ && userConfig?.easing) {\n    assertEasingIsWorklet(userConfig.easing);\n  }\n\n  return defineAnimation<TimingAnimation>(toValue, () => {\n    'worklet';\n    const config: Required<Omit<TimingConfig, 'reduceMotion'>> = {\n      duration: 300,\n      easing: Easing.inOut(Easing.quad),\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(\n        (key) =>\n          ((config as any)[key] = userConfig[key as keyof typeof userConfig])\n      );\n    }\n\n    function timing(animation: InnerTimingAnimation, now: Timestamp): boolean {\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n      const { toValue, startTime, startValue } = animation;\n      const runtime = now - startTime;\n\n      if (runtime >= config.duration) {\n        // reset startTime to avoid reusing finished animation config in `start` method\n        animation.startTime = 0;\n        animation.current = toValue;\n        return true;\n      }\n      const progress = animation.easing(runtime / config.duration);\n      animation.current =\n        (startValue as number) + (toValue - (startValue as number)) * progress;\n      return false;\n    }\n\n    function onStart(\n      animation: TimingAnimation,\n      value: number,\n      now: Timestamp,\n      previousAnimation: Animation<TimingAnimation>\n    ): void {\n      if (\n        previousAnimation &&\n        (previousAnimation as TimingAnimation).type === 'timing' &&\n        (previousAnimation as TimingAnimation).toValue === toValue &&\n        (previousAnimation as TimingAnimation).startTime\n      ) {\n        // to maintain continuity of timing animations we check if we are starting\n        // new timing over the old one with the same parameters. If so, we want\n        // to copy animation timeline properties\n        animation.startTime = (previousAnimation as TimingAnimation).startTime;\n        animation.startValue = (\n          previousAnimation as TimingAnimation\n        ).startValue;\n      } else {\n        animation.startTime = now;\n        animation.startValue = value;\n      }\n      animation.current = value;\n      if (typeof config.easing === 'object') {\n        animation.easing = config.easing.factory();\n      } else {\n        animation.easing = config.easing;\n      }\n    }\n\n    return {\n      type: 'timing',\n      onFrame: timing,\n      onStart: onStart as (animation: TimingAnimation, now: number) => boolean,\n      progress: 0,\n      toValue,\n      startValue: 0,\n      startTime: 0,\n      easing: () => 0,\n      current: toValue,\n      callback,\n      reduceMotion: getReduceMotionForAnimation(userConfig?.reduceMotion),\n    } as TimingAnimation;\n  });\n} as withTimingType;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}