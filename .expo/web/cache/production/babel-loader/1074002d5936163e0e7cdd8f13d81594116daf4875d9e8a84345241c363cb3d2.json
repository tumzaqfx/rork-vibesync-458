{"ast":null,"code":"import _objectWithoutPropertiesLoose from\"@babel/runtime/helpers/objectWithoutPropertiesLoose\";const _excluded=[\"numberOfPointers\",\"direction\"];import Hammer from'@egjs/hammerjs';import{Direction}from'./constants';import{GesturePropError}from'./Errors';import DraggingGestureHandler from'./DraggingGestureHandler';import{isnan}from'./utils';class FlingGestureHandler extends DraggingGestureHandler{get name(){return'swipe';}get NativeGestureClass(){return Hammer.Swipe;}onGestureActivated(event){this.sendEvent(Object.assign({},event,{eventType:Hammer.INPUT_MOVE,isFinal:false,isFirst:true}));this.isGestureRunning=false;this.hasGestureFailed=false;this.sendEvent(Object.assign({},event,{eventType:Hammer.INPUT_END,isFinal:true}));}onRawEvent(ev){super.onRawEvent(ev);if(this.hasGestureFailed){return;}if(ev.isFinal){setTimeout(()=>{if(this.isGestureRunning){this.cancelEvent(ev);}});}else if(!this.hasGestureFailed&&!this.isGestureRunning){const gesture=this.hammer.get(this.name);if(gesture.options.enable(gesture,ev)){this.onStart(ev);this.sendEvent(ev);}}}getHammerConfig(){return{pointers:this.config.numberOfPointers,direction:this.getDirection()};}getTargetDirections(direction){const directions=[];if(direction&Direction.RIGHT){directions.push(Hammer.DIRECTION_RIGHT);}if(direction&Direction.LEFT){directions.push(Hammer.DIRECTION_LEFT);}if(direction&Direction.UP){directions.push(Hammer.DIRECTION_UP);}if(direction&Direction.DOWN){directions.push(Hammer.DIRECTION_DOWN);}return directions;}getDirection(){const{direction}=this.getConfig();let directions=[];if(direction&Direction.RIGHT){directions.push(Hammer.DIRECTION_HORIZONTAL);}if(direction&Direction.LEFT){directions.push(Hammer.DIRECTION_HORIZONTAL);}if(direction&Direction.UP){directions.push(Hammer.DIRECTION_VERTICAL);}if(direction&Direction.DOWN){directions.push(Hammer.DIRECTION_VERTICAL);}directions=[...new Set(directions)];if(directions.length===0)return Hammer.DIRECTION_NONE;if(directions.length===1)return directions[0];return Hammer.DIRECTION_ALL;}isGestureEnabledForEvent({numberOfPointers},_recognizer,{maxPointers:pointerLength}){const validPointerCount=pointerLength===numberOfPointers;if(!validPointerCount&&this.isGestureRunning){return{failed:true};}return{success:validPointerCount};}updateGestureConfig(_ref){let{numberOfPointers=1,direction}=_ref,props=_objectWithoutPropertiesLoose(_ref,_excluded);if(isnan(direction)||typeof direction!=='number'){throw new GesturePropError('direction',direction,'number');}return super.updateGestureConfig(Object.assign({numberOfPointers,direction},props));}}export default FlingGestureHandler;","map":{"version":3,"names":["Hammer","Direction","GesturePropError","DraggingGestureHandler","isnan","FlingGestureHandler","name","NativeGestureClass","Swipe","onGestureActivated","event","sendEvent","Object","assign","eventType","INPUT_MOVE","isFinal","isFirst","isGestureRunning","hasGestureFailed","INPUT_END","onRawEvent","ev","setTimeout","cancelEvent","gesture","hammer","get","options","enable","onStart","getHammerConfig","pointers","config","numberOfPointers","direction","getDirection","getTargetDirections","directions","RIGHT","push","DIRECTION_RIGHT","LEFT","DIRECTION_LEFT","UP","DIRECTION_UP","DOWN","DIRECTION_DOWN","getConfig","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","Set","length","DIRECTION_NONE","DIRECTION_ALL","isGestureEnabledForEvent","_recognizer","maxPointers","pointerLength","validPointerCount","failed","success","updateGestureConfig","_ref","props","_objectWithoutPropertiesLoose","_excluded"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-gesture-handler/lib/module/web_hammer/FlingGestureHandler.ts"],"sourcesContent":["/* eslint-disable eslint-comments/no-unlimited-disable */\n/* eslint-disable */\nimport Hammer from '@egjs/hammerjs';\n\nimport { Direction } from './constants';\nimport { GesturePropError } from './Errors';\nimport DraggingGestureHandler from './DraggingGestureHandler';\nimport { isnan } from './utils';\nimport { HammerInputExt } from './GestureHandler';\n\nclass FlingGestureHandler extends DraggingGestureHandler {\n  get name() {\n    return 'swipe';\n  }\n\n  get NativeGestureClass() {\n    return Hammer.Swipe;\n  }\n\n  onGestureActivated(event: HammerInputExt) {\n    this.sendEvent({\n      ...event,\n      eventType: Hammer.INPUT_MOVE,\n      isFinal: false,\n      isFirst: true,\n    });\n    this.isGestureRunning = false;\n    this.hasGestureFailed = false;\n    this.sendEvent({\n      ...event,\n      eventType: Hammer.INPUT_END,\n      isFinal: true,\n    });\n  }\n\n  onRawEvent(ev: HammerInputExt) {\n    super.onRawEvent(ev);\n    if (this.hasGestureFailed) {\n      return;\n    }\n    // Hammer doesn't send a `cancel` event for taps.\n    // Manually fail the event.\n    if (ev.isFinal) {\n      setTimeout(() => {\n        if (this.isGestureRunning) {\n          this.cancelEvent(ev);\n        }\n      });\n    } else if (!this.hasGestureFailed && !this.isGestureRunning) {\n      // Tap Gesture start event\n      const gesture = this.hammer!.get(this.name);\n      // @ts-ignore FIXME(TS)\n      if (gesture.options.enable(gesture, ev)) {\n        this.onStart(ev);\n        this.sendEvent(ev);\n      }\n    }\n  }\n\n  getHammerConfig() {\n    return {\n      // @ts-ignore FIXME(TS)\n      pointers: this.config.numberOfPointers,\n      direction: this.getDirection(),\n    };\n  }\n\n  getTargetDirections(direction: number) {\n    const directions = [];\n    if (direction & Direction.RIGHT) {\n      directions.push(Hammer.DIRECTION_RIGHT);\n    }\n    if (direction & Direction.LEFT) {\n      directions.push(Hammer.DIRECTION_LEFT);\n    }\n    if (direction & Direction.UP) {\n      directions.push(Hammer.DIRECTION_UP);\n    }\n    if (direction & Direction.DOWN) {\n      directions.push(Hammer.DIRECTION_DOWN);\n    }\n    // const hammerDirection = directions.reduce((a, b) => a | b, 0);\n    return directions;\n  }\n\n  getDirection() {\n    // @ts-ignore FIXME(TS)\n    const { direction } = this.getConfig();\n\n    let directions = [];\n    if (direction & Direction.RIGHT) {\n      directions.push(Hammer.DIRECTION_HORIZONTAL);\n    }\n    if (direction & Direction.LEFT) {\n      directions.push(Hammer.DIRECTION_HORIZONTAL);\n    }\n    if (direction & Direction.UP) {\n      directions.push(Hammer.DIRECTION_VERTICAL);\n    }\n    if (direction & Direction.DOWN) {\n      directions.push(Hammer.DIRECTION_VERTICAL);\n    }\n    directions = [...new Set(directions)];\n\n    if (directions.length === 0) return Hammer.DIRECTION_NONE;\n    if (directions.length === 1) return directions[0];\n    return Hammer.DIRECTION_ALL;\n  }\n\n  isGestureEnabledForEvent(\n    { numberOfPointers }: any,\n    _recognizer: any,\n    { maxPointers: pointerLength }: any\n  ) {\n    const validPointerCount = pointerLength === numberOfPointers;\n    if (!validPointerCount && this.isGestureRunning) {\n      return { failed: true };\n    }\n    return { success: validPointerCount };\n  }\n\n  updateGestureConfig({ numberOfPointers = 1, direction, ...props }: any) {\n    if (isnan(direction) || typeof direction !== 'number') {\n      throw new GesturePropError('direction', direction, 'number');\n    }\n    return super.updateGestureConfig({\n      numberOfPointers,\n      direction,\n      ...props,\n    });\n  }\n}\n\nexport default FlingGestureHandler;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}