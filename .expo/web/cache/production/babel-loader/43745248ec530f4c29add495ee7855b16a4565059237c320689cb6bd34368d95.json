{"ast":null,"code":"export const NATIVE_ACTION='$$native_action';export const NATIVE_ACTION_RESULT='$$native_action_result';export const DOM_EVENT='$$dom_event';export const MATCH_CONTENTS_EVENT='$$match_contents_event';export const REGISTER_DOM_IMPERATIVE_HANDLE_PROPS='$$register_dom_imperative_handle_props';export const getInjectEventScript=detail=>{return`;(function() {\n  try {\n  window.dispatchEvent(new CustomEvent(\"${DOM_EVENT}\",${JSON.stringify({detail})}));\n  } catch (e) {}\n  })();\n  true;`;};export function getInjectBodySizeObserverScript(){return`;(function observeDocumentBodySize() {\n  window.addEventListener('DOMContentLoaded', () => {\n    new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      window.ReactNativeWebView?.postMessage(JSON.stringify({\n        type: '${MATCH_CONTENTS_EVENT}',\n        data: {\n          width,\n          height,\n        },\n      }));\n    })\n    .observe(document.body);\n    window.ReactNativeWebView?.postMessage(JSON.stringify({\n      type: '${MATCH_CONTENTS_EVENT}',\n      data: {\n        width: document.body.clientWidth,\n        height: document.body.clientHeight,\n      },\n    }));\n  });\n  })();\n  true;`;}","map":{"version":3,"names":["NATIVE_ACTION","NATIVE_ACTION_RESULT","DOM_EVENT","MATCH_CONTENTS_EVENT","REGISTER_DOM_IMPERATIVE_HANDLE_PROPS","getInjectEventScript","detail","JSON","stringify","getInjectBodySizeObserverScript"],"sources":["/home/user/rork-vibesync-458/node_modules/expo/src/dom/injection.ts"],"sourcesContent":["import type { BridgeMessage } from './dom.types';\n\nexport const NATIVE_ACTION = '$$native_action';\nexport const NATIVE_ACTION_RESULT = '$$native_action_result';\nexport const DOM_EVENT = '$$dom_event';\nexport const MATCH_CONTENTS_EVENT = '$$match_contents_event';\nexport const REGISTER_DOM_IMPERATIVE_HANDLE_PROPS = '$$register_dom_imperative_handle_props';\n\nexport const getInjectEventScript = <T extends BridgeMessage<any>>(detail: T) => {\n  return `;(function() {\n  try {\n  window.dispatchEvent(new CustomEvent(\"${DOM_EVENT}\",${JSON.stringify({ detail })}));\n  } catch (e) {}\n  })();\n  true;`;\n};\n\nexport function getInjectBodySizeObserverScript() {\n  return `;(function observeDocumentBodySize() {\n  window.addEventListener('DOMContentLoaded', () => {\n    new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      window.ReactNativeWebView?.postMessage(JSON.stringify({\n        type: '${MATCH_CONTENTS_EVENT}',\n        data: {\n          width,\n          height,\n        },\n      }));\n    })\n    .observe(document.body);\n    window.ReactNativeWebView?.postMessage(JSON.stringify({\n      type: '${MATCH_CONTENTS_EVENT}',\n      data: {\n        width: document.body.clientWidth,\n        height: document.body.clientHeight,\n      },\n    }));\n  });\n  })();\n  true;`;\n}\n"],"mappings":"AAEA,MAAO,MAAM,CAAAA,aAAa,CAAG,iBAAiB,CAC9C,MAAO,MAAM,CAAAC,oBAAoB,CAAG,wBAAwB,CAC5D,MAAO,MAAM,CAAAC,SAAS,CAAG,aAAa,CACtC,MAAO,MAAM,CAAAC,oBAAoB,CAAG,wBAAwB,CAC5D,MAAO,MAAM,CAAAC,oCAAoC,CAAG,wCAAwC,CAE5F,MAAO,MAAM,CAAAC,oBAAoB,CAAkCC,MAAS,EAAK,CAC/E,MAAO;AACT;AACA,0CAA0CJ,SAAS,KAAKK,IAAI,CAACC,SAAS,CAAC,CAAEF,MAAO,CAAC,CAAC;AAClF;AACA;AACA,QAAQ,CACR,CAAC,CAED,MAAO,SAAS,CAAAG,+BAA+BA,CAAA,CAAG,CAChD,MAAO;AACT;AACA;AACA;AACA;AACA,iBAAiBN,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeA,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,CACR","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}