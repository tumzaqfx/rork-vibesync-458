{"ast":null,"code":"import html2canvas from\"html2canvas\";async function captureRef(view,options){if(options.result===\"tmpfile\"){console.warn(\"Tmpfile is not implemented for web. Try base64 or file.\\n\"+\"For compatibility, it currently returns the same result as data-uri\");}const h2cOptions={};let renderedCanvas=await html2canvas(view,h2cOptions);if(options.width&&options.height){const resizedCanvas=document.createElement('canvas');const resizedContext=resizedCanvas.getContext('2d');resizedCanvas.height=options.height;resizedCanvas.width=options.width;resizedContext.drawImage(renderedCanvas,0,0,resizedCanvas.width,resizedCanvas.height);renderedCanvas=resizedCanvas;}const dataUrl=renderedCanvas.toDataURL(\"image/\"+options.format,options.quality);if(options.result===\"data-uri\"||options.result===\"tmpfile\")return dataUrl;return dataUrl.replace(/data:image\\/(\\w+);base64,/,'');}function captureScreen(options){return captureRef(window.document.body,options);}function releaseCapture(uri){throw new Error(\"Tmpfile is not implemented for web. Try base64 or file\");}export default{captureRef,captureScreen,releaseCapture};","map":{"version":3,"names":["html2canvas","captureRef","view","options","result","console","warn","h2cOptions","renderedCanvas","width","height","resizedCanvas","document","createElement","resizedContext","getContext","drawImage","dataUrl","toDataURL","format","quality","replace","captureScreen","window","body","releaseCapture","uri","Error"],"sources":["/home/user/rork-vibesync-458/node_modules/react-native-view-shot/src/RNViewShot.web.js"],"sourcesContent":["//@flow\nimport html2canvas from \"html2canvas\";\n\nasync function captureRef(view, options) {\n  if (options.result === \"tmpfile\") {\n    console.warn(\"Tmpfile is not implemented for web. Try base64 or file.\\n\"+\n                 \"For compatibility, it currently returns the same result as data-uri\");\n  }\n\n  // TODO: implement snapshotContentContainer option\n\n  const h2cOptions = {};\n  let renderedCanvas = await html2canvas(view, h2cOptions);\n\n  if (options.width && options.height) {\n    // Resize result\n    const resizedCanvas = document.createElement('canvas');\n    const resizedContext = resizedCanvas.getContext('2d');\n    resizedCanvas.height = options.height;\n    resizedCanvas.width = options.width;\n    resizedContext.drawImage(renderedCanvas, 0, 0, resizedCanvas.width, resizedCanvas.height);\n    renderedCanvas = resizedCanvas;\n  }\n\n  const dataUrl = renderedCanvas.toDataURL(\"image/\" + options.format, options.quality);\n  if (options.result === \"data-uri\" || options.result === \"tmpfile\") return dataUrl;\n  return dataUrl.replace(/data:image\\/(\\w+);base64,/, '');\n}\n\nfunction captureScreen(options) {\n  return captureRef(window.document.body, options);\n}\n\nfunction releaseCapture(uri) {\n  throw new Error(\"Tmpfile is not implemented for web. Try base64 or file\");\n}\n\nexport default {\n  captureRef,\n  captureScreen,\n  releaseCapture\n}"],"mappings":"AACA,MAAO,CAAAA,WAAW,KAAM,aAAa,CAErC,cAAe,CAAAC,UAAUA,CAACC,IAAI,CAAEC,OAAO,CAAE,CACvC,GAAIA,OAAO,CAACC,MAAM,GAAK,SAAS,CAAE,CAChCC,OAAO,CAACC,IAAI,CAAC,2DAA2D,CAC3D,qEAAqE,CAAC,CACrF,CAIA,KAAM,CAAAC,UAAU,CAAG,CAAC,CAAC,CACrB,GAAI,CAAAC,cAAc,CAAG,KAAM,CAAAR,WAAW,CAACE,IAAI,CAAEK,UAAU,CAAC,CAExD,GAAIJ,OAAO,CAACM,KAAK,EAAIN,OAAO,CAACO,MAAM,CAAE,CAEnC,KAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CACtD,KAAM,CAAAC,cAAc,CAAGH,aAAa,CAACI,UAAU,CAAC,IAAI,CAAC,CACrDJ,aAAa,CAACD,MAAM,CAAGP,OAAO,CAACO,MAAM,CACrCC,aAAa,CAACF,KAAK,CAAGN,OAAO,CAACM,KAAK,CACnCK,cAAc,CAACE,SAAS,CAACR,cAAc,CAAE,CAAC,CAAE,CAAC,CAAEG,aAAa,CAACF,KAAK,CAAEE,aAAa,CAACD,MAAM,CAAC,CACzFF,cAAc,CAAGG,aAAa,CAChC,CAEA,KAAM,CAAAM,OAAO,CAAGT,cAAc,CAACU,SAAS,CAAC,QAAQ,CAAGf,OAAO,CAACgB,MAAM,CAAEhB,OAAO,CAACiB,OAAO,CAAC,CACpF,GAAIjB,OAAO,CAACC,MAAM,GAAK,UAAU,EAAID,OAAO,CAACC,MAAM,GAAK,SAAS,CAAE,MAAO,CAAAa,OAAO,CACjF,MAAO,CAAAA,OAAO,CAACI,OAAO,CAAC,2BAA2B,CAAE,EAAE,CAAC,CACzD,CAEA,QAAS,CAAAC,aAAaA,CAACnB,OAAO,CAAE,CAC9B,MAAO,CAAAF,UAAU,CAACsB,MAAM,CAACX,QAAQ,CAACY,IAAI,CAAErB,OAAO,CAAC,CAClD,CAEA,QAAS,CAAAsB,cAAcA,CAACC,GAAG,CAAE,CAC3B,KAAM,IAAI,CAAAC,KAAK,CAAC,wDAAwD,CAAC,CAC3E,CAEA,cAAe,CACb1B,UAAU,CACVqB,aAAa,CACbG,cACF,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}