{"ast":null,"code":"import{SharedRef}from'expo';let loggedResizeModeDeprecationWarning=false;let loggedRepeatDeprecationWarning=false;let loggedFadeDurationDeprecationWarning=false;export function resolveContentFit(contentFit,resizeMode){if(contentFit){return contentFit;}if(resizeMode){if(!loggedResizeModeDeprecationWarning){console.log('[expo-image]: Prop \"resizeMode\" is deprecated, use \"contentFit\" instead');loggedResizeModeDeprecationWarning=true;}switch(resizeMode){case'contain':case'cover':case'none':return resizeMode;case'stretch':return'fill';case'center':return'scale-down';case'repeat':if(!loggedRepeatDeprecationWarning){console.log('[expo-image]: Resize mode \"repeat\" is no longer supported');loggedRepeatDeprecationWarning=true;}return'cover';default:{const exhaustiveCheck=resizeMode;throw new Error(`Unhandled resizeMode case: ${exhaustiveCheck}`);}}}return'cover';}export function resolveContentPosition(contentPosition){if(typeof contentPosition==='string'){const contentPositionStringMappings={center:{top:'50%',left:'50%'},top:{top:0,left:'50%'},right:{top:'50%',right:0},bottom:{bottom:0,left:'50%'},left:{top:'50%',left:0},'top center':{top:0,left:'50%'},'top right':{top:0,right:0},'top left':{top:0,left:0},'right center':{top:'50%',right:0},'right top':{top:0,right:0},'right bottom':{bottom:0,right:0},'bottom center':{bottom:0,left:'50%'},'bottom right':{bottom:0,right:0},'bottom left':{bottom:0,left:0},'left center':{top:'50%',left:0},'left top':{top:0,left:0},'left bottom':{bottom:0,left:0}};const contentPositionObject=contentPositionStringMappings[contentPosition];if(!contentPositionObject){console.warn(`[expo-image]: Content position \"${contentPosition}\" is invalid`);return contentPositionStringMappings.center;}return contentPositionObject;}return contentPosition??{top:'50%',left:'50%'};}export function resolveTransition(transition,fadeDuration){if(typeof transition==='number'){return{duration:transition};}if(!transition&&typeof fadeDuration==='number'){if(!loggedFadeDurationDeprecationWarning){console.warn('[expo-image]: Prop \"fadeDuration\" is deprecated, use \"transition\" instead');loggedFadeDurationDeprecationWarning=true;}return{duration:fadeDuration};}return transition??null;}export function isImageRef(value){return value instanceof SharedRef&&value.nativeRefType==='image';}","map":{"version":3,"names":["SharedRef","loggedResizeModeDeprecationWarning","loggedRepeatDeprecationWarning","loggedFadeDurationDeprecationWarning","resolveContentFit","contentFit","resizeMode","console","log","exhaustiveCheck","Error","resolveContentPosition","contentPosition","contentPositionStringMappings","center","top","left","right","bottom","contentPositionObject","warn","resolveTransition","transition","fadeDuration","duration","isImageRef","value","nativeRefType"],"sources":["/home/user/rork-vibesync-458/node_modules/expo-image/src/utils.ts"],"sourcesContent":["import { SharedRef } from 'expo';\nimport type { SharedRefType } from 'expo';\nimport { type ImageResizeMode } from 'react-native';\n\nimport {\n  ImageContentFit,\n  ImageContentPosition,\n  ImageContentPositionObject,\n  ImageContentPositionString,\n  ImageProps,\n  ImageTransition,\n} from './Image.types';\n\nlet loggedResizeModeDeprecationWarning = false;\nlet loggedRepeatDeprecationWarning = false;\nlet loggedFadeDurationDeprecationWarning = false;\n\n/**\n * If the `contentFit` is not provided, it's resolved from the equivalent `resizeMode` prop\n * that we support to provide compatibility with React Native Image.\n */\nexport function resolveContentFit(\n  contentFit?: ImageContentFit,\n  resizeMode?: ImageResizeMode\n): ImageContentFit {\n  if (contentFit) {\n    return contentFit;\n  }\n  if (resizeMode) {\n    if (!loggedResizeModeDeprecationWarning) {\n      console.log('[expo-image]: Prop \"resizeMode\" is deprecated, use \"contentFit\" instead');\n      loggedResizeModeDeprecationWarning = true;\n    }\n\n    switch (resizeMode) {\n      case 'contain':\n      case 'cover':\n      case 'none':\n        return resizeMode;\n      case 'stretch':\n        return 'fill';\n      case 'center':\n        return 'scale-down';\n      case 'repeat':\n        if (!loggedRepeatDeprecationWarning) {\n          console.log('[expo-image]: Resize mode \"repeat\" is no longer supported');\n          loggedRepeatDeprecationWarning = true;\n        }\n        return 'cover';\n      default: {\n        const exhaustiveCheck: never = resizeMode;\n        throw new Error(`Unhandled resizeMode case: ${exhaustiveCheck}`);\n      }\n    }\n  }\n  return 'cover';\n}\n\n/**\n * It resolves a stringified form of the `contentPosition` prop to an object,\n * which is the only form supported in the native code.\n */\nexport function resolveContentPosition(\n  contentPosition?: ImageContentPosition\n): ImageContentPositionObject {\n  if (typeof contentPosition === 'string') {\n    const contentPositionStringMappings: Record<\n      ImageContentPositionString,\n      ImageContentPositionObject\n    > = {\n      center: { top: '50%', left: '50%' },\n      top: { top: 0, left: '50%' },\n      right: { top: '50%', right: 0 },\n      bottom: { bottom: 0, left: '50%' },\n      left: { top: '50%', left: 0 },\n      'top center': { top: 0, left: '50%' },\n      'top right': { top: 0, right: 0 },\n      'top left': { top: 0, left: 0 },\n      'right center': { top: '50%', right: 0 },\n      'right top': { top: 0, right: 0 },\n      'right bottom': { bottom: 0, right: 0 },\n      'bottom center': { bottom: 0, left: '50%' },\n      'bottom right': { bottom: 0, right: 0 },\n      'bottom left': { bottom: 0, left: 0 },\n      'left center': { top: '50%', left: 0 },\n      'left top': { top: 0, left: 0 },\n      'left bottom': { bottom: 0, left: 0 },\n    };\n    const contentPositionObject = contentPositionStringMappings[contentPosition];\n\n    if (!contentPositionObject) {\n      console.warn(`[expo-image]: Content position \"${contentPosition}\" is invalid`);\n      return contentPositionStringMappings.center;\n    }\n    return contentPositionObject;\n  }\n  return contentPosition ?? { top: '50%', left: '50%' };\n}\n\n/**\n * If `transition` or `fadeDuration` is a number, it's resolved to a cross dissolve transition with the given duration.\n * When `fadeDuration` is used, it logs an appropriate deprecation warning.\n */\nexport function resolveTransition(\n  transition?: ImageProps['transition'],\n  fadeDuration?: ImageProps['fadeDuration']\n): ImageTransition | null {\n  if (typeof transition === 'number') {\n    return { duration: transition };\n  }\n  if (!transition && typeof fadeDuration === 'number') {\n    if (!loggedFadeDurationDeprecationWarning) {\n      console.warn('[expo-image]: Prop \"fadeDuration\" is deprecated, use \"transition\" instead');\n      loggedFadeDurationDeprecationWarning = true;\n    }\n    return { duration: fadeDuration };\n  }\n  return transition ?? null;\n}\n\n/**\n * Checks whether the given value is an instance of the `SharedRef<'image'>` class.\n */\nexport function isImageRef(value: any): value is SharedRefType<'image'> {\n  return value instanceof SharedRef && value.nativeRefType === 'image';\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}